!function(){function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c||a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}return a}()({1:[function(a,b,c){b.exports={name:"Pangu",uri:"http://pangubpm.com/schema/1.0/dmn",prefix:"pangu",xml:{tagAlias:"lowerCase"},associations:[],types:[{name:"Decision",isAbstract:!0,"extends":["dmn:Decision"],properties:[{name:"versionTag",isAttr:!0,type:"String"},{name:"historyTimeToLive",isAttr:!0,type:"String"}]},{name:"InputClause","extends":["dmn:InputClause"],properties:[{name:"inputVariable",isAttr:!0,type:"String"}]}],emumerations:[]}},{}],2:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){j.importXML(a,function(a){a&&console.error(a)})}var f=d(a("jquery")),g=d(a("./provider/lib/helper/BpmnXmlHelper")),h=d(a("dmn-js/lib/Modeler"));a("dmn-js-properties-panel"),a("dmn-js-properties-panel/lib/provider/dmn");window.$=f["default"],window.jQuery=f["default"];var i=f["default"](".editor-container"),j=new h["default"]({container:i,height:"660px",width:"100%",keyboard:{bindTo:window}}),k='<?xml version="1.0" encoding="UTF-8"?>\n<definitions xmlns="https://www.omg.org/spec/DMN/20191111/MODEL/" xmlns:dmndi="https://www.omg.org/spec/DMN/20191111/DMNDI/" xmlns:dc_1="http://www.omg.org/spec/DMN/20180521/DC/" xmlns:dc="http://www.omg.org/spec/DMN/20191111/DC/" id="PanguBpm_Definitions_18ipaot" name="盘古BPM工作流DRD" namespace="http://pangubpm.com/schema/1.0/dmn">\n  <decision id="Decision_013ax2i" name="Decision 1">\n    <decisionTable id="decisionTable_1">\n      <input id="input_1">\n        <inputExpression id="inputExpression_1" typeRef="string">\n          <text></text>\n        </inputExpression>\n      </input>\n      <output id="output_1" typeRef="string" />\n    </decisionTable>\n  </decision>\n  <decision id="Decision_1adxodc" name="盘古BPM决策表">\n    <decisionTable id="DecisionTable_1vyj3b7">\n      <input id="InputClause_1i7bhyr">\n        <inputExpression id="LiteralExpression_1whl2pb" typeRef="string" />\n      </input>\n      <output id="OutputClause_1m318wo" typeRef="string" />\n    </decisionTable>\n  </decision>\n  <dmndi:DMNDI>\n    <dmndi:DMNDiagram id="DMNDiagram_1rbj3mk">\n      <dmndi:DMNShape id="DMNShape_0ln5tl4" dmnElementRef="Decision_013ax2i" />\n      <dmndi:DMNShape id="DMNShape_17kpwoy" dmnElementRef="Decision_1adxodc">\n        <dc_1:Bounds height="80" width="180" x="290" y="190" />\n      </dmndi:DMNShape>\n    </dmndi:DMNDiagram>\n  </dmndi:DMNDI>\n</definitions>\n';f["default"](function(){f["default"](".editorLi").unbind().bind("click",function(){f["default"](this).addClass("layui-this"),f["default"](".xmlEditorLi").removeClass("layui-this"),f["default"](".editor").addClass("layui-show"),f["default"](".xmlEditor").removeClass("layui-show")}),f["default"](".xmlEditorLi").unbind().bind("click",function(){f["default"](this).addClass("layui-this"),f["default"](".editorLi").removeClass("layui-this"),f["default"](this).addClass("layui-this"),f["default"](".editor").removeClass("layui-show"),f["default"](".xmlEditor").addClass("layui-show"),j.saveXML({format:!0},function(a,b){for(var c=["h","t","t","p",":","/","/","p","a","n","g","u","b","p","m",".","c","o","m","/","s","c","h","e","m","a","/","1",".","0","/","d","m","n"],d="",e=0;e<c.length;e++)d+=c[e];var f=new RegExp(d);f.test(b)&&g["default"].code(b)})}),e(k)})},{"./provider/lib/helper/BpmnXmlHelper":3,"dmn-js-properties-panel":467,"dmn-js-properties-panel/lib/provider/dmn":487,"dmn-js/lib/Modeler":519,jquery:528}],3:[function(a,b,c){"use strict";function d(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return d=function(){return a},a}function e(a){if(a&&a.__esModule)return a;var b=d();if(b&&b.has(a))return b.get(a);var c={};if(null!=a){var e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;g&&(g.get||g.set)?Object.defineProperty(c,f,g):c[f]=a[f]}}return c["default"]=a,b&&b.set(a,c),c}function f(a){return a&&a.__esModule?a:{"default":a}}var g=f(a("jquery")),h=e(a("codemirror/lib/codemirror"));a("summernote/dist/summernote"),a("codemirror/mode/xml/xml");var i=(f(a("./XMLHelper")),{});b.exports=i;var j=h.fromTextArea(document.getElementById("codeXml"),{lineNumbers:!0,matchBrackets:!0,styleActiveLine:!0,smartIndent:!0,mode:"xml",scrollbarStyle:null,lineWrapping:!0});i.code=function(a){j.setSize("auto","650px"),g["default"]("#codeXml").empty().text(a),j.getDoc().setValue(a),j.refresh()}},{"./XMLHelper":4,"codemirror/lib/codemirror":59,"codemirror/mode/xml/xml":60,jquery:528,"summernote/dist/summernote":747}],4:[function(a,b,c){"use strict";var d=a("../../../index"),e={};b.exports=e,e.getXml=function(){var a,b=new RegExp("bpmn:Definitions","g");return d.bpmnModeler.saveXML({format:!0},function(c,d){a=d.replace(b,"bpmn:definitions")}),a}},{"../../../index":2}],5:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(a,c){"object"===("undefined"==typeof b?"undefined":d(b))&&"object"===d(b.exports)?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:void 0,function(a,b){function c(a,b,c){b=b||ha;var d,e=b.createElement("script");if(e.text=a,c)for(d in va)c[d]&&(e[d]=c[d]);b.head.appendChild(e).parentNode.removeChild(e)}function e(a){return null==a?a+"":"object"===d(a)||"function"==typeof a?na[oa.call(a)]||"object":d(a)}function f(a){var b=!!a&&"length"in a&&a.length,c=e(a);return ta(a)||ua(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function g(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function h(a,b,c){return ta(b)?xa.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?xa.grep(a,function(a){return a===b!==c}):"string"!=typeof b?xa.grep(a,function(a){return ma.call(b,a)>-1!==c}):xa.filter(b,a,c)}function i(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function j(a){var b={};return xa.each(a.match(Ja)||[],function(a,c){b[c]=!0}),b}function k(a){return a}function l(a){throw a}function m(a,b,c,d){var e;try{a&&ta(e=a.promise)?e.call(a).done(b).fail(c):a&&ta(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function n(){ha.removeEventListener("DOMContentLoaded",n),a.removeEventListener("load",n),xa.ready()}function o(a,b){return b.toUpperCase()}function p(a){return a.replace(Na,"ms-").replace(Oa,o)}function q(){this.expando=xa.expando+q.uid++}function r(a){return"true"===a?!0:"false"===a?!1:"null"===a?null:a===+a+""?+a:Sa.test(a)?JSON.parse(a):a}function s(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ta,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=r(c)}catch(e){}Ra.set(a,b,c)}else c=void 0;return c}function t(a,b,c,d){var e,f,g=20,h=d?function(){return d.cur()}:function(){return xa.css(a,b,"")},i=h(),j=c&&c[3]||(xa.cssNumber[b]?"":"px"),k=(xa.cssNumber[b]||"px"!==j&&+i)&&Va.exec(xa.css(a,b));if(k&&k[3]!==j){for(i/=2,j=j||k[3],k=+i||1;g--;)xa.style(a,b,k+j),(1-f)*(1-(f=h()/i||.5))<=0&&(g=0),k/=f;k=2*k,xa.style(a,b,k+j),c=c||[]}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function u(a){var b,c=a.ownerDocument,d=a.nodeName,e=Za[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=xa.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),Za[d]=e,e)}function v(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Qa.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&Xa(d)&&(e[f]=u(d))):"none"!==c&&(e[f]="none",Qa.set(d,"display",c)));for(f=0;g>f;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function w(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&g(a,b)?xa.merge([a],c):c}function x(a,b){for(var c=0,d=a.length;d>c;c++)Qa.set(a[c],"globalEval",!b||Qa.get(b[c],"globalEval"))}function y(a,b,c,d,f){for(var g,h,i,j,k,l,m=b.createDocumentFragment(),n=[],o=0,p=a.length;p>o;o++)if(g=a[o],g||0===g)if("object"===e(g))xa.merge(n,g.nodeType?[g]:g);else if(cb.test(g)){for(h=h||m.appendChild(b.createElement("div")),i=(_a.exec(g)||["",""])[1].toLowerCase(),j=bb[i]||bb._default,h.innerHTML=j[1]+xa.htmlPrefilter(g)+j[2],l=j[0];l--;)h=h.lastChild;xa.merge(n,h.childNodes),h=m.firstChild,h.textContent=""}else n.push(b.createTextNode(g));for(m.textContent="",o=0;g=n[o++];)if(d&&xa.inArray(g,d)>-1)f&&f.push(g);else if(k=xa.contains(g.ownerDocument,g),h=w(m.appendChild(g),"script"),k&&x(h),c)for(l=0;g=h[l++];)ab.test(g.type||"")&&c.push(g);return m}function z(){return!0}function A(){return!1}function B(){try{return ha.activeElement}catch(a){}}function C(a,b,c,e,f,g){var h,i;if("object"===d(b)){"string"!=typeof c&&(e=e||c,c=void 0);for(i in b)C(a,i,c,e,b[i],g);return a}if(null==e&&null==f?(f=c,e=c=void 0):null==f&&("string"==typeof c?(f=e,e=void 0):(f=e,e=c,c=void 0)),f===!1)f=A;else if(!f)return a;return 1===g&&(h=f,f=function(a){return xa().off(a),h.apply(this,arguments)},f.guid=h.guid||(h.guid=xa.guid++)),a.each(function(){xa.event.add(this,b,f,e,c)})}function D(a,b){return g(a,"table")&&g(11!==b.nodeType?b:b.firstChild,"tr")?xa(a).children("tbody")[0]||a:a}function E(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function F(a){return"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):a.removeAttribute("type"),a}function G(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Qa.hasData(a)&&(f=Qa.access(a),g=Qa.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)xa.event.add(b,e,j[e][c])}Ra.hasData(a)&&(h=Ra.access(a),i=xa.extend({},h),Ra.set(b,i))}}function H(a,b){var c=b.nodeName.toLowerCase();"input"===c&&$a.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function I(a,b,d,e){b=ka.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=ta(o);if(p||m>1&&"string"==typeof o&&!sa.checkClone&&jb.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),I(f,b,d,e)});if(m&&(f=y(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=xa.map(w(f,"script"),E),i=h.length;m>l;l++)j=f,l!==n&&(j=xa.clone(j,!0,!0),i&&xa.merge(h,w(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,xa.map(h,F),l=0;i>l;l++)j=h[l],ab.test(j.type||"")&&!Qa.access(j,"globalEval")&&xa.contains(k,j)&&(j.src&&"module"!==(j.type||"").toLowerCase()?xa._evalUrl&&xa._evalUrl(j.src):c(j.textContent.replace(kb,""),k,j))}return a}function J(a,b,c){for(var d,e=b?xa.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||xa.cleanData(w(d)),d.parentNode&&(c&&xa.contains(d.ownerDocument,d)&&x(w(d,"script")),d.parentNode.removeChild(d));return a}function K(a,b,c){var d,e,f,g,h=a.style;return c=c||mb(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||xa.contains(a.ownerDocument,a)||(g=xa.style(a,b)),!sa.pixelBoxStyles()&&lb.test(g)&&nb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function L(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function M(a){if(a in tb)return a;for(var b=a[0].toUpperCase()+a.slice(1),c=sb.length;c--;)if(a=sb[c]+b,a in tb)return a}function N(a){var b=xa.cssProps[a];return b||(b=xa.cssProps[a]=M(a)||a),b}function O(a,b,c){var d=Va.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function P(a,b,c,d,e,f){var g="width"===b?1:0,h=0,i=0;if(c===(d?"border":"content"))return 0;for(;4>g;g+=2)"margin"===c&&(i+=xa.css(a,c+Wa[g],!0,e)),d?("content"===c&&(i-=xa.css(a,"padding"+Wa[g],!0,e)),"margin"!==c&&(i-=xa.css(a,"border"+Wa[g]+"Width",!0,e))):(i+=xa.css(a,"padding"+Wa[g],!0,e),"padding"!==c?i+=xa.css(a,"border"+Wa[g]+"Width",!0,e):h+=xa.css(a,"border"+Wa[g]+"Width",!0,e));return!d&&f>=0&&(i+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-i-h-.5))),i}function Q(a,b,c){var d=mb(a),e=K(a,b,d),f="border-box"===xa.css(a,"boxSizing",!1,d),g=f;if(lb.test(e)){if(!c)return e;e="auto"}return g=g&&(sa.boxSizingReliable()||e===a.style[b]),("auto"===e||!parseFloat(e)&&"inline"===xa.css(a,"display",!1,d))&&(e=a["offset"+b[0].toUpperCase()+b.slice(1)],g=!0),e=parseFloat(e)||0,e+P(a,b,c||(f?"border":"content"),g,d,e)+"px"}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(){vb&&(ha.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(S):a.setTimeout(S,xa.fx.interval),xa.fx.tick())}function T(){return a.setTimeout(function(){ub=void 0}),ub=Date.now()}function U(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=Wa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function V(a,b,c){for(var d,e=(Y.tweeners[b]||[]).concat(Y.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function W(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&Xa(a),q=Qa.get(a,"fxshow");c.queue||(g=xa._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,xa.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],wb.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||xa.style(a,d)}if(i=!xa.isEmptyObject(b),i||!xa.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=Qa.get(a,"display")),k=xa.css(a,"display"),"none"===k&&(j?k=j:(v([a],!0),j=a.style.display||j,k=xa.css(a,"display"),v([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===xa.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=Qa.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&v([a],!0),m.done(function(){p||v([a]),Qa.remove(a,"fxshow");for(d in n)xa.style(a,d,n[d])})),i=V(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function X(a,b){var c,d,e,f,g;for(c in a)if(d=p(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=xa.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Y(a,b,c){var d,e,f=0,g=Y.prefilters.length,h=xa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=ub||T(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:xa.extend({},b),opts:xa.extend(!0,{specialEasing:{},easing:xa.easing._default},c),originalProperties:b,originalOptions:c,startTime:ub||T(),duration:c.duration,tweens:[],createTween:function(b,c){var d=xa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(X(k,j.opts.specialEasing);g>f;f++)if(d=Y.prefilters[f].call(j,a,k,j.opts))return ta(d.stop)&&(xa._queueHooks(j.elem,j.opts.queue).stop=d.stop.bind(d)),d;return xa.map(k,V,j),ta(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),xa.fx.timer(xa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function Z(a){var b=a.match(Ja)||[];return b.join(" ")}function $(a){return a.getAttribute&&a.getAttribute("class")||""}function _(a){return Array.isArray(a)?a:"string"==typeof a?a.match(Ja)||[]:[]}function aa(a,b,c,f){var g;if(Array.isArray(b))xa.each(b,function(b,e){c||Ib.test(a)?f(a,e):aa(a+"["+("object"===d(e)&&null!=e?b:"")+"]",e,c,f)});else if(c||"object"!==e(b))f(a,b);else for(g in b)aa(a+"["+g+"]",b[g],c,f)}function ba(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Ja)||[];if(ta(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function ca(a,b,c,d){function e(h){var i;return f[h]=!0,xa.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Ub;return e(b.dataTypes[0])||!f["*"]&&e("*")}function da(a,b){var c,d,e=xa.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&xa.extend(!0,a,d),a}function ea(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function fa(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}var ga=[],ha=a.document,ia=Object.getPrototypeOf,ja=ga.slice,ka=ga.concat,la=ga.push,ma=ga.indexOf,na={},oa=na.toString,pa=na.hasOwnProperty,qa=pa.toString,ra=qa.call(Object),sa={},ta=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},ua=function(a){return null!=a&&a===a.window},va={type:!0,src:!0,noModule:!0},wa="3.3.1",xa=function bc(a,b){return new bc.fn.init(a,b)},ya=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;xa.fn=xa.prototype={jquery:wa,constructor:xa,length:0,toArray:function(){return ja.call(this)},get:function(a){return null==a?ja.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){var b=xa.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return xa.each(this,a)},map:function(a){return this.pushStack(xa.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ja.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:la,sort:ga.sort,splice:ga.splice},xa.extend=xa.fn.extend=function(){var a,b,c,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[i]||{},i++),"object"===d(h)||ta(h)||(h={}),i===j&&(h=this,i--);j>i;i++)if(null!=(a=arguments[i]))for(b in a)c=h[b],e=a[b],h!==e&&(k&&e&&(xa.isPlainObject(e)||(f=Array.isArray(e)))?(f?(f=!1,g=c&&Array.isArray(c)?c:[]):g=c&&xa.isPlainObject(c)?c:{},h[b]=xa.extend(k,g,e)):void 0!==e&&(h[b]=e));return h},xa.extend({expando:"jQuery"+(wa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var b,c;return a&&"[object Object]"===oa.call(a)?(b=ia(a))?(c=pa.call(b,"constructor")&&b.constructor,"function"==typeof c&&qa.call(c)===ra):!0:!1},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},globalEval:function(a){c(a)},each:function(a,b){var c,d=0;if(f(a))for(c=a.length;c>d&&b.call(a[d],d,a[d])!==!1;d++);else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(ya,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(f(Object(a))?xa.merge(c,"string"==typeof a?[a]:a):la.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:ma.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(f(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return ka.apply([],h)},guid:1,support:sa}),"function"==typeof Symbol&&(xa.fn[Symbol.iterator]=ga[Symbol.iterator]),xa.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){na["[object "+b+"]"]=b.toLowerCase()});var za=function(a){function b(a,b,c,d){var e,f,g,h,i,j,k,m=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:P)!==H&&G(b),b=b||H,J)){if(11!==o&&(i=ra.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(m&&(g=m.getElementById(e))&&N(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return $.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&w.getElementsByClassName&&b.getElementsByClassName)return $.apply(c,b.getElementsByClassName(e)),c}if(w.qsa&&!U[a+" "]&&(!K||!K.test(a))){if(1!==o)m=b,k=a;else if("object"!==b.nodeName.toLowerCase()){for((h=b.getAttribute("id"))?h=h.replace(va,wa):b.setAttribute("id",h=O),j=A(a),f=j.length;f--;)j[f]="#"+h+" "+n(j[f]);k=j.join(","),m=sa.test(a)&&l(b.parentNode)||b}if(k)try{return $.apply(c,m.querySelectorAll(k)),c}catch(p){}finally{h===O&&b.removeAttribute("id")}}}return C(a.replace(ha,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>x.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[O]=!0,a}function e(a){var b=H.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)x.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&ya(b)===a:b.disabled===a:"label"in b?b.disabled===a:!1}}function k(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function m(){}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=R++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[Q,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[O]||(b[O]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===Q&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function r(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function s(a,b,c,e,f,g){return e&&!e[O]&&(e=s(e)),f&&!f[O]&&(f=s(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||q(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?p:r(p,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=r(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=r(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function t(a){for(var b,c,d,e=a.length,f=x.relative[a[0].type],g=f||x.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=x.relative[a[h].type])k=[o(p(k),c)];else{if(c=x.filter[a[h].type].apply(null,a[h].matches),c[O]){for(d=++h;e>d&&!x.relative[a[d].type];d++);return s(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ha,"$1"),c,d>h&&t(a.slice(h,d)),e>d&&t(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function u(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],q=[],s=D,t=d||f&&x.find.TAG("*",j),u=Q+=null==s?1:Math.random()||.1,v=t.length;for(j&&(D=g===H||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===H||(G(k),h=!J);m=a[l++];)if(m(k,g||H,h)){i.push(k);break}j&&(Q=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,q,g,h);if(d){if(n>0)for(;o--;)p[o]||q[o]||(q[o]=Y.call(i));q=r(q)}$.apply(i,q),j&&!d&&q.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(Q=u,D=s),p};return e?d(g):g}var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O="sizzle"+1*new Date,P=a.document,Q=0,R=0,S=c(),T=c(),U=c(),V=function(a,b){return a===b&&(F=!0),0},W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",ea="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+da+"))|)"+ca+"*\\]",fa=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ea+")*)|.*)\\)|)",ga=new RegExp(ca+"+","g"),ha=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ia=new RegExp("^"+ca+"*,"+ca+"*"),ja=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),ka=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),la=new RegExp(fa),ma=new RegExp("^"+da+"$"),na={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da+"|[*])"),ATTR:new RegExp("^"+ea),PSEUDO:new RegExp("^"+fa),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/^[^{]+\{\s*\[native \w/,ra=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,sa=/[+~]/,ta=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),ua=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},va=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,wa=function(a,b){return b?"\x00"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},xa=function(){G()},ya=o(function(a){return a.disabled===!0&&("form"in a||"label"in a)},{dir:"parentNode",next:"legend"});try{$.apply(X=_.call(P.childNodes),P.childNodes),X[P.childNodes.length].nodeType}catch(za){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}w=b.support={},z=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},G=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:P;return d!==H&&9===d.nodeType&&d.documentElement?(H=d,I=H.documentElement,J=!z(H),P!==H&&(c=H.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),w.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),w.getElementsByTagName=e(function(a){return a.appendChild(H.createComment("")),!a.getElementsByTagName("*").length}),w.getElementsByClassName=qa.test(H.getElementsByClassName),w.getById=e(function(a){return I.appendChild(a).id=O,!H.getElementsByName||!H.getElementsByName(O).length}),w.getById?(x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}},x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c=b.getElementById(a);return c?[c]:[]}}):(x.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),x.find.TAG=w.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):w.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},x.find.CLASS=w.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&J?b.getElementsByClassName(a):void 0},L=[],K=[],(w.qsa=qa.test(H.querySelectorAll))&&(e(function(a){I.appendChild(a).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||K.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+O+"-]").length||K.push("~="),a.querySelectorAll(":checked").length||K.push(":checked"),a.querySelectorAll("a#"+O+"+*").length||K.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=H.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&K.push("name"+ca+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&K.push(":enabled",":disabled"),I.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&K.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),K.push(",.*:")})),(w.matchesSelector=qa.test(M=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&e(function(a){w.disconnectedMatch=M.call(a,"*"),M.call(a,"[s!='']:x"),L.push("!=",fa)}),K=K.length&&new RegExp(K.join("|")),L=L.length&&new RegExp(L.join("|")),b=qa.test(I.compareDocumentPosition),N=b||qa.test(I.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},V=b?function(a,b){if(a===b)return F=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!w.sortDetached&&b.compareDocumentPosition(a)===c?a===H||a.ownerDocument===P&&N(P,a)?-1:b===H||b.ownerDocument===P&&N(P,b)?1:E?aa(E,a)-aa(E,b):0:4&c?-1:1)}:function(a,b){if(a===b)return F=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===H?-1:b===H?1:e?-1:f?1:E?aa(E,a)-aa(E,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===P?-1:i[d]===P?1:0},H):H},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==H&&G(a),c=c.replace(ka,"='$1']"),w.matchesSelector&&J&&!U[c+" "]&&(!L||!L.test(c))&&(!K||!K.test(c)))try{var d=M.call(a,c);if(d||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,H,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==H&&G(a),N(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==H&&G(a);var c=x.attrHandle[b.toLowerCase()],d=c&&W.call(x.attrHandle,b.toLowerCase())?c(a,b,!J):void 0;return void 0!==d?d:w.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(va,wa)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(F=!w.detectDuplicates,E=!w.sortStable&&a.slice(0),a.sort(V),F){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return E=null,a},y=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=y(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=y(b);return c},x=b.selectors={cacheLength:50,createPseudo:d,match:na,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ta,ua),a[3]=(a[3]||a[4]||a[5]||"").replace(ta,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return na.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&la.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ta,ua).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&S(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ga," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[Q,n,t];break}}else if(s&&(m=b,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[Q,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[O]?f(c):f.length>1?(e=[a,a,"",c],x.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ha,"$1"));return e[O]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(ta,ua),function(b){return(b.textContent||b.innerText||y(b)).indexOf(a)>-1}}),lang:d(function(a){return ma.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(ta,ua).toLowerCase(),function(b){var c;do if(c=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===I},focus:function(a){return a===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:j(!1),disabled:j(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=h(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=i(v);return m.prototype=x.filters=x.pseudos,x.setFilters=new m,A=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=T[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=x.preFilter;h;){(!d||(e=ia.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ja.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ha," ")}),h=h.slice(d.length));for(g in x.filter)!(e=na[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):T(a,i).slice(0)},B=b.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=A(a)),c=b.length;c--;)f=t(b[c]),f[O]?d.push(f):e.push(f);f=U(a,u(e,d)),f.selector=a}return f},C=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,k=!d&&A(a=j.selector||a);if(c=c||[],1===k.length){if(f=k[0]=k[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&J&&x.relative[f[1].type]){if(b=(x.find.ID(g.matches[0].replace(ta,ua),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=na.needsContext.test(a)?0:f.length;e--&&(g=f[e],!x.relative[h=g.type]);)if((i=x.find[h])&&(d=i(g.matches[0].replace(ta,ua),sa.test(f[0].type)&&l(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return $.apply(c,d),c;break}}return(j||B(a,k))(d,b,!J,c,!b||sa.test(a)&&l(b.parentNode)||b),c},w.sortStable=O.split("").sort(V).join("")===O,w.detectDuplicates=!!F,G(),w.sortDetached=e(function(a){return 1&a.compareDocumentPosition(H.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),w.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);xa.find=za,xa.expr=za.selectors,xa.expr[":"]=xa.expr.pseudos,xa.uniqueSort=xa.unique=za.uniqueSort,xa.text=za.getText,xa.isXMLDoc=za.isXML,xa.contains=za.contains,xa.escapeSelector=za.escape;var Aa=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&xa(a).is(c))break;d.push(a)}return d},Ba=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},Ca=xa.expr.match.needsContext,Da=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;xa.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?xa.find.matchesSelector(d,a)?[d]:[]:xa.find.matches(a,xa.grep(b,function(a){return 1===a.nodeType}))},xa.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(xa(a).filter(function(){for(b=0;d>b;b++)if(xa.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;d>b;b++)xa.find(a,e[b],c);return d>1?xa.uniqueSort(c):c},filter:function(a){return this.pushStack(h(this,a||[],!1))},not:function(a){return this.pushStack(h(this,a||[],!0))},is:function(a){return!!h(this,"string"==typeof a&&Ca.test(a)?xa(a):a||[],!1).length}});var Ea,Fa=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ga=xa.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||Ea,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:Fa.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof xa?b[0]:b,xa.merge(this,xa.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ha,!0)),Da.test(d[1])&&xa.isPlainObject(b))for(d in b)ta(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=ha.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):ta(a)?void 0!==c.ready?c.ready(a):a(xa):xa.makeArray(a,this)};Ga.prototype=xa.fn,Ea=xa(ha);var Ha=/^(?:parents|prev(?:Until|All))/,Ia={children:!0,contents:!0,next:!0,prev:!0};xa.fn.extend({has:function(a){var b=xa(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(xa.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&xa(a);if(!Ca.test(a))for(;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&xa.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?xa.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?ma.call(xa(a),this[0]):ma.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(xa.uniqueSort(xa.merge(this.get(),xa(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),xa.each({parent:function cc(a){var cc=a.parentNode;return cc&&11!==cc.nodeType?cc:null},parents:function(a){return Aa(a,"parentNode")},parentsUntil:function(a,b,c){return Aa(a,"parentNode",c)},next:function(a){return i(a,"nextSibling")},prev:function(a){return i(a,"previousSibling")},nextAll:function(a){return Aa(a,"nextSibling")},prevAll:function(a){return Aa(a,"previousSibling")},nextUntil:function(a,b,c){return Aa(a,"nextSibling",c)},prevUntil:function(a,b,c){return Aa(a,"previousSibling",c)},siblings:function(a){return Ba((a.parentNode||{}).firstChild,a)},children:function(a){return Ba(a.firstChild)},contents:function(a){return g(a,"iframe")?a.contentDocument:(g(a,"template")&&(a=a.content||a),xa.merge([],a.childNodes))}},function(a,b){xa.fn[a]=function(c,d){var e=xa.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=xa.filter(d,e)),this.length>1&&(Ia[a]||xa.uniqueSort(e),Ha.test(a)&&e.reverse()),this.pushStack(e)}});var Ja=/[^\x20\t\r\n\f]+/g;xa.Callbacks=function(a){a="string"==typeof a?j(a):xa.extend({},a);var b,c,d,f,g=[],h=[],i=-1,k=function(){for(f=f||a.once,d=b=!0;h.length;i=-1)for(c=h.shift();++i<g.length;)g[i].apply(c[0],c[1])===!1&&a.stopOnFalse&&(i=g.length,c=!1);a.memory||(c=!1),b=!1,f&&(g=c?[]:"")},l={add:function(){return g&&(c&&!b&&(i=g.length-1,h.push(c)),function d(b){xa.each(b,function(b,c){ta(c)?a.unique&&l.has(c)||g.push(c):c&&c.length&&"string"!==e(c)&&d(c)})}(arguments),c&&!b&&k()),this},remove:function(){return xa.each(arguments,function(a,b){for(var c;(c=xa.inArray(b,g,c))>-1;)g.splice(c,1),i>=c&&i--}),this},has:function(a){return a?xa.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return f=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return f=h=[],c||b||(g=c=""),this},locked:function(){return!!f},fireWith:function(a,c){return f||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||k()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!d}};return l},xa.extend({Deferred:function(b){var c=[["notify","progress",xa.Callbacks("memory"),xa.Callbacks("memory"),2],["resolve","done",xa.Callbacks("once memory"),xa.Callbacks("once memory"),0,"resolved"],["reject","fail",xa.Callbacks("once memory"),xa.Callbacks("once memory"),1,"rejected"]],e="pending",f={state:function(){return e},always:function(){return g.done(arguments).fail(arguments),this},"catch":function(a){return f.then(null,a)},pipe:function(){var a=arguments;return xa.Deferred(function(b){xa.each(c,function(c,d){var e=ta(a[d[4]])&&a[d[4]];g[d[1]](function(){var a=e&&e.apply(this,arguments);a&&ta(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,e,f){function g(b,c,e,f){return function(){var i=this,j=arguments,m=function(){var a,m;if(!(h>b)){if(a=e.apply(i,j),a===c.promise())throw new TypeError("Thenable self-resolution");m=a&&("object"===d(a)||"function"==typeof a)&&a.then,ta(m)?f?m.call(a,g(h,c,k,f),g(h,c,l,f)):(h++,m.call(a,g(h,c,k,f),g(h,c,l,f),g(h,c,k,c.notifyWith))):(e!==k&&(i=void 0,j=[a]),(f||c.resolveWith)(i,j))}},n=f?m:function(){try{m()}catch(a){xa.Deferred.exceptionHook&&xa.Deferred.exceptionHook(a,n.stackTrace),b+1>=h&&(e!==l&&(i=void 0,j=[a]),c.rejectWith(i,j))}};b?n():(xa.Deferred.getStackHook&&(n.stackTrace=xa.Deferred.getStackHook()),a.setTimeout(n))}}var h=0;return xa.Deferred(function(a){c[0][3].add(g(0,a,ta(f)?f:k,a.notifyWith)),c[1][3].add(g(0,a,ta(b)?b:k)),c[2][3].add(g(0,a,ta(e)?e:l))}).promise()},promise:function(a){return null!=a?xa.extend(a,f):f}},g={};return xa.each(c,function(a,b){var d=b[2],h=b[5];f[b[1]]=d.add,h&&d.add(function(){e=h},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock),d.add(b[3].fire),g[b[0]]=function(){return g[b[0]+"With"](this===g?void 0:this,arguments),this},g[b[0]+"With"]=d.fireWith}),f.promise(g),b&&b.call(g,g),g},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ja.call(arguments),f=xa.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ja.call(arguments):c,--b||f.resolveWith(d,e)}};if(1>=b&&(m(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||ta(e[c]&&e[c].then)))return f.then();for(;c--;)m(e[c],g(c),f.reject);return f.promise()}});var Ka=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;xa.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&Ka.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},xa.readyException=function(b){a.setTimeout(function(){throw b})};var La=xa.Deferred();xa.fn.ready=function(a){return La.then(a)["catch"](function(a){xa.readyException(a)}),this},xa.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--xa.readyWait:xa.isReady)||(xa.isReady=!0,a!==!0&&--xa.readyWait>0||La.resolveWith(ha,[xa]))}}),xa.ready.then=La.then,"complete"===ha.readyState||"loading"!==ha.readyState&&!ha.documentElement.doScroll?a.setTimeout(xa.ready):(ha.addEventListener("DOMContentLoaded",n),a.addEventListener("load",n));var Ma=function dc(a,b,c,d,f,g,h){var i=0,j=a.length,k=null==c;if("object"===e(c)){f=!0;for(i in c)dc(a,b,i,c[i],!0,g,h)}else if(void 0!==d&&(f=!0,ta(d)||(h=!0),k&&(h?(b.call(a,d),b=null):(k=b,b=function(a,b,c){return k.call(xa(a),c)})),b))for(;j>i;i++)b(a[i],c,h?d:d.call(a[i],i,b(a[i],c)));return f?a:k?b.call(a):j?b(a[0],c):g},Na=/^-ms-/,Oa=/-([a-z])/g,Pa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};q.uid=1,q.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Pa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[p(b)]=c;else for(d in b)e[p(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][p(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(p):(b=p(b),b=b in d?[b]:b.match(Ja)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||xa.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!xa.isEmptyObject(b)}};var Qa=new q,Ra=new q,Sa=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ta=/[A-Z]/g;xa.extend({hasData:function(a){return Ra.hasData(a)||Qa.hasData(a)},data:function(a,b,c){return Ra.access(a,b,c)},removeData:function(a,b){Ra.remove(a,b)},_data:function(a,b,c){return Qa.access(a,b,c)},_removeData:function(a,b){Qa.remove(a,b)}}),xa.fn.extend({data:function ec(a,b){var c,e,ec,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(ec=Ra.get(f),1===f.nodeType&&!Qa.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(e=g[c].name,0===e.indexOf("data-")&&(e=p(e.slice(5)),s(f,e,ec[e])));Qa.set(f,"hasDataAttrs",!0)}return ec}return"object"===d(a)?this.each(function(){Ra.set(this,a)}):Ma(this,function(b){var c;if(f&&void 0===b){if(c=Ra.get(f,a),void 0!==c)return c;if(c=s(f,a),void 0!==c)return c}else this.each(function(){Ra.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Ra.remove(this,a)})}}),xa.extend({queue:function fc(a,b,c){var fc;return a?(b=(b||"fx")+"queue",fc=Qa.get(a,b),c&&(!fc||Array.isArray(c)?fc=Qa.access(a,b,xa.makeArray(c)):fc.push(c)),fc||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=xa.queue(a,b),d=c.length,e=c.shift(),f=xa._queueHooks(a,b),g=function(){xa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Qa.get(a,c)||Qa.access(a,c,{empty:xa.Callbacks("once memory").add(function(){Qa.remove(a,[b+"queue",c])})})}}),xa.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?xa.queue(this[0],a):void 0===b?this:this.each(function(){var c=xa.queue(this,a,b);xa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&xa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){xa.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=xa.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=Qa.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Ua=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Va=new RegExp("^(?:([+-])=|)("+Ua+")([a-z%]*)$","i"),Wa=["Top","Right","Bottom","Left"],Xa=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&xa.contains(a.ownerDocument,a)&&"none"===xa.css(a,"display")},Ya=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Za={};xa.fn.extend({show:function(){return v(this,!0)},hide:function(){return v(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){Xa(this)?xa(this).show():xa(this).hide()})}});var $a=/^(?:checkbox|radio)$/i,_a=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ab=/^$|^module$|\/(?:java|ecma)script/i,bb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};bb.optgroup=bb.option,bb.tbody=bb.tfoot=bb.colgroup=bb.caption=bb.thead,bb.th=bb.td;var cb=/<|&#?\w+;/;!function(){var a=ha.createDocumentFragment(),b=a.appendChild(ha.createElement("div")),c=ha.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),sa.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",sa.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var db=ha.documentElement,eb=/^key/,fb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,gb=/^([^.]*)(?:\.(.+)|)/;xa.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Qa.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&xa.find.matchesSelector(db,e),c.guid||(c.guid=xa.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof xa&&xa.event.triggered!==b.type?xa.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Ja)||[""],j=b.length;j--;)h=gb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=xa.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=xa.event.special[n]||{},k=xa.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&xa.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),xa.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Qa.hasData(a)&&Qa.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Ja)||[""],j=b.length;j--;)if(h=gb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=xa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||xa.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)xa.event.remove(a,n+b[j],c,d,!0);xa.isEmptyObject(i)&&Qa.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=xa.event.fix(a),i=new Array(arguments.length),j=(Qa.get(this,"events")||{})[h.type]||[],k=xa.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,h)!==!1){for(g=xa.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)(!h.rnamespace||h.rnamespace.test(f.namespace))&&(h.handleObj=f,h.data=f.data,d=((xa.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i),void 0!==d&&(h.result=d)===!1&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;i>c;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?xa(e,this).index(j)>-1:xa.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(xa.Event.prototype,a,{enumerable:!0,configurable:!0,get:ta(b)?function(){return this.originalEvent?b(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[a]:void 0},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[xa.expando]?a:new xa.Event(a)},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==B()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===B()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&g(this,"input")?(this.click(),!1):void 0},_default:function(a){return g(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},xa.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},xa.Event=function(a,b){return this instanceof xa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?z:A,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&xa.extend(this,b),this.timeStamp=a&&a.timeStamp||Date.now(),void(this[xa.expando]=!0)):new xa.Event(a,b)},xa.Event.prototype={constructor:xa.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=z,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=z,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=z,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},xa.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&eb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&fb.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},xa.event.addProp),xa.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){xa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!xa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),xa.fn.extend({on:function(a,b,c,d){return C(this,a,b,c,d)},one:function(a,b,c,d){return C(this,a,b,c,d,1)},off:function(a,b,c){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,xa(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"===d(a)){for(f in a)this.off(f,b,a[f]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=A),this.each(function(){xa.event.remove(this,a,c,b)})}});var hb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,ib=/<script|<style|<link/i,jb=/checked\s*(?:[^=]|=\s*.checked.)/i,kb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;xa.extend({htmlPrefilter:function(a){return a.replace(hb,"<$1></$2>")},clone:function gc(a,b,c){var d,e,f,g,gc=a.cloneNode(!0),h=xa.contains(a.ownerDocument,a);if(!(sa.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||xa.isXMLDoc(a)))for(g=w(gc),f=w(a),d=0,e=f.length;e>d;d++)H(f[d],g[d]);if(b)if(c)for(f=f||w(a),g=g||w(gc),d=0,e=f.length;e>d;d++)G(f[d],g[d]);else G(a,gc);return g=w(gc,"script"),g.length>0&&x(g,!h&&w(a,"script")),gc},cleanData:function(a){for(var b,c,d,e=xa.event.special,f=0;void 0!==(c=a[f]);f++)if(Pa(c)){if(b=c[Qa.expando]){if(b.events)for(d in b.events)e[d]?xa.event.remove(c,d):xa.removeEvent(c,d,b.handle);c[Qa.expando]=void 0}c[Ra.expando]&&(c[Ra.expando]=void 0)}}}),xa.fn.extend({detach:function(a){return J(this,a,!0)},remove:function(a){return J(this,a)},text:function(a){return Ma(this,function(a){return void 0===a?xa.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return I(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=D(this,a);b.appendChild(a)}})},prepend:function(){return I(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=D(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return I(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return I(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(xa.cleanData(w(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return xa.clone(this,a,b)})},html:function(a){return Ma(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!ib.test(a)&&!bb[(_a.exec(a)||["",""])[1].toLowerCase()]){a=xa.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(xa.cleanData(w(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return I(this,arguments,function(b){var c=this.parentNode;xa.inArray(this,a)<0&&(xa.cleanData(w(this)),c&&c.replaceChild(b,this))},a)}}),xa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){xa.fn[a]=function(a){for(var c,d=[],e=xa(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),xa(e[g])[b](c),la.apply(d,c.get());return this.pushStack(d)}});var lb=new RegExp("^("+Ua+")(?!px)[a-z%]+$","i"),mb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},nb=new RegExp(Wa.join("|"),"i");!function(){function b(){if(j){i.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",j.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",db.appendChild(i).appendChild(j);var b=a.getComputedStyle(j);d="1%"!==b.top,h=12===c(b.marginLeft),j.style.right="60%",g=36===c(b.right),e=36===c(b.width),j.style.position="absolute",f=36===j.offsetWidth||"absolute",db.removeChild(i),j=null}}function c(a){return Math.round(parseFloat(a))}var d,e,f,g,h,i=ha.createElement("div"),j=ha.createElement("div");j.style&&(j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",sa.clearCloneStyle="content-box"===j.style.backgroundClip,xa.extend(sa,{boxSizingReliable:function(){return b(),e},pixelBoxStyles:function(){return b(),g},pixelPosition:function(){
return b(),d},reliableMarginLeft:function(){return b(),h},scrollboxSize:function(){return b(),f}}))}();var ob=/^(none|table(?!-c[ea]).+)/,pb=/^--/,qb={position:"absolute",visibility:"hidden",display:"block"},rb={letterSpacing:"0",fontWeight:"400"},sb=["Webkit","Moz","ms"],tb=ha.createElement("div").style;xa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=K(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function hc(a,b,c,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=p(b),j=pb.test(b),hc=a.style;return j||(b=N(i)),h=xa.cssHooks[b]||xa.cssHooks[i],void 0===c?h&&"get"in h&&void 0!==(f=h.get(a,!1,e))?f:hc[b]:(g=d(c),"string"===g&&(f=Va.exec(c))&&f[1]&&(c=t(a,b,f),g="number"),null!=c&&c===c&&("number"===g&&(c+=f&&f[3]||(xa.cssNumber[i]?"":"px")),sa.clearCloneStyle||""!==c||0!==b.indexOf("background")||(hc[b]="inherit"),h&&"set"in h&&void 0===(c=h.set(a,c,e))||(j?hc.setProperty(b,c):hc[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=p(b),i=pb.test(b);return i||(b=N(h)),g=xa.cssHooks[b]||xa.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=K(a,b,d)),"normal"===e&&b in rb&&(e=rb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),xa.each(["height","width"],function(a,b){xa.cssHooks[b]={get:function(a,c,d){return c?!ob.test(xa.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?Q(a,b,d):Ya(a,qb,function(){return Q(a,b,d)}):void 0},set:function(a,c,d){var e,f=mb(a),g="border-box"===xa.css(a,"boxSizing",!1,f),h=d&&P(a,b,d,g,f);return g&&sa.scrollboxSize()===f.position&&(h-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(f[b])-P(a,b,"border",!1,f)-.5)),h&&(e=Va.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=xa.css(a,b)),O(a,c,h)}}}),xa.cssHooks.marginLeft=L(sa.reliableMarginLeft,function(a,b){return b?(parseFloat(K(a,"marginLeft"))||a.getBoundingClientRect().left-Ya(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),xa.each({margin:"",padding:"",border:"Width"},function(a,b){xa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Wa[d]+b]=f[d]||f[d-2]||f[0];return e}},"margin"!==a&&(xa.cssHooks[a+b].set=O)}),xa.fn.extend({css:function(a,b){return Ma(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=mb(a),e=b.length;e>g;g++)f[b[g]]=xa.css(a,b[g],!1,d);return f}return void 0!==c?xa.style(a,b,c):xa.css(a,b)},a,b,arguments.length>1)}}),xa.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||xa.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(xa.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.options.duration?this.pos=b=xa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=xa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){xa.fx.step[a.prop]?xa.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[xa.cssProps[a.prop]]&&!xa.cssHooks[a.prop]?a.elem[a.prop]=a.now:xa.style(a.elem,a.prop,a.now+a.unit)}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},xa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},xa.fx=R.prototype.init,xa.fx.step={};var ub,vb,wb=/^(?:toggle|show|hide)$/,xb=/queueHooks$/;xa.Animation=xa.extend(Y,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return t(c.elem,a,Va.exec(b),c),c}]},tweener:function(a,b){ta(a)?(b=a,a=["*"]):a=a.match(Ja);for(var c,d=0,e=a.length;e>d;d++)c=a[d],Y.tweeners[c]=Y.tweeners[c]||[],Y.tweeners[c].unshift(b)},prefilters:[W],prefilter:function(a,b){b?Y.prefilters.unshift(a):Y.prefilters.push(a)}}),xa.speed=function(a,b,c){var e=a&&"object"===d(a)?xa.extend({},a):{complete:c||!c&&b||ta(a)&&a,duration:a,easing:c&&b||b&&!ta(b)&&b};return xa.fx.off?e.duration=0:"number"!=typeof e.duration&&(e.duration in xa.fx.speeds?e.duration=xa.fx.speeds[e.duration]:e.duration=xa.fx.speeds._default),(null==e.queue||e.queue===!0)&&(e.queue="fx"),e.old=e.complete,e.complete=function(){ta(e.old)&&e.old.call(this),e.queue&&xa.dequeue(this,e.queue)},e},xa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=xa.isEmptyObject(a),f=xa.speed(b,c,d),g=function(){var b=Y(this,xa.extend({},a),f);(e||Qa.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=xa.timers,g=Qa.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&xb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&xa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=Qa.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=xa.timers,g=d?d.length:0;for(c.finish=!0,xa.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),xa.each(["toggle","show","hide"],function(a,b){var c=xa.fn[b];xa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(U(b,!0),a,d,e)}}),xa.each({slideDown:U("show"),slideUp:U("hide"),slideToggle:U("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){xa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),xa.timers=[],xa.fx.tick=function(){var a,b=0,c=xa.timers;for(ub=Date.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||xa.fx.stop(),ub=void 0},xa.fx.timer=function(a){xa.timers.push(a),xa.fx.start()},xa.fx.interval=13,xa.fx.start=function(){vb||(vb=!0,S())},xa.fx.stop=function(){vb=null},xa.fx.speeds={slow:600,fast:200,_default:400},xa.fn.delay=function(b,c){return b=xa.fx?xa.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=ha.createElement("input"),b=ha.createElement("select"),c=b.appendChild(ha.createElement("option"));a.type="checkbox",sa.checkOn=""!==a.value,sa.optSelected=c.selected,a=ha.createElement("input"),a.value="t",a.type="radio",sa.radioValue="t"===a.value}();var yb,zb=xa.expr.attrHandle;xa.fn.extend({attr:function(a,b){return Ma(this,xa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){xa.removeAttr(this,a)})}}),xa.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?xa.prop(a,b,c):(1===f&&xa.isXMLDoc(a)||(e=xa.attrHooks[b.toLowerCase()]||(xa.expr.match.bool.test(b)?yb:void 0)),void 0!==c?null===c?void xa.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=xa.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!sa.radioValue&&"radio"===b&&g(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Ja);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),yb={set:function(a,b,c){return b===!1?xa.removeAttr(a,c):a.setAttribute(c,c),c}},xa.each(xa.expr.match.bool.source.match(/\w+/g),function(a,b){var c=zb[b]||xa.find.attr;zb[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=zb[g],zb[g]=e,e=null!=c(a,b,d)?g:null,zb[g]=f),e}});var Ab=/^(?:input|select|textarea|button)$/i,Bb=/^(?:a|area)$/i;xa.fn.extend({prop:function(a,b){return Ma(this,xa.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[xa.propFix[a]||a]})}}),xa.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&xa.isXMLDoc(a)||(b=xa.propFix[b]||b,e=xa.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=xa.find.attr(a,"tabindex");return b?parseInt(b,10):Ab.test(a.nodeName)||Bb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),sa.optSelected||(xa.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),xa.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){xa.propFix[this.toLowerCase()]=this}),xa.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(ta(a))return this.each(function(b){xa(this).addClass(a.call(this,b,$(this)))});if(b=_(a),b.length)for(;c=this[i++];)if(e=$(c),d=1===c.nodeType&&" "+Z(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=Z(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(ta(a))return this.each(function(b){xa(this).removeClass(a.call(this,b,$(this)))});if(!arguments.length)return this.attr("class","");if(b=_(a),b.length)for(;c=this[i++];)if(e=$(c),d=1===c.nodeType&&" "+Z(e)+" "){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=Z(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=d(a),e="string"===c||Array.isArray(a);return"boolean"==typeof b&&e?b?this.addClass(a):this.removeClass(a):ta(a)?this.each(function(c){xa(this).toggleClass(a.call(this,c,$(this),b),b)}):this.each(function(){var b,d,f,g;if(e)for(d=0,f=xa(this),g=_(a);b=g[d++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else(void 0===a||"boolean"===c)&&(b=$(this),b&&Qa.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":Qa.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+Z($(c))+" ").indexOf(b)>-1)return!0;return!1}});var Cb=/\r/g;xa.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ta(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,xa(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=xa.map(e,function(a){return null==a?"":a+""})),b=xa.valHooks[this.type]||xa.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=xa.valHooks[e.type]||xa.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(Cb,""):null==c?"":c)}}}),xa.extend({valHooks:{option:{get:function(a){var b=xa.find.attr(a,"value");return null!=b?b:Z(xa.text(a))}},select:{get:function(a){var b,c,d,e=a.options,f=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?f+1:e.length;for(d=0>f?j:h?f:0;j>d;d++)if(c=e[d],(c.selected||d===f)&&!c.disabled&&(!c.parentNode.disabled||!g(c.parentNode,"optgroup"))){if(b=xa(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=xa.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=xa.inArray(xa.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),xa.each(["radio","checkbox"],function(){xa.valHooks[this]={set:function(a,b){return Array.isArray(b)?a.checked=xa.inArray(xa(a).val(),b)>-1:void 0}},sa.checkOn||(xa.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),sa.focusin="onfocusin"in a;var Db=/^(?:focusinfocus|focusoutblur)$/,Eb=function(a){a.stopPropagation()};xa.extend(xa.event,{trigger:function(b,c,e,f){var g,h,i,j,k,l,m,n,o=[e||ha],p=pa.call(b,"type")?b.type:b,q=pa.call(b,"namespace")?b.namespace.split("."):[];if(h=n=i=e=e||ha,3!==e.nodeType&&8!==e.nodeType&&!Db.test(p+xa.event.triggered)&&(p.indexOf(".")>-1&&(q=p.split("."),p=q.shift(),q.sort()),k=p.indexOf(":")<0&&"on"+p,b=b[xa.expando]?b:new xa.Event(p,"object"===d(b)&&b),b.isTrigger=f?2:3,b.namespace=q.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:xa.makeArray(c,[b]),m=xa.event.special[p]||{},f||!m.trigger||m.trigger.apply(e,c)!==!1)){if(!f&&!m.noBubble&&!ua(e)){for(j=m.delegateType||p,Db.test(j+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),i=h;i===(e.ownerDocument||ha)&&o.push(i.defaultView||i.parentWindow||a)}for(g=0;(h=o[g++])&&!b.isPropagationStopped();)n=h,b.type=g>1?j:m.bindType||p,l=(Qa.get(h,"events")||{})[b.type]&&Qa.get(h,"handle"),l&&l.apply(h,c),l=k&&h[k],l&&l.apply&&Pa(h)&&(b.result=l.apply(h,c),b.result===!1&&b.preventDefault());return b.type=p,f||b.isDefaultPrevented()||m._default&&m._default.apply(o.pop(),c)!==!1||!Pa(e)||k&&ta(e[p])&&!ua(e)&&(i=e[k],i&&(e[k]=null),xa.event.triggered=p,b.isPropagationStopped()&&n.addEventListener(p,Eb),e[p](),b.isPropagationStopped()&&n.removeEventListener(p,Eb),xa.event.triggered=void 0,i&&(e[k]=i)),b.result}},simulate:function(a,b,c){var d=xa.extend(new xa.Event,c,{type:a,isSimulated:!0});xa.event.trigger(d,null,b)}}),xa.fn.extend({trigger:function(a,b){return this.each(function(){xa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?xa.event.trigger(a,b,c,!0):void 0}}),sa.focusin||xa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){xa.event.simulate(b,a.target,xa.event.fix(a))};xa.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Qa.access(d,b);e||d.addEventListener(a,c,!0),Qa.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Qa.access(d,b)-1;e?Qa.access(d,b,e):(d.removeEventListener(a,c,!0),Qa.remove(d,b))}}});var Fb=a.location,Gb=Date.now(),Hb=/\?/;xa.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&xa.error("Invalid XML: "+b),c};var Ib=/\[\]$/,Jb=/\r?\n/g,Kb=/^(?:submit|button|image|reset|file)$/i,Lb=/^(?:input|select|textarea|keygen)/i;xa.param=function(a,b){var c,d=[],e=function(a,b){var c=ta(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(Array.isArray(a)||a.jquery&&!xa.isPlainObject(a))xa.each(a,function(){e(this.name,this.value)});else for(c in a)aa(c,a[c],b,e);return d.join("&")},xa.fn.extend({serialize:function(){return xa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=xa.prop(this,"elements");return a?xa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!xa(this).is(":disabled")&&Lb.test(this.nodeName)&&!Kb.test(a)&&(this.checked||!$a.test(a))}).map(function(a,b){var c=xa(this).val();return null==c?null:Array.isArray(c)?xa.map(c,function(a){return{name:b.name,value:a.replace(Jb,"\r\n")}}):{name:b.name,value:c.replace(Jb,"\r\n")}}).get()}});var Mb=/%20/g,Nb=/#.*$/,Ob=/([?&])_=[^&]*/,Pb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Qb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Rb=/^(?:GET|HEAD)$/,Sb=/^\/\//,Tb={},Ub={},Vb="*/".concat("*"),Wb=ha.createElement("a");Wb.href=Fb.href,xa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Fb.href,type:"GET",isLocal:Qb.test(Fb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":xa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?da(da(a,xa.ajaxSettings),b):da(xa.ajaxSettings,a)},ajaxPrefilter:ba(Tb),ajaxTransport:ba(Ub),ajax:function(b,c){function e(b,c,d,e){var i,k,n,o,v,w=c;l||(l=!0,j&&a.clearTimeout(j),f=void 0,h=e||"",y.readyState=b>0?4:0,i=b>=200&&300>b||304===b,d&&(o=ea(p,y,d)),o=fa(p,o,y,i),i?(p.ifModified&&(v=y.getResponseHeader("Last-Modified"),v&&(xa.lastModified[g]=v),v=y.getResponseHeader("etag"),v&&(xa.etag[g]=v)),204===b||"HEAD"===p.type?w="nocontent":304===b?w="notmodified":(w=o.state,k=o.data,n=o.error,i=!n)):(n=w,(b||!w)&&(w="error",0>b&&(b=0))),y.status=b,y.statusText=(c||w)+"",i?s.resolveWith(q,[k,w,y]):s.rejectWith(q,[y,w,n]),y.statusCode(u),u=void 0,m&&r.trigger(i?"ajaxSuccess":"ajaxError",[y,p,i?k:n]),t.fireWith(q,[y,w]),m&&(r.trigger("ajaxComplete",[y,p]),--xa.active||xa.event.trigger("ajaxStop")))}"object"===d(b)&&(c=b,b=void 0),c=c||{};var f,g,h,i,j,k,l,m,n,o,p=xa.ajaxSetup({},c),q=p.context||p,r=p.context&&(q.nodeType||q.jquery)?xa(q):xa.event,s=xa.Deferred(),t=xa.Callbacks("once memory"),u=p.statusCode||{},v={},w={},x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(l){if(!i)for(i={};b=Pb.exec(h);)i[b[1].toLowerCase()]=b[2];b=i[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return l?h:null},setRequestHeader:function(a,b){return null==l&&(a=w[a.toLowerCase()]=w[a.toLowerCase()]||a,v[a]=b),this},overrideMimeType:function(a){return null==l&&(p.mimeType=a),this},statusCode:function(a){var b;if(a)if(l)y.always(a[y.status]);else for(b in a)u[b]=[u[b],a[b]];return this},abort:function(a){var b=a||x;return f&&f.abort(b),e(0,b),this}};if(s.promise(y),p.url=((b||p.url||Fb.href)+"").replace(Sb,Fb.protocol+"//"),p.type=c.method||c.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ja)||[""],null==p.crossDomain){k=ha.createElement("a");try{k.href=p.url,k.href=k.href,p.crossDomain=Wb.protocol+"//"+Wb.host!=k.protocol+"//"+k.host}catch(z){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=xa.param(p.data,p.traditional)),ca(Tb,p,c,y),l)return y;m=xa.event&&p.global,m&&0===xa.active++&&xa.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Rb.test(p.type),g=p.url.replace(Nb,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Mb,"+")):(o=p.url.slice(g.length),p.data&&(p.processData||"string"==typeof p.data)&&(g+=(Hb.test(g)?"&":"?")+p.data,delete p.data),p.cache===!1&&(g=g.replace(Ob,"$1"),o=(Hb.test(g)?"&":"?")+"_="+Gb++ +o),p.url=g+o),p.ifModified&&(xa.lastModified[g]&&y.setRequestHeader("If-Modified-Since",xa.lastModified[g]),xa.etag[g]&&y.setRequestHeader("If-None-Match",xa.etag[g])),(p.data&&p.hasContent&&p.contentType!==!1||c.contentType)&&y.setRequestHeader("Content-Type",p.contentType),y.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Vb+"; q=0.01":""):p.accepts["*"]);for(n in p.headers)y.setRequestHeader(n,p.headers[n]);if(p.beforeSend&&(p.beforeSend.call(q,y,p)===!1||l))return y.abort();if(x="abort",t.add(p.complete),y.done(p.success),y.fail(p.error),f=ca(Ub,p,c,y)){if(y.readyState=1,m&&r.trigger("ajaxSend",[y,p]),l)return y;p.async&&p.timeout>0&&(j=a.setTimeout(function(){y.abort("timeout")},p.timeout));try{l=!1,f.send(v,e)}catch(z){if(l)throw z;e(-1,z)}}else e(-1,"No Transport");return y},getJSON:function(a,b,c){return xa.get(a,b,c,"json")},getScript:function(a,b){return xa.get(a,void 0,b,"script")}}),xa.each(["get","post"],function(a,b){xa[b]=function(a,c,d,e){return ta(c)&&(e=e||d,d=c,c=void 0),xa.ajax(xa.extend({url:a,type:b,dataType:e,data:c,success:d},xa.isPlainObject(a)&&a))}}),xa._evalUrl=function(a){return xa.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},xa.fn.extend({wrapAll:function(a){var b;return this[0]&&(ta(a)&&(a=a.call(this[0])),b=xa(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return ta(a)?this.each(function(b){xa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=xa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ta(a);return this.each(function(c){xa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){xa(this).replaceWith(this.childNodes)}),this}}),xa.expr.pseudos.hidden=function(a){return!xa.expr.pseudos.visible(a)},xa.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},xa.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Xb={0:200,1223:204},Yb=xa.ajaxSettings.xhr();sa.cors=!!Yb&&"withCredentials"in Yb,sa.ajax=Yb=!!Yb,xa.ajaxTransport(function(b){var c,d;return sa.cors||Yb&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Xb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=h.ontimeout=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),xa.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),xa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return xa.globalEval(a),a}}}),xa.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),xa.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=xa("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),ha.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Zb=[],$b=/(=)\?(?=&|$)|\?\?/;xa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Zb.pop()||xa.expando+"_"+Gb++;return this[a]=!0,a}}),xa.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&($b.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&$b.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=ta(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace($b,"$1"+e):b.jsonp!==!1&&(b.url+=(Hb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||xa.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?xa(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Zb.push(e)),g&&ta(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),sa.createHTMLDocument=function(){var a=ha.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),xa.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(sa.createHTMLDocument?(b=ha.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=ha.location.href,b.head.appendChild(d)):b=ha),e=Da.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=y([a],b,f),f&&f.length&&xa(f).remove(),xa.merge([],e.childNodes))},xa.fn.load=function(a,b,c){var e,f,g,h=this,i=a.indexOf(" ");return i>-1&&(e=Z(a.slice(i)),a=a.slice(0,i)),ta(b)?(c=b,b=void 0):b&&"object"===d(b)&&(f="POST"),h.length>0&&xa.ajax({url:a,type:f||"GET",dataType:"html",data:b}).done(function(a){g=arguments,h.html(e?xa("<div>").append(xa.parseHTML(a)).find(e):a)}).always(c&&function(a,b){h.each(function(){c.apply(this,g||[a.responseText,b,a])})}),this},xa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){xa.fn[b]=function(a){return this.on(b,a)}}),xa.expr.pseudos.animated=function(a){return xa.grep(xa.timers,function(b){return a===b.elem}).length},xa.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=xa.css(a,"position"),l=xa(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=xa.css(a,"top"),i=xa.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ta(b)&&(b=b.call(a,c,xa.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},xa.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){xa.offset.setOffset(this,a,b)});var b,c,d=this[0];if(d)return d.getClientRects().length?(b=d.getBoundingClientRect(),c=d.ownerDocument.defaultView,{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c,d=this[0],e={top:0,left:0};if("fixed"===xa.css(d,"position"))b=d.getBoundingClientRect();else{for(b=this.offset(),c=d.ownerDocument,a=d.offsetParent||c.documentElement;a&&(a===c.body||a===c.documentElement)&&"static"===xa.css(a,"position");)a=a.parentNode;a&&a!==d&&1===a.nodeType&&(e=xa(a).offset(),e.top+=xa.css(a,"borderTopWidth",!0),e.left+=xa.css(a,"borderLeftWidth",!0))}return{top:b.top-e.top-xa.css(d,"marginTop",!0),left:b.left-e.left-xa.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===xa.css(a,"position");)a=a.offsetParent;return a||db})}}),xa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;xa.fn[a]=function(d){return Ma(this,function(a,d,e){var f;return ua(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),xa.each(["top","left"],function(a,b){xa.cssHooks[b]=L(sa.pixelPosition,function(a,c){return c?(c=K(a,b),lb.test(c)?xa(a).position()[b]+"px":c):void 0})}),xa.each({Height:"height",Width:"width"},function(a,b){xa.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){xa.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return Ma(this,function(b,c,e){var f;return ua(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?xa.css(b,c,h):xa.style(b,c,e,h)},b,g?e:void 0,g)}})}),xa.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){xa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),xa.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),xa.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),xa.proxy=function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),ta(a)?(d=ja.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ja.call(arguments)))},e.guid=a.guid=a.guid||xa.guid++,e):void 0},xa.holdReady=function(a){a?xa.readyWait++:xa.ready(!0)},xa.isArray=Array.isArray,xa.parseJSON=JSON.parse,xa.nodeName=g,xa.isFunction=ta,xa.isWindow=ua,xa.camelCase=p,xa.type=e,xa.now=Date.now,xa.isNumeric=function(a){var b=xa.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return xa});var _b=a.jQuery,ac=a.$;return xa.noConflict=function(b){return a.$===xa&&(a.$=ac),b&&a.jQuery===xa&&(a.jQuery=_b),xa},b||(a.jQuery=a.$=xa),xa})},{}],6:[function(a,b,c){arguments[4][5][0].apply(c,arguments)},{dup:5}],7:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"ar-AR":{font:{bold:"عريض",italic:"مائل",underline:"تحته خط",clear:"مسح التنسيق",height:"إرتفاع السطر",name:"الخط",strikethrough:"فى وسطه خط",subscript:"مخطوطة",superscript:"حرف فوقي",size:"الحجم"},image:{image:"صورة",insert:"إضافة صورة",resizeFull:"الحجم بالكامل",resizeHalf:"تصغير للنصف",resizeQuarter:"تصغير للربع",floatLeft:"تطيير لليسار",floatRight:"تطيير لليمين",floatNone:"ثابته",shapeRounded:"الشكل: تقريب",shapeCircle:"الشكل: دائرة",shapeThumbnail:"الشكل: صورة مصغرة",shapeNone:"الشكل: لا شيء",dragImageHere:"إدرج الصورة هنا",dropImage:"إسقاط صورة أو نص",selectFromFiles:"حدد ملف",maximumFileSize:"الحد الأقصى لحجم الملف",maximumFileSizeError:"تم تجاوز الحد الأقصى لحجم الملف",url:"رابط الصورة",remove:"حذف الصورة",original:"Original"},video:{video:"فيديو",videoLink:"رابط الفيديو",insert:"إدراج الفيديو",url:"رابط الفيديو",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"رابط رابط",insert:"إدراج",unlink:"حذف الرابط",edit:"تعديل",textToDisplay:"النص",url:"مسار الرابط",openInNewWindow:"فتح في نافذة جديدة"},table:{table:"جدول",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"إدراج خط أفقي"},style:{style:"تنسيق",p:"عادي",blockquote:"إقتباس",pre:"شفيرة",h1:"عنوان رئيسي 1",h2:"عنوان رئيسي 2",h3:"عنوان رئيسي 3",h4:"عنوان رئيسي 4",h5:"عنوان رئيسي 5",h6:"عنوان رئيسي 6"},lists:{unordered:"قائمة مُنقطة",ordered:"قائمة مُرقمة"},options:{help:"مساعدة",fullscreen:"حجم الشاشة بالكامل",codeview:"شفيرة المصدر"},paragraph:{paragraph:"فقرة",outdent:"محاذاة للخارج",indent:"محاذاة للداخل",left:"محاذاة لليسار",center:"توسيط",right:"محاذاة لليمين",justify:"ملئ السطر"},color:{recent:"تم إستخدامه",more:"المزيد",background:"لون الخلفية",foreground:"لون النص",transparent:"شفاف",setTransparent:"بدون خلفية",reset:"إعادة الضبط",resetToDefault:"إعادة الضبط",cpSelect:"اختار"},shortcut:{shortcuts:"إختصارات",close:"غلق",textFormatting:"تنسيق النص",action:"Action",paragraphFormatting:"تنسيق الفقرة",documentStyle:"تنسيق المستند",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",
formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"تراجع",redo:"إعادة"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],8:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"bg-BG":{font:{bold:"Удебелен",italic:"Наклонен",underline:"Подчертан",clear:"Изчисти стиловете",height:"Височина",name:"Шрифт",strikethrough:"Задраскано",subscript:"Долен индекс",superscript:"Горен индекс",size:"Размер на шрифта"},image:{image:"Изображение",insert:"Постави картинка",resizeFull:"Цял размер",resizeHalf:"Размер на 50%",resizeQuarter:"Размер на 25%",floatLeft:"Подравни в ляво",floatRight:"Подравни в дясно",floatNone:"Без подравняване",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Пуснете изображението тук",dropImage:"Drop image or Text",selectFromFiles:"Изберете файл",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL адрес на изображение",remove:"Премахни изображение",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Връзка",insert:"Добави връзка",unlink:"Премахни връзка",edit:"Промени",textToDisplay:"Текст за показване",url:"URL адрес",openInNewWindow:"Отвори в нов прозорец"},table:{table:"Таблица",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Добави хоризонтална линия"},style:{style:"Стил",p:"Нормален",blockquote:"Цитат",pre:"Код",h1:"Заглавие 1",h2:"Заглавие 2",h3:"Заглавие 3",h4:"Заглавие 4",h5:"Заглавие 5",h6:"Заглавие 6"},lists:{unordered:"Символен списък",ordered:"Цифров списък"},options:{help:"Помощ",fullscreen:"На цял екран",codeview:"Преглед на код"},paragraph:{paragraph:"Параграф",outdent:"Намаляване на отстъпа",indent:"Абзац",left:"Подравняване в ляво",center:"Център",right:"Подравняване в дясно",justify:"Разтягане по ширина"},color:{recent:"Последния избран цвят",more:"Още цветове",background:"Цвят на фона",foreground:"Цвят на шрифта",transparent:"Прозрачен",setTransparent:"Направете прозрачен",reset:"Възстанови",resetToDefault:"Възстанови оригиналните",cpSelect:"Изберете"},shortcut:{shortcuts:"Клавишни комбинации",close:"Затвори",textFormatting:"Форматиране на текста",action:"Действие",paragraphFormatting:"Форматиране на параграф",documentStyle:"Стил на документа",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Назад",redo:"Напред"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],9:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"ca-ES":{font:{bold:"Negreta",italic:"Cursiva",underline:"Subratllat",clear:"Treure estil de lletra",height:"Alçada de línia",name:"Font",strikethrough:"Ratllat",subscript:"Subíndex",superscript:"Superíndex",size:"Mida de lletra"},image:{image:"Imatge",insert:"Inserir imatge",resizeFull:"Redimensionar a mida completa",resizeHalf:"Redimensionar a la meitat",resizeQuarter:"Redimensionar a un quart",floatLeft:"Alinear a l'esquerra",floatRight:"Alinear a la dreta",floatNone:"No alinear",shapeRounded:"Forma: Arrodonit",shapeCircle:"Forma: Cercle",shapeThumbnail:"Forma: Marc",shapeNone:"Forma: Cap",dragImageHere:"Arrossegueu una imatge o text aquí",dropImage:"Deixa anar aquí una imatge o un text",selectFromFiles:"Seleccioneu des dels arxius",maximumFileSize:"Mida màxima de l'arxiu",maximumFileSizeError:"La mida màxima de l'arxiu s'ha superat.",url:"URL de la imatge",remove:"Eliminar imatge",original:"Original"},video:{video:"Vídeo",videoLink:"Enllaç del vídeo",insert:"Inserir vídeo",url:"URL del vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Enllaç",insert:"Inserir enllaç",unlink:"Treure enllaç",edit:"Editar",textToDisplay:"Text per mostrar",url:"Cap a quina URL porta l'enllaç?",openInNewWindow:"Obrir en una finestra nova"},table:{table:"Taula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserir línia horitzontal"},style:{style:"Estil",p:"p",blockquote:"Cita",pre:"Codi",h1:"Títol 1",h2:"Títol 2",h3:"Títol 3",h4:"Títol 4",h5:"Títol 5",h6:"Títol 6"},lists:{unordered:"Llista desendreçada",ordered:"Llista endreçada"},options:{help:"Ajut",fullscreen:"Pantalla sencera",codeview:"Veure codi font"},paragraph:{paragraph:"Paràgraf",outdent:"Menys tabulació",indent:"Més tabulació",left:"Alinear a l'esquerra",center:"Alinear al mig",right:"Alinear a la dreta",justify:"Justificar"},color:{recent:"Últim color",more:"Més colors",background:"Color de fons",foreground:"Color de lletra",transparent:"Transparent",setTransparent:"Establir transparent",reset:"Restablir",resetToDefault:"Restablir per defecte"},shortcut:{shortcuts:"Dreceres de teclat",close:"Tancar",textFormatting:"Format de text",action:"Acció",paragraphFormatting:"Format de paràgraf",documentStyle:"Estil del document",extraKeys:"Tecles adicionals"},help:{insertParagraph:"Inserir paràgraf",undo:"Desfer l'última acció",redo:"Refer l'última acció",tab:"Tabular",untab:"Eliminar tabulació",bold:"Establir estil negreta",italic:"Establir estil cursiva",underline:"Establir estil subratllat",strikethrough:"Establir estil ratllat",removeFormat:"Netejar estil",justifyLeft:"Alinear a l'esquerra",justifyCenter:"Alinear al centre",justifyRight:"Alinear a la dreta",justifyFull:"Justificar",insertUnorderedList:"Inserir llista desendreçada",insertOrderedList:"Inserir llista endreçada",outdent:"Reduïr tabulació del paràgraf",indent:"Augmentar tabulació del paràgraf",formatPara:"Canviar l'estil del bloc com a un paràgraf (etiqueta P)",formatH1:"Canviar l'estil del bloc com a un H1",formatH2:"Canviar l'estil del bloc com a un H2",formatH3:"Canviar l'estil del bloc com a un H3",formatH4:"Canviar l'estil del bloc com a un H4",formatH5:"Canviar l'estil del bloc com a un H5",formatH6:"Canviar l'estil del bloc com a un H6",insertHorizontalRule:"Inserir una línia horitzontal","linkDialog.show":"Mostrar panel d'enllaços"},history:{undo:"Desfer",redo:"Refer"},specialChar:{specialChar:"CARÀCTERS ESPECIALS",select:"Selecciona caràcters especials"}}})}(jQuery)},{}],10:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"cs-CZ":{font:{bold:"Tučné",italic:"Kurzíva",underline:"Podtržené",clear:"Odstranit styl písma",height:"Výška řádku",strikethrough:"Přeškrtnuté",size:"Velikost písma"},image:{image:"Obrázek",insert:"Vložit obrázek",resizeFull:"Původní velikost",resizeHalf:"Poloviční velikost",resizeQuarter:"Čtvrteční velikost",floatLeft:"Umístit doleva",floatRight:"Umístit doprava",floatNone:"Neobtékat textem",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Přetáhnout sem obrázek",dropImage:"Drop image or Text",selectFromFiles:"Vybrat soubor",url:"URL obrázku",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Odkaz videa",insert:"Vložit video",url:"URL videa?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion nebo Youku)"},link:{link:"Odkaz",insert:"Vytvořit odkaz",unlink:"Zrušit odkaz",edit:"Upravit",textToDisplay:"Zobrazovaný text",url:"Na jaké URL má tento odkaz vést?",openInNewWindow:"Otevřít v novém okně"},table:{table:"Tabulka",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Vložit vodorovnou čáru"},style:{style:"Styl",p:"Normální",blockquote:"Citace",pre:"Kód",h1:"Nadpis 1",h2:"Nadpis 2",h3:"Nadpis 3",h4:"Nadpis 4",h5:"Nadpis 5",h6:"Nadpis 6"},lists:{unordered:"Odrážkový seznam",ordered:"Číselný seznam"},options:{help:"Nápověda",fullscreen:"Celá obrazovka",codeview:"HTML kód"},paragraph:{paragraph:"Odstavec",outdent:"Zvětšit odsazení",indent:"Zmenšit odsazení",left:"Zarovnat doleva",center:"Zarovnat na střed",right:"Zarovnat doprava",justify:"Zarovnat oboustranně"},color:{recent:"Aktuální barva",more:"Další barvy",background:"Barva pozadí",foreground:"Barva písma",transparent:"Průhlednost",setTransparent:"Nastavit průhlednost",reset:"Obnovit",resetToDefault:"Obnovit výchozí",cpSelect:"Vybrat"},shortcut:{shortcuts:"Klávesové zkratky",close:"Zavřít",textFormatting:"Formátování textu",action:"Akce",paragraphFormatting:"Formátování odstavce",documentStyle:"Styl dokumentu"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Krok vzad",redo:"Krok vpřed"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],11:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"da-DK":{font:{bold:"Fed",italic:"Kursiv",underline:"Understreget",clear:"Fjern formatering",height:"Højde",name:"Skrifttype",strikethrough:"Gennemstreget",subscript:"Sænket skrift",superscript:"Hævet skrift",size:"Skriftstørrelse"},image:{image:"Billede",insert:"Indsæt billede",resizeFull:"Original størrelse",resizeHalf:"Halv størrelse",resizeQuarter:"Kvart størrelse",floatLeft:"Venstrestillet",floatRight:"Højrestillet",floatNone:"Fjern formatering",shapeRounded:"Form: Runde kanter",shapeCircle:"Form: Cirkel",shapeThumbnail:"Form: Miniature",shapeNone:"Form: Ingen",dragImageHere:"Træk billede hertil",dropImage:"Slip billede",selectFromFiles:"Vælg billed-fil",maximumFileSize:"Maks fil størrelse",maximumFileSizeError:"Filen er større end maks tilladte fil størrelse!",url:"Billede URL",remove:"Fjern billede",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Indsæt Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion eller Youku)"},link:{link:"Link",insert:"Indsæt link",unlink:"Fjern link",edit:"Rediger",textToDisplay:"Visningstekst",url:"Hvor skal linket pege hen?",openInNewWindow:"Åbn i nyt vindue"},table:{table:"Tabel",addRowAbove:"Tilføj række over",addRowBelow:"Tilføj række under",addColLeft:"Tilføj venstre kolonne",addColRight:"Tilføj højre kolonne",delRow:"Slet række",delCol:"Slet kolonne",delTable:"Slet tabel"},hr:{insert:"Indsæt horisontal linje"},style:{style:"Stil",p:"p",blockquote:"Citat",pre:"Kode",h1:"Overskrift 1",h2:"Overskrift 2",h3:"Overskrift 3",h4:"Overskrift 4",h5:"Overskrift 5",h6:"Overskrift 6"},lists:{unordered:"Punktopstillet liste",ordered:"Nummereret liste"},options:{help:"Hjælp",fullscreen:"Fuld skærm",codeview:"HTML-Visning"},paragraph:{paragraph:"Afsnit",outdent:"Formindsk indryk",indent:"Forøg indryk",left:"Venstrestillet",center:"Centreret",right:"Højrestillet",justify:"Blokjuster"},color:{recent:"Nyligt valgt farve",more:"Flere farver",background:"Baggrund",foreground:"Forgrund",transparent:"Transparent",setTransparent:"Sæt transparent",reset:"Nulstil",resetToDefault:"Gendan standardindstillinger"},shortcut:{shortcuts:"Genveje",close:"Luk",textFormatting:"Tekstformatering",action:"Handling",paragraphFormatting:"Afsnitsformatering",documentStyle:"Dokumentstil",extraKeys:"Extra keys"},help:{insertParagraph:"Indsæt paragraf",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Vis Link Dialog"},history:{undo:"Fortryd",redo:"Annuller fortryd"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Vælg special karakterer"}}})}(jQuery)},{}],12:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"de-DE":{font:{bold:"Fett",italic:"Kursiv",underline:"Unterstreichen",clear:"Zurücksetzen",height:"Zeilenhöhe",name:"Schriftart",strikethrough:"Durchgestrichen",subscript:"Tiefgestellt",superscript:"Hochgestellt",size:"Schriftgröße"},image:{image:"Bild",insert:"Bild einfügen",resizeFull:"Originalgröße",resizeHalf:"1/2 Größe",resizeQuarter:"1/4 Größe",floatLeft:"Linksbündig",floatRight:"Rechtsbündig",floatNone:"Kein Textfluss",shapeRounded:"Abgerundeter Rahmen",shapeCircle:"Kreisförmiger Rahmen",shapeThumbnail:"Rahmenvorschau",shapeNone:"Kein Rahmen",dragImageHere:"Bild hierher ziehen",dropImage:"Bild oder Text nehmen",selectFromFiles:"Datei auswählen",maximumFileSize:"Maximale Dateigröße",maximumFileSizeError:"Maximale Dateigröße überschritten",url:"Bild URL",remove:"Bild entfernen",original:"Original"},video:{video:"Video",videoLink:"Videolink",insert:"Video einfügen",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion oder Youku)"},link:{link:"Link",insert:"Link einfügen",unlink:"Link entfernen",edit:"Bearbeiten",textToDisplay:"Anzeigetext",url:"Link URL",openInNewWindow:"In neuem Fenster öffnen"},table:{table:"Tabelle",addRowAbove:"+ Zeile oberhalb",addRowBelow:"+ Zeile unterhalb",addColLeft:"+ Spalte links",addColRight:"+ Spalte rechts",delRow:"Reihe löschen",delCol:"Spalte löschen",delTable:"Tabelle löschen"},hr:{insert:"Horizontale Linie einfügen"},style:{style:"Stil",normal:"Normal",p:"Normal",blockquote:"Zitat",pre:"Quellcode",h1:"Überschrift 1",h2:"Überschrift 2",h3:"Überschrift 3",h4:"Überschrift 4",h5:"Überschrift 5",h6:"Überschrift 6"},lists:{unordered:"Unnummerierte Liste",ordered:"Nummerierte Liste"},options:{help:"Hilfe",fullscreen:"Vollbild",codeview:"Quellcode anzeigen"},paragraph:{paragraph:"Absatz",outdent:"Einzug verkleinern",indent:"Einzug vergrößern",left:"Links ausrichten",center:"Zentriert ausrichten",right:"Rechts ausrichten",justify:"Blocksatz"},color:{recent:"Letzte Farbe",more:"Weitere Farben",background:"Hintergrundfarbe",foreground:"Schriftfarbe",transparent:"Transparenz",setTransparent:"Transparenz setzen",reset:"Zurücksetzen",resetToDefault:"Auf Standard zurücksetzen"},shortcut:{shortcuts:"Tastenkürzel",close:"Schließen",textFormatting:"Textformatierung",action:"Aktion",paragraphFormatting:"Absatzformatierung",documentStyle:"Dokumentenstil",extraKeys:"Weitere Tasten"},help:{insertParagraph:"Absatz einfügen",undo:"Letzte Anweisung rückgängig",redo:"Letzte Anweisung wiederholen",tab:"Einzug hinzufügen",untab:"Einzug entfernen",bold:"Schrift Fett",italic:"Schrift Kursiv",underline:"Unterstreichen",strikethrough:"Durchstreichen",removeFormat:"Entfernt Format",justifyLeft:"Linksbündig",justifyCenter:"Mittig",justifyRight:"Rechtsbündig",justifyFull:"Blocksatz",insertUnorderedList:"Unnummerierte Liste",insertOrderedList:"Nummerierte Liste",outdent:"Aktuellen Absatz ausrücken",indent:"Aktuellen Absatz einrücken",formatPara:"Formatiert aktuellen Block als Absatz (P-Tag)",formatH1:"Formatiert aktuellen Block als H1",formatH2:"Formatiert aktuellen Block als H2",formatH3:"Formatiert aktuellen Block als H3",formatH4:"Formatiert aktuellen Block als H4",formatH5:"Formatiert aktuellen Block als H5",formatH6:"Formatiert aktuellen Block als H6",insertHorizontalRule:"Fügt eine horizontale Linie ein","linkDialog.show":"Zeigt Linkdialog"},history:{undo:"Rückgängig",redo:"Wiederholen"},specialChar:{specialChar:"Sonderzeichen",select:"Zeichen auswählen"}}})}(jQuery)},{}],13:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"el-GR":{font:{bold:"Έντονα",italic:"Πλάγια",underline:"Υπογραμμισμένα",clear:"Καθαρισμός",height:"Ύψος",name:"Γραμματοσειρά",strikethrough:"Διεγραμμένα",subscript:"Δείκτης",superscript:"Εκθέτης",size:"Μέγεθος"},image:{image:"εικόνα",insert:"Εισαγωγή",resizeFull:"Πλήρες μέγεθος",resizeHalf:"Μισό μέγεθος",resizeQuarter:"1/4 μέγεθος",floatLeft:"Μετατόπιση αριστερά",floatRight:"Μετατόπιση δεξιά",floatNone:"Χωρίς μετατόπιση",shapeRounded:"Σχήμα: Στρογγυλεμένο",shapeCircle:"Σχήμα: Κύκλος",shapeThumbnail:"Σχήμα: Thumbnail",shapeNone:"Σχήμα: Κανένα",dragImageHere:"Σύρτε την εικόνα εδώ",dropImage:"Αφήστε την εικόνα",selectFromFiles:"Επιλογή από αρχεία",maximumFileSize:"Μέγιστο μέγεθος αρχείου",maximumFileSizeError:"Το μέγεθος είναι μεγαλύτερο από το μέγιστο επιτρεπτό.",url:"URL",remove:"Αφαίρεση",original:"Original"},link:{link:"Σύνδεσμος",insert:"Εισαγωγή συνδέσμου",unlink:"Αφαίρεση συνδέσμου",edit:"Επεξεργασία συνδέσμου",textToDisplay:"Κείμενο συνδέσμου",url:"URL",openInNewWindow:"Άνοιγμα σε νέο παράθυρο"},video:{video:"Βίντεο",videoLink:"Σύνδεσμος Βίντεο",insert:"Εισαγωγή",url:"URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},table:{table:"Πίνακας",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Εισαγωγή οριζόντιας γραμμής"},style:{style:"Στυλ",normal:"Κανονικό",blockquote:"Παράθεση",pre:"Ως έχει",h1:"Κεφαλίδα 1",h2:"συνδέσμου 2",h3:"συνδέσμου 3",h4:"συνδέσμου 4",h5:"συνδέσμου 5",h6:"συνδέσμου 6"},lists:{unordered:"Αταξινόμητη λίστα",ordered:"Ταξινομημένη λίστα"},options:{help:"Βοήθεια",fullscreen:"Πλήρης οθόνη",codeview:"Προβολή HTML"},paragraph:{paragraph:"Παράγραφος",outdent:"Μείωση εσοχής",indent:"Άυξηση εσοχής",left:"Αριστερή στοίχιση",center:"Στοίχιση στο κέντρο",right:"Δεξιά στοίχιση",justify:"Πλήρης στοίχιση"},color:{recent:"Πρόσφατη επιλογή",more:"Περισσότερα",background:"Υπόβαθρο",foreground:"Μπροστά",transparent:"Διαφανές",setTransparent:"Επιλογή διαφάνειας",reset:"Επαναφορά",resetToDefault:"Επαναφορά στις προκαθορισμένες τιμές"},shortcut:{shortcuts:"Συντομεύσεις",close:"Κλείσιμο",textFormatting:"Διαμόρφωση κειμένου",action:"Ενέργεια",paragraphFormatting:"Διαμόρφωση παραγράφου",documentStyle:"Στυλ κειμένου",extraKeys:"Επιπλέον συντομεύσεις"},help:{insertParagraph:"Εισαγωγή παραγράφου",undo:"Αναιρεί την προηγούμενη εντολή",redo:"Επαναλαμβάνει την προηγούμενη εντολή",tab:"Εσοχή",untab:"Αναίρεση εσοχής",bold:"Ορισμός έντονου στυλ",italic:"Ορισμός πλάγιου στυλ",underline:"Ορισμός υπογεγραμμένου στυλ",strikethrough:"Ορισμός διεγραμμένου στυλ",removeFormat:"Αφαίρεση στυλ",justifyLeft:"Ορισμός αριστερής στοίχισης",justifyCenter:"Ορισμός κεντρικής στοίχισης",justifyRight:"Ορισμός δεξιάς στοίχισης",justifyFull:"Ορισμός πλήρους στοίχισης",insertUnorderedList:"Ορισμός μη-ταξινομημένης λίστας",insertOrderedList:"Ορισμός ταξινομημένης λίστας",outdent:"Προεξοχή παραγράφου",indent:"Εσοχή παραγράφου",formatPara:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε παράγραφο (P tag)",formatH1:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H1",formatH2:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H2",formatH3:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H3",formatH4:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H4",formatH5:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H5",formatH6:"Αλλαγή της μορφής του τρέχοντος μπλοκ σε H6",insertHorizontalRule:"Εισαγωγή οριζόντιας γραμμής","linkDialog.show":"Εμφάνιση διαλόγου συνδέσμου"},history:{undo:"Αναίρεση",redo:"Επαναληψη"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Επιλέξτε ειδικούς χαρακτήρες"}}})}(jQuery)},{}],14:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"es-ES":{font:{bold:"Negrita",italic:"Cursiva",underline:"Subrayado",clear:"Quitar estilo de fuente",height:"Altura de línea",name:"Fuente",strikethrough:"Tachado",superscript:"Superíndice",subscript:"Subíndice",size:"Tamaño de la fuente"},image:{image:"Imagen",insert:"Insertar imagen",resizeFull:"Redimensionar a tamaño completo",resizeHalf:"Redimensionar a la mitad",resizeQuarter:"Redimensionar a un cuarto",floatLeft:"Flotar a la izquierda",floatRight:"Flotar a la derecha",floatNone:"No flotar",shapeRounded:"Forma: Redondeado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Marco",shapeNone:"Forma: Ninguna",dragImageHere:"Arrastrar una imagen o texto aquí",dropImage:"Suelta la imagen o texto",selectFromFiles:"Seleccionar desde los archivos",maximumFileSize:"Tamaño máximo del archivo",maximumFileSizeError:"Has superado el tamaño máximo del archivo.",url:"URL de la imagen",remove:"Eliminar imagen",original:"Original"},video:{video:"Vídeo",videoLink:"Link del vídeo",insert:"Insertar vídeo",url:"¿URL del vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Link",insert:"Insertar link",unlink:"Quitar link",edit:"Editar",textToDisplay:"Texto para mostrar",url:"¿Hacia que URL lleva el link?",openInNewWindow:"Abrir en una nueva ventana"},table:{table:"Tabla",addRowAbove:"Añadir fila encima",addRowBelow:"Añadir fila debajo",addColLeft:"Añadir columna izquierda",addColRight:"Añadir columna derecha",delRow:"Borrar fila",delCol:"Eliminar columna",delTable:"Eliminar tabla"},hr:{insert:"Insertar línea horizontal"},style:{style:"Estilo",p:"p",blockquote:"Cita",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista desordenada",ordered:"Lista ordenada"},options:{help:"Ayuda",fullscreen:"Pantalla completa",codeview:"Ver código fuente"},paragraph:{paragraph:"Párrafo",outdent:"Menos tabulación",indent:"Más tabulación",left:"Alinear a la izquierda",center:"Alinear al centro",right:"Alinear a la derecha",justify:"Justificar"},color:{recent:"Último color",more:"Más colores",background:"Color de fondo",foreground:"Color de fuente",transparent:"Transparente",setTransparent:"Establecer transparente",reset:"Restaurar",resetToDefault:"Restaurar por defecto"},shortcut:{shortcuts:"Atajos de teclado",close:"Cerrar",textFormatting:"Formato de texto",action:"Acción",paragraphFormatting:"Formato de párrafo",documentStyle:"Estilo de documento",extraKeys:"Teclas adicionales"},help:{insertParagraph:"Insertar párrafo",undo:"Deshacer última acción",redo:"Rehacer última acción",tab:"Tabular",untab:"Eliminar tabulación",bold:"Establecer estilo negrita",italic:"Establecer estilo cursiva",underline:"Establecer estilo subrayado",strikethrough:"Establecer estilo tachado",removeFormat:"Limpiar estilo",justifyLeft:"Alinear a la izquierda",justifyCenter:"Alinear al centro",justifyRight:"Alinear a la derecha",justifyFull:"Justificar",insertUnorderedList:"Insertar lista desordenada",insertOrderedList:"Insertar lista ordenada",outdent:"Reducir tabulación del párrafo",indent:"Aumentar tabulación del párrafo",formatPara:"Cambiar estilo del bloque a párrafo (etiqueta P)",formatH1:"Cambiar estilo del bloque a H1",formatH2:"Cambiar estilo del bloque a H2",formatH3:"Cambiar estilo del bloque a H3",formatH4:"Cambiar estilo del bloque a H4",formatH5:"Cambiar estilo del bloque a H5",formatH6:"Cambiar estilo del bloque a H6",insertHorizontalRule:"Insertar línea horizontal","linkDialog.show":"Mostrar panel enlaces"},history:{undo:"Deshacer",redo:"Rehacer"},specialChar:{specialChar:"CARACTERES ESPECIALES",select:"Selecciona Caracteres especiales"}}})}(jQuery)},{}],15:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"es-EU":{font:{bold:"Lodia",italic:"Etzana",underline:"Azpimarratua",clear:"Estiloa kendu",height:"Lerro altuera",name:"Tipografia",strikethrough:"Marratua",subscript:"Subscript",superscript:"Superscript",size:"Letren neurria"},image:{image:"Irudia",insert:"Irudi bat txertatu",resizeFull:"Jatorrizko neurrira aldatu",resizeHalf:"Neurria erdira aldatu",resizeQuarter:"Neurria laurdenera aldatu",floatLeft:"Ezkerrean kokatu",floatRight:"Eskuinean kokatu",floatNone:"Kokapenik ez ezarri",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Irudi bat ezarri hemen",dropImage:"Drop image or Text",selectFromFiles:"Zure fitxategi bat aukeratu",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Irudiaren URL helbidea",remove:"Remove Image",original:"Original"},video:{video:"Bideoa",videoLink:"Bideorako esteka",insert:"Bideo berri bat txertatu",url:"Bideoaren URL helbidea",providers:"(YouTube, Vimeo, Vine, Instagram edo DailyMotion)"},link:{link:"Esteka",insert:"Esteka bat txertatu",unlink:"Esteka ezabatu",edit:"Editatu",textToDisplay:"Estekaren testua",url:"Estekaren URL helbidea",openInNewWindow:"Leiho berri batean ireki"},table:{table:"Taula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Marra horizontala txertatu"},style:{style:"Estiloa",p:"p",blockquote:"Aipamena",pre:"Kodea",h1:"1. izenburua",h2:"2. izenburua",h3:"3. izenburua",h4:"4. izenburua",h5:"5. izenburua",h6:"6. izenburua"},lists:{unordered:"Ordenatu gabeko zerrenda",ordered:"Zerrenda ordenatua"},options:{help:"Laguntza",fullscreen:"Pantaila osoa",codeview:"Kodea ikusi"},paragraph:{paragraph:"Paragrafoa",outdent:"Koska txikiagoa",indent:"Koska handiagoa",left:"Ezkerrean kokatu",center:"Erdian kokatu",right:"Eskuinean kokatu",justify:"Justifikatu"},color:{recent:"Azken kolorea",more:"Kolore gehiago",background:"Atzeko planoa",foreground:"Aurreko planoa",transparent:"Gardena",setTransparent:"Gardendu",reset:"Lehengoratu",resetToDefault:"Berrezarri lehenetsia"},shortcut:{shortcuts:"Lasterbideak",close:"Itxi",textFormatting:"Testuaren formatua",action:"Ekintza",paragraphFormatting:"Paragrafoaren formatua",documentStyle:"Dokumentuaren estiloa"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Desegin",redo:"Berregin"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],16:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"fa-IR":{font:{bold:"درشت",italic:"خمیده",underline:"میان خط",clear:"پاک کردن فرمت فونت",height:"فاصله ی خطی",name:"اسم فونت",strikethrough:"Strike",subscript:"Subscript",superscript:"Superscript",size:"اندازه ی فونت"},image:{image:"تصویر",insert:"وارد کردن تصویر",resizeFull:"تغییر به اندازه ی کامل",resizeHalf:"تغییر به اندازه نصف",resizeQuarter:"تغییر به اندازه یک چهارم",floatLeft:"چسباندن به چپ",floatRight:"چسباندن به راست",floatNone:"بدون چسبندگی",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"یک تصویر را اینجا بکشید",dropImage:"Drop image or Text",selectFromFiles:"فایل ها را انتخاب کنید",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"آدرس تصویر",remove:"حذف تصویر",original:"Original"},video:{video:"ویدیو",videoLink:"لینک ویدیو",insert:"افزودن ویدیو",url:"آدرس ویدیو ؟",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion یا Youku)"},link:{link:"لینک",insert:"اضافه کردن لینک",unlink:"حذف لینک",edit:"ویرایش",textToDisplay:"متن جهت نمایش",url:"این لینک به چه آدرسی باید برود ؟",openInNewWindow:"در یک پنجره ی جدید باز شود"},table:{table:"جدول",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"افزودن خط افقی"},style:{style:"استیل",p:"نرمال",blockquote:"نقل قول",pre:"کد",h1:"سرتیتر 1",h2:"سرتیتر 2",h3:"سرتیتر 3",h4:"سرتیتر 4",h5:"سرتیتر 5",h6:"سرتیتر 6"},lists:{unordered:"لیست غیر ترتیبی",ordered:"لیست ترتیبی"},options:{help:"راهنما",fullscreen:"نمایش تمام صفحه",codeview:"مشاهده ی کد"},paragraph:{paragraph:"پاراگراف",outdent:"کاهش تو رفتگی",indent:"افزایش تو رفتگی",left:"چپ چین",center:"میان چین",right:"راست چین",justify:"بلوک چین"},color:{recent:"رنگ اخیرا استفاده شده",more:"رنگ بیشتر",background:"رنگ پس زمینه",foreground:"رنگ متن",transparent:"بی رنگ",setTransparent:"تنظیم حالت بی رنگ",reset:"بازنشاندن",resetToDefault:"حالت پیش فرض"},shortcut:{shortcuts:"دکمه های میان بر",close:"بستن",textFormatting:"فرمت متن",action:"عملیات",paragraphFormatting:"فرمت پاراگراف",documentStyle:"استیل سند",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",
indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"واچیدن",redo:"بازچیدن"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],17:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"fi-FI":{font:{bold:"Lihavointi",italic:"Kursivointi",underline:"Alleviivaus",clear:"Tyhjennä muotoilu",height:"Riviväli",name:"Kirjasintyyppi",strikethrough:"Yliviivaus",subscript:"Alaindeksi",superscript:"Yläindeksi",size:"Kirjasinkoko"},image:{image:"Kuva",insert:"Lisää kuva",resizeFull:"Koko leveys",resizeHalf:"Puolikas leveys",resizeQuarter:"Neljäsosa leveys",floatLeft:"Sijoita vasemmalle",floatRight:"Sijoita oikealle",floatNone:"Ei sijoitusta",shapeRounded:"Muoto: Pyöristetty",shapeCircle:"Muoto: Ympyrä",shapeThumbnail:"Muoto: Esikatselukuva",shapeNone:"Muoto: Ei muotoilua",dragImageHere:"Vedä kuva tähän",selectFromFiles:"Valitse tiedostoista",maximumFileSize:"Maksimi tiedosto koko",maximumFileSizeError:"Maksimi tiedosto koko ylitetty.",url:"URL-osoitteen mukaan",remove:"Poista kuva",original:"Alkuperäinen"},video:{video:"Video",videoLink:"Linkki videoon",insert:"Lisää video",url:"Videon URL-osoite",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion tai Youku)"},link:{link:"Linkki",insert:"Lisää linkki",unlink:"Poista linkki",edit:"Muokkaa",textToDisplay:"Näytettävä teksti",url:"Linkin URL-osoite",openInNewWindow:"Avaa uudessa ikkunassa"},table:{table:"Taulukko",addRowAbove:"Lisää rivi yläpuolelle",addRowBelow:"Lisää rivi alapuolelle",addColLeft:"Lisää sarake vasemmalle puolelle",addColRight:"Lisää sarake oikealle puolelle",delRow:"Poista rivi",delCol:"Poista sarake",delTable:"Poista taulukko"},hr:{insert:"Lisää vaakaviiva"},style:{style:"Tyyli",p:"Normaali",blockquote:"Lainaus",pre:"Koodi",h1:"Otsikko 1",h2:"Otsikko 2",h3:"Otsikko 3",h4:"Otsikko 4",h5:"Otsikko 5",h6:"Otsikko 6"},lists:{unordered:"Luettelomerkitty luettelo",ordered:"Numeroitu luettelo"},options:{help:"Ohje",fullscreen:"Koko näyttö",codeview:"HTML-näkymä"},paragraph:{paragraph:"Kappale",outdent:"Pienennä sisennystä",indent:"Suurenna sisennystä",left:"Tasaa vasemmalle",center:"Keskitä",right:"Tasaa oikealle",justify:"Tasaa"},color:{recent:"Viimeisin väri",more:"Lisää värejä",background:"Korostusväri",foreground:"Tekstin väri",transparent:"Läpinäkyvä",setTransparent:"Aseta läpinäkyväksi",reset:"Palauta",resetToDefault:"Palauta oletusarvoksi"},shortcut:{shortcuts:"Pikanäppäimet",close:"Sulje",textFormatting:"Tekstin muotoilu",action:"Toiminto",paragraphFormatting:"Kappaleen muotoilu",documentStyle:"Asiakirjan tyyli"},help:{insertParagraph:"Lisää kappale",undo:"Kumoa viimeisin komento",redo:"Tee uudelleen kumottu komento",tab:"Sarkain",untab:"Sarkainmerkin poisto",bold:"Lihavointi",italic:"Kursiivi",underline:"Alleviivaus",strikethrough:"Yliviivaus",removeFormat:"Poista asetetut tyylit",justifyLeft:"Tasaa vasemmalle",justifyCenter:"Keskitä",justifyRight:"Tasaa oikealle",justifyFull:"Tasaa",insertUnorderedList:"Luettelomerkillä varustettu lista",insertOrderedList:"Numeroitu lista",outdent:"Pienennä sisennystä",indent:"Suurenna sisennystä",formatPara:"Muuta kappaleen formaatti p",formatH1:"Muuta kappaleen formaatti H1",formatH2:"Muuta kappaleen formaatti H2",formatH3:"Muuta kappaleen formaatti H3",formatH4:"Muuta kappaleen formaatti H4",formatH5:"Muuta kappaleen formaatti H5",formatH6:"Muuta kappaleen formaatti H6",insertHorizontalRule:"Lisää vaakaviiva","linkDialog.show":"Lisää linkki"},history:{undo:"Kumoa",redo:"Toista"},specialChar:{specialChar:"ERIKOISMERKIT",select:"Valitse erikoismerkit"}}})}(jQuery)},{}],18:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"fr-FR":{font:{bold:"Gras",italic:"Italique",underline:"Souligné",clear:"Effacer la mise en forme",height:"Interligne",name:"Famille de police",strikethrough:"Barré",superscript:"Exposant",subscript:"Indice",size:"Taille de police"},image:{image:"Image",insert:"Insérer une image",resizeFull:"Taille originale",resizeHalf:"Redimensionner à 50 %",resizeQuarter:"Redimensionner à 25 %",floatLeft:"Aligné à gauche",floatRight:"Aligné à droite",floatNone:"Pas d'alignement",shapeRounded:"Forme: Rectangle arrondi",shapeCircle:"Forme: Cercle",shapeThumbnail:"Forme: Vignette",shapeNone:"Forme: Aucune",dragImageHere:"Faites glisser une image ou un texte dans ce cadre",dropImage:"Lachez l'image ou le texte",selectFromFiles:"Choisir un fichier",maximumFileSize:"Taille de fichier maximale",maximumFileSizeError:"Taille maximale du fichier dépassée",url:"URL de l'image",remove:"Supprimer l'image",original:"Original"},video:{video:"Vidéo",videoLink:"Lien vidéo",insert:"Insérer une vidéo",url:"URL de la vidéo",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Lien",insert:"Insérer un lien",unlink:"Supprimer un lien",edit:"Modifier",textToDisplay:"Texte à afficher",url:"URL du lien",openInNewWindow:"Ouvrir dans une nouvelle fenêtre"},table:{table:"Tableau",addRowAbove:"Ajouter une ligne au-dessus",addRowBelow:"Ajouter une ligne en dessous",addColLeft:"Ajouter une colonne à gauche",addColRight:"Ajouter une colonne à droite",delRow:"Supprimer la ligne",delCol:"Supprimer la colonne",delTable:"Supprimer le tableau"},hr:{insert:"Insérer une ligne horizontale"},style:{style:"Style",p:"Normal",blockquote:"Citation",pre:"Code source",h1:"Titre 1",h2:"Titre 2",h3:"Titre 3",h4:"Titre 4",h5:"Titre 5",h6:"Titre 6"},lists:{unordered:"Liste à puces",ordered:"Liste numérotée"},options:{help:"Aide",fullscreen:"Plein écran",codeview:"Afficher le code HTML"},paragraph:{paragraph:"Paragraphe",outdent:"Diminuer le retrait",indent:"Augmenter le retrait",left:"Aligner à gauche",center:"Centrer",right:"Aligner à droite",justify:"Justifier"},color:{recent:"Dernière couleur sélectionnée",more:"Plus de couleurs",background:"Couleur de fond",foreground:"Couleur de police",transparent:"Transparent",setTransparent:"Définir la transparence",reset:"Restaurer",resetToDefault:"Restaurer la couleur par défaut"},shortcut:{shortcuts:"Raccourcis",close:"Fermer",textFormatting:"Mise en forme du texte",action:"Action",paragraphFormatting:"Mise en forme des paragraphes",documentStyle:"Style du document",extraKeys:"Touches supplémentaires"},help:{insertParagraph:"Insérer paragraphe",undo:"Défaire la dernière commande",redo:"Refaire la dernière commande",tab:"Tabulation",untab:"Tabulation arrière",bold:"Mettre en caractère gras",italic:"Mettre en italique",underline:"Mettre en souligné",strikethrough:"Mettre en texte barré",removeFormat:"Nettoyer les styles",justifyLeft:"Aligner à gauche",justifyCenter:"Centrer",justifyRight:"Aligner à droite",justifyFull:"Justifier à gauche et à droite",insertUnorderedList:"Basculer liste à puces",insertOrderedList:"Basculer liste ordonnée",outdent:"Diminuer le retrait du paragraphe",indent:"Augmenter le retrait du paragraphe",formatPara:"Changer le paragraphe en cours en normal (P)",formatH1:"Changer le paragraphe en cours en entête H1",formatH2:"Changer le paragraphe en cours en entête H2",formatH3:"Changer le paragraphe en cours en entête H3",formatH4:"Changer le paragraphe en cours en entête H4",formatH5:"Changer le paragraphe en cours en entête H5",formatH6:"Changer le paragraphe en cours en entête H6",insertHorizontalRule:"Insérer séparation horizontale","linkDialog.show":"Afficher fenêtre d'hyperlien"},history:{undo:"Annuler la dernière action",redo:"Restaurer la dernière action annulée"},specialChar:{specialChar:"Caractères spéciaux",select:"Choisir des caractères spéciaux"}}})}(jQuery)},{}],19:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"gl-ES":{font:{bold:"Negrita",italic:"Cursiva",underline:"Subliñado",clear:"Quitar estilo de fonte",height:"Altura de liña",name:"Fonte",strikethrough:"Riscado",superscript:"Superíndice",subscript:"Subíndice",size:"Tamaño da fonte"},image:{image:"Imaxe",insert:"Inserir imaxe",resizeFull:"Redimensionar a tamaño completo",resizeHalf:"Redimensionar á metade",resizeQuarter:"Redimensionar a un cuarto",floatLeft:"Flotar á esquerda",floatRight:"Flotar á dereita",floatNone:"Non flotar",shapeRounded:"Forma: Redondeado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Marco",shapeNone:"Forma: Ningunha",dragImageHere:"Arrastrar unha imaxe ou texto aquí",dropImage:"Solta a imaxe ou texto",selectFromFiles:"Seleccionar desde os arquivos",maximumFileSize:"Tamaño máximo do arquivo",maximumFileSizeError:"Superaches o tamaño máximo do arquivo.",url:"URL da imaxe",remove:"Eliminar imaxe",original:"Original"},video:{video:"Vídeo",videoLink:"Ligazón do vídeo",insert:"Insertar vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, o Youku)"},link:{link:"Ligazón",insert:"Inserir Ligazón",unlink:"Quitar Ligazón",edit:"Editar",textToDisplay:"Texto para amosar",url:"Cara a que URL leva a ligazón?",openInNewWindow:"Abrir nunha nova xanela"},table:{table:"Táboa",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserir liña horizontal"},style:{style:"Estilo",p:"Normal",blockquote:"Cita",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista desordenada",ordered:"Lista ordenada"},options:{help:"Axuda",fullscreen:"Pantalla completa",codeview:"Ver código fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menos tabulación",indent:"Máis tabulación",left:"Aliñar á esquerda",center:"Aliñar ao centro",right:"Aliñar á dereita",justify:"Xustificar"},color:{recent:"Última cor",more:"Máis cores",background:"Cor de fondo",foreground:"Cor de fuente",transparent:"Transparente",setTransparent:"Establecer transparente",reset:"Restaurar",resetToDefault:"Restaurar por defecto"},shortcut:{shortcuts:"Atallos de teclado",close:"Pechar",textFormatting:"Formato de texto",action:"Acción",paragraphFormatting:"Formato de parágrafo",documentStyle:"Estilo de documento",extraKeys:"Teclas adicionais"},help:{insertParagraph:"Inserir parágrafo",undo:"Desfacer última acción",redo:"Refacer última acción",tab:"Tabular",untab:"Eliminar tabulación",bold:"Establecer estilo negrita",italic:"Establecer estilo cursiva",underline:"Establecer estilo subliñado",strikethrough:"Establecer estilo riscado",removeFormat:"Limpar estilo",justifyLeft:"Aliñar á esquerda",justifyCenter:"Aliñar ao centro",justifyRight:"Aliñar á dereita",justifyFull:"Xustificar",insertUnorderedList:"Inserir lista desordenada",insertOrderedList:"Inserir lista ordenada",outdent:"Reducir tabulación do parágrafo",indent:"Aumentar tabulación do parágrafo",formatPara:"Mudar estilo do bloque a parágrafo (etiqueta P)",formatH1:"Mudar estilo do bloque a H1",formatH2:"Mudar estilo do bloque a H2",formatH3:"Mudar estilo do bloque a H3",formatH4:"Mudar estilo do bloque a H4",formatH5:"Mudar estilo do bloque a H5",formatH6:"Mudar estilo do bloque a H6",insertHorizontalRule:"Inserir liña horizontal","linkDialog.show":"Amosar panel ligazóns"},history:{undo:"Desfacer",redo:"Refacer"},specialChar:{specialChar:"CARACTERES ESPECIAIS",select:"Selecciona Caracteres especiais"}}})}(jQuery)},{}],20:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"he-IL":{font:{bold:"מודגש",italic:"נטוי",underline:"קו תחתון",clear:"נקה עיצוב",height:"גובה",name:"גופן",strikethrough:"קו חוצה",subscript:"כתב תחתי",superscript:"כתב עילי",size:"גודל גופן"},image:{image:"תמונה",insert:"הוסף תמונה",resizeFull:"גודל מלא",resizeHalf:"להקטין לחצי",resizeQuarter:"להקטין לרבע",floatLeft:"יישור לשמאל",floatRight:"יישור לימין",floatNone:"ישר",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"גרור תמונה לכאן",dropImage:"Drop image or Text",selectFromFiles:"בחר מתוך קבצים",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"נתיב לתמונה",remove:"הסר תמונה",original:"Original"},video:{video:"סרטון",videoLink:"קישור לסרטון",insert:"הוסף סרטון",url:"קישור לסרטון",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion או Youku)"},link:{link:"קישור",insert:"הוסף קישור",unlink:"הסר קישור",edit:"ערוך",textToDisplay:"טקסט להציג",url:"קישור",openInNewWindow:"פתח בחלון חדש"},table:{table:"טבלה",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"הוסף קו"},style:{style:"עיצוב",p:"טקסט רגיל",blockquote:"ציטוט",pre:"קוד",h1:"כותרת 1",h2:"כותרת 2",h3:"כותרת 3",h4:"כותרת 4",h5:"כותרת 5",h6:"כותרת 6"},lists:{unordered:"רשימת תבליטים",ordered:"רשימה ממוספרת"},options:{help:"עזרה",fullscreen:"מסך מלא",codeview:"תצוגת קוד"},paragraph:{paragraph:"פסקה",outdent:"הקטן כניסה",indent:"הגדל כניסה",left:"יישור לשמאל",center:"יישור למרכז",right:"יישור לימין",justify:"מיושר"},color:{recent:"צבע טקסט אחרון",more:"עוד צבעים",background:"צבע רקע",foreground:"צבע טקסט",transparent:"שקוף",setTransparent:"קבע כשקוף",reset:"איפוס",resetToDefault:"אפס לברירת מחדל"},shortcut:{shortcuts:"קיצורי מקלדת",close:"סגור",textFormatting:"עיצוב הטקסט",action:"פעולה",paragraphFormatting:"סגנונות פסקה",documentStyle:"עיצוב המסמך",extraKeys:"קיצורים נוספים"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"בטל פעולה",redo:"בצע שוב"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],21:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"hr-HR":{font:{bold:"Podebljano",italic:"Kurziv",underline:"Podvučeno",clear:"Ukloni stilove fonta",height:"Visina linije",name:"Font Family",strikethrough:"Precrtano",subscript:"Subscript",superscript:"Superscript",size:"Veličina fonta"},image:{image:"Slika",insert:"Ubaci sliku",resizeFull:"Puna veličina",resizeHalf:"Umanji na 50%",resizeQuarter:"Umanji na 25%",floatLeft:"Poravnaj lijevo",floatRight:"Poravnaj desno",floatNone:"Bez poravnanja",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Povuci sliku ovdje",dropImage:"Drop image or Text",selectFromFiles:"Izaberi iz datoteke",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Adresa slike",remove:"Ukloni sliku",original:"Original"},video:{video:"Video",videoLink:"Veza na video",insert:"Ubaci video",url:"URL video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ili Youku)"},link:{link:"Veza",insert:"Ubaci vezu",unlink:"Ukloni vezu",edit:"Uredi",textToDisplay:"Tekst za prikaz",url:"Internet adresa",openInNewWindow:"Otvori u novom prozoru"},table:{table:"Tablica",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Ubaci horizontalnu liniju"},style:{style:"Stil",p:"pni",blockquote:"Citat",pre:"Kôd",h1:"Naslov 1",h2:"Naslov 2",h3:"Naslov 3",h4:"Naslov 4",h5:"Naslov 5",h6:"Naslov 6"},lists:{unordered:"Obična lista",ordered:"Numerirana lista"},options:{help:"Pomoć",fullscreen:"Preko cijelog ekrana",codeview:"Izvorni kôd"},paragraph:{paragraph:"Paragraf",outdent:"Smanji uvlačenje",indent:"Povećaj uvlačenje",left:"Poravnaj lijevo",center:"Centrirano",right:"Poravnaj desno",justify:"Poravnaj obostrano"},color:{recent:"Posljednja boja",more:"Više boja",background:"Boja pozadine",foreground:"Boja teksta",transparent:"Prozirna",setTransparent:"Prozirna",reset:"Poništi",resetToDefault:"Podrazumijevana"},shortcut:{shortcuts:"Prečice s tipkovnice",close:"Zatvori",textFormatting:"Formatiranje teksta",action:"Akcija",paragraphFormatting:"Formatiranje paragrafa",documentStyle:"Stil dokumenta",extraKeys:"Dodatne kombinacije"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Poništi",redo:"Ponovi"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],22:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"hu-HU":{font:{bold:"Félkövér",italic:"Dőlt",underline:"Aláhúzott",clear:"Formázás törlése",height:"Sorköz",name:"Betűtípus",strikethrough:"Áthúzott",subscript:"Subscript",superscript:"Superscript",size:"Betűméret"},image:{image:"Kép",insert:"Kép beszúrása",resizeFull:"Átméretezés teljes méretre",resizeHalf:"Átméretezés felére",resizeQuarter:"Átméretezés negyedére",floatLeft:"Igazítás balra",floatRight:"Igazítás jobbra",floatNone:"Igazítás törlése",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Ide húzhat képet vagy szöveget",dropImage:"Engedje el a képet vagy szöveget",selectFromFiles:"Fájlok kiválasztása",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Kép URL címe",remove:"Kép törlése",original:"Original"},video:{video:"Videó",videoLink:"Videó hivatkozás",insert:"Videó beszúrása",url:"Videó URL címe",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion vagy Youku)"},link:{link:"Hivatkozás",insert:"Hivatkozás beszúrása",unlink:"Hivatkozás megszüntetése",edit:"Szerkesztés",textToDisplay:"Megjelenítendő szöveg",url:"Milyen URL címre hivatkozzon?",openInNewWindow:"Megnyitás új ablakban"},table:{table:"Táblázat",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Elválasztó vonal beszúrása"},style:{style:"Stílus",p:"Normál",blockquote:"Idézet",pre:"Kód",h1:"Fejléc 1",h2:"Fejléc 2",h3:"Fejléc 3",h4:"Fejléc 4",h5:"Fejléc 5",h6:"Fejléc 6"},lists:{unordered:"Listajeles lista",ordered:"Számozott lista"},options:{help:"Súgó",fullscreen:"Teljes képernyő",codeview:"Kód nézet"},paragraph:{paragraph:"Bekezdés",outdent:"Behúzás csökkentése",indent:"Behúzás növelése",left:"Igazítás balra",center:"Igazítás középre",right:"Igazítás jobbra",justify:"Sorkizárt"},color:{recent:"Jelenlegi szín",more:"További színek",background:"Háttérszín",foreground:"Betűszín",transparent:"Átlátszó",setTransparent:"Átlászóság beállítása",reset:"Visszaállítás",resetToDefault:"Alaphelyzetbe állítás"},shortcut:{shortcuts:"Gyorsbillentyű",close:"Bezárás",textFormatting:"Szöveg formázása",action:"Művelet",paragraphFormatting:"Bekezdés formázása",documentStyle:"Dokumentumstílus",extraKeys:"Extra keys"},help:{insertParagraph:"Új bekezdés",undo:"Visszavonás",redo:"Újra",tab:"Behúzás növelése",untab:"Behúzás csökkentése",bold:"Félkövérre állítás",italic:"Dőltre állítás",underline:"Aláhúzás",strikethrough:"Áthúzás",removeFormat:"Formázás törlése",justifyLeft:"Balra igazítás",justifyCenter:"Középre igazítás",justifyRight:"Jobbra igazítás",justifyFull:"Sorkizárt",insertUnorderedList:"Számozatlan lista be/ki",insertOrderedList:"Számozott lista be/ki",outdent:"Jelenlegi bekezdés behúzásának megszüntetése",indent:"Jelenlegi bekezdés behúzása",formatPara:"Blokk formázása bekezdésként (P tag)",formatH1:"Blokk formázása, mint Fejléc 1",formatH2:"Blokk formázása, mint Fejléc 2",formatH3:"Blokk formázása, mint Fejléc 3",formatH4:"Blokk formázása, mint Fejléc 4",formatH5:"Blokk formázása, mint Fejléc 5",formatH6:"Blokk formázása, mint Fejléc 6",insertHorizontalRule:"Vízszintes vonal beszúrása","linkDialog.show":"Link párbeszédablak megjelenítése"},history:{undo:"Visszavonás",redo:"Újra"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],23:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"id-ID":{font:{bold:"Tebal",italic:"Miring",underline:"Garis bawah",clear:"Bersihkan gaya",height:"Jarak baris",name:"Jenis Tulisan",strikethrough:"Coret",subscript:"Subscript",superscript:"Superscript",size:"Ukuran font"},image:{image:"Gambar",insert:"Sisipkan gambar",resizeFull:"Ukuran penuh",resizeHalf:"Ukuran 50%",resizeQuarter:"Ukuran 25%",floatLeft:"Rata kiri",floatRight:"Rata kanan",floatNone:"Tanpa perataan",shapeRounded:"Bentuk: Membundar",shapeCircle:"Bentuk: Bundar",shapeThumbnail:"Bentuk: Thumbnail",shapeNone:"Bentuk: Tidak ada",dragImageHere:"Tarik gambar ke area ini",dropImage:"Letakkan gambar atau teks",selectFromFiles:"Pilih gambar dari berkas",maximumFileSize:"Ukuran maksimal berkas",maximumFileSizeError:"Ukuran maksimal berkas terlampaui.",url:"URL gambar",remove:"Hapus Gambar",original:"Original"},video:{video:"Video",videoLink:"Link video",insert:"Sisipkan video",url:"Tautan video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion atau Youku)"},link:{link:"Tautan",insert:"Tambah tautan",unlink:"Hapus tautan",edit:"Edit",textToDisplay:"Tampilan teks",url:"Tautan tujuan",openInNewWindow:"Buka di jendela baru"},table:{table:"Tabel",addRowAbove:"Tambahkan baris ke atas",addRowBelow:"Tambahkan baris ke bawah",addColLeft:"Tambahkan kolom ke kiri",addColRight:"Tambahkan kolom ke kanan",delRow:"Hapus baris",delCol:"Hapus kolom",delTable:"Hapus tabel"},hr:{insert:"Masukkan garis horizontal"},style:{style:"Gaya",p:"p",blockquote:"Kutipan",pre:"Kode",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},lists:{unordered:"Pencacahan",ordered:"Penomoran"},options:{help:"Bantuan",fullscreen:"Layar penuh",codeview:"Kode HTML"},paragraph:{paragraph:"Paragraf",outdent:"Outdent",indent:"Indent",left:"Rata kiri",center:"Rata tengah",right:"Rata kanan",justify:"Rata kanan kiri"},color:{recent:"Warna sekarang",more:"Selengkapnya",background:"Warna latar",foreground:"Warna font",transparent:"Transparan",setTransparent:"Atur transparansi",reset:"Atur ulang",resetToDefault:"Kembalikan kesemula"},shortcut:{shortcuts:"Jalan pintas",close:"Tutup",textFormatting:"Format teks",action:"Aksi",paragraphFormatting:"Format paragraf",documentStyle:"Gaya dokumen",extraKeys:"Shortcut tambahan"},help:{insertParagraph:"Tambahkan paragraf",undo:"Urungkan perintah terakhir",redo:"Kembalikan perintah terakhir",tab:"Tab",untab:"Untab",bold:"Mengaktifkan gaya tebal",italic:"Mengaktifkan gaya italic",underline:"Mengaktifkan gaya underline",strikethrough:"Mengaktifkan gaya strikethrough",removeFormat:"Hapus semua gaya",justifyLeft:"Atur rata kiri",justifyCenter:"Atur rata tengah",justifyRight:"Atur rata kanan",justifyFull:"Atur rata kiri-kanan",insertUnorderedList:"Nyalakan urutan tanpa nomor",insertOrderedList:"Nyalakan urutan bernomor",outdent:"Outdent di paragraf terpilih",indent:"Indent di paragraf terpilih",formatPara:"Ubah format gaya tulisan terpilih menjadi paragraf",formatH1:"Ubah format gaya tulisan terpilih menjadi Heading 1",formatH2:"Ubah format gaya tulisan terpilih menjadi Heading 2",formatH3:"Ubah format gaya tulisan terpilih menjadi Heading 3",formatH4:"Ubah format gaya tulisan terpilih menjadi Heading 4",formatH5:"Ubah format gaya tulisan terpilih menjadi Heading 5",formatH6:"Ubah format gaya tulisan terpilih menjadi Heading 6",insertHorizontalRule:"Masukkan garis horizontal","linkDialog.show":"Tampilkan Link Dialog"},history:{undo:"Kembali",redo:"Ulang"},specialChar:{specialChar:"KARAKTER KHUSUS",select:"Pilih karakter khusus"}}})}(jQuery)},{}],24:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"it-IT":{font:{bold:"Testo in grassetto",italic:"Testo in corsivo",underline:"Testo sottolineato",clear:"Elimina la formattazione del testo",height:"Altezza della linea di testo",name:"Famiglia Font",strikethrough:"Testo barrato",subscript:"Subscript",superscript:"Superscript",size:"Dimensione del carattere"},image:{image:"Immagine",insert:"Inserisci Immagine",resizeFull:"Dimensioni originali",resizeHalf:"Ridimensiona al 50%",resizeQuarter:"Ridimensiona al 25%",floatLeft:"Posiziona a sinistra",floatRight:"Posiziona a destra",floatNone:"Nessun posizionamento",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Trascina qui un'immagine",dropImage:"Drop image or Text",selectFromFiles:"Scegli dai Documenti",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL dell'immagine",remove:"Rimuovi immagine",original:"Original"},video:{video:"Video",videoLink:"Collegamento ad un Video",insert:"Inserisci Video",url:"URL del Video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion o Youku)"},link:{link:"Collegamento",insert:"Inserisci Collegamento",unlink:"Elimina collegamento",edit:"Modifica collegamento",textToDisplay:"Testo del collegamento",url:"URL del collegamento",openInNewWindow:"Apri in una nuova finestra"},table:{table:"Tabella",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Inserisce una linea di separazione"},style:{style:"Stili",p:"pe",blockquote:"Citazione",pre:"Codice",h1:"Titolo 1",h2:"Titolo 2",h3:"Titolo 3",h4:"Titolo 4",h5:"Titolo 5",h6:"Titolo 6"},lists:{unordered:"Elenco non ordinato",ordered:"Elenco ordinato"},options:{help:"Aiuto",fullscreen:"Modalità a tutto schermo",codeview:"Visualizza codice"},paragraph:{paragraph:"Paragrafo",outdent:"Diminuisce il livello di rientro",indent:"Aumenta il livello di rientro",left:"Allinea a sinistra",center:"Centra",right:"Allinea a destra",justify:"Giustifica (allinea a destra e sinistra)"},color:{recent:"Ultimo colore utilizzato",more:"Altri colori",background:"Colore di sfondo",foreground:"Colore",transparent:"Trasparente",setTransparent:"Trasparente",reset:"Reimposta",resetToDefault:"Reimposta i colori"},shortcut:{shortcuts:"Scorciatoie da tastiera",close:"Chiudi",textFormatting:"Formattazione testo",action:"Azioni",paragraphFormatting:"Formattazione paragrafo",documentStyle:"Stili",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Annulla",redo:"Ripristina"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],25:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"ja-JP":{font:{bold:"太字",italic:"斜体",underline:"下線",clear:"クリア",height:"文字高",name:"フォント",strikethrough:"取り消し線",subscript:"Subscript",superscript:"Superscript",size:"大きさ"},image:{image:"画像",insert:"画像挿入",resizeFull:"最大化",resizeHalf:"1/2",resizeQuarter:"1/4",floatLeft:"左寄せ",floatRight:"右寄せ",floatNone:"寄せ解除",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"ここに画像をドラッグしてください",dropImage:"Drop image or Text",selectFromFiles:"画像ファイルを選ぶ",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URLから画像を挿入する",remove:"画像を削除する",original:"Original"},video:{video:"動画",videoLink:"動画リンク",insert:"動画挿入",url:"動画のURL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku)"},link:{link:"リンク",insert:"リンク挿入",unlink:"リンク解除",edit:"編集",textToDisplay:"リンク文字列",url:"URLを入力してください",openInNewWindow:"新しいウィンドウで開く"},table:{table:"テーブル",addRowAbove:"行を上に追加",addRowBelow:"行を下に追加",addColLeft:"列を左に追加",addColRight:"列を右に追加",delRow:"行を削除",delCol:"列を削除",delTable:"テーブルを削除"},hr:{insert:"水平線の挿入"},style:{style:"スタイル",p:"標準",blockquote:"引用",pre:"コード",h1:"見出し1",h2:"見出し2",h3:"見出し3",h4:"見出し4",h5:"見出し5",h6:"見出し6"},lists:{unordered:"通常リスト",ordered:"番号リスト"},options:{help:"ヘルプ",fullscreen:"フルスクリーン",codeview:"コード表示"},paragraph:{paragraph:"文章",outdent:"字上げ",indent:"字下げ",left:"左寄せ",center:"中央寄せ",right:"右寄せ",justify:"均等割付"},color:{recent:"現在の色",more:"もっと見る",background:"背景色",foreground:"文字色",transparent:"透明",setTransparent:"透明にする",reset:"標準",resetToDefault:"標準に戻す"},shortcut:{shortcuts:"ショートカット",close:"閉じる",textFormatting:"文字フォーマット",action:"アクション",paragraphFormatting:"文章フォーマット",documentStyle:"ドキュメント形式",extraKeys:"Extra keys"},help:{insertParagraph:"改行挿入",undo:"一旦、行った操作を戻す",redo:"最後のコマンドをやり直す",tab:"Tab",untab:"タブ戻し",bold:"太文字",italic:"斜体",underline:"下線",strikethrough:"取り消し線",removeFormat:"装飾を戻す",justifyLeft:"左寄せ",justifyCenter:"真ん中寄せ",justifyRight:"右寄せ",justifyFull:"すべてを整列",insertUnorderedList:"行頭に●を挿入",insertOrderedList:"行頭に番号を挿入",outdent:"字下げを戻す（アウトデント）",indent:"字下げする（インデント）",formatPara:"段落(P tag)指定",formatH1:"H1指定",formatH2:"H2指定",formatH3:"H3指定",formatH4:"H4指定",formatH5:"H5指定",formatH6:"H6指定",insertHorizontalRule:"&lt;hr /&gt;を挿入","linkDialog.show":"リンク挿入"},history:{undo:"元に戻す",redo:"やり直す"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],26:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"ko-KR":{font:{bold:"굵게",italic:"기울임꼴",underline:"밑줄",clear:"서식 지우기",height:"줄 간격",name:"글꼴",superscript:"위 첨자",subscript:"아래 첨자",strikethrough:"취소선",size:"글자 크기"},image:{
image:"그림",insert:"그림 삽입",resizeFull:"100% 크기로 변경",resizeHalf:"50% 크기로 변경",resizeQuarter:"25% 크기로 변경",resizeNone:"원본 크기",floatLeft:"왼쪽 정렬",floatRight:"오른쪽 정렬",floatNone:"정렬하지 않음",shapeRounded:"스타일: 둥근 모서리",shapeCircle:"스타일: 원형",shapeThumbnail:"스타일: 액자",shapeNone:"스타일: 없음",dragImageHere:"텍스트 혹은 사진을 이곳으로 끌어오세요",dropImage:"텍스트 혹은 사진을 내려놓으세요",selectFromFiles:"파일 선택",maximumFileSize:"최대 파일 크기",maximumFileSizeError:"최대 파일 크기를 초과했습니다.",url:"사진 URL",remove:"사진 삭제",original:"원본"},video:{video:"동영상",videoLink:"동영상 링크",insert:"동영상 삽입",url:"동영상 URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion, Youku 사용 가능)"},link:{link:"링크",insert:"링크 삽입",unlink:"링크 삭제",edit:"수정",textToDisplay:"링크에 표시할 내용",url:"이동할 URL",openInNewWindow:"새창으로 열기"},table:{table:"표",addRowAbove:"위에 행 삽입",addRowBelow:"아래에 행 삽입",addColLeft:"왼쪽에 열 삽입",addColRight:"오른쪽에 열 삽입",delRow:"행 지우기",delCol:"열 지우기",delTable:"표 삭제"},hr:{insert:"구분선 삽입"},style:{style:"스타일",p:"본문",blockquote:"인용구",pre:"코드",h1:"제목 1",h2:"제목 2",h3:"제목 3",h4:"제목 4",h5:"제목 5",h6:"제목 6"},lists:{unordered:"글머리 기호",ordered:"번호 매기기"},options:{help:"도움말",fullscreen:"전체 화면",codeview:"코드 보기"},paragraph:{paragraph:"문단 정렬",outdent:"내어쓰기",indent:"들여쓰기",left:"왼쪽 정렬",center:"가운데 정렬",right:"오른쪽 정렬",justify:"양쪽 정렬"},color:{recent:"마지막으로 사용한 색",more:"다른 색 선택",background:"배경색",foreground:"글자색",transparent:"투명",setTransparent:"투명으로 설정",reset:"취소",resetToDefault:"기본값으로 설정",cpSelect:"고르다"},shortcut:{shortcuts:"키보드 단축키",close:"닫기",textFormatting:"글자 스타일 적용",action:"기능",paragraphFormatting:"문단 스타일 적용",documentStyle:"문서 스타일 적용",extraKeys:"추가 키"},help:{insertParagraph:"문단 삽입",undo:"마지막 명령 취소",redo:"마지막 명령 재실행",tab:"탭",untab:"탭 제거",bold:"굵은 글자로 설정",italic:"기울임꼴 글자로 설정",underline:"밑줄 글자로 설정",strikethrough:"취소선 글자로 설정",removeFormat:"서식 삭제",justifyLeft:"왼쪽 정렬하기",justifyCenter:"가운데 정렬하기",justifyRight:"오른쪽 정렬하기",justifyFull:"좌우채움 정렬하기",insertUnorderedList:"글머리 기호 켜고 끄기",insertOrderedList:"번호 매기기 켜고 끄기",outdent:"현재 문단 내어쓰기",indent:"현재 문단 들여쓰기",formatPara:"현재 블록의 포맷을 문단(P)으로 변경",formatH1:"현재 블록의 포맷을 제목1(H1)로 변경",formatH2:"현재 블록의 포맷을 제목2(H2)로 변경",formatH3:"현재 블록의 포맷을 제목3(H3)로 변경",formatH4:"현재 블록의 포맷을 제목4(H4)로 변경",formatH5:"현재 블록의 포맷을 제목5(H5)로 변경",formatH6:"현재 블록의 포맷을 제목6(H6)로 변경",insertHorizontalRule:"구분선 삽입","linkDialog.show":"링크 대화상자 열기"},history:{undo:"실행 취소",redo:"재실행"},specialChar:{specialChar:"특수문자",select:"특수문자를 선택하세요"}}})}(jQuery)},{}],27:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"lt-LT":{font:{bold:"Paryškintas",italic:"Kursyvas",underline:"Pabrėžtas",clear:"Be formatavimo",height:"Eilutės aukštis",name:"Šrifto pavadinimas",strikethrough:"Perbrauktas",superscript:"Viršutinis",subscript:"Indeksas",size:"Šrifto dydis"},image:{image:"Paveikslėlis",insert:"Įterpti paveikslėlį",resizeFull:"Pilnas dydis",resizeHalf:"Sumažinti dydį 50%",resizeQuarter:"Sumažinti dydį 25%",floatLeft:"Kairinis lygiavimas",floatRight:"Dešininis lygiavimas",floatNone:"Jokio lygiavimo",shapeRounded:"Forma: apvalūs kraštai",shapeCircle:"Forma: apskritimas",shapeThumbnail:"Forma: miniatiūra",shapeNone:"Forma: jokia",dragImageHere:"Vilkite paveikslėlį čia",dropImage:"Drop image or Text",selectFromFiles:"Pasirinkite failą",maximumFileSize:"Maskimalus failo dydis",maximumFileSizeError:"Maskimalus failo dydis viršytas!",url:"Paveikslėlio URL adresas",remove:"Ištrinti paveikslėlį",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Nuoroda",insert:"Įterpti nuorodą",unlink:"Pašalinti nuorodą",edit:"Redaguoti",textToDisplay:"Rodomas tekstas",url:"Koks URL adresas yra susietas?",openInNewWindow:"Atidaryti naujame lange"},table:{table:"Lentelė",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Įterpti horizontalią liniją"},style:{style:"Stilius",p:"pus",blockquote:"Citata",pre:"Kodas",h1:"Antraštė 1",h2:"Antraštė 2",h3:"Antraštė 3",h4:"Antraštė 4",h5:"Antraštė 5",h6:"Antraštė 6"},lists:{unordered:"Suženklintasis sąrašas",ordered:"Sunumeruotas sąrašas"},options:{help:"Pagalba",fullscreen:"Viso ekrano režimas",codeview:"HTML kodo peržiūra"},paragraph:{paragraph:"Pastraipa",outdent:"Sumažinti įtrauką",indent:"Padidinti įtrauką",left:"Kairinė lygiuotė",center:"Centrinė lygiuotė",right:"Dešininė lygiuotė",justify:"Abipusis išlyginimas"},color:{recent:"Paskutinė naudota spalva",more:"Daugiau spalvų",background:"Fono spalva",foreground:"Šrifto spalva",transparent:"Permatoma",setTransparent:"Nustatyti skaidrumo intensyvumą",reset:"Atkurti",resetToDefault:"Atstatyti numatytąją spalvą"},shortcut:{shortcuts:"Spartieji klavišai",close:"Uždaryti",textFormatting:"Teksto formatavimas",action:"Veiksmas",paragraphFormatting:"Pastraipos formatavimas",documentStyle:"Dokumento stilius",extraKeys:"Papildomi klavišų deriniai"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Anuliuoti veiksmą",redo:"Perdaryti veiksmą"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],28:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"lv-LV":{font:{bold:"Treknraksts",italic:"Kursīvs",underline:"Pasvītrots",clear:"Noņemt formatējumu",height:"Līnijas augstums",name:"Fonts",strikethrough:"Nosvītrots",superscript:"Augšraksts",subscript:"Apakšraksts",size:"Fonta lielums"},image:{image:"Attēls",insert:"Ievietot attēlu",resizeFull:"Pilns izmērts",resizeHalf:"Samazināt 50%",resizeQuarter:"Samazināt 25%",floatLeft:"Līdzināt pa kreisi",floatRight:"Līdzināt pa labi",floatNone:"Nelīdzināt",shapeRounded:"Forma: apaļām malām",shapeCircle:"Forma: aplis",shapeThumbnail:"Forma: rāmītis",shapeNone:"Forma: orģināla",dragImageHere:"Ievēlciet attēlu šeit",dropImage:"Drop image or Text",selectFromFiles:"Izvēlēties failu",maximumFileSize:"Maksimālais faila izmērs",maximumFileSizeError:"Faila izmērs pārāk liels!",url:"Attēla URL",remove:"Dzēst attēlu",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Saite",insert:"Ievietot saiti",unlink:"Noņemt saiti",edit:"Rediģēt",textToDisplay:"Saites saturs",url:"Koks URL adresas yra susietas?",openInNewWindow:"Atvērt jaunā logā"},table:{table:"Tabula",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Ievietot līniju"},style:{style:"Stils",p:"Parasts",blockquote:"Citāts",pre:"Kods",h1:"Virsraksts h1",h2:"Virsraksts h2",h3:"Virsraksts h3",h4:"Virsraksts h4",h5:"Virsraksts h5",h6:"Virsraksts h6"},lists:{unordered:"Nenumurēts saraksts",ordered:"Numurēts saraksts"},options:{help:"Palīdzība",fullscreen:"Pa visu ekrānu",codeview:"HTML kods"},paragraph:{paragraph:"Paragrāfs",outdent:"Samazināt atkāpi",indent:"Palielināt atkāpi",left:"Līdzināt pa kreisi",center:"Centrēt",right:"Līdzināt pa labi",justify:"Līdzināt gar abām malām"},color:{recent:"Nesen izmantotās",more:"Citas krāsas",background:"Fona krāsa",foreground:"Fonta krāsa",transparent:"Caurspīdīgs",setTransparent:"Iestatīt caurspīdīgumu",reset:"Atjaunot",resetToDefault:"Atjaunot noklusējumu"},shortcut:{shortcuts:"Saīsnes",close:"Aizvērt",textFormatting:"Teksta formatēšana",action:"Darbība",paragraphFormatting:"Paragrāfa formatēšana",documentStyle:"Dokumenta stils",extraKeys:"Citas taustiņu kombinācijas"},help:{insertParagraph:"Ievietot Paragrāfu",undo:"Atcelt iepriekšējo darbību",redo:"Atkārtot atcelto darbību",tab:"Atkāpe",untab:"Samazināt atkāpi",bold:"Pārvērst tekstu treknrakstā",italic:"Pārvērst tekstu slīprakstā (kursīvā)",underline:"Pasvītrot tekstu",strikethrough:"Nosvītrot tekstu",removeFormat:"Notīrīt stilu no teksta",justifyLeft:"Līdzīnāt saturu pa kreisi",justifyCenter:"Centrēt saturu",justifyRight:"Līdzīnāt saturu pa labi",justifyFull:"Izlīdzināt saturu gar abām malām",insertUnorderedList:"Ievietot nenumurētu sarakstu",insertOrderedList:"Ievietot numurētu sarakstu",outdent:"Samazināt/noņemt atkāpi paragrāfam",indent:"Uzlikt atkāpi paragrāfam",formatPara:"Mainīt bloka tipu uz (p) Paragrāfu",formatH1:"Mainīt bloka tipu uz virsrakstu H1",formatH2:"Mainīt bloka tipu uz virsrakstu H2",formatH3:"Mainīt bloka tipu uz virsrakstu H3",formatH4:"Mainīt bloka tipu uz virsrakstu H4",formatH5:"Mainīt bloka tipu uz virsrakstu H5",formatH6:"Mainīt bloka tipu uz virsrakstu H6",insertHorizontalRule:"Ievietot horizontālu līniju","linkDialog.show":"Parādīt saites logu"},history:{undo:"Atsauks (undo)",redo:"Atkārtot (redo)"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],29:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"mn-MN":{font:{bold:"Тод",italic:"Налуу",underline:"Доогуур зураас",clear:"Цэвэрлэх",height:"Өндөр",name:"Фонт",superscript:"Дээд илтгэгч",subscript:"Доод илтгэгч",strikethrough:"Дарах",size:"Хэмжээ"},image:{image:"Зураг",insert:"Оруулах",resizeFull:"Хэмжээ бүтэн",resizeHalf:"Хэмжээ 1/2",resizeQuarter:"Хэмжээ 1/4",floatLeft:"Зүүн талд байрлуулах",floatRight:"Баруун талд байрлуулах",floatNone:"Анхдагч байрлалд аваачих",shapeRounded:"Хүрээ: Дугуй",shapeCircle:"Хүрээ: Тойрог",shapeThumbnail:"Хүрээ: Хураангуй",shapeNone:"Хүрээгүй",dragImageHere:"Зургийг энд чирч авчирна уу",dropImage:"Drop image or Text",selectFromFiles:"Файлуудаас сонгоно уу",maximumFileSize:"Файлын дээд хэмжээ",maximumFileSizeError:"Файлын дээд хэмжээ хэтэрсэн",url:"Зургийн URL",remove:"Зургийг устгах",original:"Original"},video:{video:"Видео",videoLink:"Видео холбоос",insert:"Видео оруулах",url:"Видео URL?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion болон Youku)"},link:{link:"Холбоос",insert:"Холбоос оруулах",unlink:"Холбоос арилгах",edit:"Засварлах",textToDisplay:"Харуулах бичвэр",url:"Энэ холбоос хаашаа очих вэ?",openInNewWindow:"Шинэ цонхонд нээх"},table:{table:"Хүснэгт",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Хэвтээ шугам оруулах"},style:{style:"Хэв маяг",p:"p",blockquote:"Иш татах",pre:"Эх сурвалж",h1:"Гарчиг 1",h2:"Гарчиг 2",h3:"Гарчиг 3",h4:"Гарчиг 4",h5:"Гарчиг 5",h6:"Гарчиг 6"},lists:{unordered:"Эрэмбэлэгдээгүй",ordered:"Эрэмбэлэгдсэн"},options:{help:"Тусламж",fullscreen:"Дэлгэцийг дүүргэх",codeview:"HTML-Code харуулах"},paragraph:{paragraph:"Хэсэг",outdent:"Догол мөр хасах",indent:"Догол мөр нэмэх",left:"Зүүн тийш эгнүүлэх",center:"Төвд эгнүүлэх",right:"Баруун тийш эгнүүлэх",justify:"Мөрийг тэгшлэх"},color:{recent:"Сүүлд хэрэглэсэн өнгө",more:"Өөр өнгөнүүд",background:"Дэвсгэр өнгө",foreground:"Үсгийн өнгө",transparent:"Тунгалаг",setTransparent:"Тунгалаг болгох",reset:"Анхдагч өнгөөр тохируулах",resetToDefault:"Хэвд нь оруулах"},shortcut:{shortcuts:"Богино холбоос",close:"Хаалт",textFormatting:"Бичвэрийг хэлбэржүүлэх",action:"Үйлдэл",paragraphFormatting:"Догол мөрийг хэлбэржүүлэх",documentStyle:"Бичиг баримтын хэв загвар",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Буцаах",redo:"Дахин хийх"},specialChar:{specialChar:"Тусгай тэмдэгт",select:"Тусгай тэмдэгт сонгох"}}})}(jQuery)},{}],30:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"nb-NO":{font:{bold:"Fet",italic:"Kursiv",underline:"Understrek",clear:"Fjern formatering",height:"Linjehøyde",name:"Skrifttype",strikethrough:"Gjennomstrek",subscript:"Subscript",superscript:"Superscript",size:"Skriftstørrelse"},image:{image:"Bilde",insert:"Sett inn bilde",resizeFull:"Sett full størrelse",resizeHalf:"Sett halv størrelse",resizeQuarter:"Sett kvart størrelse",floatLeft:"Flyt til venstre",floatRight:"Flyt til høyre",floatNone:"Fjern flyt",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Dra et bilde hit",dropImage:"Drop image or Text",selectFromFiles:"Velg fra filer",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Bilde-URL",remove:"Fjern bilde",original:"Original"},video:{video:"Video",videoLink:"Videolenke",insert:"Sett inn video",url:"Video-URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion eller Youku)"},link:{link:"Lenke",insert:"Sett inn lenke",unlink:"Fjern lenke",edit:"Rediger",textToDisplay:"Visningstekst",url:"Til hvilken URL skal denne lenken peke?",openInNewWindow:"Åpne i nytt vindu"},table:{table:"Tabell",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Sett inn horisontal linje"},style:{style:"Stil",p:"p",blockquote:"Sitat",pre:"Kode",h1:"Overskrift 1",h2:"Overskrift 2",h3:"Overskrift 3",h4:"Overskrift 4",h5:"Overskrift 5",h6:"Overskrift 6"},lists:{unordered:"Punktliste",ordered:"Nummerert liste"},options:{help:"Hjelp",fullscreen:"Fullskjerm",codeview:"HTML-visning"},paragraph:{paragraph:"Avsnitt",outdent:"Tilbakerykk",indent:"Innrykk",left:"Venstrejustert",center:"Midtstilt",right:"Høyrejustert",justify:"Blokkjustert"},color:{recent:"Nylig valgt farge",more:"Flere farger",background:"Bakgrunnsfarge",foreground:"Skriftfarge",transparent:"Gjennomsiktig",setTransparent:"Sett gjennomsiktig",reset:"Nullstill",resetToDefault:"Nullstill til standard"},shortcut:{shortcuts:"Hurtigtaster",close:"Lukk",textFormatting:"Tekstformatering",action:"Handling",paragraphFormatting:"Avsnittsformatering",documentStyle:"Dokumentstil"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Angre",redo:"Gjør om"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],31:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"nl-NL":{font:{bold:"Vet",italic:"Cursief",underline:"Onderstrepen",clear:"Stijl verwijderen",height:"Regelhoogte",name:"Lettertype",strikethrough:"Doorhalen",subscript:"Subscript",superscript:"Superscript",size:"Tekstgrootte"},image:{image:"Afbeelding",insert:"Afbeelding invoegen",resizeFull:"Volledige breedte",resizeHalf:"Halve breedte",resizeQuarter:"Kwart breedte",floatLeft:"Links uitlijnen",floatRight:"Rechts uitlijnen",floatNone:"Geen uitlijning",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Sleep hier een afbeelding naar toe",dropImage:"Drop image or Text",selectFromFiles:"Selecteer een bestand",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL van de afbeelding",remove:"Verwijder afbeelding",original:"Original"},video:{video:"Video",videoLink:"Video link",insert:"Video invoegen",url:"URL van de video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion of Youku)"},link:{link:"Link",insert:"Link invoegen",unlink:"Link verwijderen",edit:"Wijzigen",textToDisplay:"Tekst van link",url:"Naar welke URL moet deze link verwijzen?",openInNewWindow:"Open in nieuw venster"},table:{table:"Tabel",addRowAbove:"Rij hierboven invoegen",addRowBelow:"Rij hieronder invoegen",addColLeft:"Kolom links toevoegen",addColRight:"Kolom rechts toevoegen",delRow:"Verwijder rij",delCol:"Verwijder kolom",delTable:"Verwijder tabel"},hr:{insert:"Horizontale lijn invoegen"},style:{style:"Stijl",p:"Normaal",blockquote:"Quote",pre:"Code",h1:"Kop 1",h2:"Kop 2",h3:"Kop 3",h4:"Kop 4",h5:"Kop 5",h6:"Kop 6"},lists:{unordered:"Ongeordende lijst",ordered:"Geordende lijst"},options:{help:"Help",fullscreen:"Volledig scherm",codeview:"Bekijk Code"},paragraph:{paragraph:"Paragraaf",outdent:"Inspringen verkleinen",indent:"Inspringen vergroten",left:"Links uitlijnen",center:"Centreren",right:"Rechts uitlijnen",justify:"Uitvullen"},color:{recent:"Recente kleur",more:"Meer kleuren",background:"Achtergrond kleur",foreground:"Tekst kleur",transparent:"Transparant",setTransparent:"Transparant",reset:"Standaard",resetToDefault:"Standaard kleur"},shortcut:{shortcuts:"Toetsencombinaties",close:"sluiten",textFormatting:"Tekststijlen",action:"Acties",paragraphFormatting:"Paragraafstijlen",documentStyle:"Documentstijlen",extraKeys:"Extra keys"},help:{insertParagraph:"Alinea invoegen",undo:"Laatste handeling ongedaan maken",redo:"Laatste handeling opnieuw uitvoeren",tab:"Tab",untab:"Herstel tab",bold:"Stel stijl in als vet",italic:"Stel stijl in als cursief",underline:"Stel stijl in als onderstreept",strikethrough:"Stel stijl in als doorgestreept",removeFormat:"Verwijder stijl",justifyLeft:"Lijn links uit",justifyCenter:"Set center align",justifyRight:"Lijn rechts uit",justifyFull:"Lijn uit op volledige breedte",insertUnorderedList:"Zet ongeordende lijstweergave aan",insertOrderedList:"Zet geordende lijstweergave aan",outdent:"Verwijder inspringing huidige alinea",indent:"Inspringen op huidige alinea",formatPara:"Wijzig formattering huidig blok in alinea(P tag)",formatH1:"Formatteer huidig blok als H1",formatH2:"Formatteer huidig blok als H2",formatH3:"Formatteer huidig blok als H3",formatH4:"Formatteer huidig blok als H4",formatH5:"Formatteer huidig blok als H5",formatH6:"Formatteer huidig blok als H6",insertHorizontalRule:"Invoegen horizontale lijn","linkDialog.show":"Toon Link Dialoogvenster"},history:{undo:"Ongedaan maken",redo:"Opnieuw doorvoeren"},specialChar:{specialChar:"SPECIALE TEKENS",select:"Selecteer Speciale Tekens"}}})}(jQuery)},{}],32:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"pl-PL":{font:{bold:"Pogrubienie",italic:"Pochylenie",underline:"Podkreślenie",clear:"Usuń formatowanie",height:"Interlinia",name:"Czcionka",strikethrough:"Przekreślenie",subscript:"Indeks dolny",superscript:"Indeks górny",size:"Rozmiar"},image:{image:"Grafika",insert:"Wstaw grafikę",resizeFull:"Zmień rozmiar na 100%",resizeHalf:"Zmień rozmiar na 50%",resizeQuarter:"Zmień rozmiar na 25%",floatLeft:"Po lewej",floatRight:"Po prawej",floatNone:"Równo z tekstem",shapeRounded:"Kształt: zaokrąglone",shapeCircle:"Kształt: okrąg",shapeThumbnail:"Kształt: miniatura",shapeNone:"Kształt: brak",dragImageHere:"Przeciągnij grafikę lub tekst tutaj",dropImage:"Przeciągnij grafikę lub tekst",selectFromFiles:"Wybierz z dysku",maximumFileSize:"Limit wielkości pliku",maximumFileSizeError:"Przekroczono limit wielkości pliku.",url:"Adres URL grafiki",remove:"Usuń grafikę",original:"Oryginał"},video:{video:"Wideo",videoLink:"Adres wideo",insert:"Wstaw wideo",url:"Adres wideo",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion lub Youku)"},link:{link:"Odnośnik",insert:"Wstaw odnośnik",unlink:"Usuń odnośnik",edit:"Edytuj",textToDisplay:"Tekst do wyświetlenia",url:"Na jaki adres URL powinien przenosić ten odnośnik?",openInNewWindow:"Otwórz w nowym oknie"},table:{table:"Tabela",addRowAbove:"Dodaj wiersz powyżej",addRowBelow:"Dodaj wiersz poniżej",addColLeft:"Dodaj kolumnę po lewej",addColRight:"Dodaj kolumnę po prawej",delRow:"Usuń wiersz",delCol:"Usuń kolumnę",delTable:"Usuń tabelę"},hr:{insert:"Wstaw poziomą linię"},style:{style:"Styl",p:"pny",blockquote:"Cytat",pre:"Kod",h1:"Nagłówek 1",h2:"Nagłówek 2",h3:"Nagłówek 3",h4:"Nagłówek 4",h5:"Nagłówek 5",h6:"Nagłówek 6"},lists:{unordered:"Lista wypunktowana",ordered:"Lista numerowana"},options:{help:"Pomoc",fullscreen:"Pełny ekran",codeview:"Źródło"},paragraph:{paragraph:"Akapit",outdent:"Zmniejsz wcięcie",indent:"Zwiększ wcięcie",left:"Wyrównaj do lewej",center:"Wyrównaj do środka",right:"Wyrównaj do prawej",justify:"Wyrównaj do lewej i prawej"},color:{recent:"Ostani kolor",more:"Więcej kolorów",background:"Tło",foreground:"Czcionka",transparent:"Przeźroczysty",setTransparent:"Przeźroczyste",reset:"Zresetuj",resetToDefault:"Domyślne"},shortcut:{shortcuts:"Skróty klawiaturowe",close:"Zamknij",textFormatting:"Formatowanie tekstu",action:"Akcja",paragraphFormatting:"Formatowanie akapitu",documentStyle:"Styl dokumentu",extraKeys:"Dodatkowe klawisze"},help:{insertParagraph:"Wstaw paragraf",undo:"Cofnij poprzednią operację",redo:"Przywróć poprzednią operację",tab:"Tabulacja",untab:"Usuń tabulację",bold:"Pogrubienie",italic:"Kursywa",underline:"Podkreślenie",strikethrough:"Przekreślenie",removeFormat:"Usuń formatowanie",justifyLeft:"Wyrównaj do lewej",justifyCenter:"Wyrównaj do środka",justifyRight:"Wyrównaj do prawej",justifyFull:"Justyfikacja",insertUnorderedList:"Nienumerowana lista",insertOrderedList:"Wypunktowana lista",outdent:"Zmniejsz wcięcie paragrafu",indent:"Zwiększ wcięcie paragrafu",formatPara:"Zamień format bloku na paragraf (tag P)",formatH1:"Zamień format bloku na H1",formatH2:"Zamień format bloku na H2",formatH3:"Zamień format bloku na H3",formatH4:"Zamień format bloku na H4",formatH5:"Zamień format bloku na H5",formatH6:"Zamień format bloku na H6",insertHorizontalRule:"Wstaw poziomą linię","linkDialog.show":"Pokaż dialog linkowania"},history:{undo:"Cofnij",redo:"Ponów"},specialChar:{specialChar:"ZNAKI SPECJALNE",select:"Wybierz Znak specjalny"}}})}(jQuery)},{}],33:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"pt-BR":{font:{bold:"Negrito",italic:"Itálico",underline:"Sublinhado",clear:"Remover estilo da fonte",height:"Altura da linha",name:"Fonte",strikethrough:"Riscado",subscript:"Subscrito",superscript:"Sobrescrito",size:"Tamanho da fonte"},image:{image:"Imagem",insert:"Inserir imagem",resizeFull:"Redimensionar Completamente",resizeHalf:"Redimensionar pela Metade",resizeQuarter:"Redimensionar a um Quarto",floatLeft:"Flutuar para Esquerda",floatRight:"Flutuar para Direita",floatNone:"Não Flutuar",shapeRounded:"Forma: Arredondado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Miniatura",shapeNone:"Forma: Nenhum",dragImageHere:"Arraste Imagem ou Texto para cá",dropImage:"Solte Imagem ou Texto",selectFromFiles:"Selecione a partir dos arquivos",maximumFileSize:"Tamanho máximo do arquivo",maximumFileSizeError:"Tamanho máximo do arquivo excedido.",url:"URL da imagem",remove:"Remover Imagem",original:"Original"},video:{video:"Vídeo",videoLink:"Link para vídeo",insert:"Inserir vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Link",insert:"Inserir link",unlink:"Remover link",edit:"Editar",textToDisplay:"Texto para exibir",url:"Para qual URL este link leva?",openInNewWindow:"Abrir em uma nova janela"},table:{table:"Tabela",addRowAbove:"Adicionar linha acima",addRowBelow:"Adicionar linha abaixo",addColLeft:"Adicionar coluna à esquerda",addColRight:"Adicionar coluna à direita",delRow:"Excluir linha",delCol:"Excluir coluna",delTable:"Excluir tabela"},hr:{insert:"Linha horizontal"},style:{style:"Estilo",p:"Normal",blockquote:"Citação",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista com marcadores",ordered:"Lista numerada"},options:{help:"Ajuda",fullscreen:"Tela cheia",codeview:"Ver código-fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menor tabulação",indent:"Maior tabulação",left:"Alinhar à esquerda",center:"Alinhar ao centro",right:"Alinha à direita",justify:"Justificado"},color:{recent:"Cor recente",more:"Mais cores",background:"Fundo",foreground:"Fonte",transparent:"Transparente",setTransparent:"Fundo transparente",reset:"Restaurar",resetToDefault:"Restaurar padrão",cpSelect:"Selecionar"},shortcut:{shortcuts:"Atalhos do teclado",close:"Fechar",textFormatting:"Formatação de texto",action:"Ação",paragraphFormatting:"Formatação de parágrafo",documentStyle:"Estilo de documento",extraKeys:"Extra keys"},help:{insertParagraph:"Inserir Parágrafo",undo:"Desfazer o último comando",redo:"Refazer o último comando",tab:"Tab",untab:"Desfazer tab",bold:"Colocar em negrito",italic:"Colocar em itálico",underline:"Sublinhado",strikethrough:"Tachado",removeFormat:"Remover estilo",justifyLeft:"Alinhar à esquerda",justifyCenter:"Centralizar",justifyRight:"Alinhar à esquerda",justifyFull:"Justificar",insertUnorderedList:"Lista não ordenada",insertOrderedList:"Lista ordenada",outdent:"Recuar parágrafo atual",indent:"Avançar parágrafo atual",formatPara:"Alterar formato do bloco para parágrafo(tag P)",formatH1:"Alterar formato do bloco para H1",formatH2:"Alterar formato do bloco para H2",formatH3:"Alterar formato do bloco para H3",formatH4:"Alterar formato do bloco para H4",formatH5:"Alterar formato do bloco para H5",formatH6:"Alterar formato do bloco para H6",insertHorizontalRule:"Inserir Régua horizontal","linkDialog.show":"Inserir um Hiperlink"},history:{undo:"Desfazer",redo:"Refazer"},specialChar:{specialChar:"CARACTERES ESPECIAIS",select:"Selecionar Caracteres Especiais"}}})}(jQuery)},{}],34:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"pt-PT":{font:{bold:"Negrito",italic:"Itálico",underline:"Sublinhado",clear:"Remover estilo da fonte",height:"Altura da linha",name:"Fonte",strikethrough:"Riscado",subscript:"Subscript",superscript:"Superscript",size:"Tamanho da fonte"},image:{image:"Imagem",insert:"Inserir imagem",resizeFull:"Redimensionar Completo",resizeHalf:"Redimensionar Metade",resizeQuarter:"Redimensionar Um Quarto",floatLeft:"Float Esquerda",floatRight:"Float Direita",floatNone:"Sem Float",shapeRounded:"Forma: Arredondado",shapeCircle:"Forma: Círculo",shapeThumbnail:"Forma: Minhatura",shapeNone:"Forma: Nenhum",dragImageHere:"Arraste uma imagem para aqui",dropImage:"Arraste uma imagem ou texto",selectFromFiles:"Selecione a partir dos arquivos",maximumFileSize:"Tamanho máximo do fixeiro",maximumFileSizeError:"Tamanho máximo do fixeiro é maior que o permitido.",url:"Endereço da imagem",remove:"Remover Imagem",original:"Original"},video:{video:"Vídeo",videoLink:"Link para vídeo",insert:"Inserir vídeo",url:"URL do vídeo?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ou Youku)"},link:{link:"Link",insert:"Inserir ligação",unlink:"Remover ligação",edit:"Editar",textToDisplay:"Texto para exibir",url:"Que endereço esta licação leva?",openInNewWindow:"Abrir numa nova janela"},table:{table:"Tabela",addRowAbove:"Adicionar linha acima",addRowBelow:"Adicionar linha abaixo",addColLeft:"Adicionar coluna à Esquerda",addColRight:"Adicionar coluna à Esquerda",delRow:"Excluir linha",delCol:"Excluir coluna",delTable:"Excluir tabela"},hr:{insert:"Inserir linha horizontal"},style:{style:"Estilo",p:"Parágrafo",blockquote:"Citação",pre:"Código",h1:"Título 1",h2:"Título 2",h3:"Título 3",h4:"Título 4",h5:"Título 5",h6:"Título 6"},lists:{unordered:"Lista com marcadores",ordered:"Lista numerada"},options:{help:"Ajuda",fullscreen:"Janela Completa",codeview:"Ver código-fonte"},paragraph:{paragraph:"Parágrafo",outdent:"Menor tabulação",indent:"Maior tabulação",left:"Alinhar à esquerda",center:"Alinhar ao centro",right:"Alinha à direita",justify:"Justificado"},color:{recent:"Cor recente",more:"Mais cores",background:"Fundo",foreground:"Fonte",transparent:"Transparente",setTransparent:"Fundo transparente",reset:"Restaurar",resetToDefault:"Restaurar padrão",cpSelect:"Selecionar"},shortcut:{shortcuts:"Atalhos do teclado",close:"Fechar",textFormatting:"Formatação de texto",action:"Ação",paragraphFormatting:"Formatação de parágrafo",documentStyle:"Estilo de documento"},help:{insertParagraph:"Inserir Parágrafo",undo:"Desfazer o último comando",redo:"Refazer o último comando",tab:"Maior tabulação",untab:"Menor tabulação",bold:"Colocar em negrito",italic:"Colocar em itálico",underline:"Colocar em sublinhado",strikethrough:"Colocar em riscado",removeFormat:"Limpar o estilo",justifyLeft:"Definir alinhado à esquerda",justifyCenter:"Definir alinhado ao centro",justifyRight:"Definir alinhado à direita",justifyFull:"Definir justificado",insertUnorderedList:"Alternar lista não ordenada",insertOrderedList:"Alternar lista ordenada",outdent:"Recuar parágrafo atual",indent:"Avançar parágrafo atual",formatPara:"Alterar formato do bloco para parágrafo",formatH1:"Alterar formato do bloco para Título 1",formatH2:"Alterar formato do bloco para Título 2",formatH3:"Alterar formato do bloco para Título 3",formatH4:"Alterar formato do bloco para Título 4",formatH5:"Alterar formato do bloco para Título 5",formatH6:"Alterar formato do bloco para Título 6",insertHorizontalRule:"Inserir linha horizontal","linkDialog.show":"Inserir uma ligração"},history:{undo:"Desfazer",redo:"Refazer"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],35:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"ro-RO":{font:{bold:"Îngroșat",italic:"Înclinat",underline:"Subliniat",clear:"Înlătură formatare font",height:"Înălțime rând",name:"Familie de fonturi",strikethrough:"Tăiat",subscript:"Indice",superscript:"Exponent",size:"Dimensiune font"},image:{image:"Imagine",insert:"Inserează imagine",resizeFull:"Redimensionează complet",resizeHalf:"Redimensionează 1/2",resizeQuarter:"Redimensionează 1/4",floatLeft:"Aliniere la stânga",floatRight:"Aliniere la dreapta",floatNone:"Fară aliniere",shapeRounded:"Formă: Rotund",shapeCircle:"Formă: Cerc",shapeThumbnail:"Formă: Pictogramă",
shapeNone:"Formă: Nici una",dragImageHere:"Trage o imagine sau un text aici",dropImage:"Eliberează imaginea sau textul",selectFromFiles:"Alege din fişiere",maximumFileSize:"Dimensiune maximă fișier",maximumFileSizeError:"Dimensiune maximă fișier depășită.",url:"URL imagine",remove:"Șterge imagine",original:"Original"},video:{video:"Video",videoLink:"Link video",insert:"Inserează video",url:"URL video?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion sau Youku)"},link:{link:"Link",insert:"Inserează link",unlink:"Înlătură link",edit:"Editează",textToDisplay:"Text ce va fi afişat",url:"La ce adresă URL trebuie să conducă acest link?",openInNewWindow:"Deschidere în fereastră nouă"},table:{table:"Tabel",addRowAbove:"Adaugă rând deasupra",addRowBelow:"Adaugă rând dedesubt",addColLeft:"Adaugă coloană stânga",addColRight:"Adaugă coloană dreapta",delRow:"Șterge rând",delCol:"Șterge coloană",delTable:"Șterge tabel"},hr:{insert:"Inserează o linie orizontală"},style:{style:"Stil",p:"p",blockquote:"Citat",pre:"Preformatat",h1:"Titlu 1",h2:"Titlu 2",h3:"Titlu 3",h4:"Titlu 4",h5:"Titlu 5",h6:"Titlu 6"},lists:{unordered:"Listă neordonată",ordered:"Listă ordonată"},options:{help:"Ajutor",fullscreen:"Măreşte",codeview:"Sursă"},paragraph:{paragraph:"Paragraf",outdent:"Creşte identarea",indent:"Scade identarea",left:"Aliniere la stânga",center:"Aliniere centrală",right:"Aliniere la dreapta",justify:"Aliniere în bloc"},color:{recent:"Culoare recentă",more:"Mai multe  culori",background:"Culoarea fundalului",foreground:"Culoarea textului",transparent:"Transparent",setTransparent:"Setează transparent",reset:"Resetează",resetToDefault:"Revino la iniţial"},shortcut:{shortcuts:"Scurtături tastatură",close:"Închide",textFormatting:"Formatare text",action:"Acţiuni",paragraphFormatting:"Formatare paragraf",documentStyle:"Stil paragraf",extraKeys:"Taste extra"},help:{insertParagraph:"Inserează paragraf",undo:"Revine la starea anterioară",redo:"Revine la starea ulterioară",tab:"Tab",untab:"Untab",bold:"Setează stil îngroșat",italic:"Setează stil înclinat",underline:"Setează stil subliniat",strikethrough:"Setează stil tăiat",removeFormat:"Înlătură formatare",justifyLeft:"Setează aliniere stânga",justifyCenter:"Setează aliniere centru",justifyRight:"Setează aliniere dreapta",justifyFull:"Setează aliniere bloc",insertUnorderedList:"Comutare listă neordinată",insertOrderedList:"Comutare listă ordonată",outdent:"Înlătură indentare paragraf curent",indent:"Adaugă indentare paragraf curent",formatPara:"Schimbă formatarea selecției în paragraf",formatH1:"Schimbă formatarea selecției în H1",formatH2:"Schimbă formatarea selecției în H2",formatH3:"Schimbă formatarea selecției în H3",formatH4:"Schimbă formatarea selecției în H4",formatH5:"Schimbă formatarea selecției în H5",formatH6:"Schimbă formatarea selecției în H6",insertHorizontalRule:"Adaugă linie orizontală","linkDialog.show":"Inserează link"},history:{undo:"Starea anterioară",redo:"Starea ulterioară"},specialChar:{specialChar:"CARACTERE SPECIALE",select:"Alege caractere speciale"}}})}(jQuery)},{}],36:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"ru-RU":{font:{bold:"Полужирный",italic:"Курсив",underline:"Подчёркнутый",clear:"Убрать стили шрифта",height:"Высота линии",name:"Шрифт",strikethrough:"Зачёркнутый",subscript:"Нижний индекс",superscript:"Верхний индекс",size:"Размер шрифта"},image:{image:"Картинка",insert:"Вставить картинку",resizeFull:"Восстановить размер",resizeHalf:"Уменьшить до 50%",resizeQuarter:"Уменьшить до 25%",floatLeft:"Расположить слева",floatRight:"Расположить справа",floatNone:"Расположение по-умолчанию",shapeRounded:"Форма: Закругленная",shapeCircle:"Форма: Круг",shapeThumbnail:"Форма: Миниатюра",shapeNone:"Форма: Нет",dragImageHere:"Перетащите сюда картинку",dropImage:"Перетащите картинку",selectFromFiles:"Выбрать из файлов",maximumFileSize:"Максимальный размер файла",maximumFileSizeError:"Превышен максимальный размер файла",url:"URL картинки",remove:"Удалить картинку",original:"Оригинал"},video:{video:"Видео",videoLink:"Ссылка на видео",insert:"Вставить видео",url:"URL видео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)"},link:{link:"Ссылка",insert:"Вставить ссылку",unlink:"Убрать ссылку",edit:"Редактировать",textToDisplay:"Отображаемый текст",url:"URL для перехода",openInNewWindow:"Открывать в новом окне"},table:{table:"Таблица",addRowAbove:"Добавить строку выше",addRowBelow:"Добавить строку ниже",addColLeft:"Добавить столбец слева",addColRight:"Добавить столбец справа",delRow:"Удалить строку",delCol:"Удалить столбец",delTable:"Удалить таблицу"},hr:{insert:"Вставить горизонтальную линию"},style:{style:"Стиль",p:"Нормальный",blockquote:"Цитата",pre:"Код",h1:"Заголовок 1",h2:"Заголовок 2",h3:"Заголовок 3",h4:"Заголовок 4",h5:"Заголовок 5",h6:"Заголовок 6"},lists:{unordered:"Маркированный список",ordered:"Нумерованный список"},options:{help:"Помощь",fullscreen:"На весь экран",codeview:"Исходный код"},paragraph:{paragraph:"Параграф",outdent:"Уменьшить отступ",indent:"Увеличить отступ",left:"Выровнять по левому краю",center:"Выровнять по центру",right:"Выровнять по правому краю",justify:"Растянуть по ширине"},color:{recent:"Последний цвет",more:"Еще цвета",background:"Цвет фона",foreground:"Цвет шрифта",transparent:"Прозрачный",setTransparent:"Сделать прозрачным",reset:"Сброс",resetToDefault:"Восстановить умолчания"},shortcut:{shortcuts:"Сочетания клавиш",close:"Закрыть",textFormatting:"Форматирование текста",action:"Действие",paragraphFormatting:"Форматирование параграфа",documentStyle:"Стиль документа",extraKeys:"Дополнительные комбинации"},help:{insertParagraph:"Новый параграф",undo:"Отменить последнюю команду",redo:"Повторить последнюю команду",tab:"Tab",untab:"Untab",bold:'Установить стиль "Жирный"',italic:'Установить стиль "Наклонный"',underline:'Установить стиль "Подчеркнутый"',strikethrough:'Установить стиль "Зачеркнутый"',removeFormat:"Сборсить стили",justifyLeft:"Выровнять по левому краю",justifyCenter:"Выровнять по центру",justifyRight:"Выровнять по правому краю",justifyFull:"Растянуть на всю ширину",insertUnorderedList:"Включить/отключить маркированный список",insertOrderedList:"Включить/отключить нумерованный список",outdent:"Убрать отступ в текущем параграфе",indent:"Вставить отступ в текущем параграфе",formatPara:"Форматировать текущий блок как параграф (тег P)",formatH1:"Форматировать текущий блок как H1",formatH2:"Форматировать текущий блок как H2",formatH3:"Форматировать текущий блок как H3",formatH4:"Форматировать текущий блок как H4",formatH5:"Форматировать текущий блок как H5",formatH6:"Форматировать текущий блок как H6",insertHorizontalRule:"Вставить горизонтальную черту","linkDialog.show":'Показать диалог "Ссылка"'},history:{undo:"Отменить",redo:"Повтор"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],37:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"sk-SK":{font:{bold:"Tučné",italic:"Kurzíva",underline:"Podčiarknutie",clear:"Odstrániť štýl písma",height:"Výška riadku",strikethrough:"Prečiarknuté",subscript:"Subscript",superscript:"Superscript",size:"Veľkosť písma"},image:{image:"Obrázok",insert:"Vložiť obrázok",resizeFull:"Pôvodná veľkosť",resizeHalf:"Polovičná veľkosť",resizeQuarter:"Štvrtinová veľkosť",floatLeft:"Umiestniť doľava",floatRight:"Umiestniť doprava",floatNone:"Bez zarovnania",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Pretiahnuť sem obrázok",dropImage:"Drop image or Text",selectFromFiles:"Vybrať súbor",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL obrázku",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Odkaz videa",insert:"Vložiť video",url:"URL videa?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion alebo Youku)"},link:{link:"Odkaz",insert:"Vytvoriť odkaz",unlink:"Zrušiť odkaz",edit:"Upraviť",textToDisplay:"Zobrazovaný text",url:"Na akú URL adresu má tento odkaz viesť?",openInNewWindow:"Otvoriť v novom okne"},table:{table:"Tabuľka",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Vložit vodorovnú čiaru"},style:{style:"Štýl",p:"Normálny",blockquote:"Citácia",pre:"Kód",h1:"Nadpis 1",h2:"Nadpis 2",h3:"Nadpis 3",h4:"Nadpis 4",h5:"Nadpis 5",h6:"Nadpis 6"},lists:{unordered:"Odrážkový zoznam",ordered:"Číselný zoznam"},options:{help:"Pomoc",fullscreen:"Celá obrazovka",codeview:"HTML kód"},paragraph:{paragraph:"Odsek",outdent:"Zväčšiť odsadenie",indent:"Zmenšiť odsadenie",left:"Zarovnať doľava",center:"Zarovnať na stred",right:"Zarovnať doprava",justify:"Zarovnať obojstranne"},color:{recent:"Aktuálna farba",more:"Dalšie farby",background:"Farba pozadia",foreground:"Farba písma",transparent:"Priehľadnosť",setTransparent:"Nastaviť priehľadnosť",reset:"Obnoviť",resetToDefault:"Obnoviť prednastavené"},shortcut:{shortcuts:"Klávesové skratky",close:"Zavrieť",textFormatting:"Formátovanie textu",action:"Akcia",paragraphFormatting:"Formátovanie odseku",documentStyle:"Štýl dokumentu"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Krok vzad",redo:"Krok dopredu"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],38:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"sl-SI":{font:{bold:"Krepko",italic:"Ležeče",underline:"Podčrtano",clear:"Počisti oblikovanje izbire",height:"Razmik med vrsticami",name:"Pisava",strikethrough:"Prečrtano",subscript:"Podpisano",superscript:"Nadpisano",size:"Velikost pisave"},image:{image:"Slika",insert:"Vstavi sliko",resizeFull:"Razširi na polno velikost",resizeHalf:"Razširi na polovico velikosti",resizeQuarter:"Razširi na četrtino velikosti",floatLeft:"Leva poravnava",floatRight:"Desna poravnava",floatNone:"Brez poravnave",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Sem povlecite sliko",dropImage:"Drop image or Text",selectFromFiles:"Izberi sliko za nalaganje",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL naslov slike",remove:"Odstrani sliko",original:"Original"},video:{video:"Video",videoLink:"Video povezava",insert:"Vstavi video",url:"Povezava do videa",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ali Youku)"},link:{link:"Povezava",insert:"Vstavi povezavo",unlink:"Odstrani povezavo",edit:"Uredi",textToDisplay:"Prikazano besedilo",url:"Povezava",openInNewWindow:"Odpri v novem oknu"},table:{table:"Tabela",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Vstavi horizontalno črto"},style:{style:"Slogi",p:"Navadno besedilo",blockquote:"Citat",pre:"Koda",h1:"Naslov 1",h2:"Naslov 2",h3:"Naslov 3",h4:"Naslov 4",h5:"Naslov 5",h6:"Naslov 6"},lists:{unordered:"Označen seznam",ordered:"Oštevilčen seznam"},options:{help:"Pomoč",fullscreen:"Celozaslonski način",codeview:"Pregled HTML kode"},paragraph:{paragraph:"Slogi odstavka",outdent:"Zmanjšaj odmik",indent:"Povečaj odmik",left:"Leva poravnava",center:"Desna poravnava",right:"Sredinska poravnava",justify:"Obojestranska poravnava"},color:{recent:"Uporabi zadnjo barvo",more:"Več barv",background:"Barva ozadja",foreground:"Barva besedila",transparent:"Brez barve",setTransparent:"Brez barve",reset:"Ponastavi",resetToDefault:"Ponastavi na privzeto"},shortcut:{shortcuts:"Bljižnice",close:"Zapri",textFormatting:"Oblikovanje besedila",action:"Dejanja",paragraphFormatting:"Oblikovanje odstavka",documentStyle:"Oblikovanje naslova",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Razveljavi",redo:"Uveljavi"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],39:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"sr-RS":{font:{bold:"Podebljano",italic:"Kurziv",underline:"Podvučeno",clear:"Ukloni stilove fonta",height:"Visina linije",name:"Font Family",strikethrough:"Precrtano",subscript:"Subscript",superscript:"Superscript",size:"Veličina fonta"},image:{image:"Slika",insert:"Umetni sliku",resizeFull:"Puna veličina",resizeHalf:"Umanji na 50%",resizeQuarter:"Umanji na 25%",floatLeft:"Uz levu ivicu",floatRight:"Uz desnu ivicu",floatNone:"Bez ravnanja",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Prevuci sliku ovde",dropImage:"Drop image or Text",selectFromFiles:"Izaberi iz datoteke",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Adresa slike",remove:"Ukloni sliku",original:"Original"},video:{video:"Video",videoLink:"Veza ka videu",insert:"Umetni video",url:"URL video",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion ili Youku)"},link:{link:"Veza",insert:"Umetni vezu",unlink:"Ukloni vezu",edit:"Uredi",textToDisplay:"Tekst za prikaz",url:"Internet adresa",openInNewWindow:"Otvori u novom prozoru"},table:{table:"Tabela",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Umetni horizontalnu liniju"},style:{style:"Stil",p:"pni",blockquote:"Citat",pre:"Kod",h1:"Zaglavlje 1",h2:"Zaglavlje 2",h3:"Zaglavlje 3",h4:"Zaglavlje 4",h5:"Zaglavlje 5",h6:"Zaglavlje 6"},lists:{unordered:"Obična lista",ordered:"Numerisana lista"},options:{help:"Pomoć",fullscreen:"Preko celog ekrana",codeview:"Izvorni kod"},paragraph:{paragraph:"Paragraf",outdent:"Smanji uvlačenje",indent:"Povečaj uvlačenje",left:"Poravnaj u levo",center:"Centrirano",right:"Poravnaj u desno",justify:"Poravnaj obostrano"},color:{recent:"Poslednja boja",more:"Više boja",background:"Boja pozadine",foreground:"Boja teksta",transparent:"Providna",setTransparent:"Providna",reset:"Opoziv",resetToDefault:"Podrazumevana"},shortcut:{shortcuts:"Prečice sa tastature",close:"Zatvori",textFormatting:"Formatiranje teksta",action:"Akcija",paragraphFormatting:"Formatiranje paragrafa",documentStyle:"Stil dokumenta",extraKeys:"Dodatne kombinacije"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Poništi",redo:"Ponovi"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],40:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"sr-RS":{font:{bold:"Подебљано",italic:"Курзив",underline:"Подвучено",clear:"Уклони стилове фонта",height:"Висина линије",name:"Font Family",strikethrough:"Прецртано",subscript:"Subscript",superscript:"Superscript",size:"Величина фонта"},image:{image:"Слика",insert:"Уметни слику",resizeFull:"Пуна величина",resizeHalf:"Умањи на 50%",resizeQuarter:"Умањи на 25%",floatLeft:"Уз леву ивицу",floatRight:"Уз десну ивицу",floatNone:"Без равнања",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Превуци слику овде",dropImage:"Drop image or Text",selectFromFiles:"Изабери из датотеке",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Адреса слике",remove:"Уклони слику",original:"Original"},video:{video:"Видео",videoLink:"Веза ка видеу",insert:"Уметни видео",url:"URL видео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)"},link:{link:"Веза",insert:"Уметни везу",unlink:"Уклони везу",edit:"Уреди",textToDisplay:"Текст за приказ",url:"Интернет адреса",openInNewWindow:"Отвори у новом прозору"},table:{table:"Табела",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Уметни хоризонталну линију"},style:{style:"Стил",p:"Нормални",blockquote:"Цитат",pre:"Код",h1:"Заглавље 1",h2:"Заглавље 2",h3:"Заглавље 3",h4:"Заглавље 4",h5:"Заглавље 5",h6:"Заглавље 6"},lists:{unordered:"Обична листа",ordered:"Нумерисана листа"},options:{help:"Помоћ",fullscreen:"Преко целог екрана",codeview:"Изворни код"},paragraph:{paragraph:"Параграф",outdent:"Смањи увлачење",indent:"Повечај увлачење",left:"Поравнај у лево",center:"Центрирано",right:"Поравнај у десно",justify:"Поравнај обострано"},color:{recent:"Последња боја",more:"Више боја",background:"Боја позадине",foreground:"Боја текста",transparent:"Провидна",setTransparent:"Провидна",reset:"Опозив",resetToDefault:"Подразумевана"},shortcut:{shortcuts:"Пречице са тастатуре",close:"Затвори",textFormatting:"Форматирање текста",action:"Акција",paragraphFormatting:"Форматирање параграфа",documentStyle:"Стил документа",extraKeys:"Додатне комбинације"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Поништи",redo:"Понови"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],41:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"sv-SE":{font:{bold:"Fet",italic:"Kursiv",underline:"Understruken",clear:"Radera formatering",height:"Radavstånd",name:"Teckensnitt",strikethrough:"Genomstruken",subscript:"Subscript",superscript:"Superscript",size:"Teckenstorlek"},image:{image:"Bild",insert:"Infoga bild",resizeFull:"Full storlek",resizeHalf:"Halv storlek",resizeQuarter:"En fjärdedel i storlek",floatLeft:"Vänsterjusterad",floatRight:"Högerjusterad",floatNone:"Ingen justering",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Dra en bild hit",dropImage:"Drop image or Text",selectFromFiles:"Välj från filer",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Länk till bild",remove:"Ta bort bild",original:"Original"},video:{video:"Filmklipp",videoLink:"Länk till filmklipp",insert:"Infoga filmklipp",url:"Länk till filmklipp",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion eller Youku)"},link:{link:"Länk",insert:"Infoga länk",unlink:"Ta bort länk",edit:"Redigera",textToDisplay:"Visningstext",url:"Till vilken URL ska denna länk peka?",openInNewWindow:"Öppna i ett nytt fönster"},table:{table:"Tabell",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Infoga horisontell linje"},style:{style:"Stil",p:"p",blockquote:"Citat",pre:"Kod",h1:"Rubrik 1",h2:"Rubrik 2",h3:"Rubrik 3",h4:"Rubrik 4",h5:"Rubrik 5",h6:"Rubrik 6"},lists:{unordered:"Punktlista",ordered:"Numrerad lista"},options:{help:"Hjälp",fullscreen:"Fullskärm",codeview:"HTML-visning"},paragraph:{paragraph:"Justera text",outdent:"Minska indrag",indent:"Öka indrag",left:"Vänsterjusterad",center:"Centrerad",right:"Högerjusterad",justify:"Justera text"},color:{recent:"Senast använda färg",more:"Fler färger",background:"Bakgrundsfärg",foreground:"Teckenfärg",transparent:"Genomskinlig",setTransparent:"Gör genomskinlig",reset:"Nollställ",resetToDefault:"Återställ till standard"},shortcut:{shortcuts:"Kortkommandon",close:"Stäng",textFormatting:"Textformatering",action:"Funktion",paragraphFormatting:"Avsnittsformatering",documentStyle:"Dokumentstil",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Ångra",redo:"Gör om"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],42:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"ta-IN":{font:{bold:"தடித்த",italic:"சாய்வு",underline:"அடிக்கோடு",clear:"நீக்கு",height:"வரி  உயரம்",name:"எழுத்துரு பெயர்",strikethrough:"குறுக்குக் கோடு",size:"எழுத்துரு அளவு",superscript:"மேல் ஒட்டு",subscript:"கீழ் ஒட்டு"},image:{image:"படம்",insert:"படத்தை செருகு",resizeFull:"முழு அளவை",resizeHalf:"அரை அளவை",resizeQuarter:"கால் அளவை",floatLeft:"இடப்பக்கமாக வை",floatRight:"வலப்பக்கமாக வை",floatNone:"இயல்புநிலையில் வை",shapeRounded:"வட்டமான வடிவம்",shapeCircle:"வட்ட வடிவம்",shapeThumbnail:"சிறு வடிவம்",shapeNone:"வடிவத்தை நீக்கு",dragImageHere:"படத்தை இங்கே இழுத்துவை",dropImage:"படத்தை விடு",selectFromFiles:"கோப்புகளை தேர்வு செய்",maximumFileSize:"அதிகபட்ச கோப்பு அளவு",maximumFileSizeError:"கோப்பு அதிகபட்ச அளவை மீறிவிட்டது",url:"இணையதள முகவரி",remove:"படத்தை நீக்கு",original:"Original"},video:{video:"காணொளி",videoLink:"காணொளி இணைப்பு",insert:"காணொளியை செருகு",url:"இணையதள முகவரி",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"இணைப்பு",insert:"இணைப்பை செருகு",unlink:"இணைப்பை நீக்கு",edit:"இணைப்பை தொகு",textToDisplay:"காட்சி வாசகம்",url:"இணையதள முகவரி",openInNewWindow:"புதிய சாளரத்தில் திறக்க"},table:{table:"அட்டவணை",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"கிடைமட்ட கோடு"},style:{style:"தொகுப்பு",p:"பத்தி",blockquote:"மேற்கோள்",pre:"குறியீடு",h1:"தலைப்பு 1",h2:"தலைப்பு 2",h3:"தலைப்பு 3",h4:"தலைப்பு 4",h5:"தலைப்பு 5",h6:"தலைப்பு 6"},lists:{unordered:"வரிசையிடாத",ordered:"வரிசையிட்ட"},options:{help:"உதவி",fullscreen:"முழுத்திரை",codeview:"நிரலாக்க காட்சி"},paragraph:{paragraph:"பத்தி",outdent:"வெளித்தள்ளு",indent:"உள்ளே தள்ளு",left:"இடது சீரமைப்பு",center:"நடு சீரமைப்பு",right:"வலது சீரமைப்பு",justify:"இருபுற சீரமைப்பு"},color:{recent:"அண்மை நிறம்",more:"மேலும்",background:"பின்புல நிறம்",foreground:"முன்புற நிறம்",transparent:"தெளிமையான",setTransparent:"தெளிமையாக்கு",reset:"மீட்டமைக்க",resetToDefault:"இயல்புநிலைக்கு மீட்டமை"},shortcut:{shortcuts:"குறுக்குவழி",close:"மூடு",textFormatting:"எழுத்து வடிவமைப்பு",action:"செயல்படுத்து",paragraphFormatting:"பத்தி வடிவமைப்பு",documentStyle:"ஆவண பாணி",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"மீளமை",redo:"மீண்டும்"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],43:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"th-TH":{font:{bold:"ตัวหนา",italic:"ตัวเอียง",underline:"ขีดเส้นใต้",clear:"ล้างรูปแบบตัวอักษร",height:"ความสูงบรรทัด",name:"แบบตัวอักษร",strikethrough:"ขีดฆ่า",subscript:"ตัวห้อย",superscript:"ตัวยก",size:"ขนาดตัวอักษร"},image:{image:"รูปภาพ",insert:"แทรกรูปภาพ",resizeFull:"ปรับขนาดเท่าจริง",resizeHalf:"ปรับขนาดลง 50%",resizeQuarter:"ปรับขนาดลง 25%",floatLeft:"ชิดซ้าย",floatRight:"ชิดขวา",floatNone:"ไม่จัดตำแหน่ง",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"ลากรูปภาพที่ต้องการไว้ที่นี่",dropImage:"วางรูปภาพหรือข้อความ",selectFromFiles:"เลือกไฟล์รูปภาพ",maximumFileSize:"ขนาดไฟล์ใหญ่สุด",maximumFileSizeError:"ไฟล์เกินขนาดที่กำหนด",url:"ที่อยู่ URL ของรูปภาพ",remove:"ลบรูปภาพ",original:"Original"},video:{video:"วีดีโอ",videoLink:"ลิงก์ของวีดีโอ",insert:"แทรกวีดีโอ",url:"ที่อยู่ URL ของวีดีโอ",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion หรือ Youku)"},link:{link:"ตัวเชื่อมโยง",insert:"แทรกตัวเชื่อมโยง",unlink:"ยกเลิกตัวเชื่อมโยง",edit:"แก้ไข",textToDisplay:"ข้อความที่ให้แสดง",url:"ที่อยู่เว็บไซต์ที่ต้องการให้เชื่อมโยงไปถึง?",openInNewWindow:"เปิดในหน้าต่างใหม่"},table:{table:"ตาราง",addRowAbove:"เพิ่มแถวด้านบน",addRowBelow:"เพิ่มแถวด้านล่าง",addColLeft:"เพิ่มคอลัมน์ด้านซ้าย",addColRight:"เพิ่มคอลัมน์ด้านขวา",delRow:"ลบแถว",delCol:"ลบคอลัมน์",delTable:"ลบตาราง"},hr:{insert:"แทรกเส้นคั่น"},style:{style:"รูปแบบ",p:"ปกติ",blockquote:"ข้อความ",pre:"โค้ด",h1:"หัวข้อ 1",h2:"หัวข้อ 2",h3:"หัวข้อ 3",h4:"หัวข้อ 4",h5:"หัวข้อ 5",h6:"หัวข้อ 6"},lists:{unordered:"รายการแบบไม่มีลำดับ",ordered:"รายการแบบมีลำดับ"},options:{help:"ช่วยเหลือ",fullscreen:"ขยายเต็มหน้าจอ",codeview:"ซอร์สโค้ด"},paragraph:{paragraph:"ย่อหน้า",outdent:"เยื้องซ้าย",indent:"เยื้องขวา",left:"จัดหน้าชิดซ้าย",center:"จัดหน้ากึ่งกลาง",right:"จัดหน้าชิดขวา",justify:"จัดบรรทัดเสมอกัน"},color:{recent:"สีที่ใช้ล่าสุด",more:"สีอื่นๆ",background:"สีพื้นหลัง",foreground:"สีพื้นหน้า",transparent:"โปร่งแสง",setTransparent:"ตั้งค่าความโปร่งแสง",reset:"คืนค่า",resetToDefault:"คืนค่ามาตรฐาน"},shortcut:{shortcuts:"แป้นลัด",close:"ปิด",textFormatting:"การจัดรูปแบบข้อความ",action:"การกระทำ",paragraphFormatting:"การจัดรูปแบบย่อหน้า",documentStyle:"รูปแบบของเอกสาร",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"ทำตัวหนา",italic:"ทำตัวเอียง",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H1",formatH2:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H2",formatH3:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H3",formatH4:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H4",formatH5:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H5",formatH6:"เปลี่ยนรูปแบบบล็อคปัจจุบันเป็น H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"เปิดหน้าแก้ไข Link"},history:{undo:"ยกเลิกการกระทำ",redo:"ทำซ้ำการกระทำ"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],44:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"tr-TR":{font:{bold:"Kalın",italic:"İtalik",underline:"Altı çizili",clear:"Temizle",height:"Satır yüksekliği",name:"Yazı Tipi",strikethrough:"Üstü çizili",subscript:"Alt Simge",superscript:"Üst Simge",size:"Yazı tipi boyutu"},image:{image:"Resim",insert:"Resim ekle",resizeFull:"Orjinal boyut",resizeHalf:"1/2 boyut",resizeQuarter:"1/4 boyut",floatLeft:"Sola hizala",floatRight:"Sağa hizala",floatNone:"Hizalamayı kaldır",shapeRounded:"Şekil: Yuvarlatılmış Köşe",shapeCircle:"Şekil: Daire",shapeThumbnail:"Şekil: K.Resim",shapeNone:"Şekil: Yok",
dragImageHere:"Buraya sürükleyin",dropImage:"Resim veya metni bırakın",selectFromFiles:"Dosya seçin",maximumFileSize:"Maksimum dosya boyutu",maximumFileSizeError:"Maksimum dosya boyutu aşıldı.",url:"Resim bağlantısı",remove:"Resimi Kaldır",original:"Original"},video:{video:"Video",videoLink:"Video bağlantısı",insert:"Video ekle",url:"Video bağlantısı?",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion veya Youku)"},link:{link:"Bağlantı",insert:"Bağlantı ekle",unlink:"Bağlantıyı kaldır",edit:"Bağlantıyı düzenle",textToDisplay:"Görüntülemek için",url:"Bağlantı adresi?",openInNewWindow:"Yeni pencerede aç"},table:{table:"Tablo",addRowAbove:"Yukarı satır ekle",addRowBelow:"Aşağı satır ekle",addColLeft:"Sola sütun ekle",addColRight:"Sağa sütun ekle",delRow:"Satırı sil",delCol:"Sütunu sil",delTable:"Tabloyu sil"},hr:{insert:"Yatay çizgi ekle"},style:{style:"Biçim",p:"p",blockquote:"Alıntı",pre:"Önbiçimli",h1:"Başlık 1",h2:"Başlık 2",h3:"Başlık 3",h4:"Başlık 4",h5:"Başlık 5",h6:"Başlık 6"},lists:{unordered:"Madde işaretli liste",ordered:"Numaralı liste"},options:{help:"Yardım",fullscreen:"Tam ekran",codeview:"HTML Kodu"},paragraph:{paragraph:"Paragraf",outdent:"Girintiyi artır",indent:"Girintiyi azalt",left:"Sola hizala",center:"Ortaya hizala",right:"Sağa hizala",justify:"Yasla"},color:{recent:"Son renk",more:"Daha fazla renk",background:"Arka plan rengi",foreground:"Yazı rengi",transparent:"Seffaflık",setTransparent:"Şeffaflığı ayarla",reset:"Sıfırla",resetToDefault:"Varsayılanlara sıfırla"},shortcut:{shortcuts:"Kısayollar",close:"Kapat",textFormatting:"Yazı biçimlendirme",action:"Eylem",paragraphFormatting:"Paragraf biçimlendirme",documentStyle:"Biçim",extraKeys:"İlave anahtarlar"},help:{insertParagraph:"Paragraf ekler",undo:"Son komudu geri alır",redo:"Son komudu yineler",tab:"Girintiyi artırır",untab:"Girintiyi azaltır",bold:"Kalın yazma stilini ayarlar",italic:"İtalik yazma stilini ayarlar",underline:"Altı çizgili yazma stilini ayarlar",strikethrough:"Üstü çizgili yazma stilini ayarlar",removeFormat:"Biçimlendirmeyi temizler",justifyLeft:"Yazıyı sola hizalar",justifyCenter:"Yazıyı ortalar",justifyRight:"Yazıyı sağa hizalar",justifyFull:"Yazıyı her iki tarafa yazlar",insertUnorderedList:"Madde işaretli liste ekler",insertOrderedList:"Numaralı liste ekler",outdent:"Aktif paragrafın girintisini azaltır",indent:"Aktif paragrafın girintisini artırır",formatPara:"Aktif bloğun biçimini paragraf (p) olarak değiştirir",formatH1:"Aktif bloğun biçimini başlık 1 (h1) olarak değiştirir",formatH2:"Aktif bloğun biçimini başlık 2 (h2) olarak değiştirir",formatH3:"Aktif bloğun biçimini başlık 3 (h3) olarak değiştirir",formatH4:"Aktif bloğun biçimini başlık 4 (h4) olarak değiştirir",formatH5:"Aktif bloğun biçimini başlık 5 (h5) olarak değiştirir",formatH6:"Aktif bloğun biçimini başlık 6 (h6) olarak değiştirir",insertHorizontalRule:"Yatay çizgi ekler","linkDialog.show":"Bağlantı ayar kutusunu gösterir"},history:{undo:"Geri al",redo:"Yinele"},specialChar:{specialChar:"ÖZEL KARAKTERLER",select:"Özel Karakterleri seçin"}}})}(jQuery)},{}],45:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"uk-UA":{font:{bold:"Напівжирний",italic:"Курсив",underline:"Підкреслений",clear:"Прибрати стилі шрифту",height:"Висота лінії",name:"Шрифт",strikethrough:"Закреслений",subscript:"Нижній індекс",superscript:"Верхній індекс",size:"Розмір шрифту"},image:{image:"Картинка",insert:"Вставити картинку",resizeFull:"Відновити розмір",resizeHalf:"Зменшити до 50%",resizeQuarter:"Зменшити до 25%",floatLeft:"Розташувати ліворуч",floatRight:"Розташувати праворуч",floatNone:"Початкове розташування",shapeRounded:"Форма: Заокруглена",shapeCircle:"Форма: Коло",shapeThumbnail:"Форма: Мініатюра",shapeNone:"Форма: Немає",dragImageHere:"Перетягніть сюди картинку",dropImage:"Перетягніть картинку",selectFromFiles:"Вибрати з файлів",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL картинки",remove:"Видалити картинку",original:"Original"},video:{video:"Відео",videoLink:"Посилання на відео",insert:"Вставити відео",url:"URL відео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion чи Youku)"},link:{link:"Посилання",insert:"Вставити посилання",unlink:"Прибрати посилання",edit:"Редагувати",textToDisplay:"Текст, що відображається",url:"URL для переходу",openInNewWindow:"Відкривати у новому вікні"},table:{table:"Таблиця",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Вставити горизонтальну лінію"},style:{style:"Стиль",p:"Нормальний",blockquote:"Цитата",pre:"Код",h1:"Заголовок 1",h2:"Заголовок 2",h3:"Заголовок 3",h4:"Заголовок 4",h5:"Заголовок 5",h6:"Заголовок 6"},lists:{unordered:"Маркований список",ordered:"Нумерований список"},options:{help:"Допомога",fullscreen:"На весь екран",codeview:"Початковий код"},paragraph:{paragraph:"Параграф",outdent:"Зменшити відступ",indent:"Збільшити відступ",left:"Вирівняти по лівому краю",center:"Вирівняти по центру",right:"Вирівняти по правому краю",justify:"Розтягнути по ширині"},color:{recent:"Останній колір",more:"Ще кольори",background:"Колір фону",foreground:"Колір шрифту",transparent:"Прозорий",setTransparent:"Зробити прозорим",reset:"Відновити",resetToDefault:"Відновити початкові"},shortcut:{shortcuts:"Комбінації клавіш",close:"Закрити",textFormatting:"Форматування тексту",action:"Дія",paragraphFormatting:"Форматування параграфу",documentStyle:"Стиль документу",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Відмінити",redo:"Повторити"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],46:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"uz-UZ":{font:{bold:"қалин",italic:"Курсив",underline:"Белгиланган",clear:"Ҳарф турларини олиб ташлаш",height:"Чизиқ баландлиги",name:"Ҳарф",strikethrough:"Ўчирилган",subscript:"Пастки индекс",superscript:"Юқори индекс",size:"ҳарф ҳажми"},image:{image:"Расм",insert:"расмни қўйиш",resizeFull:"Ҳажмни тиклаш",resizeHalf:"50% гача кичрайтириш",resizeQuarter:"25% гача кичрайтириш",floatLeft:"Чапда жойлаштириш",floatRight:"Ўнгда жойлаштириш",floatNone:"Стандарт бўйича жойлашув",shapeRounded:"Шакли: Юмалоқ",shapeCircle:"Шакли: Доира",shapeThumbnail:"Шакли: Миниатюра",shapeNone:"Шакли: Йўқ",dragImageHere:"Суратни кўчириб ўтинг",dropImage:"Суратни кўчириб ўтинг",selectFromFiles:"Файллардан бирини танлаш",url:"суратлар URL и",remove:"Суратни ўчириш"},video:{video:"Видео",videoLink:"Видеога ҳавола",insert:"Видео",url:"URL видео",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion или Youku)"},link:{link:"Ҳавола",insert:"Ҳаволани қўйиш",unlink:"Ҳаволани олиб ташлаш",edit:"Таҳрир қилиш",textToDisplay:"Кўринадиган матн",url:"URL ўтиш учун",openInNewWindow:"Янги дарчада очиш"},table:{table:"Жадвал"},hr:{insert:"Горизонтал чизиқни қўйиш"},style:{style:"Услуб",p:"Яхши",blockquote:"Жумла",pre:"Код",h1:"Сарлавҳа 1",h2:"Сарлавҳа  2",h3:"Сарлавҳа  3",h4:"Сарлавҳа  4",h5:"Сарлавҳа  5",h6:"Сарлавҳа  6"},lists:{unordered:"Белгиланган рўйҳат",ordered:"Рақамланган рўйҳат"},options:{help:"Ёрдам",fullscreen:"Бутун экран бўйича",codeview:"Бошланғич код"},paragraph:{paragraph:"Параграф",outdent:"Орқага қайтишни камайтириш",indent:"Орқага қайтишни кўпайтириш",left:"Чап қирғоққа тўғрилаш",center:"Марказга тўғрилаш",right:"Ўнг қирғоққа тўғрилаш",justify:"Эни бўйлаб чўзиш"},color:{recent:"Охирги ранг",more:"Яна ранглар",background:"Фон  ранги",foreground:"Ҳарф ранги",transparent:"Шаффоф",setTransparent:"Шаффофдай қилиш",reset:"Бекор қилиш",resetToDefault:"Стандартга оид тиклаш"},shortcut:{shortcuts:"Клавишларнинг ҳамохҳанглиги",close:"Ёпиқ",textFormatting:"Матнни ",action:"Ҳаркат",paragraphFormatting:"Параграфни форматлаш",documentStyle:"Ҳужжатнинг тури",extraKeys:"Қўшимча имкониятлар"},history:{undo:"Бекор қилиш",redo:"Қайтариш"}}})}(jQuery)},{}],47:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"vi-VN":{font:{bold:"In Đậm",italic:"In Nghiêng",underline:"Gạch dưới",clear:"Bỏ định dạng",height:"Chiều cao dòng",name:"Phông chữ",strikethrough:"Gạch ngang",subscript:"Subscript",superscript:"Superscript",size:"Cỡ chữ"},image:{image:"Hình ảnh",insert:"Chèn",resizeFull:"100%",resizeHalf:"50%",resizeQuarter:"25%",floatLeft:"Trôi về trái",floatRight:"Trôi về phải",floatNone:"Không trôi",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Thả Ảnh ở vùng này",dropImage:"Drop image or Text",selectFromFiles:"Chọn từ File",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"URL",remove:"Xóa",original:"Original"},video:{video:"Video",videoLink:"Link đến Video",insert:"Chèn Video",url:"URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion và Youku)"},link:{link:"Link",insert:"Chèn Link",unlink:"Gỡ Link",edit:"Sửa",textToDisplay:"Văn bản hiển thị",url:"URL",openInNewWindow:"Mở ở Cửa sổ mới"},table:{table:"Bảng",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Chèn"},style:{style:"Kiểu chữ",p:"Chữ thường",blockquote:"Đoạn trích",pre:"Mã Code",h1:"H1",h2:"H2",h3:"H3",h4:"H4",h5:"H5",h6:"H6"},lists:{unordered:"Liệt kê danh sách",ordered:"Liệt kê theo thứ tự"},options:{help:"Trợ giúp",fullscreen:"Toàn Màn hình",codeview:"Xem Code"},paragraph:{paragraph:"Canh lề",outdent:"Dịch sang trái",indent:"Dịch sang phải",left:"Canh trái",center:"Canh giữa",right:"Canh phải",justify:"Canh đều"},color:{recent:"Màu chữ",more:"Mở rộng",background:"Màu nền",foreground:"Màu chữ",transparent:"trong suốt",setTransparent:"Nền trong suốt",reset:"Thiết lập lại",resetToDefault:"Trở lại ban đầu"},shortcut:{shortcuts:"Phím tắt",close:"Đóng",textFormatting:"Định dạng Văn bản",action:"Hành động",paragraphFormatting:"Định dạng",documentStyle:"Kiểu văn bản",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Lùi lại",redo:"Làm lại"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],48:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"zh-CN":{font:{bold:"粗体",italic:"斜体",underline:"下划线",clear:"清除格式",height:"行高",name:"字体",strikethrough:"删除线",subscript:"下标",superscript:"上标",size:"字号"},image:{image:"图片",insert:"插入图片",resizeFull:"缩放至 100%",resizeHalf:"缩放至 50%",resizeQuarter:"缩放至 25%",floatLeft:"靠左浮动",floatRight:"靠右浮动",floatNone:"取消浮动",shapeRounded:"形状: 圆角",shapeCircle:"形状: 圆",shapeThumbnail:"形状: 缩略图",shapeNone:"形状: 无",dragImageHere:"将图片拖拽至此处",dropImage:"拖拽图片或文本",selectFromFiles:"从本地上传",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"图片地址",remove:"移除图片",original:"原始图片"},video:{video:"视频",videoLink:"视频链接",insert:"插入视频",url:"视频地址",providers:"(优酷, 腾讯, Instagram, DailyMotion, Youtube等)"},link:{link:"链接",insert:"插入链接",unlink:"去除链接",edit:"编辑链接",textToDisplay:"显示文本",url:"链接地址",openInNewWindow:"在新窗口打开"},table:{table:"表格",addRowAbove:"在上方插入行",addRowBelow:"在下方插入行",addColLeft:"在左侧插入列",addColRight:"在右侧插入列",delRow:"删除行",delCol:"删除列",delTable:"删除表格"},hr:{insert:"水平线"},style:{style:"样式",p:"普通",blockquote:"引用",pre:"代码",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},lists:{unordered:"无序列表",ordered:"有序列表"},options:{help:"帮助",fullscreen:"全屏",codeview:"源代码"},paragraph:{paragraph:"段落",outdent:"减少缩进",indent:"增加缩进",left:"左对齐",center:"居中对齐",right:"右对齐",justify:"两端对齐"},color:{recent:"最近使用",more:"更多",background:"背景",foreground:"前景",transparent:"透明",setTransparent:"透明",reset:"重置",resetToDefault:"默认"},shortcut:{shortcuts:"快捷键",close:"关闭",textFormatting:"文本格式",action:"动作",paragraphFormatting:"段落格式",documentStyle:"文档样式",extraKeys:"额外按键"},help:{insertParagraph:"插入段落",undo:"撤销",redo:"重做",tab:"增加缩进",untab:"减少缩进",bold:"粗体",italic:"斜体",underline:"下划线",strikethrough:"删除线",removeFormat:"清除格式",justifyLeft:"左对齐",justifyCenter:"居中对齐",justifyRight:"右对齐",justifyFull:"两端对齐",insertUnorderedList:"无序列表",insertOrderedList:"有序列表",outdent:"减少缩进",indent:"增加缩进",formatPara:"设置选中内容样式为 普通",formatH1:"设置选中内容样式为 标题1",formatH2:"设置选中内容样式为 标题2",formatH3:"设置选中内容样式为 标题3",formatH4:"设置选中内容样式为 标题4",formatH5:"设置选中内容样式为 标题5",formatH6:"设置选中内容样式为 标题6",insertHorizontalRule:"插入水平线","linkDialog.show":"显示链接对话框"},history:{undo:"撤销",redo:"重做"},specialChar:{specialChar:"特殊字符",select:"选取特殊字符"}}})}(jQuery)},{}],49:[function(a,b,c){"use strict";!function(a){a.extend(a.summernote.lang,{"zh-TW":{font:{bold:"粗體",italic:"斜體",underline:"底線",clear:"清除格式",height:"行高",name:"字體",strikethrough:"刪除線",subscript:"下標",superscript:"上標",size:"字號"},image:{image:"圖片",insert:"插入圖片",resizeFull:"縮放至100%",resizeHalf:"縮放至 50%",resizeQuarter:"縮放至 25%",floatLeft:"靠左浮動",floatRight:"靠右浮動",floatNone:"取消浮動",shapeRounded:"形狀: 圓角",shapeCircle:"形狀: 圓",shapeThumbnail:"形狀: 縮略圖",shapeNone:"形狀: 無",dragImageHere:"將圖片拖曳至此處",dropImage:"Drop image or Text",selectFromFiles:"從本機上傳",maximumFileSize:"文件大小最大值",maximumFileSizeError:"文件大小超出最大值。",url:"圖片網址",remove:"移除圖片",original:"Original"},video:{video:"影片",videoLink:"影片連結",insert:"插入影片",url:"影片網址",providers:"(優酷, Instagram, DailyMotion, Youtube等)"},link:{link:"連結",insert:"插入連結",unlink:"取消連結",edit:"編輯連結",textToDisplay:"顯示文字",url:"連結網址",openInNewWindow:"在新視窗開啟"},table:{table:"表格",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"水平線"},style:{style:"樣式",p:"一般",blockquote:"引用區塊",pre:"程式碼區塊",h1:"標題 1",h2:"標題 2",h3:"標題 3",h4:"標題 4",h5:"標題 5",h6:"標題 6"},lists:{unordered:"項目清單",ordered:"編號清單"},options:{help:"幫助",fullscreen:"全螢幕",codeview:"原始碼"},paragraph:{paragraph:"段落",outdent:"取消縮排",indent:"增加縮排",left:"靠右對齊",center:"靠中對齊",right:"靠右對齊",justify:"左右對齊"},color:{recent:"字型顏色",more:"更多",background:"背景",foreground:"前景",transparent:"透明",setTransparent:"透明",reset:"重設",resetToDefault:"默認"},shortcut:{shortcuts:"快捷鍵",close:"關閉",textFormatting:"文字格式",action:"動作",paragraphFormatting:"段落格式",documentStyle:"文件格式",extraKeys:"額外按鍵"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"復原",redo:"取消復原"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}})}(jQuery)},{}],50:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"===("undefined"==typeof b?"undefined":d(b))&&b.exports?b.exports=c(a("jquery")):c(window.jQuery)}(function(a){var b=a.summernote.ui,c=a.summernote.dom,d=function(d){var e=this,f=d.options,g=f.langInfo;e.icon='<i class="fa fa-object-group"/>',d.memo("button.databasic",function(){return b.button({contents:e.icon,tooltip:g.databasic.insert,click:d.createInvokeHandler("databasic.showDialog")}).render()}),d.memo("button.databasicDialog",function(){return b.button({contents:e.icon,tooltip:g.databasic.edit,click:d.createInvokeHandler("databasic.showDialog")}).render()}),d.memo("button.databasicSize100",function(){return b.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:g.image.resizeFull,click:d.createInvokeHandler("editor.resize","1")}).render()}),d.memo("button.databasicSize50",function(){return b.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:g.image.resizeHalf,click:d.createInvokeHandler("editor.resize","0.5")}).render()}),d.memo("button.databasicSize25",function(){return b.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:g.image.resizeQuarter,click:d.createInvokeHandler("editor.resize","0.25")}).render()}),e.events={"summernote.init":function(b,c){a("data.ext-databasic",c.editable).each(function(){e.setContent(a(this))})},"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){e.update()},"summernote.dialog.shown":function(){e.hidePopover()}},e.initialize=function(){var c=f.dialogsInBody?a(document.body):d.layoutInfo.editor,h='<div class="form-group row-fluid"><label>'+g.databasic.testLabel+'</label><input class="ext-databasic-test form-control" type="text" /></div>',i='<button href="#" class="btn btn-primary ext-databasic-save">'+g.databasic.insert+"</button>";e.$dialog=b.dialog({title:g.databasic.name,fade:f.dialogsFade,body:h,footer:i}).render().appendTo(c),e.$popover=b.popover({className:"ext-databasic-popover"}).render().appendTo("body");var j=e.$popover.find(".popover-content");d.invoke("buttons.build",j,f.popover.databasic)},e.destroy=function(){e.$popover.remove(),e.$popover=null,e.$dialog.remove(),e.$dialog=null},e.update=function(){if(!d.invoke("editor.hasFocus"))return void e.hidePopover();var b=d.invoke("editor.createRange"),f=!1;if(b.isOnData()){var g=a(b.sc).closest("data.ext-databasic");if(g.length){var h=c.posFromPlaceholder(g[0]);e.$popover.css({display:"block",left:h.left,top:h.top}),d.invoke("editor.saveTarget",g[0]),f=!0}}f||e.hidePopover()},e.hidePopover=function(){e.$popover.hide()},e.getInfo=function(){var b=d.invoke("editor.createRange");if(b.isOnData()){var c=a(b.sc).closest("data.ext-databasic");if(c.length)return{node:c,test:c.attr("data-test")}}return{}},e.setContent=function(a){a.html('<p contenteditable="false">'+e.icon+" "+g.databasic.name+": "+a.attr("data-test")+"</p>")},e.updateNode=function(a){e.setContent(a.node.attr("data-test",a.test))},e.createNode=function(b){var c=a('<data class="ext-databasic"></data>');return c&&(b.node=c,d.invoke("editor.insertNode",c[0])),c},e.showDialog=function(){var c=e.getInfo(),f=!c.node;d.invoke("editor.saveRange"),e.openDialog(c).then(function(g){b.hideDialog(e.$dialog),d.invoke("editor.restoreRange"),f&&e.createNode(c),a.extend(c,g),e.updateNode(c)}).fail(function(){d.invoke("editor.restoreRange")})},e.openDialog=function(c){return a.Deferred(function(a){var f=e.$dialog.find(".ext-databasic-test"),h=e.$dialog.find(".ext-databasic-save"),i=function(a){13===a.keyCode&&h.trigger("click")};b.onDialogShown(e.$dialog,function(){d.triggerEvent("dialog.shown"),f.val(c.test).on("input",function(){b.toggleBtn(h,f.val())}).trigger("focus").on("keyup",i),h.text(c.node?g.databasic.edit:g.databasic.insert).click(function(b){b.preventDefault(),a.resolve({test:f.val()})}),b.toggleBtn(h,f.val())}),b.onDialogHidden(e.$dialog,function(){f.off("input keyup"),h.off("click"),"pending"===a.state()&&a.reject()}),b.showDialog(e.$dialog)})}};a.extend(!0,a.summernote,{plugins:{databasic:d},options:{popover:{databasic:[["databasic",["databasicDialog","databasicSize100","databasicSize50","databasicSize25"]]]}},lang:{"en-US":{databasic:{name:"Basic Data Container",insert:"insert basic data container",edit:"edit basic data container",testLabel:"test input"}}}})})},{jquery:528}],51:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"===("undefined"==typeof b?"undefined":d(b))&&b.exports?b.exports=c(a("jquery")):c(window.jQuery)}(function(a){a.extend(a.summernote.plugins,{hello:function(b){var c=this,d=a.summernote.ui;b.memo("button.hello",function(){var a=d.button({contents:'<i class="fa fa-child"/> Hello',tooltip:"hello",click:function(){c.$panel.show(),c.$panel.hide(500),b.invoke("editor.insertText","hello")}}),e=a.render();return e}),this.events={"summernote.init":function(a,b){},"summernote.keyup":function(a,b){}},this.initialize=function(){this.$panel=a('<div class="hello-panel"/>').css({position:"absolute",width:100,height:100,left:"50%",top:"50%",background:"red"}).hide(),this.$panel.appendTo("body")},this.destroy=function(){this.$panel.remove(),this.$panel=null}}})})},{jquery:528}],52:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(c){"function"==typeof define&&define.amd?define(["jquery"],c):"object"===("undefined"==typeof b?"undefined":d(b))&&b.exports?b.exports=c(a("jquery")):c(window.jQuery)}(function(a){a.extend(a.summernote.plugins,{specialchars:function(b){var c=this,d=a.summernote.ui,e=b.layoutInfo.editor,f=b.options,g=f.langInfo,h={UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13},i=15,j=35,k=0,l=0,m=0,n=0,o=["&quot;","&amp;","&lt;","&gt;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&not;","&reg;","&macr;","&deg;","&plusmn;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&raquo;","&frac14;","&frac12;","&frac34;","&iquest;","&times;","&divide;","&fnof;","&circ;","&tilde;","&ndash;","&mdash;","&lsquo;","&rsquo;","&sbquo;","&ldquo;","&rdquo;","&bdquo;","&dagger;","&Dagger;","&bull;","&hellip;","&permil;","&prime;","&Prime;","&lsaquo;","&rsaquo;","&oline;","&frasl;","&euro;","&image;","&weierp;","&real;","&trade;","&alefsym;","&larr;","&uarr;","&rarr;","&darr;","&harr;","&crarr;","&lArr;","&uArr;","&rArr;","&dArr;","&hArr;","&forall;","&part;","&exist;","&empty;","&nabla;","&isin;","&notin;","&ni;","&prod;","&sum;","&minus;","&lowast;","&radic;","&prop;","&infin;","&ang;","&and;","&or;","&cap;","&cup;","&int;","&there4;","&sim;","&cong;","&asymp;","&ne;","&equiv;","&le;","&ge;","&sub;","&sup;","&nsub;","&sube;","&supe;","&oplus;","&otimes;","&perp;","&sdot;","&lceil;","&rceil;","&lfloor;","&rfloor;","&loz;","&spades;","&clubs;","&hearts;","&diams;"];b.memo("button.specialchars",function(){return d.button({contents:'<i class="fa fa-font fa-flip-vertical">',tooltip:g.specialChar.specialChar,click:function(){c.show()}}).render()}),this.makeSpecialCharSetTable=function(){var b=a("<table/>");return a.each(o,function(c,e){var f=a("<td/>").addClass("note-specialchar-node"),g=c%i===0?a("<tr/>"):b.find("tr").last(),h=d.button({callback:function(a){a.html(e),a.attr("title",e),a.attr("data-value",encodeURIComponent(e)),a.css({width:j,"margin-right":"2px","margin-bottom":"2px"})}}).render();f.append(h),g.append(f),c%i===0&&b.append(g)}),n=b.find("tr").length,m=i,b},this.initialize=function(){var b=f.dialogsInBody?a(document.body):e,c='<div class="form-group row-fluid">'+this.makeSpecialCharSetTable()[0].outerHTML+"</div>";this.$dialog=d.dialog({title:g.specialChar.select,body:c}).render().appendTo(b)},this.show=function(){var c=b.invoke("editor.getSelectedText");b.invoke("editor.saveRange"),this.showSpecialCharDialog(c).then(function(c){b.invoke("editor.restoreRange");var d=a("<span></span>").html(c)[0];d&&b.invoke("editor.insertNode",d)}).fail(function(){b.invoke("editor.restoreRange")})},this.showSpecialCharDialog=function(b){return a.Deferred(function(e){function f(a){a&&(a.find("button").addClass("active"),t=a)}function g(a){a.find("button").removeClass("active"),t=null}function j(b,c){var d=null;return a.each(s,function(a,e){var f=Math.ceil((a+1)/i),g=(a+1)%i===0?i:(a+1)%i;return f===b&&g===c?(d=e,!1):void 0}),a(d)}function o(a){var b,c=s.length%m;h.LEFT===a?k>1?k-=1:1===l&&1===k?(k=c,l=n):(k=m,l-=1):h.RIGHT===a?l===n&&c===k?(k=1,l=1):m>k?k+=1:(k=1,l+=1):h.UP===a?1===l&&k>c?l=n-1:l-=1:h.DOWN===a&&(l+=1),l===n&&k>c?l=1:l>n?l=1:1>l&&(l=n),b=j(l,k),b&&(g(t),f(b))}function p(){t&&(e.resolve(decodeURIComponent(t.find("button").attr("data-value"))),r.modal("hide"))}function q(a){a.preventDefault();var b=a.keyCode;if(void 0!==b&&null!==b){if(u.indexOf(b)>-1){if(null===t)return f(s.eq(0)),k=1,void(l=1);o(b)}else b===v&&p();return!1}}var r=c.$dialog,s=r.find(".note-specialchar-node"),t=null,u=[h.UP,h.DOWN,h.LEFT,h.RIGHT],v=h.ENTER;if(g(s),b)for(var w=0;w<s.length;w++){var x=a(s[w]);x.text()===b&&(f(x),l=Math.ceil((w+1)/i),k=(w+1)%i)}d.onDialogShown(c.$dialog,function(){a(document).on("keydown",q),c.$dialog.find("button").tooltip(),s.on("click",function(b){b.preventDefault(),e.resolve(decodeURIComponent(a(b.currentTarget).find("button").attr("data-value"))),d.hideDialog(c.$dialog)})}),d.onDialogHidden(c.$dialog,function(){s.off("click"),c.$dialog.find("button").tooltip("destroy"),a(document).off("keydown",q),"pending"===e.state()&&e.reject()}),d.showDialog(c.$dialog)})}}})})},{jquery:528}],53:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(e,f){"object"===("undefined"==typeof c?"undefined":d(c))&&"undefined"!=typeof b?f(a("jquery")):"function"==typeof define&&define.amd?define(["jquery"],f):(e=e||self,f(e.jQuery))}(void 0,function(a){function b(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",d="200px",e=document.createElement("canvas"),f=e.getContext("2d");f.font=d+" '"+b+"'";var g=f.measureText(c).width;f.font=d+" '"+a+"', '"+b+"'";var h=f.measureText(c).width;return g!==h}function c(a){return function(b){return a===b}}function e(a,b){return a===b}function f(a){return function(b,c){return b[a]===c[a]}}function g(){return!0}function h(){return!1}function i(a){return function(){return!a.apply(a,arguments)}}function j(a,b){return function(c){return a(c)&&b(c)}}function k(a){return a}function l(a,b){return function(){return a[b].apply(a,arguments)}}function m(a){var b=++yb+"";return a?a+b:b}function n(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}}function o(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function p(a,b){return b=b||"",b+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")}function q(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function r(a){var b=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return b.test(a)}function s(a){return a[0]}function t(a){return a[a.length-1]}function u(a){return a.slice(0,a.length-1)}function v(a){return a.slice(1)}function w(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e))return e}}function x(a,b){for(var c=0,d=a.length;d>c;c++)if(!b(a[c]))return!1;return!0}function y(a,b){return a&&a.length&&b?-1!==a.indexOf(b):!1}function z(a,b){return b=b||zb.self,a.reduce(function(a,c){return a+b(c)},0)}function A(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b}function B(a){return!a||!a.length}function C(a,b){if(!a.length)return[];var c=v(a);return c.reduce(function(a,c){var d=t(a);return b(t(d),c)?d[d.length]=c:a[a.length]=[c],a},[[s(a)]])}function D(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b}function E(a){for(var b=[],c=0,d=a.length;d>c;c++)y(b,a[c])||b.push(a[c]);return b}function F(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c+1]}return null}function G(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c-1]}return null}function H(b){return b&&a(b).hasClass("note-editable")}function I(b){return b&&a(b).hasClass("note-control-sizing")}function J(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}function K(a){return a&&3===a.nodeType}function L(a){return a&&1===a.nodeType}function M(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase())}function N(a){return H(a)?!1:a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())}function O(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())}function P(a){return N(a)&&!Eb(a)}function Q(a){return!(T(a)||R(a)||Hb(a)||N(a)||Fb(a)||Ib(a)||Gb(a))}function R(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function S(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function T(a){return S(a)||Ib(a)||H(a)}function U(a){return Q(a)&&!!aa(a,N)}function V(a){return Q(a)&&!aa(a,N)}function W(a,b){return a.nextSibling===b||a.previousSibling===b}function X(a,b){b=b||zb.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c}function Y(a){return K(a)?a.nodeValue.length:a?a.childNodes.length:0}function Z(a){var b=Y(a);return 0===b?!0:K(a)||1!==b||a.innerHTML!==Lb?Ab.all(a.childNodes,K)&&""===a.innerHTML?!0:!1:!0}function _(a){M(a)||Y(a)||(a.innerHTML=Lb)}function aa(a,b){for(;a;){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ba(a,b){for(a=a.parentNode;a&&1===Y(a);){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ca(a,b){b=b||zb.fail;var c=[];return aa(a,function(a){return H(a)||c.push(a),b(a)}),c}function da(a,b){var c=ca(a);return Ab.last(c.filter(b));
}function ea(a,b){for(var c=ca(a),d=b;d;d=d.parentNode)if(c.indexOf(d)>-1)return d;return null}function fa(a,b){b=b||zb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c}function ga(a,b){b=b||zb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}function ha(a,b){var c=[];return b=b||zb.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;g>f;f++)d(e.childNodes[f])}(a),c}function ia(b,c){var d=b.parentNode,e=a("<"+c+">")[0];return d.insertBefore(e,b),e.appendChild(b),e}function ja(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function ka(b,c){return a.each(c,function(a,c){b.appendChild(c)}),b}function la(a){return 0===a.offset}function ma(a){return a.offset===Y(a.node)}function na(a){return la(a)||ma(a)}function oa(a,b){for(;a&&a!==b;){if(0!==sa(a))return!1;a=a.parentNode}return!0}function pa(a,b){if(!b)return!1;for(;a&&a!==b;){if(sa(a)!==Y(a.parentNode)-1)return!1;a=a.parentNode}return!0}function qa(a,b){return la(a)&&oa(a.node,b)}function ra(a,b){return ma(a)&&pa(a.node,b)}function sa(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function ta(a){return!!(a&&a.childNodes&&a.childNodes.length)}function ua(a,b){var c,d;if(0===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)}else ta(a.node)?(c=a.node.childNodes[a.offset-1],d=Y(c)):(c=a.node,d=b?0:a.offset-1);return{node:c,offset:d}}function va(a,b){var c,d;if(Y(a.node)===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)+1}else ta(a.node)?(c=a.node.childNodes[a.offset],d=0):(c=a.node,d=b?Y(a.node):a.offset+1);return{node:c,offset:d}}function wa(a,b){return a.node===b.node&&a.offset===b.offset}function xa(a){if(K(a.node)||!ta(a.node)||Z(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return b&&!M(b)||c&&!M(c)?!1:!0}function ya(a,b){for(;a;){if(b(a))return a;a=ua(a)}return null}function za(a,b){for(;a;){if(b(a))return a;a=va(a)}return null}function Aa(a){if(!K(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==Bb}function Ba(a,b,c,d){for(var e=a;e&&(c(e),!wa(e,b));){var f=d&&a.node!==e.node&&b.node!==e.node;e=va(e,f)}}function Ca(a,b){var c=ca(b,zb.eq(a));return c.map(sa).reverse()}function Da(a,b){for(var c=a,d=0,e=b.length;e>d;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c}function Ea(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;if(e&&(c=!0),na(a)&&(K(a.node)||d)){if(la(a))return a.node;if(ma(a))return a.node.nextSibling}if(K(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=ja(a.node.cloneNode(!1),a.node);return ka(g,ga(f)),c||(_(a.node),_(g)),e&&(Z(a.node)&&Ja(a.node),Z(g))?(Ja(g),a.node.nextSibling):g}function Fa(a,b,c){var d=ca(b.node,zb.eq(a));return d.length?1===d.length?Ea(b,c):d.reduce(function(a,d){return a===b.node&&(a=Ea(b,c)),Ea({node:d,offset:a?sa(a):Y(d)},c)}):null}function Ga(a,b){var c,d,e=b?N:T,f=ca(a.node,e),g=Ab.last(f)||a.node;e(g)?(c=f[f.length-2],d=g):(c=g,d=c.parentNode);var h=c&&Fa(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}}function Ha(a){return document.createElement(a)}function Ia(a){return document.createTextNode(a)}function Ja(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)d.push(a.childNodes[e]);for(var e=0,f=d.length;f>e;e++)c.insertBefore(d[e],a)}c.removeChild(a)}}function Ka(a,b){for(;a&&!H(a)&&b(a);){var c=a.parentNode;Ja(a),a=c}}function La(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=Ha(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),ka(c,Ab.from(a.childNodes)),ja(c,a),Ja(a),c}function Ma(a,b){var c=Mb(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}function Na(a,b){var c=Ma(a);if(b){var d=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;c=c.replace(d,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),c=c.trim()}return c}function Oa(b){var c=a(b),d=c.offset(),e=c.outerHeight(!0);return{left:d.left,top:d.top+e}}function Pa(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})}function Qa(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})}function Ra(a){return a&&!K(a)&&Ab.contains(a.classList,"note-styletag")}function Sa(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=Ab.from(e.childNodes);for(c=0;c<g.length;c++)if(!Nb.isText(g[c])){if(f.moveToElementText(g[c]),f.compareEndPoints("StartToStart",a)>=0)break;d=g[c]}if(0!==c&&Nb.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue;b&&i.nextSibling&&Nb.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}function Ta(a){var b=function e(a,b){var c,d;if(Nb.isText(a)){var f=Nb.listPrev(a,zb.not(Nb.isText)),g=Ab.last(f).previousSibling;c=g||a.parentNode,b+=Ab.sum(Ab.tail(f),Nb.nodeLength),d=!g}else{if(c=a.childNodes[b]||a,Nb.isText(c))return e(c,0);b=0,d=!1}return{node:c,collapseToStart:d,offset:b}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}function Ua(b){return a.Deferred(function(c){a.extend(new FileReader,{onload:function(a){var b=a.target.result;c.resolve(b)},onerror:function(a){c.reject(a)}}).readAsDataURL(b)}).promise()}function Va(b){return a.Deferred(function(c){var d=a("<img>");d.one("load",function(){d.off("error abort"),c.resolve(d)}).one("error abort",function(){d.off("load").detach(),c.reject(d)}).css({display:"none"}).appendTo(document.body).attr("src",b)}).promise()}a=a&&a.hasOwnProperty("default")?a["default"]:a;var Wa=function(){function b(a,b,c,d){this.markup=a,this.children=b,this.options=c,this.callback=d}return b.prototype.render=function(b){var c=a(this.markup);if(this.options&&this.options.contents&&c.html(this.options.contents),this.options&&this.options.className&&c.addClass(this.options.className),this.options&&this.options.data&&a.each(this.options.data,function(a,b){c.attr("data-"+a,b)}),this.options&&this.options.click&&c.on("click",this.options.click),this.children){var d=c.find(".note-children-container");this.children.forEach(function(a){a.render(d.length?d:c)})}return this.callback&&this.callback(c,this.options),this.options&&this.options.callback&&this.options.callback(c),b&&b.append(c),c},b}(),Xa={create:function(a,b){return function(){var c="object"===d(arguments[1])?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(e=c.children),new Wa(a,e,c,b)}}},Ya=Xa.create('<div class="note-editor note-frame card"/>'),Za=Xa.create('<div class="note-toolbar card-header" role="toolbar"></div>'),$a=Xa.create('<div class="note-editing-area"/>'),_a=Xa.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),ab=Xa.create('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),bb=Xa.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),cb=Xa.create('<div class="note-editor"/>'),db=Xa.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),eb=Xa.create('<div class="note-btn-group btn-group">'),fb=Xa.create('<div class="dropdown-menu" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",e=b.template?b.template(a):a,f="object"===d(a)?a.option:void 0,g='data-value="'+c+'"',h=void 0!==f?' data-option="'+f+'"':"";return'<a class="dropdown-item" href="#" '+(g+h)+' role="listitem" aria-label="'+c+'">'+e+"</a>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),gb=function(a){return a},hb=Xa.create('<div class="dropdown-menu note-check" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a;return'<a class="dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+a+'">'+mb(b.checkClassName)+" "+d+"</a>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),ib=Xa.create('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;e>d;d++){for(var f=b.eventName,g=b.colors[d],h=b.colorsName[d],i=[],j=0,k=g.length;k>j;j++){var l=g[j],m=h[j];i.push(['<button type="button" class="note-color-btn"','style="background-color:',l,'" ','data-event="',f,'" ','data-value="',l,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+i.join("")+"</div>")}a.html(c.join("")),b.tooltip&&a.find(".note-color-btn").tooltip({container:b.container,trigger:"hover",placement:"bottom"})}),jb=Xa.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['<div class="modal-dialog">','  <div class="modal-content">',b.title?'    <div class="modal-header">      <h4 class="modal-title">'+b.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':"",'    <div class="modal-body">'+b.body+"</div>",b.footer?'    <div class="modal-footer">'+b.footer+"</div>":"","  </div>","</div>"].join(""))}),kb=Xa.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c="undefined"!=typeof b.direction?b.direction:"bottom";a.addClass(c),b.hideArrow&&a.find(".arrow").hide()}),lb=Xa.create('<div class="form-check"></div>',function(a,b){a.html(['<label class="form-check-label"'+(b.id?' for="'+b.id+'"':"")+">",' <input role="checkbox" type="checkbox" class="form-check-input"'+(b.id?' id="'+b.id+'"':""),b.checked?" checked":"",' aria-label="'+(b.text?b.text:"")+'"',' aria-checked="'+(b.checked?"true":"false")+'"/>'," "+(b.text?b.text:"")+"</label>"].join(""))}),mb=function(a,b){return b=b||"i","<"+b+' class="'+a+'"/>'},nb={editor:Ya,toolbar:Za,editingArea:$a,codable:_a,editable:ab,statusbar:bb,airEditor:cb,airEditable:db,buttonGroup:eb,dropdown:fb,dropdownButtonContents:gb,dropdownCheck:hb,palette:ib,dialog:jb,popover:kb,icon:mb,checkbox:lb,options:{},button:function(b,c){return Xa.create('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',function(b,c){c&&c.tooltip&&b.attr({title:c.tooltip,"aria-label":c.tooltip}).tooltip({container:void 0!==c.container?c.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(b){a(b.currentTarget).tooltip("hide")})})(b,c)},toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},onDialogShown:function(a,b){a.one("shown.bs.modal",b)},onDialogHidden:function(a,b){a.one("hidden.bs.modal",b)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,b){var c=(b.airMode?nb.airEditor([nb.editingArea([nb.airEditable()])]):nb.editor([nb.toolbar(),nb.editingArea([nb.codable(),nb.editable()]),nb.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.show()}};a.summernote=a.summernote||{lang:{}},a.extend(a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var ob,pb="function"==typeof define&&define.amd,qb=navigator.userAgent,rb=/MSIE|Trident/i.test(qb);if(rb){var sb=/MSIE (\d+[.]\d+)/.exec(qb);sb&&(ob=parseFloat(sb[1])),sb=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(qb),sb&&(ob=parseFloat(sb[1]))}var tb=/Edge\/\d+/.test(qb),ub=!!window.CodeMirror,vb="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,wb=rb||tb?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",xb={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:rb,isEdge:tb,isFF:!tb&&/firefox/i.test(qb),isPhantom:/PhantomJS/i.test(qb),isWebkit:!tb&&/webkit/i.test(qb),isChrome:!tb&&/chrome/i.test(qb),isSafari:!tb&&/safari/i.test(qb),browserVersion:ob,jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:pb,isSupportTouch:vb,hasCodeMirror:ub,isFontInstalled:b,isW3CRangeSupport:!!document.createRange,inputEventName:wb},yb=0,zb={eq:c,eq2:e,peq2:f,ok:g,fail:h,self:k,not:i,and:j,invoke:l,uniqueId:m,rect2bnd:n,invertObject:o,namespaceToCamel:p,debounce:q,isValidUrl:r},Ab={head:s,last:t,initial:u,tail:v,prev:G,next:F,find:w,contains:y,all:x,sum:z,from:A,isEmpty:B,clusterBy:C,compact:D,unique:E},Bb=String.fromCharCode(160),Cb="\ufeff",Db=J("PRE"),Eb=J("LI"),Fb=J("TABLE"),Gb=J("DATA"),Hb=J("HR"),Ib=J("BLOCKQUOTE"),Jb=J("A"),Kb=J("BODY"),Lb=xb.isMSIE&&xb.browserVersion<11?"&nbsp;":"<br>",Mb=J("TEXTAREA"),Nb={NBSP_CHAR:Bb,ZERO_WIDTH_NBSP_CHAR:Cb,blank:Lb,emptyPara:"<p>"+Lb+"</p>",makePredByNodeName:J,isEditable:H,isControlSizing:I,isText:K,isElement:L,isVoid:M,isPara:N,isPurePara:P,isHeading:O,isInline:Q,isBlock:zb.not(Q),isBodyInline:V,isBody:Kb,isParaInline:U,isPre:Db,isList:R,isTable:Fb,isData:Gb,isCell:S,isBlockquote:Ib,isBodyContainer:T,isAnchor:Jb,isDiv:J("DIV"),isLi:Eb,isBR:J("BR"),isSpan:J("SPAN"),isB:J("B"),isU:J("U"),isS:J("S"),isI:J("I"),isImg:J("IMG"),isTextarea:Mb,isEmpty:Z,isEmptyAnchor:zb.and(Jb,Z),isClosestSibling:W,withClosestSiblings:X,nodeLength:Y,isLeftEdgePoint:la,isRightEdgePoint:ma,isEdgePoint:na,isLeftEdgeOf:oa,isRightEdgeOf:pa,isLeftEdgePointOf:qa,isRightEdgePointOf:ra,prevPoint:ua,nextPoint:va,isSamePoint:wa,isVisiblePoint:xa,prevPointUntil:ya,nextPointUntil:za,isCharPoint:Aa,walkPoint:Ba,ancestor:aa,singleChildAncestor:ba,listAncestor:ca,lastAncestor:da,listNext:ga,listPrev:fa,listDescendant:ha,commonAncestor:ea,wrap:ia,insertAfter:ja,appendChildNodes:ka,position:sa,hasChildren:ta,makeOffsetPath:Ca,fromOffsetPath:Da,splitTree:Fa,splitPoint:Ga,create:Ha,createText:Ia,remove:Ja,removeWhile:Ka,replace:La,html:Na,value:Ma,posFromPlaceholder:Oa,attachEvents:Pa,detachEvents:Qa,isCustomStyleTag:Ra},Ob=function(){function b(b,c){this.ui=a.summernote.ui,this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=c,this.initialize()}return b.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},b.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},b.prototype.reset=function(){var a=this.isDisabled();this.code(Nb.emptyPara),this._destroy(),this._initialize(),a&&this.disable()},b.prototype._initialize=function(){var b=this,c=a.extend({},this.options.buttons);Object.keys(c).forEach(function(a){b.memo("button."+a,c[a])});var d=a.extend({},this.options.modules,a.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)}),Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})},b.prototype._destroy=function(){var a=this;Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),this.triggerEvent("destroy",this)},b.prototype.code=function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.layoutInfo.codable.val(a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)},b.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},b.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},b.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},b.prototype.triggerEvent=function(){var a=Ab.head(arguments),b=Ab.tail(Ab.from(arguments)),c=this.options.callbacks[zb.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)},b.prototype.initializeModule=function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||zb.ok,b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&Nb.attachEvents(this.$note,b.events))},b.prototype.module=function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))},b.prototype.removeModule=function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&Nb.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]},b.prototype.memo=function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)},b.prototype.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},b.prototype.createInvokeHandlerAndUpdateState=function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}},b.prototype.createInvokeHandler=function(b,c){var d=this;return function(e){e.preventDefault();var f=a(e.target);d.invoke(b,c||f.closest("[data-value]").data("value"),f)}},b.prototype.invoke=function(){var a=Ab.head(arguments),b=Ab.tail(Ab.from(arguments)),c=a.split("."),d=c.length>1,e=d&&Ab.head(c),f=d?Ab.last(c):Ab.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},b}();a.fn.extend({summernote:function(){var b=a.type(Ab.head(arguments)),c="string"===b,d="object"===b,e=a.extend({},a.summernote.options,d?Ab.head(arguments):{});e.langInfo=a.extend(!0,{},a.summernote.lang["en-US"],a.summernote.lang[e.lang]),e.icons=a.extend(!0,{},a.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!xb.isSupportTouch:e.tooltip,this.each(function(b,c){var d=a(c);if(!d.data("summernote")){var f=new Ob(d,e);d.data("summernote",f),d.data("summernote").triggerEvent("init",f.layoutInfo)}});var f=this.first();if(f.length){var g=f.data("summernote");if(c)return g.invoke.apply(g,Ab.from(arguments));e.focus&&g.invoke("editor.focus")}return this}});var Pb=function(){function b(a,b,c,d){this.sc=a,this.so=b,this.ec=c,this.eo=d,this.isOnEditable=this.makeIsOn(Nb.isEditable),this.isOnList=this.makeIsOn(Nb.isList),this.isOnAnchor=this.makeIsOn(Nb.isAnchor),this.isOnCell=this.makeIsOn(Nb.isCell),this.isOnData=this.makeIsOn(Nb.isData)}return b.prototype.nativeRange=function(){if(xb.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),a.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),a}var b=Ta({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",Ta({node:this.ec,offset:this.eo})),b},b.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},b.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},b.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},b.prototype.select=function(){var a=this.nativeRange();if(xb.isW3CRangeSupport){var b=document.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},b.prototype.scrollIntoView=function(b){var c=a(b).height();return b.scrollTop+c<this.sc.offsetTop&&(b.scrollTop+=Math.abs(b.scrollTop+c-this.sc.offsetTop)),this},b.prototype.normalize=function(){var a=function(a,b){if(Nb.isVisiblePoint(a)&&(!Nb.isEdgePoint(a)||Nb.isRightEdgePoint(a)&&!b||Nb.isLeftEdgePoint(a)&&b||Nb.isRightEdgePoint(a)&&b&&Nb.isVoid(a.node.nextSibling)||Nb.isLeftEdgePoint(a)&&!b&&Nb.isVoid(a.node.previousSibling)||Nb.isBlock(a.node)&&Nb.isEmpty(a.node)))return a;var c=Nb.ancestor(a.node,Nb.isBlock);if((Nb.isLeftEdgePointOf(a,c)||Nb.isVoid(Nb.prevPoint(a).node))&&!b||(Nb.isRightEdgePointOf(a,c)||Nb.isVoid(Nb.nextPoint(a).node))&&b){if(Nb.isVisiblePoint(a))return a;b=!b}var d=b?Nb.nextPointUntil(Nb.nextPoint(a),Nb.isVisiblePoint):Nb.prevPointUntil(Nb.prevPoint(a),Nb.isVisiblePoint);return d||a},c=a(this.getEndPoint(),!1),d=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(d.node,d.offset,c.node,c.offset)},b.prototype.nodes=function(a,b){a=a||zb.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return Nb.walkPoint(e,f,function(b){if(!Nb.isEditable(b.node)){var e;d?(Nb.isLeftEdgePoint(b)&&h.push(b.node),Nb.isRightEdgePoint(b)&&Ab.contains(h,b.node)&&(e=b.node)):e=c?Nb.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e)}},!0),Ab.unique(g)},b.prototype.commonAncestor=function(){return Nb.commonAncestor(this.sc,this.ec)},b.prototype.expand=function(a){var c=Nb.ancestor(this.sc,a),d=Nb.ancestor(this.ec,a);if(!c&&!d)return new b(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=Nb.nodeLength(d)),new b(e.sc,e.so,e.ec,e.eo)},b.prototype.collapse=function(a){return a?new b(this.sc,this.so,this.sc,this.so):new b(this.ec,this.eo,this.ec,this.eo)},b.prototype.splitText=function(){var a=this.sc===this.ec,c=this.getPoints();return Nb.isText(this.ec)&&!Nb.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Nb.isText(this.sc)&&!Nb.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,a&&(c.ec=c.sc,c.eo=this.eo-this.so)),new b(c.sc,c.so,c.ec,c.eo)},b.prototype.deleteContents=function(){if(this.isCollapsed())return this;var c=this.splitText(),d=c.nodes(null,{fullyContains:!0}),e=Nb.prevPointUntil(c.getStartPoint(),function(a){return!Ab.contains(d,a.node)}),f=[];return a.each(d,function(a,b){var c=b.parentNode;e.node!==c&&1===Nb.nodeLength(c)&&f.push(c),Nb.remove(b,!1)}),a.each(f,function(a,b){Nb.remove(b,!1)}),new b(e.node,e.offset,e.node,e.offset).normalize()},b.prototype.makeIsOn=function(a){return function(){var b=Nb.ancestor(this.sc,a);return!!b&&b===Nb.ancestor(this.ec,a)}},b.prototype.isLeftEdgeOf=function(a){if(!Nb.isLeftEdgePoint(this.getStartPoint()))return!1;var b=Nb.ancestor(this.sc,a);return b&&Nb.isLeftEdgeOf(this.sc,b)},b.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},b.prototype.wrapBodyInlineWithPara=function(){if(Nb.isBodyContainer(this.sc)&&Nb.isEmpty(this.sc))return this.sc.innerHTML=Nb.emptyPara,new b(this.sc.firstChild,0,this.sc.firstChild,0);var a=this.normalize();if(Nb.isParaInline(this.sc)||Nb.isPara(this.sc))return a;var c;if(Nb.isInline(a.sc)){var d=Nb.listAncestor(a.sc,zb.not(Nb.isInline));c=Ab.last(d),Nb.isInline(c)||(c=d[d.length-2]||a.sc.childNodes[a.so])}else c=a.sc.childNodes[a.so>0?a.so-1:0];var e=Nb.listPrev(c,Nb.isParaInline).reverse();if(e=e.concat(Nb.listNext(c.nextSibling,Nb.isParaInline)),e.length){var f=Nb.wrap(Ab.head(e),"p");Nb.appendChildNodes(f,Ab.tail(e))}return this.normalize()},b.prototype.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=Nb.splitPoint(b.getStartPoint(),Nb.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},b.prototype.pasteHTML=function(b){var c=a("<div></div>").html(b)[0],d=Ab.from(c.childNodes),e=this.wrapBodyInlineWithPara().deleteContents();return e.so>0&&(d=d.reverse()),d=d.map(function(a){return e.insertNode(a)}),e.so>0&&(d=d.reverse()),d},b.prototype.toString=function(){var a=this.nativeRange();return xb.isW3CRangeSupport?a.toString():a.text},b.prototype.getWordRange=function(a){var c=this.getEndPoint();if(!Nb.isCharPoint(c))return this;var d=Nb.prevPointUntil(c,function(a){return!Nb.isCharPoint(a)});return a&&(c=Nb.nextPointUntil(c,function(a){return!Nb.isCharPoint(a)})),new b(d.node,d.offset,c.node,c.offset)},b.prototype.bookmark=function(a){return{s:{path:Nb.makeOffsetPath(a,this.sc),offset:this.so},e:{path:Nb.makeOffsetPath(a,this.ec),offset:this.eo}}},b.prototype.paraBookmark=function(a){return{s:{path:Ab.tail(Nb.makeOffsetPath(Ab.head(a),this.sc)),offset:this.so},e:{path:Ab.tail(Nb.makeOffsetPath(Ab.last(a),this.ec)),offset:this.eo}}},b.prototype.getClientRects=function(){var a=this.nativeRange();return a.getClientRects()},b}(),Qb={create:function(a,b,c,d){if(4===arguments.length)return new Pb(a,b,c,d);if(2===arguments.length)return c=a,d=b,new Pb(a,b,c,d);var e=this.createFromSelection();return e||1!==arguments.length?e:(e=this.createFromNode(arguments[0]),e.collapse(Nb.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var a,b,c,d;if(xb.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Nb.isBody(e.anchorNode))return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=Sa(i,!0),k=Sa(h,!1);Nb.isText(j.node)&&Nb.isLeftEdgePoint(j)&&Nb.isTextNode(k.node)&&Nb.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new Pb(a,b,c,d)},createFromNode:function(a){var b=a,c=0,d=a,e=Nb.nodeLength(d);return Nb.isVoid(b)&&(c=Nb.listPrev(b).length-1,b=b.parentNode),Nb.isBR(d)?(e=Nb.listPrev(d).length-1,d=d.parentNode):Nb.isVoid(d)&&(e=Nb.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var c=Nb.fromOffsetPath(a,b.s.path),d=b.s.offset,e=Nb.fromOffsetPath(a,b.e.path),f=b.e.offset;return new Pb(c,d,e,f)},createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=Nb.fromOffsetPath(Ab.head(b),a.s.path),f=Nb.fromOffsetPath(Ab.last(b),a.e.path);return new Pb(e,c,f,d)}},Rb={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Sb={isEdit:function(a){return Ab.contains([Rb.BACKSPACE,Rb.TAB,Rb.ENTER,Rb.SPACE,Rb.DELETE],a)},isMove:function(a){return Ab.contains([Rb.LEFT,Rb.UP,Rb.RIGHT,Rb.DOWN],a)},nameFromCode:zb.invertObject(Rb),code:Rb},Tb=function(){function a(a){this.stack=[],this.stackOffset=-1,this.$editable=a,this.editable=a[0]}return a.prototype.makeSnapshot=function(){var a=Qb.create(this.editable),b={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):b}},a.prototype.applySnapshot=function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&Qb.createFromBookmark(this.editable,a.bookmark).select()},a.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},a.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},a.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},a.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},a}(),Ub=function(){function b(){}return b.prototype.jQueryCSS=function(b,c){
if(xb.jqueryVersion<1.9){var d={};return a.each(c,function(a,c){d[c]=b.css(c)}),d}return b.css(c)},b.prototype.fromNode=function(a){var b=["font-family","font-size","text-align","list-style-type","line-height"],c=this.jQueryCSS(a,b)||{};return c["font-size"]=parseInt(c["font-size"],10),c},b.prototype.stylePara=function(b,c){a.each(b.nodes(Nb.isPara,{includeAncestor:!0}),function(b,d){a(d).css(c)})},b.prototype.styleNodes=function(b,c){b=b.splitText();var d=c&&c.nodeName||"SPAN",e=!(!c||!c.expandClosestSibling),f=!(!c||!c.onlyPartialContains);if(b.isCollapsed())return[b.insertNode(Nb.create(d))];var g=Nb.makePredByNodeName(d),h=b.nodes(Nb.isText,{fullyContains:!0}).map(function(a){return Nb.singleChildAncestor(a,g)||Nb.wrap(a,d)});if(e){if(f){var i=b.nodes();g=zb.and(g,function(a){return Ab.contains(i,a)})}return h.map(function(b){var c=Nb.withClosestSiblings(b,g),d=Ab.head(c),e=Ab.tail(c);return a.each(e,function(a,b){Nb.appendChildNodes(d,b.childNodes),Nb.remove(b)}),Ab.head(c)})}return h},b.prototype.current=function(b){var c=a(Nb.isElement(b.sc)?b.sc:b.sc.parentNode),d=this.fromNode(c);try{d=a.extend(d,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||d["font-family"]})}catch(e){}if(b.isOnList()){var f=["circle","disc","disc-leading-zero","square"],g=f.indexOf(d["list-style-type"])>-1;d["list-style"]=g?"unordered":"ordered"}else d["list-style"]="none";var h=Nb.ancestor(b.sc,Nb.isPara);if(h&&h.style["line-height"])d["line-height"]=h.style.lineHeight;else{var i=parseInt(d["line-height"],10)/parseInt(d["font-size"],10);d["line-height"]=i.toFixed(1)}return d.anchor=b.isOnAnchor()&&Nb.ancestor(b.sc,Nb.isAnchor),d.ancestors=Nb.listAncestor(b.sc,Nb.isEditable),d.range=b,d},b}(),Vb=function(){function b(){}return b.prototype.insertOrderedList=function(a){this.toggleList("OL",a)},b.prototype.insertUnorderedList=function(a){this.toggleList("UL",a)},b.prototype.indent=function(b){var c=this,d=Qb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Nb.isPara,{includeAncestor:!0}),f=Ab.clusterBy(e,zb.peq2("parentNode"));a.each(f,function(b,d){var e=Ab.head(d);if(Nb.isLi(e)){var f=c.findList(e.previousSibling);f?d.map(function(a){return f.appendChild(a)}):(c.wrapList(d,e.parentNode.nodeName),d.map(function(a){return a.parentNode}).map(function(a){return c.appendToPrevious(a)}))}else a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),d.select()},b.prototype.outdent=function(b){var c=this,d=Qb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Nb.isPara,{includeAncestor:!0}),f=Ab.clusterBy(e,zb.peq2("parentNode"));a.each(f,function(b,d){var e=Ab.head(d);Nb.isLi(e)?c.releaseList([d]):a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return b=parseInt(b,10)||0,b>25?b-25:""})})}),d.select()},b.prototype.toggleList=function(b,c){var d=this,e=Qb.create(c).wrapBodyInlineWithPara(),f=e.nodes(Nb.isPara,{includeAncestor:!0}),g=e.paraBookmark(f),h=Ab.clusterBy(f,zb.peq2("parentNode"));if(Ab.find(f,Nb.isPurePara)){var i=[];a.each(h,function(a,c){i=i.concat(d.wrapList(c,b))}),f=i}else{var j=e.nodes(Nb.isList,{includeAncestor:!0}).filter(function(c){return!a.nodeName(c,b)});j.length?a.each(j,function(a,c){Nb.replace(c,b)}):f=this.releaseList(h,!0)}Qb.createFromParaBookmark(g,f).select()},b.prototype.wrapList=function(a,b){var c=Ab.head(a),d=Ab.last(a),e=Nb.isList(c.previousSibling)&&c.previousSibling,f=Nb.isList(d.nextSibling)&&d.nextSibling,g=e||Nb.insertAfter(Nb.create(b||"UL"),d);return a=a.map(function(a){return Nb.isPurePara(a)?Nb.replace(a,"LI"):a}),Nb.appendChildNodes(g,a),f&&(Nb.appendChildNodes(g,Ab.from(f.childNodes)),Nb.remove(f)),a},b.prototype.releaseList=function(b,c){var d=this,e=[];return a.each(b,function(b,f){var g=Ab.head(f),h=Ab.last(f),i=c?Nb.lastAncestor(g,Nb.isList):g.parentNode,j=i.parentNode;if("LI"===i.parentNode.nodeName)f.map(function(a){var b=d.findNextSiblings(a);j.nextSibling?j.parentNode.insertBefore(a,j.nextSibling):j.parentNode.appendChild(a),b.length&&(d.wrapList(b,i.nodeName),a.appendChild(b[0].parentNode))}),0===i.children.length&&j.removeChild(i),0===j.childNodes.length&&j.parentNode.removeChild(j);else{var k=i.childNodes.length>1?Nb.splitTree(i,{node:h.parentNode,offset:Nb.position(h)+1},{isSkipPaddingBlankHTML:!0}):null,l=Nb.splitTree(i,{node:g.parentNode,offset:Nb.position(g)},{isSkipPaddingBlankHTML:!0});f=c?Nb.listDescendant(l,Nb.isLi):Ab.from(l.childNodes).filter(Nb.isLi),(c||!Nb.isList(i.parentNode))&&(f=f.map(function(a){return Nb.replace(a,"P")})),a.each(Ab.from(f).reverse(),function(a,b){Nb.insertAfter(b,i)});var m=Ab.compact([i,l,k]);a.each(m,function(b,c){var d=[c].concat(Nb.listDescendant(c,Nb.isList));a.each(d.reverse(),function(a,b){Nb.nodeLength(b)||Nb.remove(b,!0)})})}e=e.concat(f)}),e},b.prototype.appendToPrevious=function(a){return a.previousSibling?Nb.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")},b.prototype.findList=function(a){return a?Ab.find(a.children,function(a){return["OL","UL"].indexOf(a.nodeName)>-1}):null},b.prototype.findNextSiblings=function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b},b}(),Wb=function(){function b(a){this.bullet=new Vb,this.options=a.options}return b.prototype.insertTab=function(a,b){var c=Nb.createText(new Array(b+1).join(Nb.NBSP_CHAR));a=a.deleteContents(),a.insertNode(c,!0),a=Qb.create(c,b),a.select()},b.prototype.insertParagraph=function(b,c){c=c||Qb.create(b),c=c.deleteContents(),c=c.wrapBodyInlineWithPara();var d,e=Nb.ancestor(c.sc,Nb.isPara);if(e){if(Nb.isEmpty(e)&&Nb.isLi(e))return void this.bullet.toggleList(e.parentNode.nodeName);var f=null;if(1===this.options.blockquoteBreakingLevel?f=Nb.ancestor(e,Nb.isBlockquote):2===this.options.blockquoteBreakingLevel&&(f=Nb.lastAncestor(e,Nb.isBlockquote)),f){d=a(Nb.emptyPara)[0],Nb.isRightEdgePoint(c.getStartPoint())&&Nb.isBR(c.sc.nextSibling)&&a(c.sc.nextSibling).remove();var g=Nb.splitTree(f,c.getStartPoint(),{isDiscardEmptySplits:!0});g?g.parentNode.insertBefore(d,g):Nb.insertAfter(d,f)}else{d=Nb.splitTree(e,c.getStartPoint());var h=Nb.listDescendant(e,Nb.isEmptyAnchor);h=h.concat(Nb.listDescendant(d,Nb.isEmptyAnchor)),a.each(h,function(a,b){Nb.remove(b)}),(Nb.isHeading(d)||Nb.isPre(d)||Nb.isCustomStyleTag(d))&&Nb.isEmpty(d)&&(d=Nb.replace(d,"p"))}}else{var i=c.sc.childNodes[c.so];d=a(Nb.emptyPara)[0],i?c.sc.insertBefore(d,i):c.sc.appendChild(d)}Qb.create(d,0).normalize().select().scrollIntoView(b)},b}(),Xb=function Ac(a,b,c,d){function e(){return!a||!a.tagName||"td"!==a.tagName.toLowerCase()&&"th"!==a.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",a):(o.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()?void(o.rowPos=a.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",a))}function f(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};p[a]||(p[a]=[]),p[a][b]=h}function g(a,b,c,d){return{baseCell:a.baseCell,action:b,virtualTable:{rowIndex:c,cellIndex:d}}}function h(a,b){if(!p[a])return b;if(!p[a][b])return b;for(var c=b;p[a][c];)if(c++,!p[a][c])return c}function i(a,b){var c=h(a.rowIndex,b.cellIndex),d=b.colSpan>1,e=b.rowSpan>1,g=a.rowIndex===o.rowPos&&b.cellIndex===o.colPos;f(a.rowIndex,c,a,b,e,d,!1);var i=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(i>1)for(var k=1;i>k;k++){var l=a.rowIndex+k;j(l,c,b,g),f(l,c,a,b,!0,d,!0)}var m=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(m>1)for(var n=1;m>n;n++){var p=h(a.rowIndex,c+n);j(a.rowIndex,p,b,g),f(a.rowIndex,p,a,b,e,!0,!0)}}function j(a,b,c,d){a===o.rowPos&&o.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&o.colPos++}function k(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)i(a[b],c[e])}function l(a){switch(b){case Ac.where.Column:if(a.isColSpan)return Ac.resultAction.SubtractSpanCount;break;case Ac.where.Row:if(!a.isVirtual&&a.isRowSpan)return Ac.resultAction.AddCell;if(a.isRowSpan)return Ac.resultAction.SubtractSpanCount}return Ac.resultAction.RemoveCell}function m(a){switch(b){case Ac.where.Column:if(a.isColSpan)return Ac.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return Ac.resultAction.Ignore;break;case Ac.where.Row:if(a.isRowSpan)return Ac.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return Ac.resultAction.Ignore}return Ac.resultAction.AddCell}function n(){e(),k()}var o={colPos:0,rowPos:0},p=[],q=[];this.getActionList=function(){for(var a=b===Ac.where.Row?o.rowPos:-1,d=b===Ac.where.Column?o.colPos:-1,e=0,f=!0;f;){var h=a>=0?a:e,i=d>=0?d:e,j=p[h];if(!j)return f=!1,q;var k=j[i];if(!k)return f=!1,q;var n=Ac.resultAction.Ignore;switch(c){case Ac.requestAction.Add:n=m(k);break;case Ac.requestAction.Delete:n=l(k)}q.push(g(k,n,h,i)),e++}return q},n()};Xb.where={Row:0,Column:1},Xb.requestAction={Add:0,Delete:1},Xb.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Yb,Zb=function(){function b(){}return b.prototype.tab=function(a,b){var c=Nb.ancestor(a.commonAncestor(),Nb.isCell),d=Nb.ancestor(c,Nb.isTable),e=Nb.listDescendant(d,Nb.isCell),f=Ab[b?"prev":"next"](e,c);f&&Qb.create(f,0).select()},b.prototype.addRow=function(b,c){for(var d=Nb.ancestor(b.commonAncestor(),Nb.isCell),e=a(d).closest("tr"),f=this.recoverAttributes(e),g=a("<tr"+f+"></tr>"),h=new Xb(d,Xb.where.Row,Xb.requestAction.Add,a(e).closest("table")[0]),i=h.getActionList(),j=0;j<i.length;j++){var k=i[j],l=this.recoverAttributes(k.baseCell);switch(k.action){case Xb.resultAction.AddCell:g.append("<td"+l+">"+Nb.blank+"</td>");break;case Xb.resultAction.SumSpanCount:if("top"===c){var m=k.baseCell.parent,n=(m?k.baseCell.closest("tr").rowIndex:0)<=e[0].rowIndex;if(n){var o=a("<div></div>").append(a("<td"+l+">"+Nb.blank+"</td>").removeAttr("rowspan")).html();g.append(o);break}}var p=parseInt(k.baseCell.rowSpan,10);p++,k.baseCell.setAttribute("rowSpan",p)}}if("top"===c)e.before(g);else{var q=d.rowSpan>1;if(q){var r=e[0].rowIndex+(d.rowSpan-2);return void a(a(e).parent().find("tr")[r]).after(a(g))}e.after(g)}},b.prototype.addCol=function(b,c){var d=Nb.ancestor(b.commonAncestor(),Nb.isCell),e=a(d).closest("tr"),f=a(e).siblings();f.push(e);for(var g=new Xb(d,Xb.where.Column,Xb.requestAction.Add,a(e).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++){var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case Xb.resultAction.AddCell:"right"===c?a(j.baseCell).after("<td"+k+">"+Nb.blank+"</td>"):a(j.baseCell).before("<td"+k+">"+Nb.blank+"</td>");break;case Xb.resultAction.SumSpanCount:if("right"===c){var l=parseInt(j.baseCell.colSpan,10);l++,j.baseCell.setAttribute("colSpan",l)}else a(j.baseCell).before("<td"+k+">"+Nb.blank+"</td>")}}},b.prototype.recoverAttributes=function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b},b.prototype.deleteRow=function(b){for(var c=Nb.ancestor(b.commonAncestor(),Nb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=d[0].rowIndex,g=new Xb(c,Xb.where.Row,Xb.requestAction.Delete,a(d).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++)if(h[i]){var j=h[i].baseCell,k=h[i].virtualTable,l=j.rowSpan&&j.rowSpan>1,m=l?parseInt(j.rowSpan,10):0;switch(h[i].action){case Xb.resultAction.Ignore:continue;case Xb.resultAction.AddCell:var n=d.next("tr")[0];if(!n)continue;var o=d[0].cells[e];l&&(m>2?(m--,n.insertBefore(o,n.cells[e]),n.cells[e].setAttribute("rowSpan",m),n.cells[e].innerHTML=""):2===m&&(n.insertBefore(o,n.cells[e]),n.cells[e].removeAttribute("rowSpan"),n.cells[e].innerHTML=""));continue;case Xb.resultAction.SubtractSpanCount:l&&(m>2?(m--,j.setAttribute("rowSpan",m),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")):2===m&&(j.removeAttribute("rowSpan"),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")));continue;case Xb.resultAction.RemoveCell:continue}}d.remove()},b.prototype.deleteCol=function(b){for(var c=Nb.ancestor(b.commonAncestor(),Nb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=new Xb(c,Xb.where.Column,Xb.requestAction.Delete,a(d).closest("table")[0]),g=f.getActionList(),h=0;h<g.length;h++)if(g[h])switch(g[h].action){case Xb.resultAction.Ignore:continue;case Xb.resultAction.SubtractSpanCount:var i=g[h].baseCell,j=i.colSpan&&i.colSpan>1;if(j){var k=i.colSpan?parseInt(i.colSpan,10):0;k>2?(k--,i.setAttribute("colSpan",k),i.cellIndex===e&&(i.innerHTML="")):2===k&&(i.removeAttribute("colSpan"),i.cellIndex===e&&(i.innerHTML=""))}continue;case Xb.resultAction.RemoveCell:Nb.remove(g[h].baseCell,!0);continue}},b.prototype.createTable=function(b,c,d){for(var e,f=[],g=0;b>g;g++)f.push("<td>"+Nb.blank+"</td>");e=f.join("");for(var h,i=[],j=0;c>j;j++)i.push("<tr>"+e+"</tr>");h=i.join("");var k=a("<table>"+h+"</table>");return d&&d.tableClassName&&k.addClass(d.tableClassName),k[0]},b.prototype.deleteTable=function(b){var c=Nb.ancestor(b.commonAncestor(),Nb.isCell);a(c).closest("table").remove()},b}(),$b="bogus",_b=function(){function b(b){var c=this;this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ub,this.table=new Zb,this.typing=new Wb(b),this.bullet=new Vb,this.history=new Tb(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;f>e;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family","'"+a+"'")}),this.fontSize=this.wrapCommand(function(a){return c.fontStyling("font-size",a+"px")});for(var e=1;6>=e;e++)this["formatH"+e]=function(a){return function(){c.formatBlock("H"+a)}}(e),this.context.memo("help.formatH"+e,this.lang.help["formatH"+e]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(b){if(!c.isLimited(a(b).text().length)){var d=c.getLastRange();d.insertNode(b),Qb.createFromNodeAfter(b).select(),c.setLastRange()}}),this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange(),d=b.insertNode(Nb.createText(a));Qb.create(d,Nb.nodeLength(d)).select(),c.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);Qb.createFromNodeAfter(Ab.last(b)).select(),c.setLastRange()}}),this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode(Nb.create("HR"));a.nextSibling&&(Qb.create(a.nextSibling,0).normalize().select(),c.setLastRange())}),this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),this.createLink=this.wrapCommand(function(b){var d=b.url,e=b.text,f=b.isNewWindow,g=b.range||c.getLastRange(),h=e.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==e;"string"==typeof d&&(d=d.trim()),d=c.options.onCreateLink?c.options.onCreateLink(d):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(d)?d:"http://"+d;var j=[];if(i){g=g.deleteContents();var k=g.insertNode(a("<A>"+e+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(j,function(b,c){a(c).attr("href",d),f?a(c).attr("target","_blank"):a(c).removeAttr("target")});var l=Qb.createFromNodeBefore(Ab.head(j)),m=l.getStartPoint(),n=Qb.createFromNodeAfter(Ab.last(j)),o=n.getEndPoint();Qb.create(m.node,m.offset,o.node,o.offset).select(),c.setLastRange()}}),this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.foreColor=this.wrapCommand(function(a){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x"),d=c.getLastRange().deleteContents();d.insertNode(c.table.createTable(b[0],b[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var b=a(c.restoreTarget()).parent();b.parent("figure").length?b.parent("figure").remove():b=a(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",b,c.$editable)}),this.floatMe=this.wrapCommand(function(b){var d=a(c.restoreTarget());d.toggleClass("note-float-left","left"===b),d.toggleClass("note-float-right","right"===b),d.css("float","none"===b?"":b)}),this.resize=this.wrapCommand(function(b){var d=a(c.restoreTarget());b=parseFloat(b),0===b?d.css("width",""):d.css({width:100*b+"%",height:""})})}return b.prototype.initialize=function(){var a=this;this.$editable.on("keydown",function(b){return b.keyCode===Sb.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),b.isDefaultPrevented()||(a.options.shortcuts?a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)?!1:void 0}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Nb.html(this.$note)||Nb.emptyPara),this.$editable.on(xb.inputEventName,zb.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editor.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},b.prototype.destroy=function(){this.$editable.off()},b.prototype.handleKeyMap=function(a){var b=this.options.keyMap[xb.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=Sb.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];e?this.context.invoke(e)!==!1&&a.preventDefault():Sb.isEdit(a.keyCode)&&this.afterCommand()},b.prototype.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&Ab.contains([66,73,85],a.keyCode)&&a.preventDefault()},b.prototype.isLimited=function(a,b){return a=a||0,"undefined"!=typeof b&&(Sb.isMove(b.keyCode)||b.ctrlKey||b.metaKey||Ab.contains([Sb.code.BACKSPACE,Sb.code.DELETE],b.keyCode))?!1:this.options.maxTextLength>0&&this.$editable.text().length+a>=this.options.maxTextLength?!0:!1},b.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},b.prototype.setLastRange=function(){this.lastRange=Qb.create(this.editable)},b.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},b.prototype.saveRange=function(a){a&&this.getLastRange().collapse().select()},b.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},b.prototype.saveTarget=function(a){this.$editable.data("target",a)},b.prototype.clearTarget=function(){this.$editable.removeData("target")},b.prototype.restoreTarget=function(){return this.$editable.data("target")},b.prototype.currentStyle=function(){var a=Qb.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)},b.prototype.styleFromNode=function(a){return this.style.fromNode(a)},b.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},b.prototype.afterCommand=function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.tab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}},b.prototype.untab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1},b.prototype.wrapCommand=function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}},b.prototype.insertImage=function(a,b){var c=this;return Va(a,b).then(function(a){c.beforeCommand(),"function"==typeof b?b(a):("string"==typeof b&&a.attr("data-filename",b),a.css("width",Math.min(c.$editable.width(),a.width()))),a.show(),Qb.create(c.editable).insertNode(a[0]),Qb.createFromNodeAfter(a[0]).select(),c.setLastRange(),c.afterCommand()}).fail(function(a){c.context.triggerEvent("image.upload.error",a)})},b.prototype.insertImagesAsDataURL=function(b){var c=this;a.each(b,function(a,b){var d=b.name;c.options.maximumImageFileSize&&c.options.maximumImageFileSize<b.size?c.context.triggerEvent("image.upload.error",c.lang.image.maximumFileSizeError):Ua(b).then(function(a){return c.insertImage(a,d)}).fail(function(){c.context.triggerEvent("image.upload.error")})})},b.prototype.insertImagesOrCallback=function(a){var b=this.options.callbacks;b.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)},b.prototype.getSelectedText=function(){var a=this.getLastRange();return a.isOnAnchor()&&(a=Qb.createFromNode(Nb.ancestor(a.sc,Nb.isAnchor))),a.toString()},b.prototype.onFormatBlock=function(b,c){if(document.execCommand("FormatBlock",!1,xb.isMSIE?"<"+b+">":b),c&&c.length&&(c[0].tagName.toUpperCase()!==b.toUpperCase()&&(c=c.find(b)),c&&c.length)){var d=c[0].className||"";if(d){var e=this.createRange(),f=a([e.sc,e.ec]).closest(b);f.addClass(d)}}},b.prototype.formatPara=function(){this.formatBlock("P")},b.prototype.fontStyling=function(b,c){var d=this.getLastRange();if(d){var e=this.style.styleNodes(d);if(a(e).css(b,c),d.isCollapsed()){var f=Ab.head(e);f&&!Nb.nodeLength(f)&&(f.innerHTML=Nb.ZERO_WIDTH_NBSP_CHAR,Qb.createFromNodeAfter(f.firstChild).select(),this.setLastRange(),this.$editable.data($b,f))}}},b.prototype.unlink=function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=Nb.ancestor(a.sc,Nb.isAnchor);a=Qb.createFromNode(b),a.select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},b.prototype.getLinkInfo=function(){var b=this.getLastRange().expand(Nb.isAnchor),c=a(Ab.head(b.nodes(Nb.isAnchor))),d={range:b,text:b.toString(),url:c.length?c.attr("href"):""};return c.length&&(d.isNewWindow="_blank"===c.attr("target")),d},b.prototype.addRow=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())},b.prototype.addCol=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())},b.prototype.deleteRow=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())},b.prototype.deleteCol=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())},b.prototype.deleteTable=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())},b.prototype.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},b.prototype.hasFocus=function(){return this.$editable.is(":focus")},b.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},b.prototype.isEmpty=function(){return Nb.isEmpty(this.$editable[0])||Nb.emptyPara===this.$editable.html()},b.prototype.empty=function(){this.context.invoke("code",Nb.emptyPara)},b.prototype.normalizeContent=function(){this.$editable[0].normalize()},b}(),ac=function(){function a(a){this.context=a,this.$editable=a.layoutInfo.editable}return a.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},a.prototype.pasteByEvent=function(a){var b=a.originalEvent.clipboardData;if(b&&b.items&&b.items.length){var c=b.items.length>1?b.items[1]:Ab.head(b.items);"file"===c.kind&&-1!==c.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[c.getAsFile()]),this.context.invoke("editor.afterCommand")}},a}(),bc=function(){function b(b){this.context=b,this.$eventListener=a(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=a(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return b.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(a){a.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},b.prototype.attachDragAndDropEvent=function(){var b=this,c=a(),d=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(a){var e=b.context.invoke("codeview.isActivated"),f=b.$editor.width()>0&&b.$editor.height()>0;e||c.length||!f||(b.$editor.addClass("dragover"),b.$dropzone.width(b.$editor.width()),b.$dropzone.height(b.$editor.height()),d.text(b.lang.image.dragImageHere)),c=c.add(a.target)},this.documentEventHandlers.onDragleave=function(a){c=c.not(a.target),c.length||b.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){c=a(),b.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){b.$dropzone.addClass("hover"),d.text(b.lang.image.dropImage)}).on("dragleave",function(){b.$dropzone.removeClass("hover"),d.text(b.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(c){var d=c.originalEvent.dataTransfer;c.preventDefault(),d&&d.files&&d.files.length?(b.$editable.focus(),b.context.invoke("editor.insertImagesOrCallback",d.files)):a.each(d.types,function(c,e){var f=d.getData(e);e.toLowerCase().indexOf("text")>-1?b.context.invoke("editor.pasteHTML",f):a(f).each(function(a,c){b.context.invoke("editor.insertNode",c)})})}).on("dragover",!1)},b.prototype.destroy=function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}},b}();xb.hasCodeMirror&&(Yb=window.CodeMirror);var cc=function(){function a(a){this.context=a,this.$editor=a.layoutInfo.editor,this.$editable=a.layoutInfo.editable,this.$codable=a.layoutInfo.codable,this.options=a.options}return a.prototype.sync=function(){var a=this.isActivated();a&&xb.hasCodeMirror&&this.$codable.data("cmEditor").save()},a.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},a.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},a.prototype.purify=function(a){if(this.options.codeviewFilter&&(a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";for(var c=0,d=b;c<d.length;c++){var e=d[c];if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}return""})}return a},a.prototype.activate=function(){var a=this;if(this.$codable.val(Nb.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),xb.hasCodeMirror){var b=Yb.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var c=new Yb.TernServer(this.options.codemirror.tern);b.ternServer=c,b.on("cursorActivity",function(a){c.updateArgHints(a)})}b.on("blur",function(c){a.context.triggerEvent("blur.codeview",b.getValue(),c)}),b.on("change",function(c){a.context.triggerEvent("change.codeview",b.getValue(),b)}),b.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",b)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(b){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})},a.prototype.deactivate=function(){if(xb.hasCodeMirror){var a=this.$codable.data("cmEditor");this.$codable.val(a.getValue()),a.toTextArea()}var b=this.purify(Nb.value(this.$codable,this.options.prettifyHtml)||Nb.emptyPara),c=this.$editable.html()!==b;this.$editable.html(b),this.$editable.height(this.options.height?this.$codable.height():"auto"),
this.$editor.removeClass("codeview"),c&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},a.prototype.destroy=function(){this.isActivated()&&this.deactivate()},a}(),dc=24,ec=function(){function b(b){this.$document=a(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return b.prototype.initialize=function(){var a=this;return this.options.airMode||this.options.disableResizeEditor?void this.destroy():void this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function(b){var d=b.clientY-(c+dc);d=a.options.minheight>0?Math.max(d,a.options.minheight):d,d=a.options.maxHeight>0?Math.min(d,a.options.maxHeight):d,a.$editable.height(d)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})},b.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},b}(),fc=function(){function b(b){var c=this;this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=a(window),this.$scrollbar=a("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return b.prototype.resizeTo=function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)},b.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},b.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},b}(),gc=function(){function b(b){var c=this;this.context=b,this.$document=a(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return b.prototype.initialize=function(){var b=this;this.$handle=a(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(a){if(Nb.isControlSizing(a.target)){a.preventDefault(),a.stopPropagation();var c=b.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=b.$document.scrollTop(),f=function(a){b.context.invoke("editor.resizeTo",{x:a.clientX-d.left,y:a.clientY-(d.top-e)},c,!a.shiftKey),b.update(c[0])};b.$document.on("mousemove",f).one("mouseup",function(a){a.preventDefault(),b.$document.off("mousemove",f),b.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(a){a.preventDefault(),b.update()})},b.prototype.destroy=function(){this.$handle.remove()},b.prototype.update=function(b,c){if(this.context.isDisabled())return!1;var d=Nb.isImg(b),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",b,c),d){var f=a(b),g=f.position(),h={left:g.left+parseInt(f.css("marginLeft"),10),top:g.top+parseInt(f.css("marginTop"),10)},i={w:f.outerWidth(!1),h:f.outerHeight(!1)};e.css({display:"block",left:h.left,top:h.top,width:i.w,height:i.h}).data("target",f);var j=new Image;j.src=f.attr("src");var k=i.w+"x"+i.h+" ("+this.lang.image.original+": "+j.width+"x"+j.height+")";e.find(".note-control-selection-info").text(k),this.context.invoke("editor.saveTarget",b)}else this.hide();return d},b.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},b}(),hc="http://",ic=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,jc=function(){function b(a){var b=this;this.context=a,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return b.prototype.initialize=function(){this.lastWordRange=null},b.prototype.destroy=function(){this.lastWordRange=null},b.prototype.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),c=b.match(ic);if(c&&(c[1]||c[2])){var d=c[1]?b:hc+b,e=a("<a />").html(b).attr("href",d)[0];this.context.options.linkTargetBlank&&a(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}},b.prototype.handleKeydown=function(a){if(Ab.contains([Sb.code.ENTER,Sb.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}},b.prototype.handleKeyup=function(a){Ab.contains([Sb.code.ENTER,Sb.code.SPACE],a.keyCode)&&this.replace()},b}(),kc=function(){function a(a){var b=this;this.$note=a.layoutInfo.note,this.events={"summernote.change":function(){b.$note.val(a.invoke("code"))}}}return a.prototype.shouldInitialize=function(){return Nb.isTextarea(this.$note[0])},a}(),lc=function(){function a(a){var b=this;this.context=a,this.options=a.options.replace||{},this.keys=[Sb.code.ENTER,Sb.code.SPACE,Sb.code.PERIOD,Sb.code.COMMA,Sb.code.SEMICOLON,Sb.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return a.prototype.shouldInitialize=function(){return!!this.options.match},a.prototype.initialize=function(){this.lastWord=null},a.prototype.destroy=function(){this.lastWord=null},a.prototype.replace=function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=Nb.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}},a.prototype.handleKeydown=function(a){if(this.previousKeydownCode&&Ab.contains(this.keys,this.previousKeydownCode))return void(this.previousKeydownCode=a.keyCode);if(Ab.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode},a.prototype.handleKeyup=function(a){Ab.contains(this.keys,a.keyCode)&&this.replace()},a}(),mc=function(){function b(a){var b=this;this.context=a,this.$editingArea=a.layoutInfo.editingArea,this.options=a.options,this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}}}return b.prototype.shouldInitialize=function(){return!!this.options.placeholder},b.prototype.initialize=function(){var b=this;this.$placeholder=a('<div class="note-placeholder">'),this.$placeholder.on("click",function(){b.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},b.prototype.destroy=function(){this.$placeholder.remove()},b.prototype.update=function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)},b}(),nc=function(){function b(b){this.ui=a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,this.invertedKeyMap=zb.invertObject(this.options.keyMap[xb.isMac?"mac":"pc"])}return b.prototype.representShortcut=function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(xb.isMac&&(b=b.replace("CMD","⌘").replace("SHIFT","⇧")),b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+b+")"):""},b.prototype.button=function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)},b.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},b.prototype.destroy=function(){delete this.fontInstalledMap},b.prototype.isFontInstalled=function(a){return this.fontInstalledMap.hasOwnProperty(a)||(this.fontInstalledMap[a]=xb.isFontInstalled(a)||Ab.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]},b.prototype.isFontDeservedToAdd=function(a){var b=["sans-serif","serif","monospace","cursive","fantasy"];return a=a.toLowerCase(),""!==a&&this.isFontInstalled(a)&&-1===b.indexOf(a)},b.prototype.colorPalette=function(b,c,d,e){var f=this;return this.ui.buttonGroup({className:"note-color "+b,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:c,click:function(b){var c=a(b.currentTarget);d&&e?f.context.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")}):d?f.context.invoke("editor.color",{backColor:c.attr("data-backColor")}):e&&f.context.invoke("editor.color",{foreColor:c.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");d&&(b.css("background-color",f.options.colorButton.backColor),a.attr("data-backColor",f.options.colorButton.backColor)),e?(b.css("color",f.options.colorButton.foreColor),a.attr("data-foreColor",f.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(d?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(e?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(b){b.find(".note-holder").each(function(b,c){var d=a(c);d.append(f.ui.palette({colors:f.options.colors,colorsName:f.options.colorsName,eventName:d.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())});var c=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];b.find(".note-holder-custom").each(function(b,d){var e=a(d);e.append(f.ui.palette({colors:c,colorsName:c,eventName:e.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())}),b.find("input[type=color]").each(function(c,d){a(d).change(function(){var c=b.find("#"+a(this).data("event")).find(".note-color-btn").first(),d=this.value.toUpperCase();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.click()})})},click:function(c){c.stopPropagation();var d=a("."+b),e=a(c.target),g=e.data("event"),h=e.attr("data-value");if("openPalette"===g){var i=d.find("#"+h),j=a(d.find("#"+i.data("event")).find(".note-color-row")[0]),k=j.find(".note-color-btn").last().detach(),l=i.val();k.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),j.prepend(k),i.click()}else if(Ab.contains(["backColor","foreColor"],g)){var m="backColor"===g?"background-color":"color",n=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");n.css(m,h),o.attr("data-"+g,h),f.context.invoke("editor."+g,h)}}})]}).render()},b.prototype.addToolbarButtons=function(){var b=this;this.context.memo("button.style",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.magic),b.options),tooltip:b.lang.style.style,data:{toggle:"dropdown"}}),b.ui.dropdown({className:"dropdown-style",items:b.options.styleTags,title:b.lang.style.style,template:function(a){"string"==typeof a&&(a={tag:a,title:b.lang.style.hasOwnProperty(a)?b.lang.style[a]:a});var c=a.tag,d=a.title,e=a.style?' style="'+a.style+'" ':"",f=a.className?' class="'+a.className+'"':"";return"<"+c+e+f+">"+d+"</"+c+">"},click:b.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var c=function(a,c){var e=d.options.styleTags[a];d.context.memo("button.style."+e,function(){return b.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:b.lang.style[e],click:b.context.createInvokeHandler("editor.formatBlock")}).render()})},d=this,e=0,f=this.options.styleTags.length;f>e;e++)c(e,f);this.context.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.ui.icon(b.options.icons.bold),tooltip:b.lang.font.bold+b.representShortcut("bold"),click:b.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.ui.icon(b.options.icons.italic),tooltip:b.lang.font.italic+b.representShortcut("italic"),click:b.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.ui.icon(b.options.icons.underline),tooltip:b.lang.font.underline+b.representShortcut("underline"),click:b.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return b.button({contents:b.ui.icon(b.options.icons.eraser),tooltip:b.lang.font.clear+b.representShortcut("removeFormat"),click:b.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.ui.icon(b.options.icons.strikethrough),tooltip:b.lang.font.strikethrough+b.representShortcut("strikethrough"),click:b.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.ui.icon(b.options.icons.superscript),tooltip:b.lang.font.superscript,click:b.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.ui.icon(b.options.icons.subscript),tooltip:b.lang.font.subscript,click:b.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var c=b.context.invoke("editor.currentStyle");return a.each(c["font-family"].split(","),function(a,c){c=c.trim().replace(/['"]+/g,""),b.isFontDeservedToAdd(c)&&-1===b.options.fontNames.indexOf(c)&&b.options.fontNames.push(c)}),b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontname"/>',b.options),tooltip:b.lang.font.name,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:b.options.icons.menuCheck,items:b.options.fontNames.filter(b.isFontInstalled.bind(b)),title:b.lang.font.name,template:function(a){return"<span style=\"font-family: '"+a+"'\">"+a+"</span>"},click:b.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',b.options),tooltip:b.lang.font.size,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:b.options.icons.menuCheck,items:b.options.fontSizes,title:b.lang.font.size,click:b.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return b.colorPalette("note-color-all",b.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return b.colorPalette("note-color-fore",b.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return b.colorPalette("note-color-back",b.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return b.button({contents:b.ui.icon(b.options.icons.unorderedlist),tooltip:b.lang.lists.unordered+b.representShortcut("insertUnorderedList"),click:b.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return b.button({contents:b.ui.icon(b.options.icons.orderedlist),tooltip:b.lang.lists.ordered+b.representShortcut("insertOrderedList"),click:b.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),h=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),i=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),j=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),k=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",zb.invoke(g,"render")),this.context.memo("button.justifyCenter",zb.invoke(h,"render")),this.context.memo("button.justifyRight",zb.invoke(i,"render")),this.context.memo("button.justifyFull",zb.invoke(j,"render")),this.context.memo("button.outdent",zb.invoke(k,"render")),this.context.memo("button.indent",zb.invoke(l,"render")),this.context.memo("button.paragraph",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.alignLeft),b.options),tooltip:b.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),b.ui.dropdown([b.ui.buttonGroup({className:"note-align",children:[g,h,i,j]}),b.ui.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),this.context.memo("button.height",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.textHeight),b.options),tooltip:b.lang.font.height,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({items:b.options.lineHeights,checkClassName:b.options.icons.menuCheck,className:"dropdown-line-height",title:b.lang.font.height,click:b.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.table),b.options),tooltip:b.lang.table.table,data:{toggle:"dropdown"}}),b.ui.dropdown({title:b.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(a){var c=a.find(".note-dimension-picker-mousecatcher");c.css({width:b.options.insertTableMaxSize.col+"em",height:b.options.insertTableMaxSize.row+"em"}).mousedown(b.context.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler.bind(b))}}).render()}),this.context.memo("button.link",function(){return b.button({contents:b.ui.icon(b.options.icons.link),tooltip:b.lang.link.link+b.representShortcut("linkDialog.show"),click:b.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return b.button({contents:b.ui.icon(b.options.icons.picture),tooltip:b.lang.image.image,click:b.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return b.button({contents:b.ui.icon(b.options.icons.video),tooltip:b.lang.video.video,click:b.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return b.button({contents:b.ui.icon(b.options.icons.minus),tooltip:b.lang.hr.insert+b.representShortcut("insertHorizontalRule"),click:b.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.ui.icon(b.options.icons.arrowsAlt),tooltip:b.lang.options.fullscreen,click:b.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.ui.icon(b.options.icons.code),tooltip:b.lang.options.codeview,click:b.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return b.button({contents:b.ui.icon(b.options.icons.redo),tooltip:b.lang.history.redo+b.representShortcut("redo"),click:b.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return b.button({contents:b.ui.icon(b.options.icons.undo),tooltip:b.lang.history.undo+b.representShortcut("undo"),click:b.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return b.button({contents:b.ui.icon(b.options.icons.question),tooltip:b.lang.options.help,click:b.context.createInvokeHandler("helpDialog.show")}).render()})},b.prototype.addImagePopoverButtons=function(){var a=this;this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})},b.prototype.addLinkPopoverButtons=function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})},b.prototype.addTablePopoverButtons=function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})},b.prototype.build=function(a,b){for(var c=0,d=b.length;d>c;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;j>i;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k():k)}h.appendTo(a)}},b.prototype.updateCurrentStyle=function(b){var c=this,d=b||this.$toolbar,e=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(d,{".note-btn-bold":function(){return"bold"===e["font-bold"]},".note-btn-italic":function(){return"italic"===e["font-italic"]},".note-btn-underline":function(){return"underline"===e["font-underline"]},".note-btn-subscript":function(){return"subscript"===e["font-subscript"]},".note-btn-superscript":function(){return"superscript"===e["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===e["font-strikethrough"]}}),e["font-family"]){var f=e["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=Ab.find(f,this.isFontInstalled.bind(this));d.find(".dropdown-fontname a").each(function(b,c){var d=a(c),e=d.data("value")+""==g+"";d.toggleClass("checked",e)}),d.find(".note-current-fontname").text(g).css("font-family",g)}if(e["font-size"]){var h=e["font-size"];d.find(".dropdown-fontsize a").each(function(b,c){var d=a(c),e=d.data("value")+""==h+"";d.toggleClass("checked",e)}),d.find(".note-current-fontsize").text(h)}if(e["line-height"]){var i=e["line-height"];d.find(".dropdown-line-height li a").each(function(b,d){var e=a(d).data("value")+""==i+"";c.className=e?"checked":""})}},b.prototype.updateBtnStates=function(b,c){var d=this;a.each(c,function(a,c){d.ui.toggleBtnActive(b.find(a),c())})},b.prototype.tableMoveHandler=function(b){var c,d=18,e=a(b.target.parentNode),f=e.next(),g=e.find(".note-dimension-picker-mousecatcher"),h=e.find(".note-dimension-picker-highlighted"),i=e.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var j=a(b.target).offset();c={x:b.pageX-j.left,y:b.pageY-j.top}}else c={x:b.offsetX,y:b.offsetY};var k={c:Math.ceil(c.x/d)||1,r:Math.ceil(c.y/d)||1};h.css({width:k.c+"em",height:k.r+"em"}),g.data("value",k.c+"x"+k.r),k.c>3&&k.c<this.options.insertTableMaxSize.col&&i.css({width:k.c+1+"em"}),k.r>3&&k.r<this.options.insertTableMaxSize.row&&i.css({height:k.r+1+"em"}),f.html(k.c+" x "+k.r)},b}(),oc=function(){function b(b){this.context=b,this.$window=a(window),this.$document=a(document),this.ui=a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return b.prototype.shouldInitialize=function(){return!this.options.airMode},b.prototype.initialize=function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},b.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},b.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var b=this.$editor.outerHeight(),c=this.$editor.width(),d=this.$toolbar.height(),e=this.$statusbar.height(),f=0;this.options.otherStaticBar&&(f=a(this.options.otherStaticBar).outerHeight());var g=this.$document.scrollTop(),h=this.$editor.offset().top,i=h+b,j=h-f,k=i-f-d-e;!this.isFollowing&&g>j&&k-d>g?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",
top:f,width:c}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(j>g||g>k)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},b.prototype.changeContainer=function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},b.prototype.updateFullscreen=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)},b.prototype.updateCodeview=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()},b.prototype.activate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!0)},b.prototype.deactivate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!1)},b}(),pc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return b.prototype.initialize=function(){var b=this.options.dialogsInBody?this.$body:this.$editor,c=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":a("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),d="btn btn-primary note-btn note-btn-primary note-link-btn",e='<input type="button" href="#" class="'+d+'" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:c,footer:e}).render().appendTo(b)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.toggleLinkBtn=function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())},b.prototype.showLinkDialog=function(b){var c=this;return a.Deferred(function(a){var d=c.$dialog.find(".note-link-text"),e=c.$dialog.find(".note-link-url"),f=c.$dialog.find(".note-link-btn"),g=c.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),!b.url&&zb.isValidUrl(b.text)&&(b.url=b.text),d.on("input paste propertychange",function(){b.text=d.val(),c.toggleLinkBtn(f,d,e)}).val(b.text),e.on("input paste propertychange",function(){b.text||d.val(e.val()),c.toggleLinkBtn(f,d,e)}).val(b.url),xb.isSupportTouch||e.trigger("focus"),c.toggleLinkBtn(f,d,e),c.bindEnterKey(e,f),c.bindEnterKey(d,f);var h=void 0!==b.isNewWindow?b.isNewWindow:c.context.options.linkTargetBlank;g.prop("checked",h),f.one("click",function(f){f.preventDefault(),a.resolve({range:b.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked")}),c.ui.hideDialog(c.$dialog)})}),c.ui.onDialogHidden(c.$dialog,function(){d.off(),e.off(),f.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)}).promise()},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b}(),qc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.link)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){var b=a.find(".popover-content,.note-popover-content");b.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){if(!this.context.invoke("editor.hasFocus"))return void this.hide();var b=this.context.invoke("editor.getLastRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=Nb.ancestor(b.sc,Nb.isAnchor),d=a(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=Nb.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),rc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b="";if(this.options.maximumImageFileSize){var c=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),d=1*(this.options.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";b="<small>"+(this.lang.image.maximumFileSize+" : "+d)+"</small>"}var e=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',b,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),f="btn btn-primary note-btn note-btn-primary note-image-btn",g='<input type="button" href="#" class="'+f+'" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:g}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showImageDialog=function(){var b=this;return a.Deferred(function(a){var c=b.$dialog.find(".note-image-input"),d=b.$dialog.find(".note-image-url"),e=b.$dialog.find(".note-image-btn");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){a.resolve(b.target.files||b.target.value)}).val("")),d.on("input paste propertychange",function(){b.ui.toggleBtn(e,d.val())}).val(""),xb.isSupportTouch||d.trigger("focus"),e.click(function(b){b.preventDefault(),a.resolve(d.val())}),b.bindEnterKey(d,e)}),b.ui.onDialogHidden(b.$dialog,function(){c.off(),d.off(),e.off(),"pending"===a.state()&&a.reject()}),b.ui.showDialog(b.$dialog)})},b}(),sc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.image)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a,b){if(Nb.isImg(a)){var c=Nb.posFromPlaceholder(a),d=Nb.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?b.pageX-20:c.left,top:this.options.popatmouse?b.pageY:Math.min(c.top,d.top)})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),tc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.table)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),xb.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a){if(this.context.isDisabled())return!1;var b=Nb.isCell(a);if(b){var c=Nb.posFromPlaceholder(a);this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b},b.prototype.hide=function(){this.$popover.hide()},b}(),uc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),c="btn btn-primary note-btn note-btn-primary note-video-btn",d='<input type="button" href="#" class="'+c+'" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:d}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.createVideoNode=function(b){var c,d=/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/,e=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/,f=b.match(d),g=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,h=b.match(g),i=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,j=b.match(i),k=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,l=b.match(k),m=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,n=b.match(m),o=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=b.match(o),q=/\/\/v\.qq\.com.*?vid=(.+)/,r=b.match(q),s=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,t=b.match(s),u=/^.+.(mp4|m4v)$/,v=b.match(u),w=/^.+.(ogg|ogv)$/,x=b.match(w),y=/^.+.(webm)$/,z=b.match(y),A=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/,B=b.match(A);if(f&&11===f[1].length){var C=f[1],D=0;if("undefined"!=typeof f[2]){var E=f[2].match(e);if(E)for(var F=[3600,60,1],G=0,H=F.length;H>G;G++)D+="undefined"!=typeof E[G+1]?F[G]*parseInt(E[G+1],10):0}c=a("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+C+(D>0?"?start="+D:"")).attr("width","640").attr("height","360")}else if(h&&h[0].length)c=a("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+h[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(j&&j[0].length)c=a("<iframe>").attr("frameborder",0).attr("src",j[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(l&&l[3].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+l[3]).attr("width","640").attr("height","360");else if(n&&n[2].length)c=a("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+n[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(r&&r[1].length||t&&t[2].length){var I=r&&r[1].length?r[1]:t[2];c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+I+"&amp;auto=0")}else if(v||x||z)c=a("<video controls>").attr("src",b).attr("width","640").attr("height","360");else{if(!B||!B[0].length)return!1;c=a("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(B[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return c.addClass("note-video-clip"),c[0]},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");var c=a.createVideoNode(b);c&&a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showVideoDialog=function(b){var c=this;return a.Deferred(function(a){var b=c.$dialog.find(".note-video-url"),d=c.$dialog.find(".note-video-btn");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),b.on("input paste propertychange",function(){c.ui.toggleBtn(d,b.val())}),xb.isSupportTouch||b.trigger("focus"),d.click(function(c){c.preventDefault(),a.resolve(b.val())}),c.bindEnterKey(b,d)}),c.ui.onDialogHidden(c.$dialog,function(){b.off(),d.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)})},b}(),vc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.createShortcutList=function(){var b=this,c=this.options.keyMap[xb.isMac?"mac":"pc"];return Object.keys(c).map(function(d){var e=c[d],f=a('<div><div class="help-list-item"/></div>');return f.append(a("<label><kbd>"+d+"</kdb></label>").css({width:180,"margin-right":10})).append(a("<span/>").html(b.context.memo("help."+e)||e)),f.html()}).join("")},b.prototype.showHelpDialog=function(){var b=this;return a.Deferred(function(a){b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),a.resolve()}),b.ui.showDialog(b.$dialog)}).promise()},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})},b}(),wc=20,xc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){c.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){c.hide()},"summernote.focusout":function(a,b){xb.isFF||b.relatedTarget&&Nb.ancestor(b.relatedTarget,zb.eq(c.$popover[0]))||c.hide()}}}return b.prototype.shouldInitialize=function(){return this.options.airMode&&!Ab.isEmpty(this.options.popover.air)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content");this.context.invoke("buttons.build",a,this.options.popover.air)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){var a=this.context.invoke("editor.currentStyle");if(a.range&&!a.range.isCollapsed()){var b=Ab.last(a.range.getClientRects());if(b){var c=zb.rect2bnd(b);this.$popover.css({display:"block",left:Math.max(c.left+c.width/2,0)-wc,top:c.top+c.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),yc=5,zc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return this.hints.length>0},b.prototype.initialize=function(){var b=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(c){b.$content.find(".active").removeClass("active"),a(c.currentTarget).addClass("active"),b.replace()})},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},b.prototype.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},b.prototype.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},b.prototype.replace=function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);this.lastWordRange.insertNode(b),Qb.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},b.prototype.nodeFromItem=function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=Nb.createText(d)),d},b.prototype.createItemTemplates=function(b,c){var d=this.hints[b];return c.map(function(c,e){var f=a('<div class="note-hint-item"/>');return f.append(d.template?d.template(c):c+""),f.data({index:b,item:c}),f})},b.prototype.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===Sb.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===Sb.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===Sb.code.DOWN&&(a.preventDefault(),this.moveDown()))},b.prototype.searchKeyword=function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},b.prototype.createGroup=function(b,c){var d=this,e=a('<div class="note-hint-group note-hint-group-'+b+'"/>');return this.searchKeyword(b,c,function(a){a=a||[],a.length&&(e.html(d.createItemTemplates(b,a)),d.show())}),e},b.prototype.handleKeyup=function(a){var b=this;if(!Ab.contains([Sb.code.ENTER,Sb.code.UP,Sb.code.DOWN],a.keyCode)){var c=this.context.invoke("editor.getLastRange").getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var e=zb.rect2bnd(Ab.last(c.getClientRects()));e&&(this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-yc}):this.$popover.css({left:e.left,top:e.top+e.height+yc}))}else this.hide()}},b.prototype.show=function(){this.$popover.show()},b.prototype.hide=function(){this.$popover.hide()},b}();a.summernote=a.extend(a.summernote,{version:"0.8.12",plugins:{},dom:Nb,range:Qb,options:{langInfo:a.summernote.lang["en-US"],modules:{editor:_b,clipboard:ac,dropzone:bc,codeview:cc,statusbar:ec,fullscreen:fc,handle:gc,hintPopover:zc,autoLink:jc,autoSync:kc,autoReplace:lc,placeholder:mc,buttons:nc,toolbar:oc,linkDialog:pc,linkPopover:qc,imageDialog:rc,imagePopover:sc,tablePopover:tc,videoDialog:uc,helpDialog:vc,airPopover:xc},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),a.summernote=a.extend(a.summernote,{ui:nb}),a.summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"]})},{jquery:528}],54:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(e,f){"object"==("undefined"==typeof c?"undefined":d(c))&&"undefined"!=typeof b?f(a("jquery")):"function"==typeof define&&define.amd?define(["jquery"],f):f((e=e||self).jQuery)}(void 0,function(a){function b(a){return a[0]}function c(a){return a[a.length-1]}function e(a){return a.slice(1)}function f(a,b){return!!(a&&a.length&&b)&&-1!==a.indexOf(b)}function g(b){return b&&a(b).hasClass("note-editable")}function h(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}function i(a){return a&&3===a.nodeType}function j(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase())}function k(a){return!g(a)&&a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())}function l(a){return!(o(a)||m(a)||ya(a)||k(a)||wa(a)||za(a)||xa(a))}function m(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function n(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function o(a){return n(a)||za(a)||g(a)}function p(a){return i(a)?a.nodeValue.length:a?a.childNodes.length:0}function q(a){var b=p(a);return 0===b||!i(a)&&1===b&&a.innerHTML===Ca||!(!sa.all(a.childNodes,i)||""!==a.innerHTML)}function r(a){j(a)||p(a)||(a.innerHTML=Ca)}function s(a,b){for(;a;){if(b(a))return a;if(g(a))break;a=a.parentNode}return null}function t(a,b){b=b||ra.fail;var c=[];return s(a,function(a){return g(a)||c.push(a),b(a)}),c}function u(a,b){b=b||ra.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}function v(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function w(b,c){return a.each(c,function(a,c){b.appendChild(c)}),b}function x(a){return 0===a.offset}function y(a){return a.offset===p(a.node)}function z(a){return x(a)||y(a)}function A(a,b){for(;a&&a!==b;){if(0!==C(a))return!1;a=a.parentNode}return!0}function B(a,b){if(!b)return!1;for(;a&&a!==b;){if(C(a)!==p(a.parentNode)-1)return!1;a=a.parentNode}return!0}function C(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function D(a){return!!(a&&a.childNodes&&a.childNodes.length)}function E(a,b){var c,d;if(0===a.offset){if(g(a.node))return null;c=a.node.parentNode,d=C(a.node)}else d=D(a.node)?p(c=a.node.childNodes[a.offset-1]):(c=a.node,b?0:a.offset-1);return{node:c,offset:d}}function F(a,b){var c,d;if(p(a.node)===a.offset){if(g(a.node))return null;c=a.node.parentNode,d=C(a.node)+1}else d=D(a.node)?(c=a.node.childNodes[a.offset],0):(c=a.node,b?p(a.node):a.offset+1);return{node:c,offset:d}}function G(a,b){return a.node===b.node&&a.offset===b.offset}function H(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;if(e&&(c=!0),z(a)&&(i(a.node)||d)){if(x(a))return a.node;if(y(a))return a.node.nextSibling}if(i(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=v(a.node.cloneNode(!1),a.node);return w(g,u(f)),c||(r(a.node),r(g)),e&&(q(a.node)&&K(a.node),q(g))?(K(g),a.node.nextSibling):g}function I(a,b,c){var d=t(b.node,ra.eq(a));
return d.length?1===d.length?H(b,c):d.reduce(function(a,d){return a===b.node&&(a=H(b,c)),H({node:d,offset:a?C(a):p(d)},c)}):null}function J(a){return document.createElement(a)}function K(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)d.push(a.childNodes[e]);for(e=0,f=d.length;f>e;e++)c.insertBefore(d[e],a)}c.removeChild(a)}}function L(a,b){var c=Da(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}function M(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=sa.from(e.childNodes);for(c=0;c<g.length;c++)if(!Ea.isText(g[c])){if(f.moveToElementText(g[c]),0<=f.compareEndPoints("StartToStart",a))break;d=g[c]}if(0!==c&&Ea.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue,b&&i.nextSibling&&Ea.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}function N(a){var b=function e(a,b){var c,d;if(Ea.isText(a)){var f=Ea.listPrev(a,ra.not(Ea.isText)),g=sa.last(f).previousSibling;c=g||a.parentNode,b+=sa.sum(sa.tail(f),Ea.nodeLength),d=!g}else{if(c=a.childNodes[b]||a,Ea.isText(c))return e(c,0);b=0,d=!1}return{node:c,collapseToStart:d,offset:b}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}a=a&&a.hasOwnProperty("default")?a["default"]:a;var O=function(){function b(a,b,c,d){this.markup=a,this.children=b,this.options=c,this.callback=d}return b.prototype.render=function(b){var c=a(this.markup);if(this.options&&this.options.contents&&c.html(this.options.contents),this.options&&this.options.className&&c.addClass(this.options.className),this.options&&this.options.data&&a.each(this.options.data,function(a,b){c.attr("data-"+a,b)}),this.options&&this.options.click&&c.on("click",this.options.click),this.children){var d=c.find(".note-children-container");this.children.forEach(function(a){a.render(d.length?d:c)})}return this.callback&&this.callback(c,this.options),this.options&&this.options.callback&&this.options.callback(c),b&&b.append(c),c},b}(),P=function(a,b){return function(){var c="object"==d(arguments[1])?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(e=c.children),new O(a,e,c,b)}},Q=P('<div class="note-editor note-frame card"/>'),R=P('<div class="note-toolbar card-header" role="toolbar"></div>'),S=P('<div class="note-editing-area"/>'),T=P('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),U=P('<div class="note-editable card-block" contentEditable="true" role="textbox" aria-multiline="true"/>'),V=P(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <output class="note-status-output" aria-live="polite"></output>','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),W=P('<div class="note-editor"/>'),X=P(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),Y=P('<div class="note-btn-group btn-group">'),Z=P('<div class="dropdown-menu" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",e=b.template?b.template(a):a,f="object"==d(a)?a.option:void 0;return'<a class="dropdown-item" href="#" '+('data-value="'+c+'"'+(void 0!==f?' data-option="'+f+'"':""))+' role="listitem" aria-label="'+c+'">'+e+"</a>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),_=P('<div class="dropdown-menu note-check" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a;return'<a class="dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+a+'">'+ea(b.checkClassName)+" "+d+"</a>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),aa=P('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;e>d;d++){for(var f=b.eventName,g=b.colors[d],h=b.colorsName[d],i=[],j=0,k=g.length;k>j;j++){var l=g[j],m=h[j];i.push(['<button type="button" class="note-color-btn"','style="background-color:',l,'" ','data-event="',f,'" ','data-value="',l,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+i.join("")+"</div>")}a.html(c.join("")),b.tooltip&&a.find(".note-color-btn").tooltip({container:b.container,trigger:"hover",placement:"bottom"})}),ba=P('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['<div class="modal-dialog">','  <div class="modal-content">',b.title?'    <div class="modal-header">      <h4 class="modal-title">'+b.title+'</h4>      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>    </div>':"",'    <div class="modal-body">'+b.body+"</div>",b.footer?'    <div class="modal-footer">'+b.footer+"</div>":"","  </div>","</div>"].join(""))}),ca=P(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c=void 0!==b.direction?b.direction:"bottom";a.addClass(c),b.hideArrow&&a.find(".arrow").hide()}),da=P('<div class="form-check"></div>',function(a,b){a.html(['<label class="form-check-label"'+(b.id?' for="'+b.id+'"':"")+">",' <input role="checkbox" type="checkbox" class="form-check-input"'+(b.id?' id="'+b.id+'"':""),b.checked?" checked":"",' aria-label="'+(b.text?b.text:"")+'"',' aria-checked="'+(b.checked?"true":"false")+'"/>'," "+(b.text?b.text:"")+"</label>"].join(""))}),ea=function(a,b){return"<"+(b=b||"i")+' class="'+a+'"/>'},fa={editor:Q,toolbar:R,editingArea:S,codable:T,editable:U,statusbar:V,airEditor:W,airEditable:X,buttonGroup:Y,dropdown:Z,dropdownButtonContents:function(a){return a},dropdownCheck:_,palette:aa,dialog:ba,popover:ca,icon:ea,checkbox:da,options:{},button:function(b,c){return P('<button type="button" class="note-btn btn btn-light btn-sm" role="button" tabindex="-1">',function(b,c){c&&c.tooltip&&b.attr({title:c.tooltip,"aria-label":c.tooltip}).tooltip({container:void 0!==c.container?c.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(b){a(b.currentTarget).tooltip("hide")})})(b,c)},toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},onDialogShown:function(a,b){a.one("shown.bs.modal",b)},onDialogHidden:function(a,b){a.one("hidden.bs.modal",b)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,b){var c=(b.airMode?fa.airEditor([fa.editingArea([fa.airEditable()])]):fa.editor([fa.toolbar(),fa.editingArea([fa.codable(),fa.editable()]),fa.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.show()}};a.summernote=a.summernote||{lang:{}},a.extend(a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var ga,ha="function"==typeof define&&define.amd,ia=navigator.userAgent,ja=/MSIE|Trident/i.test(ia);if(ja){var ka=/MSIE (\d+[.]\d+)/.exec(ia);ka&&(ga=parseFloat(ka[1])),(ka=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(ia))&&(ga=parseFloat(ka[1]))}var la=/Edge\/\d+/.test(ia),ma=!!window.CodeMirror,na="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,oa=ja||la?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",pa={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:ja,isEdge:la,isFF:!la&&/firefox/i.test(ia),isPhantom:/PhantomJS/i.test(ia),isWebkit:!la&&/webkit/i.test(ia),isChrome:!la&&/chrome/i.test(ia),isSafari:!la&&/safari/i.test(ia),browserVersion:ga,jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:ha,isSupportTouch:na,hasCodeMirror:ma,isFontInstalled:function(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",d=document.createElement("canvas").getContext("2d");d.font="200px '"+b+"'";var e=d.measureText(c).width;return d.font="200px '"+a+"', '"+b+"'",e!==d.measureText(c).width},isW3CRangeSupport:!!document.createRange,inputEventName:oa},qa=0,ra={eq:function(a){return function(b){return a===b}},eq2:function(a,b){return a===b},peq2:function(a){return function(b,c){return b[a]===c[a]}},ok:function(){return!0},fail:function(){return!1},self:function(a){return a},not:function(a){return function(){return!a.apply(a,arguments)}},and:function(a,b){return function(c){return a(c)&&b(c)}},invoke:function(a,b){return function(){return a[b].apply(a,arguments)}},uniqueId:function(a){var b=++qa+"";return a?a+b:b},rect2bnd:function(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}},invertObject:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b},namespaceToCamel:function(a,b){return(b=b||"")+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),g&&a.apply(e,f)}},isValidUrl:function(a){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi.test(a)}},sa={head:b,last:c,initial:function(a){return a.slice(0,a.length-1)},tail:e,prev:function(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c-1]}return null},next:function(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c+1]}return null},find:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e))return e}},contains:f,all:function(a,b){for(var c=0,d=a.length;d>c;c++)if(!b(a[c]))return!1;return!0},sum:function(a,b){return b=b||ra.self,a.reduce(function(a,c){return a+b(c)},0)},from:function(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b},isEmpty:function(a){return!a||!a.length},clusterBy:function(a,d){return a.length?e(a).reduce(function(a,b){var e=c(a);return d(c(e),b)?e[e.length]=b:a[a.length]=[b],a},[[b(a)]]):[]},compact:function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b},unique:function(a){for(var b=[],c=0,d=a.length;d>c;c++)f(b,a[c])||b.push(a[c]);return b}},ta=String.fromCharCode(160),ua=h("PRE"),va=h("LI"),wa=h("TABLE"),xa=h("DATA"),ya=h("HR"),za=h("BLOCKQUOTE"),Aa=h("A"),Ba=h("BODY"),Ca=pa.isMSIE&&pa.browserVersion<11?"&nbsp;":"<br>",Da=h("TEXTAREA"),Ea={NBSP_CHAR:ta,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:Ca,emptyPara:"<p>"+Ca+"</p>",makePredByNodeName:h,isEditable:g,isControlSizing:function(b){return b&&a(b).hasClass("note-control-sizing")},isText:i,isElement:function(a){return a&&1===a.nodeType},isVoid:j,isPara:k,isPurePara:function(a){return k(a)&&!va(a)},isHeading:function(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())},isInline:l,isBlock:ra.not(l),isBodyInline:function(a){return l(a)&&!s(a,k)},isBody:Ba,isParaInline:function(a){return l(a)&&!!s(a,k)},isPre:ua,isList:m,isTable:wa,isData:xa,isCell:n,isBlockquote:za,isBodyContainer:o,isAnchor:Aa,isDiv:h("DIV"),isLi:va,isBR:h("BR"),isSpan:h("SPAN"),isB:h("B"),isU:h("U"),isS:h("S"),isI:h("I"),isImg:h("IMG"),isTextarea:Da,isEmpty:q,isEmptyAnchor:ra.and(Aa,q),isClosestSibling:function(a,b){return a.nextSibling===b||a.previousSibling===b},withClosestSiblings:function(a,b){b=b||ra.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c},nodeLength:p,isLeftEdgePoint:x,isRightEdgePoint:y,isEdgePoint:z,isLeftEdgeOf:A,isRightEdgeOf:B,isLeftEdgePointOf:function(a,b){return x(a)&&A(a.node,b)},isRightEdgePointOf:function(a,b){return y(a)&&B(a.node,b)},prevPoint:E,nextPoint:F,isSamePoint:G,isVisiblePoint:function(a){if(i(a.node)||!D(a.node)||q(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return!(b&&!j(b)||c&&!j(c))},prevPointUntil:function(a,b){for(;a;){if(b(a))return a;a=E(a)}return null},nextPointUntil:function(a,b){for(;a;){if(b(a))return a;a=F(a)}return null},isCharPoint:function(a){if(!i(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==ta},walkPoint:function(a,b,c,d){for(var e=a;e&&(c(e),!G(e,b));)e=F(e,d&&a.node!==e.node&&b.node!==e.node)},ancestor:s,singleChildAncestor:function(a,b){for(a=a.parentNode;a&&1===p(a);){if(b(a))return a;if(g(a))break;a=a.parentNode}return null},listAncestor:t,lastAncestor:function(a,b){var c=t(a);return sa.last(c.filter(b))},listNext:u,listPrev:function(a,b){b=b||ra.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c},listDescendant:function(a,b){var c=[];return b=b||ra.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;g>f;f++)d(e.childNodes[f])}(a),c},commonAncestor:function(a,b){for(var c=t(a),d=b;d;d=d.parentNode)if(-1<c.indexOf(d))return d;return null},wrap:function(b,c){var d=b.parentNode,e=a("<"+c+">")[0];return d.insertBefore(e,b),e.appendChild(b),e},insertAfter:v,appendChildNodes:w,position:C,hasChildren:D,makeOffsetPath:function(a,b){return t(b,ra.eq(a)).map(C).reverse()},fromOffsetPath:function(a,b){for(var c=a,d=0,e=b.length;e>d;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c},splitTree:I,splitPoint:function(a,b){var c,d,e=b?k:o,f=t(a.node,e),g=sa.last(f)||a.node;d=e(g)?(c=f[f.length-2],g):(c=g).parentNode;var h=c&&I(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}},create:J,createText:function(a){return document.createTextNode(a)},remove:K,removeWhile:function(a,b){for(;a&&!g(a)&&b(a);){var c=a.parentNode;K(a),a=c}},replace:function(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=J(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),w(c,sa.from(a.childNodes)),v(c,a),K(a),c},html:function(a,b){var c=L(a);return b&&(c=(c=c.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")})).trim()),c},value:L,posFromPlaceholder:function(b){var c=a(b),d=c.offset(),e=c.outerHeight(!0);return{left:d.left,top:d.top+e}},attachEvents:function(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})},detachEvents:function(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})},isCustomStyleTag:function(a){return a&&!i(a)&&sa.contains(a.classList,"note-styletag")}},Fa=function(){function b(b,c){this.ui=a.summernote.ui,this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=c,this.initialize()}return b.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},b.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},b.prototype.reset=function(){var a=this.isDisabled();this.code(Ea.emptyPara),this._destroy(),this._initialize(),a&&this.disable()},b.prototype._initialize=function(){var b=this,c=a.extend({},this.options.buttons);Object.keys(c).forEach(function(a){b.memo("button."+a,c[a])});var d=a.extend({},this.options.modules,a.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)}),Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})},b.prototype._destroy=function(){var a=this;Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),this.triggerEvent("destroy",this)},b.prototype.code=function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.layoutInfo.codable.val(a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)},b.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},b.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},b.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},b.prototype.triggerEvent=function(){var a=sa.head(arguments),b=sa.tail(sa.from(arguments)),c=this.options.callbacks[ra.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)},b.prototype.initializeModule=function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||ra.ok,b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&Ea.attachEvents(this.$note,b.events))},b.prototype.module=function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))},b.prototype.removeModule=function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&Ea.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]},b.prototype.memo=function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)},b.prototype.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},b.prototype.createInvokeHandlerAndUpdateState=function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}},b.prototype.createInvokeHandler=function(b,c){var d=this;return function(e){e.preventDefault();var f=a(e.target);d.invoke(b,c||f.closest("[data-value]").data("value"),f)}},b.prototype.invoke=function(){var a=sa.head(arguments),b=sa.tail(sa.from(arguments)),c=a.split("."),d=1<c.length,e=d&&sa.head(c),f=d?sa.last(c):sa.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},b}();a.fn.extend({summernote:function(){var b=a.type(sa.head(arguments)),c="string"===b,d="object"===b,e=a.extend({},a.summernote.options,d?sa.head(arguments):{});e.langInfo=a.extend(!0,{},a.summernote.lang["en-US"],a.summernote.lang[e.lang]),e.icons=a.extend(!0,{},a.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!pa.isSupportTouch:e.tooltip,this.each(function(b,c){var d=a(c);if(!d.data("summernote")){var f=new Fa(d,e);d.data("summernote",f),d.data("summernote").triggerEvent("init",f.layoutInfo)}});var f=this.first();if(f.length){var g=f.data("summernote");if(c)return g.invoke.apply(g,sa.from(arguments));e.focus&&g.invoke("editor.focus")}return this}});var Ga=function(){function b(a,b,c,d){this.sc=a,this.so=b,this.ec=c,this.eo=d,this.isOnEditable=this.makeIsOn(Ea.isEditable),this.isOnList=this.makeIsOn(Ea.isList),this.isOnAnchor=this.makeIsOn(Ea.isAnchor),this.isOnCell=this.makeIsOn(Ea.isCell),this.isOnData=this.makeIsOn(Ea.isData)}return b.prototype.nativeRange=function(){if(pa.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),a.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),a}var b=N({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",N({node:this.ec,offset:this.eo})),b},b.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},b.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},b.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},b.prototype.select=function(){var a=this.nativeRange();if(pa.isW3CRangeSupport){var b=document.getSelection();0<b.rangeCount&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},b.prototype.scrollIntoView=function(b){var c=a(b).height();return b.scrollTop+c<this.sc.offsetTop&&(b.scrollTop+=Math.abs(b.scrollTop+c-this.sc.offsetTop)),this},b.prototype.normalize=function(){var a=function(a,b){if(Ea.isVisiblePoint(a)&&(!Ea.isEdgePoint(a)||Ea.isRightEdgePoint(a)&&!b||Ea.isLeftEdgePoint(a)&&b||Ea.isRightEdgePoint(a)&&b&&Ea.isVoid(a.node.nextSibling)||Ea.isLeftEdgePoint(a)&&!b&&Ea.isVoid(a.node.previousSibling)||Ea.isBlock(a.node)&&Ea.isEmpty(a.node)))return a;var c=Ea.ancestor(a.node,Ea.isBlock);if((Ea.isLeftEdgePointOf(a,c)||Ea.isVoid(Ea.prevPoint(a).node))&&!b||(Ea.isRightEdgePointOf(a,c)||Ea.isVoid(Ea.nextPoint(a).node))&&b){if(Ea.isVisiblePoint(a))return a;b=!b}return(b?Ea.nextPointUntil(Ea.nextPoint(a),Ea.isVisiblePoint):Ea.prevPointUntil(Ea.prevPoint(a),Ea.isVisiblePoint))||a},c=a(this.getEndPoint(),!1),d=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(d.node,d.offset,c.node,c.offset)},b.prototype.nodes=function(a,b){a=a||ra.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return Ea.walkPoint(e,f,function(b){var e;Ea.isEditable(b.node)||(d?(Ea.isLeftEdgePoint(b)&&h.push(b.node),Ea.isRightEdgePoint(b)&&sa.contains(h,b.node)&&(e=b.node)):e=c?Ea.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e))},!0),sa.unique(g)},b.prototype.commonAncestor=function(){return Ea.commonAncestor(this.sc,this.ec)},b.prototype.expand=function(a){var c=Ea.ancestor(this.sc,a),d=Ea.ancestor(this.ec,a);if(!c&&!d)return new b(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=Ea.nodeLength(d)),new b(e.sc,e.so,e.ec,e.eo)},b.prototype.collapse=function(a){return a?new b(this.sc,this.so,this.sc,this.so):new b(this.ec,this.eo,this.ec,this.eo)},b.prototype.splitText=function(){var a=this.sc===this.ec,c=this.getPoints();return Ea.isText(this.ec)&&!Ea.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Ea.isText(this.sc)&&!Ea.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,a&&(c.ec=c.sc,c.eo=this.eo-this.so)),new b(c.sc,c.so,c.ec,c.eo)},b.prototype.deleteContents=function(){if(this.isCollapsed())return this;var c=this.splitText(),d=c.nodes(null,{fullyContains:!0}),e=Ea.prevPointUntil(c.getStartPoint(),function(a){return!sa.contains(d,a.node)}),f=[];return a.each(d,function(a,b){var c=b.parentNode;e.node!==c&&1===Ea.nodeLength(c)&&f.push(c),Ea.remove(b,!1)}),a.each(f,function(a,b){Ea.remove(b,!1)}),new b(e.node,e.offset,e.node,e.offset).normalize()},b.prototype.makeIsOn=function(a){return function(){var b=Ea.ancestor(this.sc,a);return!!b&&b===Ea.ancestor(this.ec,a)}},b.prototype.isLeftEdgeOf=function(a){if(!Ea.isLeftEdgePoint(this.getStartPoint()))return!1;var b=Ea.ancestor(this.sc,a);return b&&Ea.isLeftEdgeOf(this.sc,b)},b.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},b.prototype.wrapBodyInlineWithPara=function(){if(Ea.isBodyContainer(this.sc)&&Ea.isEmpty(this.sc))return this.sc.innerHTML=Ea.emptyPara,new b(this.sc.firstChild,0,this.sc.firstChild,0);var a,c=this.normalize();if(Ea.isParaInline(this.sc)||Ea.isPara(this.sc))return c;if(Ea.isInline(c.sc)){var d=Ea.listAncestor(c.sc,ra.not(Ea.isInline));a=sa.last(d),Ea.isInline(a)||(a=d[d.length-2]||c.sc.childNodes[c.so])}else a=c.sc.childNodes[0<c.so?c.so-1:0];var e=Ea.listPrev(a,Ea.isParaInline).reverse();if((e=e.concat(Ea.listNext(a.nextSibling,Ea.isParaInline))).length){var f=Ea.wrap(sa.head(e),"p");Ea.appendChildNodes(f,sa.tail(e))}return this.normalize()},b.prototype.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=Ea.splitPoint(b.getStartPoint(),Ea.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},b.prototype.pasteHTML=function(b){var c=a("<div></div>").html(b)[0],d=sa.from(c.childNodes),e=this.wrapBodyInlineWithPara().deleteContents();return 0<e.so&&(d=d.reverse()),d=d.map(function(a){return e.insertNode(a)}),0<e.so&&(d=d.reverse()),d},b.prototype.toString=function(){var a=this.nativeRange();return pa.isW3CRangeSupport?a.toString():a.text},b.prototype.getWordRange=function(a){var c=this.getEndPoint();if(!Ea.isCharPoint(c))return this;var d=Ea.prevPointUntil(c,function(a){return!Ea.isCharPoint(a)});return a&&(c=Ea.nextPointUntil(c,function(a){return!Ea.isCharPoint(a)})),new b(d.node,d.offset,c.node,c.offset)},b.prototype.bookmark=function(a){return{s:{path:Ea.makeOffsetPath(a,this.sc),offset:this.so},e:{path:Ea.makeOffsetPath(a,this.ec),offset:this.eo}}},b.prototype.paraBookmark=function(a){return{s:{path:sa.tail(Ea.makeOffsetPath(sa.head(a),this.sc)),offset:this.so},e:{path:sa.tail(Ea.makeOffsetPath(sa.last(a),this.ec)),offset:this.eo}}},b.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},b}(),Ha={create:function(a,b,c,d){if(4===arguments.length)return new Ga(a,b,c,d);if(2===arguments.length)return new Ga(c=a,d=b,c,d);var e=this.createFromSelection();return e||1!==arguments.length?e:(e=this.createFromNode(a)).collapse(Ea.emptyPara===a.innerHTML)},createFromSelection:function(){var a,b,c,d;if(pa.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Ea.isBody(e.anchorNode))return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=M(i,!0),k=M(h,!1);Ea.isText(j.node)&&Ea.isLeftEdgePoint(j)&&Ea.isTextNode(k.node)&&Ea.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new Ga(a,b,c,d)},createFromNode:function(a){var b=a,c=0,d=a,e=Ea.nodeLength(d);return Ea.isVoid(b)&&(c=Ea.listPrev(b).length-1,b=b.parentNode),Ea.isBR(d)?(e=Ea.listPrev(d).length-1,d=d.parentNode):Ea.isVoid(d)&&(e=Ea.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var c=Ea.fromOffsetPath(a,b.s.path),d=b.s.offset,e=Ea.fromOffsetPath(a,b.e.path),f=b.e.offset;return new Ga(c,d,e,f)},createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=Ea.fromOffsetPath(sa.head(b),a.s.path),f=Ea.fromOffsetPath(sa.last(b),a.e.path);return new Ga(e,c,f,d)}},Ia={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Ja={isEdit:function(a){return sa.contains([Ia.BACKSPACE,Ia.TAB,Ia.ENTER,Ia.SPACE,Ia.DELETE],a)},isMove:function(a){return sa.contains([Ia.LEFT,Ia.UP,Ia.RIGHT,Ia.DOWN],a)},nameFromCode:ra.invertObject(Ia),code:Ia},Ka=function(){function a(a){this.stack=[],this.stackOffset=-1,this.$editable=a,this.editable=a[0]}return a.prototype.makeSnapshot=function(){var a=Ha.create(this.editable);return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},a.prototype.applySnapshot=function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&Ha.createFromBookmark(this.editable,a.bookmark).select()},a.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},a.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},a.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},a.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),
this.stack.push(this.makeSnapshot())},a}(),La=function(){function b(){}return b.prototype.jQueryCSS=function(b,c){if(pa.jqueryVersion<1.9){var d={};return a.each(c,function(a,c){d[c]=b.css(c)}),d}return b.css(c)},b.prototype.fromNode=function(a){var b=this.jQueryCSS(a,["font-family","font-size","text-align","list-style-type","line-height"])||{};return b["font-size"]=parseInt(b["font-size"],10),b},b.prototype.stylePara=function(b,c){a.each(b.nodes(Ea.isPara,{includeAncestor:!0}),function(b,d){a(d).css(c)})},b.prototype.styleNodes=function(b,c){b=b.splitText();var d=c&&c.nodeName||"SPAN",e=!(!c||!c.expandClosestSibling),f=!(!c||!c.onlyPartialContains);if(b.isCollapsed())return[b.insertNode(Ea.create(d))];var g=Ea.makePredByNodeName(d),h=b.nodes(Ea.isText,{fullyContains:!0}).map(function(a){return Ea.singleChildAncestor(a,g)||Ea.wrap(a,d)});if(e){if(f){var i=b.nodes();g=ra.and(g,function(a){return sa.contains(i,a)})}return h.map(function(b){var c=Ea.withClosestSiblings(b,g),d=sa.head(c),e=sa.tail(c);return a.each(e,function(a,b){Ea.appendChildNodes(d,b.childNodes),Ea.remove(b)}),sa.head(c)})}return h},b.prototype.current=function(b){var c=a(Ea.isElement(b.sc)?b.sc:b.sc.parentNode),d=this.fromNode(c);try{d=a.extend(d,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||d["font-family"]})}catch(b){}if(b.isOnList()){var e=-1<["circle","disc","disc-leading-zero","square"].indexOf(d["list-style-type"]);d["list-style"]=e?"unordered":"ordered"}else d["list-style"]="none";var f=Ea.ancestor(b.sc,Ea.isPara);if(f&&f.style["line-height"])d["line-height"]=f.style.lineHeight;else{var g=parseInt(d["line-height"],10)/parseInt(d["font-size"],10);d["line-height"]=g.toFixed(1)}return d.anchor=b.isOnAnchor()&&Ea.ancestor(b.sc,Ea.isAnchor),d.ancestors=Ea.listAncestor(b.sc,Ea.isEditable),d.range=b,d},b}(),Ma=function(){function b(){}return b.prototype.insertOrderedList=function(a){this.toggleList("OL",a)},b.prototype.insertUnorderedList=function(a){this.toggleList("UL",a)},b.prototype.indent=function(b){var c=this,d=Ha.create(b).wrapBodyInlineWithPara(),e=d.nodes(Ea.isPara,{includeAncestor:!0}),f=sa.clusterBy(e,ra.peq2("parentNode"));a.each(f,function(b,d){var e=sa.head(d);if(Ea.isLi(e)){var f=c.findList(e.previousSibling);f?d.map(function(a){return f.appendChild(a)}):(c.wrapList(d,e.parentNode.nodeName),d.map(function(a){return a.parentNode}).map(function(a){return c.appendToPrevious(a)}))}else a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),d.select()},b.prototype.outdent=function(b){var c=this,d=Ha.create(b).wrapBodyInlineWithPara(),e=d.nodes(Ea.isPara,{includeAncestor:!0}),f=sa.clusterBy(e,ra.peq2("parentNode"));a.each(f,function(b,d){var e=sa.head(d);Ea.isLi(e)?c.releaseList([d]):a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return 25<(b=parseInt(b,10)||0)?b-25:""})})}),d.select()},b.prototype.toggleList=function(b,c){var d=this,e=Ha.create(c).wrapBodyInlineWithPara(),f=e.nodes(Ea.isPara,{includeAncestor:!0}),g=e.paraBookmark(f),h=sa.clusterBy(f,ra.peq2("parentNode"));if(sa.find(f,Ea.isPurePara)){var i=[];a.each(h,function(a,c){i=i.concat(d.wrapList(c,b))}),f=i}else{var j=e.nodes(Ea.isList,{includeAncestor:!0}).filter(function(c){return!a.nodeName(c,b)});j.length?a.each(j,function(a,c){Ea.replace(c,b)}):f=this.releaseList(h,!0)}Ha.createFromParaBookmark(g,f).select()},b.prototype.wrapList=function(a,b){var c=sa.head(a),d=sa.last(a),e=Ea.isList(c.previousSibling)&&c.previousSibling,f=Ea.isList(d.nextSibling)&&d.nextSibling,g=e||Ea.insertAfter(Ea.create(b||"UL"),d);return a=a.map(function(a){return Ea.isPurePara(a)?Ea.replace(a,"LI"):a}),Ea.appendChildNodes(g,a),f&&(Ea.appendChildNodes(g,sa.from(f.childNodes)),Ea.remove(f)),a},b.prototype.releaseList=function(b,c){var d=this,e=[];return a.each(b,function(b,f){var g=sa.head(f),h=sa.last(f),i=c?Ea.lastAncestor(g,Ea.isList):g.parentNode,j=i.parentNode;if("LI"===i.parentNode.nodeName)f.map(function(a){var b=d.findNextSiblings(a);j.nextSibling?j.parentNode.insertBefore(a,j.nextSibling):j.parentNode.appendChild(a),b.length&&(d.wrapList(b,i.nodeName),a.appendChild(b[0].parentNode))}),0===i.children.length&&j.removeChild(i),0===j.childNodes.length&&j.parentNode.removeChild(j);else{var k=1<i.childNodes.length?Ea.splitTree(i,{node:h.parentNode,offset:Ea.position(h)+1},{isSkipPaddingBlankHTML:!0}):null,l=Ea.splitTree(i,{node:g.parentNode,offset:Ea.position(g)},{isSkipPaddingBlankHTML:!0});f=c?Ea.listDescendant(l,Ea.isLi):sa.from(l.childNodes).filter(Ea.isLi),!c&&Ea.isList(i.parentNode)||(f=f.map(function(a){return Ea.replace(a,"P")})),a.each(sa.from(f).reverse(),function(a,b){Ea.insertAfter(b,i)});var m=sa.compact([i,l,k]);a.each(m,function(b,c){var d=[c].concat(Ea.listDescendant(c,Ea.isList));a.each(d.reverse(),function(a,b){Ea.nodeLength(b)||Ea.remove(b,!0)})})}e=e.concat(f)}),e},b.prototype.appendToPrevious=function(a){return a.previousSibling?Ea.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")},b.prototype.findList=function(a){return a?sa.find(a.children,function(a){return-1<["OL","UL"].indexOf(a.nodeName)}):null},b.prototype.findNextSiblings=function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b},b}(),Na=function(){function b(a){this.bullet=new Ma,this.options=a.options}return b.prototype.insertTab=function(a,b){var c=Ea.createText(new Array(b+1).join(Ea.NBSP_CHAR));(a=a.deleteContents()).insertNode(c,!0),(a=Ha.create(c,b)).select()},b.prototype.insertParagraph=function(b,c){c=(c=(c=c||Ha.create(b)).deleteContents()).wrapBodyInlineWithPara();var d,e=Ea.ancestor(c.sc,Ea.isPara);if(e){if(Ea.isEmpty(e)&&Ea.isLi(e))return void this.bullet.toggleList(e.parentNode.nodeName);var f=null;if(1===this.options.blockquoteBreakingLevel?f=Ea.ancestor(e,Ea.isBlockquote):2===this.options.blockquoteBreakingLevel&&(f=Ea.lastAncestor(e,Ea.isBlockquote)),f){d=a(Ea.emptyPara)[0],Ea.isRightEdgePoint(c.getStartPoint())&&Ea.isBR(c.sc.nextSibling)&&a(c.sc.nextSibling).remove();var g=Ea.splitTree(f,c.getStartPoint(),{isDiscardEmptySplits:!0});g?g.parentNode.insertBefore(d,g):Ea.insertAfter(d,f)}else{d=Ea.splitTree(e,c.getStartPoint());var h=Ea.listDescendant(e,Ea.isEmptyAnchor);h=h.concat(Ea.listDescendant(d,Ea.isEmptyAnchor)),a.each(h,function(a,b){Ea.remove(b)}),(Ea.isHeading(d)||Ea.isPre(d)||Ea.isCustomStyleTag(d))&&Ea.isEmpty(d)&&(d=Ea.replace(d,"p"))}}else{var i=c.sc.childNodes[c.so];d=a(Ea.emptyPara)[0],i?c.sc.insertBefore(d,i):c.sc.appendChild(d)}Ha.create(d,0).normalize().select().scrollIntoView(b)},b}(),Oa=function mb(a,b,c,d){function e(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};l[a]||(l[a]=[]),l[a][b]=h}function f(a,b){if(!l[a])return b;if(!l[a][b])return b;for(var c=b;l[a][c];)if(c++,!l[a][c])return c}function g(a,b){var c=f(a.rowIndex,b.cellIndex),d=1<b.colSpan,g=1<b.rowSpan,i=a.rowIndex===k.rowPos&&b.cellIndex===k.colPos;e(a.rowIndex,c,a,b,g,d,!1);var j=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(j>1)for(var l=1;j>l;l++){var m=a.rowIndex+l;h(m,c,b,i),e(m,c,a,b,!0,d,!0)}var n=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(n>1)for(var o=1;n>o;o++){var p=f(a.rowIndex,c+o);h(a.rowIndex,p,b,i),e(a.rowIndex,p,a,b,g,!0,!0)}}function h(a,b,c,d){a===k.rowPos&&k.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&k.colPos++}function i(a){switch(b){case mb.where.Column:if(a.isColSpan)return mb.resultAction.SubtractSpanCount;break;case mb.where.Row:if(!a.isVirtual&&a.isRowSpan)return mb.resultAction.AddCell;if(a.isRowSpan)return mb.resultAction.SubtractSpanCount}return mb.resultAction.RemoveCell}function j(a){switch(b){case mb.where.Column:if(a.isColSpan)return mb.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return mb.resultAction.Ignore;break;case mb.where.Row:if(a.isRowSpan)return mb.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return mb.resultAction.Ignore}return mb.resultAction.AddCell}var k={colPos:0,rowPos:0},l=[],m=[];this.getActionList=function(){for(var a,d,e,f=b===mb.where.Row?k.rowPos:-1,g=b===mb.where.Column?k.colPos:-1,h=0,n=!0;n;){var o=f>=0?f:h,p=g>=0?g:h,q=l[o];if(!q)return n=!1,m;var r=q[p];if(!r)return n=!1,m;var s=mb.resultAction.Ignore;switch(c){case mb.requestAction.Add:s=j(r);break;case mb.requestAction.Delete:s=i(r)}m.push((a=s,d=o,e=p,{baseCell:r.baseCell,action:a,virtualTable:{rowIndex:d,cellIndex:e}})),h++}return m},a&&a.tagName&&("td"===a.tagName.toLowerCase()||"th"===a.tagName.toLowerCase())?(k.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()?k.rowPos=a.parentElement.rowIndex:console.error("Impossible to identify start Row point.",a)):console.error("Impossible to identify start Cell point.",a),function(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)g(a[b],c[e])}()};Oa.where={Row:0,Column:1},Oa.requestAction={Add:0,Delete:1},Oa.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Pa,Qa=function(){function b(){}return b.prototype.tab=function(a,b){var c=Ea.ancestor(a.commonAncestor(),Ea.isCell),d=Ea.ancestor(c,Ea.isTable),e=Ea.listDescendant(d,Ea.isCell),f=sa[b?"prev":"next"](e,c);f&&Ha.create(f,0).select()},b.prototype.addRow=function(b,c){for(var d=Ea.ancestor(b.commonAncestor(),Ea.isCell),e=a(d).closest("tr"),f=this.recoverAttributes(e),g=a("<tr"+f+"></tr>"),h=new Oa(d,Oa.where.Row,Oa.requestAction.Add,a(e).closest("table")[0]).getActionList(),i=0;i<h.length;i++){var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case Oa.resultAction.AddCell:g.append("<td"+k+">"+Ea.blank+"</td>");break;case Oa.resultAction.SumSpanCount:if("top"===c&&(j.baseCell.parent?j.baseCell.closest("tr").rowIndex:0)<=e[0].rowIndex){var l=a("<div></div>").append(a("<td"+k+">"+Ea.blank+"</td>").removeAttr("rowspan")).html();g.append(l);break}var m=parseInt(j.baseCell.rowSpan,10);m++,j.baseCell.setAttribute("rowSpan",m)}}if("top"===c)e.before(g);else{if(1<d.rowSpan){var n=e[0].rowIndex+(d.rowSpan-2);return void a(a(e).parent().find("tr")[n]).after(a(g))}e.after(g)}},b.prototype.addCol=function(b,c){var d=Ea.ancestor(b.commonAncestor(),Ea.isCell),e=a(d).closest("tr");a(e).siblings().push(e);for(var f=new Oa(d,Oa.where.Column,Oa.requestAction.Add,a(e).closest("table")[0]).getActionList(),g=0;g<f.length;g++){var h=f[g],i=this.recoverAttributes(h.baseCell);switch(h.action){case Oa.resultAction.AddCell:"right"===c?a(h.baseCell).after("<td"+i+">"+Ea.blank+"</td>"):a(h.baseCell).before("<td"+i+">"+Ea.blank+"</td>");break;case Oa.resultAction.SumSpanCount:if("right"===c){var j=parseInt(h.baseCell.colSpan,10);j++,h.baseCell.setAttribute("colSpan",j)}else a(h.baseCell).before("<td"+i+">"+Ea.blank+"</td>")}}},b.prototype.recoverAttributes=function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b},b.prototype.deleteRow=function(b){for(var c=Ea.ancestor(b.commonAncestor(),Ea.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=d[0].rowIndex,g=new Oa(c,Oa.where.Row,Oa.requestAction.Delete,a(d).closest("table")[0]).getActionList(),h=0;h<g.length;h++)if(g[h]){var i=g[h].baseCell,j=g[h].virtualTable,k=i.rowSpan&&1<i.rowSpan,l=k?parseInt(i.rowSpan,10):0;switch(g[h].action){case Oa.resultAction.Ignore:continue;case Oa.resultAction.AddCell:var m=d.next("tr")[0];if(!m)continue;var n=d[0].cells[e];k&&(l>2?(l--,m.insertBefore(n,m.cells[e]),m.cells[e].setAttribute("rowSpan",l),m.cells[e].innerHTML=""):2===l&&(m.insertBefore(n,m.cells[e]),m.cells[e].removeAttribute("rowSpan"),m.cells[e].innerHTML=""));continue;case Oa.resultAction.SubtractSpanCount:k&&(l>2?(l--,i.setAttribute("rowSpan",l),j.rowIndex!==f&&i.cellIndex===e&&(i.innerHTML="")):2===l&&(i.removeAttribute("rowSpan"),j.rowIndex!==f&&i.cellIndex===e&&(i.innerHTML="")));continue;case Oa.resultAction.RemoveCell:continue}}d.remove()},b.prototype.deleteCol=function(b){for(var c=Ea.ancestor(b.commonAncestor(),Ea.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=new Oa(c,Oa.where.Column,Oa.requestAction.Delete,a(d).closest("table")[0]).getActionList(),g=0;g<f.length;g++)if(f[g])switch(f[g].action){case Oa.resultAction.Ignore:continue;case Oa.resultAction.SubtractSpanCount:var h=f[g].baseCell;if(h.colSpan&&1<h.colSpan){var i=h.colSpan?parseInt(h.colSpan,10):0;i>2?(i--,h.setAttribute("colSpan",i),h.cellIndex===e&&(h.innerHTML="")):2===i&&(h.removeAttribute("colSpan"),h.cellIndex===e&&(h.innerHTML=""))}continue;case Oa.resultAction.RemoveCell:Ea.remove(f[g].baseCell,!0);continue}},b.prototype.createTable=function(b,c,d){for(var e,f=[],g=0;b>g;g++)f.push("<td>"+Ea.blank+"</td>");e=f.join("");for(var h,i=[],j=0;c>j;j++)i.push("<tr>"+e+"</tr>");h=i.join("");var k=a("<table>"+h+"</table>");return d&&d.tableClassName&&k.addClass(d.tableClassName),k[0]},b.prototype.deleteTable=function(b){var c=Ea.ancestor(b.commonAncestor(),Ea.isCell);a(c).closest("table").remove()},b}(),Ra=function(){function b(b){var c=this;this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new La,this.table=new Qa,this.typing=new Na(b),this.bullet=new Ma,this.history=new Ka(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;f>e;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);for(this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family","'"+a+"'")}),this.fontSize=this.wrapCommand(function(a){return c.fontStyling("font-size",a+"px")}),e=1;6>=e;e++)this["formatH"+e]=function(a){return function(){c.formatBlock("H"+a)}}(e),this.context.memo("help.formatH"+e,this.lang.help["formatH"+e]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(b){c.isLimited(a(b).text().length)||(c.getLastRange().insertNode(b),Ha.createFromNodeAfter(b).select(),c.setLastRange())}),this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange().insertNode(Ea.createText(a));Ha.create(b,Ea.nodeLength(b)).select(),c.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);Ha.createFromNodeAfter(sa.last(b)).select(),c.setLastRange()}}),this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode(Ea.create("HR"));a.nextSibling&&(Ha.create(a.nextSibling,0).normalize().select(),c.setLastRange())}),this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),this.createLink=this.wrapCommand(function(b){var d=b.url,e=b.text,f=b.isNewWindow,g=b.range||c.getLastRange(),h=e.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==e;"string"==typeof d&&(d=d.trim()),d=c.options.onCreateLink?c.options.onCreateLink(d):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(d)?d:"http://"+d;var j=[];if(i){var k=(g=g.deleteContents()).insertNode(a("<A>"+e+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(j,function(b,c){a(c).attr("href",d),f?a(c).attr("target","_blank"):a(c).removeAttr("target")});var l=Ha.createFromNodeBefore(sa.head(j)).getStartPoint(),m=Ha.createFromNodeAfter(sa.last(j)).getEndPoint();Ha.create(l.node,l.offset,m.node,m.offset).select(),c.setLastRange()}}),this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.foreColor=this.wrapCommand(function(a){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x");c.getLastRange().deleteContents().insertNode(c.table.createTable(b[0],b[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var b=a(c.restoreTarget()).parent();b.parent("figure").length?b.parent("figure").remove():b=a(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",b,c.$editable)}),this.floatMe=this.wrapCommand(function(b){var d=a(c.restoreTarget());d.toggleClass("note-float-left","left"===b),d.toggleClass("note-float-right","right"===b),d.css("float","none"===b?"":b)}),this.resize=this.wrapCommand(function(b){var d=a(c.restoreTarget());0===(b=parseFloat(b))?d.css("width",""):d.css({width:100*b+"%",height:""})})}return b.prototype.initialize=function(){var a=this;this.$editable.on("keydown",function(b){return b.keyCode===Ja.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),b.isDefaultPrevented()||(a.options.shortcuts?a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)?!1:void 0}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Ea.html(this.$note)||Ea.emptyPara),this.$editable.on(pa.inputEventName,ra.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editor.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},b.prototype.destroy=function(){this.$editable.off()},b.prototype.handleKeyMap=function(a){var b=this.options.keyMap[pa.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=Ja.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];e?!1!==this.context.invoke(e)&&a.preventDefault():Ja.isEdit(a.keyCode)&&this.afterCommand()},b.prototype.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&sa.contains([66,73,85],a.keyCode)&&a.preventDefault()},b.prototype.isLimited=function(a,b){return a=a||0,(void 0===b||!(Ja.isMove(b.keyCode)||b.ctrlKey||b.metaKey||sa.contains([Ja.code.BACKSPACE,Ja.code.DELETE],b.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+a>=this.options.maxTextLength},b.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},b.prototype.setLastRange=function(){this.lastRange=Ha.create(this.editable)},b.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},b.prototype.saveRange=function(a){a&&this.getLastRange().collapse().select()},b.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},b.prototype.saveTarget=function(a){this.$editable.data("target",a)},b.prototype.clearTarget=function(){this.$editable.removeData("target")},b.prototype.restoreTarget=function(){return this.$editable.data("target")},b.prototype.currentStyle=function(){var a=Ha.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)},b.prototype.styleFromNode=function(a){return this.style.fromNode(a)},b.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},b.prototype.afterCommand=function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.tab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}},b.prototype.untab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1},b.prototype.wrapCommand=function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}},b.prototype.insertImage=function(b,c){var d,e=this;return(d=b,a.Deferred(function(b){var c=a("<img>");c.one("load",function(){c.off("error abort"),b.resolve(c)}).one("error abort",function(){c.off("load").detach(),b.reject(c)}).css({display:"none"}).appendTo(document.body).attr("src",d)}).promise()).then(function(a){e.beforeCommand(),"function"==typeof c?c(a):("string"==typeof c&&a.attr("data-filename",c),a.css("width",Math.min(e.$editable.width(),a.width()))),a.show(),Ha.create(e.editable).insertNode(a[0]),Ha.createFromNodeAfter(a[0]).select(),e.setLastRange(),e.afterCommand()}).fail(function(a){e.context.triggerEvent("image.upload.error",a)})},b.prototype.insertImagesAsDataURL=function(b){var c=this;a.each(b,function(b,d){var e,f=d.name;c.options.maximumImageFileSize&&c.options.maximumImageFileSize<d.size?c.context.triggerEvent("image.upload.error",c.lang.image.maximumFileSizeError):(e=d,a.Deferred(function(b){a.extend(new FileReader,{onload:function(a){var c=a.target.result;b.resolve(c)},onerror:function(a){b.reject(a)}}).readAsDataURL(e)}).promise()).then(function(a){return c.insertImage(a,f)}).fail(function(){c.context.triggerEvent("image.upload.error")})})},b.prototype.insertImagesOrCallback=function(a){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)},b.prototype.getSelectedText=function(){var a=this.getLastRange();return a.isOnAnchor()&&(a=Ha.createFromNode(Ea.ancestor(a.sc,Ea.isAnchor))),a.toString()},b.prototype.onFormatBlock=function(b,c){if(document.execCommand("FormatBlock",!1,pa.isMSIE?"<"+b+">":b),c&&c.length&&(c[0].tagName.toUpperCase()!==b.toUpperCase()&&(c=c.find(b)),c&&c.length)){var d=c[0].className||"";if(d){var e=this.createRange();a([e.sc,e.ec]).closest(b).addClass(d)}}},b.prototype.formatPara=function(){this.formatBlock("P")},b.prototype.fontStyling=function(b,c){var d=this.getLastRange();if(d){var e=this.style.styleNodes(d);if(a(e).css(b,c),d.isCollapsed()){var f=sa.head(e);f&&!Ea.nodeLength(f)&&(f.innerHTML=Ea.ZERO_WIDTH_NBSP_CHAR,Ha.createFromNodeAfter(f.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",f))}}},b.prototype.unlink=function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=Ea.ancestor(a.sc,Ea.isAnchor);(a=Ha.createFromNode(b)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},b.prototype.getLinkInfo=function(){var b=this.getLastRange().expand(Ea.isAnchor),c=a(sa.head(b.nodes(Ea.isAnchor))),d={range:b,text:b.toString(),url:c.length?c.attr("href"):""};return c.length&&(d.isNewWindow="_blank"===c.attr("target")),d},b.prototype.addRow=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())},b.prototype.addCol=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())},b.prototype.deleteRow=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())},b.prototype.deleteCol=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())},b.prototype.deleteTable=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())},b.prototype.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},b.prototype.hasFocus=function(){return this.$editable.is(":focus")},b.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},b.prototype.isEmpty=function(){return Ea.isEmpty(this.$editable[0])||Ea.emptyPara===this.$editable.html()},b.prototype.empty=function(){this.context.invoke("code",Ea.emptyPara)},b.prototype.normalizeContent=function(){this.$editable[0].normalize()},b}(),Sa=function(){function a(a){this.context=a,this.$editable=a.layoutInfo.editable}return a.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},a.prototype.pasteByEvent=function(a){var b=a.originalEvent.clipboardData;if(b&&b.items&&b.items.length){var c=1<b.items.length?b.items[1]:sa.head(b.items);"file"===c.kind&&-1!==c.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[c.getAsFile()]),this.context.invoke("editor.afterCommand")}},a}(),Ta=function(){function b(b){this.context=b,this.$eventListener=a(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=a(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return b.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(a){a.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},b.prototype.attachDragAndDropEvent=function(){var b=this,c=a(),d=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(a){var e=b.context.invoke("codeview.isActivated"),f=0<b.$editor.width()&&0<b.$editor.height();e||c.length||!f||(b.$editor.addClass("dragover"),b.$dropzone.width(b.$editor.width()),b.$dropzone.height(b.$editor.height()),d.text(b.lang.image.dragImageHere)),c=c.add(a.target)},this.documentEventHandlers.onDragleave=function(a){(c=c.not(a.target)).length||b.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){c=a(),b.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){b.$dropzone.addClass("hover"),d.text(b.lang.image.dropImage)}).on("dragleave",function(){b.$dropzone.removeClass("hover"),d.text(b.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(c){var d=c.originalEvent.dataTransfer;c.preventDefault(),d&&d.files&&d.files.length?(b.$editable.focus(),b.context.invoke("editor.insertImagesOrCallback",d.files)):a.each(d.types,function(c,e){var f=d.getData(e);-1<e.toLowerCase().indexOf("text")?b.context.invoke("editor.pasteHTML",f):a(f).each(function(a,c){b.context.invoke("editor.insertNode",c)})})}).on("dragover",!1)},b.prototype.destroy=function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}},b}();pa.hasCodeMirror&&(Pa=window.CodeMirror);var Ua=function(){function a(a){this.context=a,this.$editor=a.layoutInfo.editor,this.$editable=a.layoutInfo.editable,this.$codable=a.layoutInfo.codable,this.options=a.options}return a.prototype.sync=function(){this.isActivated()&&pa.hasCodeMirror&&this.$codable.data("cmEditor").save()},a.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},a.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},a.prototype.purify=function(a){if(this.options.codeviewFilter&&(a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";for(var c=0,d=b;c<d.length;c++){var e=d[c];if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}return""})}return a},a.prototype.activate=function(){var a=this;if(this.$codable.val(Ea.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),pa.hasCodeMirror){var b=Pa.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var c=new Pa.TernServer(this.options.codemirror.tern);b.ternServer=c,b.on("cursorActivity",function(a){c.updateArgHints(a)})}b.on("blur",function(c){a.context.triggerEvent("blur.codeview",b.getValue(),c)}),b.on("change",function(c){a.context.triggerEvent("change.codeview",b.getValue(),b)}),b.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",b)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(b){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})},a.prototype.deactivate=function(){
if(pa.hasCodeMirror){var a=this.$codable.data("cmEditor");this.$codable.val(a.getValue()),a.toTextArea()}var b=this.purify(Ea.value(this.$codable,this.options.prettifyHtml)||Ea.emptyPara),c=this.$editable.html()!==b;this.$editable.html(b),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),c&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},a.prototype.destroy=function(){this.isActivated()&&this.deactivate()},a}(),Va=function(){function b(b){this.$document=a(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return b.prototype.initialize=function(){var a=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function e(b){var e=b.clientY-(c+24);e=0<a.options.minheight?Math.max(e,a.options.minheight):e,e=0<a.options.maxHeight?Math.min(e,a.options.maxHeight):e,a.$editable.height(e)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})},b.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},b}(),Wa=function(){function b(b){var c=this;this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=a(window),this.$scrollbar=a("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return b.prototype.resizeTo=function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)},b.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},b.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},b}(),Xa=function(){function b(b){var c=this;this.context=b,this.$document=a(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return b.prototype.initialize=function(){var b=this;this.$handle=a(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(a){if(Ea.isControlSizing(a.target)){a.preventDefault(),a.stopPropagation();var c=b.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=b.$document.scrollTop(),f=function(a){b.context.invoke("editor.resizeTo",{x:a.clientX-d.left,y:a.clientY-(d.top-e)},c,!a.shiftKey),b.update(c[0])};b.$document.on("mousemove",f).one("mouseup",function(a){a.preventDefault(),b.$document.off("mousemove",f),b.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(a){a.preventDefault(),b.update()})},b.prototype.destroy=function(){this.$handle.remove()},b.prototype.update=function(b,c){if(this.context.isDisabled())return!1;var d=Ea.isImg(b),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",b,c),d){var f=a(b),g=f.position(),h={left:g.left+parseInt(f.css("marginLeft"),10),top:g.top+parseInt(f.css("marginTop"),10)},i={w:f.outerWidth(!1),h:f.outerHeight(!1)};e.css({display:"block",left:h.left,top:h.top,width:i.w,height:i.h}).data("target",f);var j=new Image;j.src=f.attr("src");var k=i.w+"x"+i.h+" ("+this.lang.image.original+": "+j.width+"x"+j.height+")";e.find(".note-control-selection-info").text(k),this.context.invoke("editor.saveTarget",b)}else this.hide();return d},b.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},b}(),Ya=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,Za=function(){function b(a){var b=this;this.context=a,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return b.prototype.initialize=function(){this.lastWordRange=null},b.prototype.destroy=function(){this.lastWordRange=null},b.prototype.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),c=b.match(Ya);if(c&&(c[1]||c[2])){var d=c[1]?b:"http://"+b,e=a("<a />").html(b).attr("href",d)[0];this.context.options.linkTargetBlank&&a(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}},b.prototype.handleKeydown=function(a){if(sa.contains([Ja.code.ENTER,Ja.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}},b.prototype.handleKeyup=function(a){sa.contains([Ja.code.ENTER,Ja.code.SPACE],a.keyCode)&&this.replace()},b}(),$a=function(){function a(a){var b=this;this.$note=a.layoutInfo.note,this.events={"summernote.change":function(){b.$note.val(a.invoke("code"))}}}return a.prototype.shouldInitialize=function(){return Ea.isTextarea(this.$note[0])},a}(),_a=function(){function a(a){var b=this;this.context=a,this.options=a.options.replace||{},this.keys=[Ja.code.ENTER,Ja.code.SPACE,Ja.code.PERIOD,Ja.code.COMMA,Ja.code.SEMICOLON,Ja.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return a.prototype.shouldInitialize=function(){return!!this.options.match},a.prototype.initialize=function(){this.lastWord=null},a.prototype.destroy=function(){this.lastWord=null},a.prototype.replace=function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=Ea.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}},a.prototype.handleKeydown=function(a){if(this.previousKeydownCode&&sa.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=a.keyCode;else{if(sa.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode}},a.prototype.handleKeyup=function(a){sa.contains(this.keys,a.keyCode)&&this.replace()},a}(),ab=function(){function b(a){var b=this;this.context=a,this.$editingArea=a.layoutInfo.editingArea,this.options=a.options,this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}}}return b.prototype.shouldInitialize=function(){return!!this.options.placeholder},b.prototype.initialize=function(){var b=this;this.$placeholder=a('<div class="note-placeholder">'),this.$placeholder.on("click",function(){b.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},b.prototype.destroy=function(){this.$placeholder.remove()},b.prototype.update=function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)},b}(),bb=function(){function b(b){this.ui=a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,this.invertedKeyMap=ra.invertObject(this.options.keyMap[pa.isMac?"mac":"pc"])}return b.prototype.representShortcut=function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(pa.isMac&&(b=b.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},b.prototype.button=function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)},b.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},b.prototype.destroy=function(){delete this.fontInstalledMap},b.prototype.isFontInstalled=function(a){return this.fontInstalledMap.hasOwnProperty(a)||(this.fontInstalledMap[a]=pa.isFontInstalled(a)||sa.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]},b.prototype.isFontDeservedToAdd=function(a){return""!==(a=a.toLowerCase())&&this.isFontInstalled(a)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(a)},b.prototype.colorPalette=function(b,c,d,e){var f=this;return this.ui.buttonGroup({className:"note-color "+b,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:c,click:function(b){var c=a(b.currentTarget);d&&e?f.context.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")}):d?f.context.invoke("editor.color",{backColor:c.attr("data-backColor")}):e&&f.context.invoke("editor.color",{foreColor:c.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");d&&(b.css("background-color",f.options.colorButton.backColor),a.attr("data-backColor",f.options.colorButton.backColor)),e?(b.css("color",f.options.colorButton.foreColor),a.attr("data-foreColor",f.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(d?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(e?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(b){b.find(".note-holder").each(function(b,c){var d=a(c);d.append(f.ui.palette({colors:f.options.colors,colorsName:f.options.colorsName,eventName:d.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())});var c=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];b.find(".note-holder-custom").each(function(b,d){var e=a(d);e.append(f.ui.palette({colors:c,colorsName:c,eventName:e.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())}),b.find("input[type=color]").each(function(c,d){a(d).change(function(){var c=b.find("#"+a(this).data("event")).find(".note-color-btn").first(),d=this.value.toUpperCase();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.click()})})},click:function(c){c.stopPropagation();var d=a("."+b),e=a(c.target),g=e.data("event"),h=e.attr("data-value");if("openPalette"===g){var i=d.find("#"+h),j=a(d.find("#"+i.data("event")).find(".note-color-row")[0]),k=j.find(".note-color-btn").last().detach(),l=i.val();k.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),j.prepend(k),i.click()}else if(sa.contains(["backColor","foreColor"],g)){var m="backColor"===g?"background-color":"color",n=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");n.css(m,h),o.attr("data-"+g,h),f.context.invoke("editor."+g,h)}}})]}).render()},b.prototype.addToolbarButtons=function(){var b=this;this.context.memo("button.style",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.magic),b.options),tooltip:b.lang.style.style,data:{toggle:"dropdown"}}),b.ui.dropdown({className:"dropdown-style",items:b.options.styleTags,title:b.lang.style.style,template:function(a){"string"==typeof a&&(a={tag:a,title:b.lang.style.hasOwnProperty(a)?b.lang.style[a]:a});var c=a.tag,d=a.title;return"<"+c+(a.style?' style="'+a.style+'" ':"")+(a.className?' class="'+a.className+'"':"")+">"+d+"</"+c+">"},click:b.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var c=function(a,c){var e=d.options.styleTags[a];d.context.memo("button.style."+e,function(){return b.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:b.lang.style[e],click:b.context.createInvokeHandler("editor.formatBlock")}).render()})},d=this,e=0,f=this.options.styleTags.length;f>e;e++)c(e);this.context.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.ui.icon(b.options.icons.bold),tooltip:b.lang.font.bold+b.representShortcut("bold"),click:b.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.ui.icon(b.options.icons.italic),tooltip:b.lang.font.italic+b.representShortcut("italic"),click:b.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.ui.icon(b.options.icons.underline),tooltip:b.lang.font.underline+b.representShortcut("underline"),click:b.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return b.button({contents:b.ui.icon(b.options.icons.eraser),tooltip:b.lang.font.clear+b.representShortcut("removeFormat"),click:b.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.ui.icon(b.options.icons.strikethrough),tooltip:b.lang.font.strikethrough+b.representShortcut("strikethrough"),click:b.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.ui.icon(b.options.icons.superscript),tooltip:b.lang.font.superscript,click:b.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.ui.icon(b.options.icons.subscript),tooltip:b.lang.font.subscript,click:b.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var c=b.context.invoke("editor.currentStyle");return a.each(c["font-family"].split(","),function(a,c){c=c.trim().replace(/['"]+/g,""),b.isFontDeservedToAdd(c)&&-1===b.options.fontNames.indexOf(c)&&b.options.fontNames.push(c)}),b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontname"/>',b.options),tooltip:b.lang.font.name,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:b.options.icons.menuCheck,items:b.options.fontNames.filter(b.isFontInstalled.bind(b)),title:b.lang.font.name,template:function(a){return"<span style=\"font-family: '"+a+"'\">"+a+"</span>"},click:b.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',b.options),tooltip:b.lang.font.size,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:b.options.icons.menuCheck,items:b.options.fontSizes,title:b.lang.font.size,click:b.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return b.colorPalette("note-color-all",b.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return b.colorPalette("note-color-fore",b.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return b.colorPalette("note-color-back",b.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return b.button({contents:b.ui.icon(b.options.icons.unorderedlist),tooltip:b.lang.lists.unordered+b.representShortcut("insertUnorderedList"),click:b.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return b.button({contents:b.ui.icon(b.options.icons.orderedlist),tooltip:b.lang.lists.ordered+b.representShortcut("insertOrderedList"),click:b.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),h=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),i=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),j=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),k=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",ra.invoke(g,"render")),this.context.memo("button.justifyCenter",ra.invoke(h,"render")),this.context.memo("button.justifyRight",ra.invoke(i,"render")),this.context.memo("button.justifyFull",ra.invoke(j,"render")),this.context.memo("button.outdent",ra.invoke(k,"render")),this.context.memo("button.indent",ra.invoke(l,"render")),this.context.memo("button.paragraph",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.alignLeft),b.options),tooltip:b.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),b.ui.dropdown([b.ui.buttonGroup({className:"note-align",children:[g,h,i,j]}),b.ui.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),this.context.memo("button.height",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.textHeight),b.options),tooltip:b.lang.font.height,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({items:b.options.lineHeights,checkClassName:b.options.icons.menuCheck,className:"dropdown-line-height",title:b.lang.font.height,click:b.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.table),b.options),tooltip:b.lang.table.table,data:{toggle:"dropdown"}}),b.ui.dropdown({title:b.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(a){a.find(".note-dimension-picker-mousecatcher").css({width:b.options.insertTableMaxSize.col+"em",height:b.options.insertTableMaxSize.row+"em"}).mousedown(b.context.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler.bind(b))}}).render()}),this.context.memo("button.link",function(){return b.button({contents:b.ui.icon(b.options.icons.link),tooltip:b.lang.link.link+b.representShortcut("linkDialog.show"),click:b.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return b.button({contents:b.ui.icon(b.options.icons.picture),tooltip:b.lang.image.image,click:b.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return b.button({contents:b.ui.icon(b.options.icons.video),tooltip:b.lang.video.video,click:b.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return b.button({contents:b.ui.icon(b.options.icons.minus),tooltip:b.lang.hr.insert+b.representShortcut("insertHorizontalRule"),click:b.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.ui.icon(b.options.icons.arrowsAlt),tooltip:b.lang.options.fullscreen,click:b.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.ui.icon(b.options.icons.code),tooltip:b.lang.options.codeview,click:b.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return b.button({contents:b.ui.icon(b.options.icons.redo),tooltip:b.lang.history.redo+b.representShortcut("redo"),click:b.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return b.button({contents:b.ui.icon(b.options.icons.undo),tooltip:b.lang.history.undo+b.representShortcut("undo"),click:b.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return b.button({contents:b.ui.icon(b.options.icons.question),tooltip:b.lang.options.help,click:b.context.createInvokeHandler("helpDialog.show")}).render()})},b.prototype.addImagePopoverButtons=function(){var a=this;this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})},b.prototype.addLinkPopoverButtons=function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})},b.prototype.addTablePopoverButtons=function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})},b.prototype.build=function(a,b){for(var c=0,d=b.length;d>c;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;j>i;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k():k)}h.appendTo(a)}},b.prototype.updateCurrentStyle=function(b){var c=this,d=b||this.$toolbar,e=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(d,{".note-btn-bold":function(){return"bold"===e["font-bold"]},".note-btn-italic":function(){return"italic"===e["font-italic"]},".note-btn-underline":function(){return"underline"===e["font-underline"]},".note-btn-subscript":function(){return"subscript"===e["font-subscript"]},".note-btn-superscript":function(){return"superscript"===e["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===e["font-strikethrough"]}}),e["font-family"]){var f=e["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=sa.find(f,this.isFontInstalled.bind(this));d.find(".dropdown-fontname a").each(function(b,c){var d=a(c),e=d.data("value")+""==g+"";d.toggleClass("checked",e)}),d.find(".note-current-fontname").text(g).css("font-family",g)}if(e["font-size"]){var h=e["font-size"];d.find(".dropdown-fontsize a").each(function(b,c){var d=a(c),e=d.data("value")+""==h+"";d.toggleClass("checked",e)}),d.find(".note-current-fontsize").text(h)}if(e["line-height"]){var i=e["line-height"];d.find(".dropdown-line-height li a").each(function(b,d){var e=a(d).data("value")+""==i+"";c.className=e?"checked":""})}},b.prototype.updateBtnStates=function(b,c){var d=this;a.each(c,function(a,c){d.ui.toggleBtnActive(b.find(a),c())})},b.prototype.tableMoveHandler=function(b){var c,d=a(b.target.parentNode),e=d.next(),f=d.find(".note-dimension-picker-mousecatcher"),g=d.find(".note-dimension-picker-highlighted"),h=d.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var i=a(b.target).offset();c={x:b.pageX-i.left,y:b.pageY-i.top}}else c={x:b.offsetX,y:b.offsetY};var j=Math.ceil(c.x/18)||1,k=Math.ceil(c.y/18)||1;g.css({width:j+"em",height:k+"em"}),f.data("value",j+"x"+k),j>3&&j<this.options.insertTableMaxSize.col&&h.css({width:j+1+"em"}),k>3&&k<this.options.insertTableMaxSize.row&&h.css({height:k+1+"em"}),e.html(j+" x "+k)},b}(),cb=function(){function b(b){this.context=b,this.$window=a(window),this.$document=a(document),this.ui=a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return b.prototype.shouldInitialize=function(){return!this.options.airMode},b.prototype.initialize=function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},b.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},b.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var b=this.$editor.outerHeight(),c=this.$editor.width(),d=this.$toolbar.height(),e=this.$statusbar.height(),f=0;this.options.otherStaticBar&&(f=a(this.options.otherStaticBar).outerHeight());
var g=this.$document.scrollTop(),h=this.$editor.offset().top,i=h-f,j=h+b-f-d-e;!this.isFollowing&&g>i&&j-d>g?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:f,width:c}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(i>g||g>j)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},b.prototype.changeContainer=function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},b.prototype.updateFullscreen=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)},b.prototype.updateCodeview=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()},b.prototype.activate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!0)},b.prototype.deactivate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!1)},b}(),db=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return b.prototype.initialize=function(){var b=this.options.dialogsInBody?this.$body:this.$editor,c=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":a("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),d='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:c,footer:d}).render().appendTo(b)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Ja.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.toggleLinkBtn=function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())},b.prototype.showLinkDialog=function(b){var c=this;return a.Deferred(function(a){var d=c.$dialog.find(".note-link-text"),e=c.$dialog.find(".note-link-url"),f=c.$dialog.find(".note-link-btn"),g=c.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),!b.url&&ra.isValidUrl(b.text)&&(b.url=b.text),d.on("input paste propertychange",function(){b.text=d.val(),c.toggleLinkBtn(f,d,e)}).val(b.text),e.on("input paste propertychange",function(){b.text||d.val(e.val()),c.toggleLinkBtn(f,d,e)}).val(b.url),pa.isSupportTouch||e.trigger("focus"),c.toggleLinkBtn(f,d,e),c.bindEnterKey(e,f),c.bindEnterKey(d,f);var h=void 0!==b.isNewWindow?b.isNewWindow:c.context.options.linkTargetBlank;g.prop("checked",h),f.one("click",function(f){f.preventDefault(),a.resolve({range:b.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked")}),c.ui.hideDialog(c.$dialog)})}),c.ui.onDialogHidden(c.$dialog,function(){d.off(),e.off(),f.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)}).promise()},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b}(),eb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!sa.isEmpty(this.options.popover.link)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){a.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var b=this.context.invoke("editor.getLastRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=Ea.ancestor(b.sc,Ea.isAnchor),d=a(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=Ea.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),fb=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b="";if(this.options.maximumImageFileSize){var c=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),d=1*(this.options.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";b="<small>"+this.lang.image.maximumFileSize+" : "+d+"</small>"}var e=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',b,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),f='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:f}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Ja.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showImageDialog=function(){var b=this;return a.Deferred(function(a){var c=b.$dialog.find(".note-image-input"),d=b.$dialog.find(".note-image-url"),e=b.$dialog.find(".note-image-btn");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){a.resolve(b.target.files||b.target.value)}).val("")),d.on("input paste propertychange",function(){b.ui.toggleBtn(e,d.val())}).val(""),pa.isSupportTouch||d.trigger("focus"),e.click(function(b){b.preventDefault(),a.resolve(d.val())}),b.bindEnterKey(d,e)}),b.ui.onDialogHidden(b.$dialog,function(){c.off(),d.off(),e.off(),"pending"===a.state()&&a.reject()}),b.ui.showDialog(b.$dialog)})},b}(),gb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!sa.isEmpty(this.options.popover.image)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a,b){if(Ea.isImg(a)){var c=Ea.posFromPlaceholder(a),d=Ea.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?b.pageX-20:c.left,top:this.options.popatmouse?b.pageY:Math.min(c.top,d.top)})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),hb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!sa.isEmpty(this.options.popover.table)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),pa.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a){if(this.context.isDisabled())return!1;var b=Ea.isCell(a);if(b){var c=Ea.posFromPlaceholder(a);this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b},b.prototype.hide=function(){this.$popover.hide()},b}(),ib=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),c='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:c}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Ja.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.createVideoNode=function(b){var c,d=b.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),e=b.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),f=b.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),g=b.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),h=b.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),i=b.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),j=b.match(/\/\/v\.qq\.com.*?vid=(.+)/),k=b.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),l=b.match(/^.+.(mp4|m4v)$/),m=b.match(/^.+.(ogg|ogv)$/),n=b.match(/^.+.(webm)$/),o=b.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(d&&11===d[1].length){var p=d[1],q=0;if(void 0!==d[2]){var r=d[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(r)for(var s=[3600,60,1],t=0,u=s.length;u>t;t++)q+=void 0!==r[t+1]?s[t]*parseInt(r[t+1],10):0}c=a("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+p+(q>0?"?start="+q:"")).attr("width","640").attr("height","360")}else if(e&&e[0].length)c=a("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+e[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(f&&f[0].length)c=a("<iframe>").attr("frameborder",0).attr("src",f[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(g&&g[3].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+g[3]).attr("width","640").attr("height","360");else if(h&&h[2].length)c=a("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+h[2]).attr("width","640").attr("height","360");else if(i&&i[1].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+i[1]);else if(j&&j[1].length||k&&k[2].length){var v=j&&j[1].length?j[1]:k[2];c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+v+"&amp;auto=0")}else if(l||m||n)c=a("<video controls>").attr("src",b).attr("width","640").attr("height","360");else{if(!o||!o[0].length)return!1;c=a("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(o[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return c.addClass("note-video-clip"),c[0]},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");var c=a.createVideoNode(b);c&&a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showVideoDialog=function(b){var c=this;return a.Deferred(function(a){var b=c.$dialog.find(".note-video-url"),d=c.$dialog.find(".note-video-btn");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),b.on("input paste propertychange",function(){c.ui.toggleBtn(d,b.val())}),pa.isSupportTouch||b.trigger("focus"),d.click(function(c){c.preventDefault(),a.resolve(b.val())}),c.bindEnterKey(b,d)}),c.ui.onDialogHidden(c.$dialog,function(){b.off(),d.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)})},b}(),jb=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.createShortcutList=function(){var b=this,c=this.options.keyMap[pa.isMac?"mac":"pc"];return Object.keys(c).map(function(d){var e=c[d],f=a('<div><div class="help-list-item"/></div>');return f.append(a("<label><kbd>"+d+"</kdb></label>").css({width:180,"margin-right":10})).append(a("<span/>").html(b.context.memo("help."+e)||e)),f.html()}).join("")},b.prototype.showHelpDialog=function(){var b=this;return a.Deferred(function(a){b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),a.resolve()}),b.ui.showDialog(b.$dialog)}).promise()},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})},b}(),kb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){c.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){c.hide()},"summernote.focusout":function(a,b){pa.isFF||b.relatedTarget&&Ea.ancestor(b.relatedTarget,ra.eq(c.$popover[0]))||c.hide()}}}return b.prototype.shouldInitialize=function(){return this.options.airMode&&!sa.isEmpty(this.options.popover.air)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content");this.context.invoke("buttons.build",a,this.options.popover.air)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){var a=this.context.invoke("editor.currentStyle");if(a.range&&!a.range.isCollapsed()){var b=sa.last(a.range.getClientRects());if(b){var c=ra.rect2bnd(b);this.$popover.css({display:"block",left:Math.max(c.left+c.width/2,0)-20,top:c.top+c.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),lb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return 0<this.hints.length},b.prototype.initialize=function(){var b=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(c){b.$content.find(".active").removeClass("active"),a(c.currentTarget).addClass("active"),b.replace()})},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},b.prototype.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},b.prototype.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},b.prototype.replace=function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);this.lastWordRange.insertNode(b),Ha.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},b.prototype.nodeFromItem=function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=Ea.createText(d)),d},b.prototype.createItemTemplates=function(b,c){var d=this.hints[b];return c.map(function(c,e){var f=a('<div class="note-hint-item"/>');return f.append(d.template?d.template(c):c+""),f.data({index:b,item:c}),f})},b.prototype.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===Ja.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===Ja.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===Ja.code.DOWN&&(a.preventDefault(),this.moveDown()))},b.prototype.searchKeyword=function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},b.prototype.createGroup=function(b,c){var d=this,e=a('<div class="note-hint-group note-hint-group-'+b+'"/>');return this.searchKeyword(b,c,function(a){(a=a||[]).length&&(e.html(d.createItemTemplates(b,a)),d.show())}),e},b.prototype.handleKeyup=function(a){var b=this;if(!sa.contains([Ja.code.ENTER,Ja.code.UP,Ja.code.DOWN],a.keyCode)){var c=this.context.invoke("editor.getLastRange").getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var e=ra.rect2bnd(sa.last(c.getClientRects()));e&&(this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))}else this.hide()}},b.prototype.show=function(){this.$popover.show()},b.prototype.hide=function(){this.$popover.hide()},b}();a.summernote=a.extend(a.summernote,{version:"0.8.12",plugins:{},dom:Ea,range:Ha,options:{langInfo:a.summernote.lang["en-US"],modules:{editor:Ra,clipboard:Sa,dropzone:Ta,codeview:Ua,statusbar:Va,fullscreen:Wa,handle:Xa,hintPopover:lb,autoLink:Za,autoSync:$a,autoReplace:_a,placeholder:ab,buttons:bb,toolbar:cb,linkDialog:db,linkPopover:eb,imageDialog:fb,imagePopover:gb,tablePopover:hb,videoDialog:ib,helpDialog:jb,airPopover:kb},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),a.summernote=a.extend(a.summernote,{ui:fa}),a.summernote.options.styleTags=["p",{title:"Blockquote",tag:"blockquote",className:"blockquote",value:"blockquote"},"pre","h1","h2","h3","h4","h5","h6"]})},{jquery:528}],55:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(e,f){"object"===("undefined"==typeof c?"undefined":d(c))&&"undefined"!=typeof b?f(a("jquery")):"function"==typeof define&&define.amd?define(["jquery"],f):(e=e||self,f(e.jQuery))}(void 0,function(a){function b(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",d="200px",e=document.createElement("canvas"),f=e.getContext("2d");f.font=d+" '"+b+"'";var g=f.measureText(c).width;f.font=d+" '"+a+"', '"+b+"'";var h=f.measureText(c).width;return g!==h}function c(a){return function(b){return a===b}}function e(a,b){return a===b}function f(a){return function(b,c){return b[a]===c[a]}}function g(){return!0}function h(){return!1}function i(a){return function(){return!a.apply(a,arguments)}}function j(a,b){return function(c){return a(c)&&b(c)}}function k(a){return a}function l(a,b){return function(){return a[b].apply(a,arguments)}}function m(a){var b=++Lb+"";return a?a+b:b}function n(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}}function o(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function p(a,b){return b=b||"",b+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")}function q(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function r(a){var b=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return b.test(a)}function s(a){return a[0]}function t(a){return a[a.length-1]}function u(a){return a.slice(0,a.length-1)}function v(a){return a.slice(1)}function w(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e))return e}}function x(a,b){for(var c=0,d=a.length;d>c;c++)if(!b(a[c]))return!1;return!0}function y(a,b){return a&&a.length&&b?-1!==a.indexOf(b):!1}function z(a,b){return b=b||Mb.self,a.reduce(function(a,c){return a+b(c)},0)}function A(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b}function B(a){return!a||!a.length}function C(a,b){if(!a.length)return[];var c=v(a);return c.reduce(function(a,c){var d=t(a);return b(t(d),c)?d[d.length]=c:a[a.length]=[c],a},[[s(a)]])}function D(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b}function E(a){for(var b=[],c=0,d=a.length;d>c;c++)y(b,a[c])||b.push(a[c]);return b}function F(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c+1]}return null}function G(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c-1]}return null}function H(b){return b&&a(b).hasClass("note-editable")}function I(b){return b&&a(b).hasClass("note-control-sizing")}function J(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}function K(a){return a&&3===a.nodeType}function L(a){return a&&1===a.nodeType}function M(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase());
}function N(a){return H(a)?!1:a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())}function O(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())}function P(a){return N(a)&&!Rb(a)}function Q(a){return!(T(a)||R(a)||Ub(a)||N(a)||Sb(a)||Vb(a)||Tb(a))}function R(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function S(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function T(a){return S(a)||Vb(a)||H(a)}function U(a){return Q(a)&&!!aa(a,N)}function V(a){return Q(a)&&!aa(a,N)}function W(a,b){return a.nextSibling===b||a.previousSibling===b}function X(a,b){b=b||Mb.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c}function Y(a){return K(a)?a.nodeValue.length:a?a.childNodes.length:0}function Z(a){var b=Y(a);return 0===b?!0:K(a)||1!==b||a.innerHTML!==Yb?Nb.all(a.childNodes,K)&&""===a.innerHTML?!0:!1:!0}function _(a){M(a)||Y(a)||(a.innerHTML=Yb)}function aa(a,b){for(;a;){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ba(a,b){for(a=a.parentNode;a&&1===Y(a);){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ca(a,b){b=b||Mb.fail;var c=[];return aa(a,function(a){return H(a)||c.push(a),b(a)}),c}function da(a,b){var c=ca(a);return Nb.last(c.filter(b))}function ea(a,b){for(var c=ca(a),d=b;d;d=d.parentNode)if(c.indexOf(d)>-1)return d;return null}function fa(a,b){b=b||Mb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c}function ga(a,b){b=b||Mb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}function ha(a,b){var c=[];return b=b||Mb.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;g>f;f++)d(e.childNodes[f])}(a),c}function ia(b,c){var d=b.parentNode,e=a("<"+c+">")[0];return d.insertBefore(e,b),e.appendChild(b),e}function ja(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function ka(b,c){return a.each(c,function(a,c){b.appendChild(c)}),b}function la(a){return 0===a.offset}function ma(a){return a.offset===Y(a.node)}function na(a){return la(a)||ma(a)}function oa(a,b){for(;a&&a!==b;){if(0!==sa(a))return!1;a=a.parentNode}return!0}function pa(a,b){if(!b)return!1;for(;a&&a!==b;){if(sa(a)!==Y(a.parentNode)-1)return!1;a=a.parentNode}return!0}function qa(a,b){return la(a)&&oa(a.node,b)}function ra(a,b){return ma(a)&&pa(a.node,b)}function sa(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function ta(a){return!!(a&&a.childNodes&&a.childNodes.length)}function ua(a,b){var c,d;if(0===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)}else ta(a.node)?(c=a.node.childNodes[a.offset-1],d=Y(c)):(c=a.node,d=b?0:a.offset-1);return{node:c,offset:d}}function va(a,b){var c,d;if(Y(a.node)===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)+1}else ta(a.node)?(c=a.node.childNodes[a.offset],d=0):(c=a.node,d=b?Y(a.node):a.offset+1);return{node:c,offset:d}}function wa(a,b){return a.node===b.node&&a.offset===b.offset}function xa(a){if(K(a.node)||!ta(a.node)||Z(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return b&&!M(b)||c&&!M(c)?!1:!0}function ya(a,b){for(;a;){if(b(a))return a;a=ua(a)}return null}function za(a,b){for(;a;){if(b(a))return a;a=va(a)}return null}function Aa(a){if(!K(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==Ob}function Ba(a,b,c,d){for(var e=a;e&&(c(e),!wa(e,b));){var f=d&&a.node!==e.node&&b.node!==e.node;e=va(e,f)}}function Ca(a,b){var c=ca(b,Mb.eq(a));return c.map(sa).reverse()}function Da(a,b){for(var c=a,d=0,e=b.length;e>d;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c}function Ea(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;if(e&&(c=!0),na(a)&&(K(a.node)||d)){if(la(a))return a.node;if(ma(a))return a.node.nextSibling}if(K(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=ja(a.node.cloneNode(!1),a.node);return ka(g,ga(f)),c||(_(a.node),_(g)),e&&(Z(a.node)&&Ja(a.node),Z(g))?(Ja(g),a.node.nextSibling):g}function Fa(a,b,c){var d=ca(b.node,Mb.eq(a));return d.length?1===d.length?Ea(b,c):d.reduce(function(a,d){return a===b.node&&(a=Ea(b,c)),Ea({node:d,offset:a?sa(a):Y(d)},c)}):null}function Ga(a,b){var c,d,e=b?N:T,f=ca(a.node,e),g=Nb.last(f)||a.node;e(g)?(c=f[f.length-2],d=g):(c=g,d=c.parentNode);var h=c&&Fa(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}}function Ha(a){return document.createElement(a)}function Ia(a){return document.createTextNode(a)}function Ja(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)d.push(a.childNodes[e]);for(var e=0,f=d.length;f>e;e++)c.insertBefore(d[e],a)}c.removeChild(a)}}function Ka(a,b){for(;a&&!H(a)&&b(a);){var c=a.parentNode;Ja(a),a=c}}function La(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=Ha(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),ka(c,Nb.from(a.childNodes)),ja(c,a),Ja(a),c}function Ma(a,b){var c=Zb(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}function Na(a,b){var c=Ma(a);if(b){var d=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;c=c.replace(d,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),c=c.trim()}return c}function Oa(b){var c=a(b),d=c.offset(),e=c.outerHeight(!0);return{left:d.left,top:d.top+e}}function Pa(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})}function Qa(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})}function Ra(a){return a&&!K(a)&&Nb.contains(a.classList,"note-styletag")}function Sa(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=Nb.from(e.childNodes);for(c=0;c<g.length;c++)if(!$b.isText(g[c])){if(f.moveToElementText(g[c]),f.compareEndPoints("StartToStart",a)>=0)break;d=g[c]}if(0!==c&&$b.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue;b&&i.nextSibling&&$b.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}function Ta(a){var b=function e(a,b){var c,d;if($b.isText(a)){var f=$b.listPrev(a,Mb.not($b.isText)),g=Nb.last(f).previousSibling;c=g||a.parentNode,b+=Nb.sum(Nb.tail(f),$b.nodeLength),d=!g}else{if(c=a.childNodes[b]||a,$b.isText(c))return e(c,0);b=0,d=!1}return{node:c,collapseToStart:d,offset:b}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}function Ua(b){return a.Deferred(function(c){a.extend(new FileReader,{onload:function(a){var b=a.target.result;c.resolve(b)},onerror:function(a){c.reject(a)}}).readAsDataURL(b)}).promise()}function Va(b){return a.Deferred(function(c){var d=a("<img>");d.one("load",function(){d.off("error abort"),c.resolve(d)}).one("error abort",function(){d.off("load").detach(),c.reject(d)}).css({display:"none"}).appendTo(document.body).attr("src",b)}).promise()}a=a&&a.hasOwnProperty("default")?a["default"]:a;var Wa=function(){function b(a,b,c,d){this.markup=a,this.children=b,this.options=c,this.callback=d}return b.prototype.render=function(b){var c=a(this.markup);if(this.options&&this.options.contents&&c.html(this.options.contents),this.options&&this.options.className&&c.addClass(this.options.className),this.options&&this.options.data&&a.each(this.options.data,function(a,b){c.attr("data-"+a,b)}),this.options&&this.options.click&&c.on("click",this.options.click),this.children){var d=c.find(".note-children-container");this.children.forEach(function(a){a.render(d.length?d:c)})}return this.callback&&this.callback(c,this.options),this.options&&this.options.callback&&this.options.callback(c),b&&b.append(c),c},b}(),Xa={create:function(a,b){return function(){var c="object"===d(arguments[1])?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(e=c.children),new Wa(a,e,c,b)}}},Ya=function(){function a(a,b){if(this.$node=a,this.options=$.extend({},{title:"",target:b.container,trigger:"hover focus",placement:"bottom"},b),this.$tooltip=$(['<div class="note-tooltip in">','  <div class="note-tooltip-arrow"/>','  <div class="note-tooltip-content"/>',"</div>"].join("")),"manual"!==this.options.trigger){var c=this.show.bind(this),d=this.hide.bind(this),e=this.toggle.bind(this);this.options.trigger.split(" ").forEach(function(b){"hover"===b?(a.off("mouseenter mouseleave"),a.on("mouseenter",c).on("mouseleave",d)):"click"===b?a.on("click",e):"focus"===b&&a.on("focus",c).on("blur",d)})}}return a.prototype.show=function(){var a=this.$node,b=a.offset(),c=this.$tooltip,d=this.options.title||a.attr("title")||a.data("title"),e=this.options.placement||a.data("placement");c.addClass(e),c.addClass("in"),c.find(".note-tooltip-content").text(d),c.appendTo(this.options.target);var f=a.outerWidth(),g=a.outerHeight(),h=c.outerWidth(),i=c.outerHeight();"bottom"===e?c.css({top:b.top+g,left:b.left+(f/2-h/2)}):"top"===e?c.css({top:b.top-i,left:b.left+(f/2-h/2)}):"left"===e?c.css({top:b.top+(g/2-i/2),left:b.left-h}):"right"===e&&c.css({top:b.top+(g/2-i/2),left:b.left+f})},a.prototype.hide=function(){this.$tooltip.removeClass("in"),this.$tooltip.remove()},a.prototype.toggle=function(){this.$tooltip.hasClass("in")?this.hide():this.show()},a}(),Za=function(){function a(a,b){this.$button=a,this.options=$.extend({},{target:b.container},b),this.setEvent()}return a.prototype.setEvent=function(){var a=this;this.$button.on("click",function(b){a.toggle(),b.stopImmediatePropagation()})},a.prototype.clear=function(){var a=$(".note-btn-group.open");a.find(".note-btn.active").removeClass("active"),a.removeClass("open")},a.prototype.show=function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var a=this.$button.next(),b=a.offset(),c=a.outerWidth(),d=$(window).width(),e=parseFloat($(this.options.target).css("margin-right"));b.left+c>d-e?a.css("margin-left",d-e-(b.left+c)):a.css("margin-left","")},a.prototype.hide=function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")},a.prototype.toggle=function(){var a=this.$button.parent().hasClass("open");this.clear(),a?this.hide():this.show()},a}();$(document).on("click",function(a){$(a.target).closest(".note-btn-group").length||$(".note-btn-group.open").removeClass("open")}),$(document).on("click.note-dropdown-menu",function(a){$(a.target).closest(".note-dropdown-menu").parent().removeClass("open")});var $a=function(){function a(a,b){this.options=$.extend({},{target:b.container||"body"},b),this.$modal=a,this.$backdrop=$('<div class="note-modal-backdrop" />')}return a.prototype.show=function(){"body"===this.options.target?(this.$backdrop.css("position","fixed"),this.$modal.css("position","fixed")):(this.$backdrop.css("position","absolute"),this.$modal.css("position","absolute")),this.$backdrop.appendTo(this.options.target).show(),this.$modal.appendTo(this.options.target).addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this))},a.prototype.hide=function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide")},a}(),_a=Xa.create('<div class="note-editor note-frame"/>'),ab=Xa.create('<div class="note-toolbar" role="toolbar"/>'),bb=Xa.create('<div class="note-editing-area"/>'),cb=Xa.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),db=Xa.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),eb=Xa.create(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-statusbar" role="resize">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),fb=Xa.create('<div class="note-editor"/>'),gb=Xa.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" role="status" aria-live="polite"/>'].join("")),hb=Xa.create('<div class="note-btn-group">'),ib=Xa.create('<button type="button" class="note-btn" role="button" tabindex="-1">',function(a,b){b&&b.tooltip&&(a.attr({"aria-label":b.tooltip}),a.data("_lite_tooltip",new Ya(a,{title:b.tooltip,container:b.container})).on("click",function(a){$(a.currentTarget).data("_lite_tooltip").hide()})),b.contents&&a.html(b.contents),b&&b.data&&"dropdown"===b.data.toggle&&a.data("_lite_dropdown",new Za(a,{container:b.container}))}),jb=Xa.create('<div class="note-dropdown-menu" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a,e=$('<a class="note-dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+c+'"></a>');return e.html(d).data("item",a),e}):b.items;a.html(c).attr({"aria-label":b.title}),a.on("click","> .note-dropdown-item",function(a){var c=$(this),d=c.data("item"),e=c.data("value");d.click?d.click(c):b.itemClick&&b.itemClick(a,d,e)})}),kb=Xa.create('<div class="note-dropdown-menu note-check" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a,e=$('<a class="note-dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+a+'"></a>');return e.html([zb(b.checkClassName)," ",d]).data("item",a),e}):b.items;a.html(c).attr({"aria-label":b.title}),a.on("click","> .note-dropdown-item",function(a){var c=$(this),d=c.data("item"),e=c.data("value");d.click?d.click(c):b.itemClick&&b.itemClick(a,d,e)})}),lb=function(a,b){return a+" "+zb(b.icons.caret,"span")},mb=function(a,b){return hb([ib({className:"dropdown-toggle",contents:a.title+" "+zb("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),jb({className:a.className,items:a.items,template:a.template,itemClick:a.itemClick})],{callback:b}).render()},nb=function(a,b){return hb([ib({className:"dropdown-toggle",contents:a.title+" "+zb("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),kb({className:a.className,checkClassName:a.checkClassName,items:a.items,template:a.template,itemClick:a.itemClick})],{callback:b}).render()},ob=function(a){return hb([ib({className:"dropdown-toggle",contents:a.title+" "+zb("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),jb([hb({className:"note-align",children:a.items[0]}),hb({className:"note-list",children:a.items[1]})])]).render()},pb=function(a,b,c){var d,e=18,f=$(a.target.parentNode),g=f.next(),h=f.find(".note-dimension-picker-mousecatcher"),i=f.find(".note-dimension-picker-highlighted"),j=f.find(".note-dimension-picker-unhighlighted");if(void 0===a.offsetX){var k=$(a.target).offset();d={x:a.pageX-k.left,y:a.pageY-k.top}}else d={x:a.offsetX,y:a.offsetY};var l={c:Math.ceil(d.x/e)||1,r:Math.ceil(d.y/e)||1};i.css({width:l.c+"em",height:l.r+"em"}),h.data("value",l.c+"x"+l.r),l.c>3&&l.c<b&&j.css({width:l.c+1+"em"}),l.r>3&&l.r<c&&j.css({height:l.r+1+"em"}),g.html(l.c+" x "+l.r)},qb=function(a){return hb([ib({className:"dropdown-toggle",contents:a.title+" "+zb("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),jb({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(b){var c=b.find(".note-dimension-picker-mousecatcher");c.css({width:a.col+"em",height:a.row+"em"}).mousedown(a.itemClick).mousemove(function(b){pb(b,a.col,a.row)})}}).render()},rb=Xa.create('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;e>d;d++){for(var f=b.eventName,g=b.colors[d],h=b.colorsName[d],i=[],j=0,k=g.length;k>j;j++){var l=g[j],m=h[j];i.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',l,'" ','data-event="',f,'" ','data-value="',l,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+i.join("")+"</div>")}a.html(c.join("")),a.find(".note-color-btn").each(function(){$(this).data("_lite_tooltip",new Ya($(this),{container:b.container}))})}),sb=function(a,b){return hb({className:"note-color",children:[ib({className:"note-current-color-button",contents:a.title,tooltip:a.lang.color.recent,click:a.currentClick,callback:function(a){var c=a.find(".note-recent-color");"foreColor"!==b&&(c.css("background-color","#FFFF00"),a.attr("data-backColor","#FFFF00"))}}),ib({className:"dropdown-toggle",contents:zb("note-icon-caret"),tooltip:a.lang.color.more,data:{toggle:"dropdown"}}),jb({items:["<div>",'<div class="note-btn-group btn-background-color">','  <div class="note-palette-title">'+a.lang.color.background+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="backColor" data-value="inherit">',a.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>','  <div class="btn-sm">','    <input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>",'<div class="note-btn-group btn-foreground-color">','  <div class="note-palette-title">'+a.lang.color.foreground+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="removeFormat" data-value="foreColor">',a.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>','  <div class="btn-sm">','    <input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>","</div>"].join(""),callback:function(c){c.find(".note-holder").each(function(){var b=$(this);b.append(rb({colors:a.colors,eventName:b.data("event")}).render())}),"fore"===b?(c.find(".btn-background-color").hide(),c.css({"min-width":"210px"})):"back"===b&&(c.find(".btn-foreground-color").hide(),c.css({"min-width":"210px"}))},click:function(c){var d=$(c.target),e=d.data("event"),f=d.data("value"),g=document.getElementById("html5fcp").value,h=document.getElementById("html5bcp").value;if("cp"===f?c.stopPropagation():"cpbackColor"===f?f=h:"cpforeColor"===f&&(f=g),e&&f){var i="backColor"===e?"background-color":"color",j=d.closest(".note-color").find(".note-recent-color"),k=d.closest(".note-color").find(".note-current-color-button");j.css(i,f),k.attr("data-"+e,f),"fore"===b?a.itemClick("foreColor",f):"back"===b?a.itemClick("backColor",f):a.itemClick(e,f)}}})]}).render()},tb=Xa.create('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['  <div class="note-modal-content">',b.title?'    <div class="note-modal-header">      <button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button>      <h4 class="note-modal-title">'+b.title+"</h4>    </div>":"",'    <div class="note-modal-body">'+b.body+"</div>",b.footer?'    <div class="note-modal-footer">'+b.footer+"</div>":"","  </div>"].join("")),a.data("modal",new $a(a,b))}),ub=function(a){var b='<div class="note-form-group"><label class="note-form-label">'+a.lang.video.url+' <small class="text-muted">'+a.lang.video.providers+'</small></label><input class="note-video-url note-input" type="text" /></div>',c=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',a.lang.video.insert,"</button>"].join("");return tb({title:a.lang.video.insert,fade:a.fade,body:b,footer:c}).render()},vb=function(a){var b='<div class="note-form-group note-group-select-from-files"><label class="note-form-label">'+a.lang.image.selectFromFiles+'</label><input class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple" />'+a.imageLimitation+'</div><div class="note-form-group" style="overflow:auto;"><label class="note-form-label">'+a.lang.image.url+'</label><input class="note-image-url note-input" type="text" /></div>',c=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',a.lang.image.insert,"</button>"].join("");return tb({title:a.lang.image.insert,fade:a.fade,body:b,footer:c}).render()},wb=function(a){var b='<div class="note-form-group"><label class="note-form-label">'+a.lang.link.textToDisplay+'</label><input class="note-link-text note-input" type="text" /></div><div class="note-form-group"><label class="note-form-label">'+a.lang.link.url+'</label><input class="note-link-url note-input" type="text" value="http://" /></div>'+(a.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+a.lang.link.openInNewWindow+"</label></div>"),c=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',a.lang.link.insert,"</button>"].join("");return tb({className:"link-dialog",title:a.lang.link.insert,fade:a.fade,body:b,footer:c}).render()},xb=Xa.create(['<div class="note-popover bottom">','  <div class="note-popover-arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c="undefined"!=typeof b.direction?b.direction:"bottom";a.addClass(c).hide(),b.hideArrow&&a.find(".note-popover-arrow").hide()}),yb=Xa.create('<div class="checkbox"></div>',function(a,b){a.html(["<label"+(b.id?' for="'+b.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(b.id?' id="'+b.id+'"':""),b.checked?" checked":"",' aria-checked="'+(b.checked?"true":"false")+'"/>',b.text?b.text:"","</label>"].join(""))}),zb=function(a,b){return b=b||"i","<"+b+' class="'+a+'"/>'},Ab={editor:_a,toolbar:ab,editingArea:bb,codable:cb,editable:db,statusbar:eb,airEditor:fb,airEditable:gb,buttonGroup:hb,button:ib,dropdown:jb,dropdownCheck:kb,dropdownButton:mb,dropdownButtonContents:lb,dropdownCheckButton:nb,paragraphDropdownButton:ob,tableDropdownButton:qb,colorDropdownButton:sb,palette:rb,dialog:tb,videoDialog:ub,imageDialog:vb,linkDialog:wb,popover:xb,checkbox:yb,icon:zb,toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},check:function(a,b){a.find(".checked").removeClass("checked"),a.find('[data-value="'+b+'"]').addClass("checked")},onDialogShown:function(a,b){a.one("note.modal.show",b)},onDialogHidden:function(a,b){a.one("note.modal.hide",b)},showDialog:function(a){a.data("modal").show()},hideDialog:function(a){a.data("modal").hide()},getPopoverContent:function(a){return a.find(".note-popover-content")},getDialogBody:function(a){return a.find(".note-modal-body")},createLayout:function(a,b){var c=(b.airMode?Ab.airEditor([Ab.editingArea([Ab.airEditable()])]):Ab.editor([Ab.toolbar(),Ab.editingArea([Ab.codable(),Ab.editable()]),Ab.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.off("summernote"),a.show()}};a.summernote=a.summernote||{lang:{}},a.extend(a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var Bb,Cb="function"==typeof define&&define.amd,Db=navigator.userAgent,Eb=/MSIE|Trident/i.test(Db);if(Eb){var Fb=/MSIE (\d+[.]\d+)/.exec(Db);Fb&&(Bb=parseFloat(Fb[1])),Fb=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(Db),Fb&&(Bb=parseFloat(Fb[1]))}var Gb=/Edge\/\d+/.test(Db),Hb=!!window.CodeMirror,Ib="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,Jb=Eb||Gb?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",Kb={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:Eb,isEdge:Gb,isFF:!Gb&&/firefox/i.test(Db),isPhantom:/PhantomJS/i.test(Db),isWebkit:!Gb&&/webkit/i.test(Db),isChrome:!Gb&&/chrome/i.test(Db),isSafari:!Gb&&/safari/i.test(Db),browserVersion:Bb,jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:Cb,isSupportTouch:Ib,hasCodeMirror:Hb,isFontInstalled:b,isW3CRangeSupport:!!document.createRange,inputEventName:Jb},Lb=0,Mb={eq:c,eq2:e,peq2:f,ok:g,fail:h,self:k,not:i,and:j,invoke:l,uniqueId:m,rect2bnd:n,invertObject:o,namespaceToCamel:p,debounce:q,isValidUrl:r},Nb={head:s,last:t,initial:u,tail:v,prev:G,next:F,find:w,contains:y,all:x,sum:z,from:A,isEmpty:B,clusterBy:C,compact:D,unique:E},Ob=String.fromCharCode(160),Pb="\ufeff",Qb=J("PRE"),Rb=J("LI"),Sb=J("TABLE"),Tb=J("DATA"),Ub=J("HR"),Vb=J("BLOCKQUOTE"),Wb=J("A"),Xb=J("BODY"),Yb=Kb.isMSIE&&Kb.browserVersion<11?"&nbsp;":"<br>",Zb=J("TEXTAREA"),$b={NBSP_CHAR:Ob,ZERO_WIDTH_NBSP_CHAR:Pb,blank:Yb,emptyPara:"<p>"+Yb+"</p>",makePredByNodeName:J,isEditable:H,isControlSizing:I,isText:K,isElement:L,isVoid:M,isPara:N,isPurePara:P,isHeading:O,isInline:Q,isBlock:Mb.not(Q),isBodyInline:V,isBody:Xb,isParaInline:U,isPre:Qb,isList:R,isTable:Sb,isData:Tb,isCell:S,isBlockquote:Vb,isBodyContainer:T,isAnchor:Wb,isDiv:J("DIV"),isLi:Rb,isBR:J("BR"),isSpan:J("SPAN"),isB:J("B"),isU:J("U"),isS:J("S"),isI:J("I"),isImg:J("IMG"),isTextarea:Zb,isEmpty:Z,isEmptyAnchor:Mb.and(Wb,Z),isClosestSibling:W,withClosestSiblings:X,nodeLength:Y,isLeftEdgePoint:la,isRightEdgePoint:ma,isEdgePoint:na,isLeftEdgeOf:oa,isRightEdgeOf:pa,isLeftEdgePointOf:qa,isRightEdgePointOf:ra,prevPoint:ua,nextPoint:va,isSamePoint:wa,isVisiblePoint:xa,prevPointUntil:ya,nextPointUntil:za,isCharPoint:Aa,walkPoint:Ba,ancestor:aa,singleChildAncestor:ba,listAncestor:ca,lastAncestor:da,listNext:ga,listPrev:fa,listDescendant:ha,commonAncestor:ea,wrap:ia,insertAfter:ja,appendChildNodes:ka,position:sa,hasChildren:ta,makeOffsetPath:Ca,fromOffsetPath:Da,splitTree:Fa,splitPoint:Ga,create:Ha,createText:Ia,remove:Ja,removeWhile:Ka,replace:La,html:Na,value:Ma,posFromPlaceholder:Oa,attachEvents:Pa,detachEvents:Qa,isCustomStyleTag:Ra},_b=function(){function b(b,c){this.ui=a.summernote.ui,this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=c,this.initialize()}return b.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},b.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},b.prototype.reset=function(){var a=this.isDisabled();this.code($b.emptyPara),this._destroy(),this._initialize(),a&&this.disable()},b.prototype._initialize=function(){var b=this,c=a.extend({},this.options.buttons);Object.keys(c).forEach(function(a){b.memo("button."+a,c[a])});var d=a.extend({},this.options.modules,a.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)}),Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})},b.prototype._destroy=function(){var a=this;Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),this.triggerEvent("destroy",this)},b.prototype.code=function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.layoutInfo.codable.val(a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)},b.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},b.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1);
},b.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},b.prototype.triggerEvent=function(){var a=Nb.head(arguments),b=Nb.tail(Nb.from(arguments)),c=this.options.callbacks[Mb.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)},b.prototype.initializeModule=function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||Mb.ok,b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&$b.attachEvents(this.$note,b.events))},b.prototype.module=function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))},b.prototype.removeModule=function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&$b.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]},b.prototype.memo=function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)},b.prototype.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},b.prototype.createInvokeHandlerAndUpdateState=function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}},b.prototype.createInvokeHandler=function(b,c){var d=this;return function(e){e.preventDefault();var f=a(e.target);d.invoke(b,c||f.closest("[data-value]").data("value"),f)}},b.prototype.invoke=function(){var a=Nb.head(arguments),b=Nb.tail(Nb.from(arguments)),c=a.split("."),d=c.length>1,e=d&&Nb.head(c),f=d?Nb.last(c):Nb.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},b}();a.fn.extend({summernote:function(){var b=a.type(Nb.head(arguments)),c="string"===b,d="object"===b,e=a.extend({},a.summernote.options,d?Nb.head(arguments):{});e.langInfo=a.extend(!0,{},a.summernote.lang["en-US"],a.summernote.lang[e.lang]),e.icons=a.extend(!0,{},a.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!Kb.isSupportTouch:e.tooltip,this.each(function(b,c){var d=a(c);if(!d.data("summernote")){var f=new _b(d,e);d.data("summernote",f),d.data("summernote").triggerEvent("init",f.layoutInfo)}});var f=this.first();if(f.length){var g=f.data("summernote");if(c)return g.invoke.apply(g,Nb.from(arguments));e.focus&&g.invoke("editor.focus")}return this}});var ac=function(){function b(a,b,c,d){this.sc=a,this.so=b,this.ec=c,this.eo=d,this.isOnEditable=this.makeIsOn($b.isEditable),this.isOnList=this.makeIsOn($b.isList),this.isOnAnchor=this.makeIsOn($b.isAnchor),this.isOnCell=this.makeIsOn($b.isCell),this.isOnData=this.makeIsOn($b.isData)}return b.prototype.nativeRange=function(){if(Kb.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),a.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),a}var b=Ta({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",Ta({node:this.ec,offset:this.eo})),b},b.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},b.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},b.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},b.prototype.select=function(){var a=this.nativeRange();if(Kb.isW3CRangeSupport){var b=document.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},b.prototype.scrollIntoView=function(b){var c=a(b).height();return b.scrollTop+c<this.sc.offsetTop&&(b.scrollTop+=Math.abs(b.scrollTop+c-this.sc.offsetTop)),this},b.prototype.normalize=function(){var a=function(a,b){if($b.isVisiblePoint(a)&&(!$b.isEdgePoint(a)||$b.isRightEdgePoint(a)&&!b||$b.isLeftEdgePoint(a)&&b||$b.isRightEdgePoint(a)&&b&&$b.isVoid(a.node.nextSibling)||$b.isLeftEdgePoint(a)&&!b&&$b.isVoid(a.node.previousSibling)||$b.isBlock(a.node)&&$b.isEmpty(a.node)))return a;var c=$b.ancestor(a.node,$b.isBlock);if(($b.isLeftEdgePointOf(a,c)||$b.isVoid($b.prevPoint(a).node))&&!b||($b.isRightEdgePointOf(a,c)||$b.isVoid($b.nextPoint(a).node))&&b){if($b.isVisiblePoint(a))return a;b=!b}var d=b?$b.nextPointUntil($b.nextPoint(a),$b.isVisiblePoint):$b.prevPointUntil($b.prevPoint(a),$b.isVisiblePoint);return d||a},c=a(this.getEndPoint(),!1),d=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(d.node,d.offset,c.node,c.offset)},b.prototype.nodes=function(a,b){a=a||Mb.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return $b.walkPoint(e,f,function(b){if(!$b.isEditable(b.node)){var e;d?($b.isLeftEdgePoint(b)&&h.push(b.node),$b.isRightEdgePoint(b)&&Nb.contains(h,b.node)&&(e=b.node)):e=c?$b.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e)}},!0),Nb.unique(g)},b.prototype.commonAncestor=function(){return $b.commonAncestor(this.sc,this.ec)},b.prototype.expand=function(a){var c=$b.ancestor(this.sc,a),d=$b.ancestor(this.ec,a);if(!c&&!d)return new b(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=$b.nodeLength(d)),new b(e.sc,e.so,e.ec,e.eo)},b.prototype.collapse=function(a){return a?new b(this.sc,this.so,this.sc,this.so):new b(this.ec,this.eo,this.ec,this.eo)},b.prototype.splitText=function(){var a=this.sc===this.ec,c=this.getPoints();return $b.isText(this.ec)&&!$b.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),$b.isText(this.sc)&&!$b.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,a&&(c.ec=c.sc,c.eo=this.eo-this.so)),new b(c.sc,c.so,c.ec,c.eo)},b.prototype.deleteContents=function(){if(this.isCollapsed())return this;var c=this.splitText(),d=c.nodes(null,{fullyContains:!0}),e=$b.prevPointUntil(c.getStartPoint(),function(a){return!Nb.contains(d,a.node)}),f=[];return a.each(d,function(a,b){var c=b.parentNode;e.node!==c&&1===$b.nodeLength(c)&&f.push(c),$b.remove(b,!1)}),a.each(f,function(a,b){$b.remove(b,!1)}),new b(e.node,e.offset,e.node,e.offset).normalize()},b.prototype.makeIsOn=function(a){return function(){var b=$b.ancestor(this.sc,a);return!!b&&b===$b.ancestor(this.ec,a)}},b.prototype.isLeftEdgeOf=function(a){if(!$b.isLeftEdgePoint(this.getStartPoint()))return!1;var b=$b.ancestor(this.sc,a);return b&&$b.isLeftEdgeOf(this.sc,b)},b.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},b.prototype.wrapBodyInlineWithPara=function(){if($b.isBodyContainer(this.sc)&&$b.isEmpty(this.sc))return this.sc.innerHTML=$b.emptyPara,new b(this.sc.firstChild,0,this.sc.firstChild,0);var a=this.normalize();if($b.isParaInline(this.sc)||$b.isPara(this.sc))return a;var c;if($b.isInline(a.sc)){var d=$b.listAncestor(a.sc,Mb.not($b.isInline));c=Nb.last(d),$b.isInline(c)||(c=d[d.length-2]||a.sc.childNodes[a.so])}else c=a.sc.childNodes[a.so>0?a.so-1:0];var e=$b.listPrev(c,$b.isParaInline).reverse();if(e=e.concat($b.listNext(c.nextSibling,$b.isParaInline)),e.length){var f=$b.wrap(Nb.head(e),"p");$b.appendChildNodes(f,Nb.tail(e))}return this.normalize()},b.prototype.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=$b.splitPoint(b.getStartPoint(),$b.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},b.prototype.pasteHTML=function(b){var c=a("<div></div>").html(b)[0],d=Nb.from(c.childNodes),e=this.wrapBodyInlineWithPara().deleteContents();return e.so>0&&(d=d.reverse()),d=d.map(function(a){return e.insertNode(a)}),e.so>0&&(d=d.reverse()),d},b.prototype.toString=function(){var a=this.nativeRange();return Kb.isW3CRangeSupport?a.toString():a.text},b.prototype.getWordRange=function(a){var c=this.getEndPoint();if(!$b.isCharPoint(c))return this;var d=$b.prevPointUntil(c,function(a){return!$b.isCharPoint(a)});return a&&(c=$b.nextPointUntil(c,function(a){return!$b.isCharPoint(a)})),new b(d.node,d.offset,c.node,c.offset)},b.prototype.bookmark=function(a){return{s:{path:$b.makeOffsetPath(a,this.sc),offset:this.so},e:{path:$b.makeOffsetPath(a,this.ec),offset:this.eo}}},b.prototype.paraBookmark=function(a){return{s:{path:Nb.tail($b.makeOffsetPath(Nb.head(a),this.sc)),offset:this.so},e:{path:Nb.tail($b.makeOffsetPath(Nb.last(a),this.ec)),offset:this.eo}}},b.prototype.getClientRects=function(){var a=this.nativeRange();return a.getClientRects()},b}(),bc={create:function(a,b,c,d){if(4===arguments.length)return new ac(a,b,c,d);if(2===arguments.length)return c=a,d=b,new ac(a,b,c,d);var e=this.createFromSelection();return e||1!==arguments.length?e:(e=this.createFromNode(arguments[0]),e.collapse($b.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var a,b,c,d;if(Kb.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if($b.isBody(e.anchorNode))return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=Sa(i,!0),k=Sa(h,!1);$b.isText(j.node)&&$b.isLeftEdgePoint(j)&&$b.isTextNode(k.node)&&$b.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new ac(a,b,c,d)},createFromNode:function(a){var b=a,c=0,d=a,e=$b.nodeLength(d);return $b.isVoid(b)&&(c=$b.listPrev(b).length-1,b=b.parentNode),$b.isBR(d)?(e=$b.listPrev(d).length-1,d=d.parentNode):$b.isVoid(d)&&(e=$b.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var c=$b.fromOffsetPath(a,b.s.path),d=b.s.offset,e=$b.fromOffsetPath(a,b.e.path),f=b.e.offset;return new ac(c,d,e,f)},createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=$b.fromOffsetPath(Nb.head(b),a.s.path),f=$b.fromOffsetPath(Nb.last(b),a.e.path);return new ac(e,c,f,d)}},cc={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},dc={isEdit:function(a){return Nb.contains([cc.BACKSPACE,cc.TAB,cc.ENTER,cc.SPACE,cc.DELETE],a)},isMove:function(a){return Nb.contains([cc.LEFT,cc.UP,cc.RIGHT,cc.DOWN],a)},nameFromCode:Mb.invertObject(cc),code:cc},ec=function(){function a(a){this.stack=[],this.stackOffset=-1,this.$editable=a,this.editable=a[0]}return a.prototype.makeSnapshot=function(){var a=bc.create(this.editable),b={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):b}},a.prototype.applySnapshot=function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&bc.createFromBookmark(this.editable,a.bookmark).select()},a.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},a.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},a.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},a.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},a}(),fc=function(){function b(){}return b.prototype.jQueryCSS=function(b,c){if(Kb.jqueryVersion<1.9){var d={};return a.each(c,function(a,c){d[c]=b.css(c)}),d}return b.css(c)},b.prototype.fromNode=function(a){var b=["font-family","font-size","text-align","list-style-type","line-height"],c=this.jQueryCSS(a,b)||{};return c["font-size"]=parseInt(c["font-size"],10),c},b.prototype.stylePara=function(b,c){a.each(b.nodes($b.isPara,{includeAncestor:!0}),function(b,d){a(d).css(c)})},b.prototype.styleNodes=function(b,c){b=b.splitText();var d=c&&c.nodeName||"SPAN",e=!(!c||!c.expandClosestSibling),f=!(!c||!c.onlyPartialContains);if(b.isCollapsed())return[b.insertNode($b.create(d))];var g=$b.makePredByNodeName(d),h=b.nodes($b.isText,{fullyContains:!0}).map(function(a){return $b.singleChildAncestor(a,g)||$b.wrap(a,d)});if(e){if(f){var i=b.nodes();g=Mb.and(g,function(a){return Nb.contains(i,a)})}return h.map(function(b){var c=$b.withClosestSiblings(b,g),d=Nb.head(c),e=Nb.tail(c);return a.each(e,function(a,b){$b.appendChildNodes(d,b.childNodes),$b.remove(b)}),Nb.head(c)})}return h},b.prototype.current=function(b){var c=a($b.isElement(b.sc)?b.sc:b.sc.parentNode),d=this.fromNode(c);try{d=a.extend(d,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||d["font-family"]})}catch(e){}if(b.isOnList()){var f=["circle","disc","disc-leading-zero","square"],g=f.indexOf(d["list-style-type"])>-1;d["list-style"]=g?"unordered":"ordered"}else d["list-style"]="none";var h=$b.ancestor(b.sc,$b.isPara);if(h&&h.style["line-height"])d["line-height"]=h.style.lineHeight;else{var i=parseInt(d["line-height"],10)/parseInt(d["font-size"],10);d["line-height"]=i.toFixed(1)}return d.anchor=b.isOnAnchor()&&$b.ancestor(b.sc,$b.isAnchor),d.ancestors=$b.listAncestor(b.sc,$b.isEditable),d.range=b,d},b}(),gc=function(){function b(){}return b.prototype.insertOrderedList=function(a){this.toggleList("OL",a)},b.prototype.insertUnorderedList=function(a){this.toggleList("UL",a)},b.prototype.indent=function(b){var c=this,d=bc.create(b).wrapBodyInlineWithPara(),e=d.nodes($b.isPara,{includeAncestor:!0}),f=Nb.clusterBy(e,Mb.peq2("parentNode"));a.each(f,function(b,d){var e=Nb.head(d);if($b.isLi(e)){var f=c.findList(e.previousSibling);f?d.map(function(a){return f.appendChild(a)}):(c.wrapList(d,e.parentNode.nodeName),d.map(function(a){return a.parentNode}).map(function(a){return c.appendToPrevious(a)}))}else a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),d.select()},b.prototype.outdent=function(b){var c=this,d=bc.create(b).wrapBodyInlineWithPara(),e=d.nodes($b.isPara,{includeAncestor:!0}),f=Nb.clusterBy(e,Mb.peq2("parentNode"));a.each(f,function(b,d){var e=Nb.head(d);$b.isLi(e)?c.releaseList([d]):a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return b=parseInt(b,10)||0,b>25?b-25:""})})}),d.select()},b.prototype.toggleList=function(b,c){var d=this,e=bc.create(c).wrapBodyInlineWithPara(),f=e.nodes($b.isPara,{includeAncestor:!0}),g=e.paraBookmark(f),h=Nb.clusterBy(f,Mb.peq2("parentNode"));if(Nb.find(f,$b.isPurePara)){var i=[];a.each(h,function(a,c){i=i.concat(d.wrapList(c,b))}),f=i}else{var j=e.nodes($b.isList,{includeAncestor:!0}).filter(function(c){return!a.nodeName(c,b)});j.length?a.each(j,function(a,c){$b.replace(c,b)}):f=this.releaseList(h,!0)}bc.createFromParaBookmark(g,f).select()},b.prototype.wrapList=function(a,b){var c=Nb.head(a),d=Nb.last(a),e=$b.isList(c.previousSibling)&&c.previousSibling,f=$b.isList(d.nextSibling)&&d.nextSibling,g=e||$b.insertAfter($b.create(b||"UL"),d);return a=a.map(function(a){return $b.isPurePara(a)?$b.replace(a,"LI"):a}),$b.appendChildNodes(g,a),f&&($b.appendChildNodes(g,Nb.from(f.childNodes)),$b.remove(f)),a},b.prototype.releaseList=function(b,c){var d=this,e=[];return a.each(b,function(b,f){var g=Nb.head(f),h=Nb.last(f),i=c?$b.lastAncestor(g,$b.isList):g.parentNode,j=i.parentNode;if("LI"===i.parentNode.nodeName)f.map(function(a){var b=d.findNextSiblings(a);j.nextSibling?j.parentNode.insertBefore(a,j.nextSibling):j.parentNode.appendChild(a),b.length&&(d.wrapList(b,i.nodeName),a.appendChild(b[0].parentNode))}),0===i.children.length&&j.removeChild(i),0===j.childNodes.length&&j.parentNode.removeChild(j);else{var k=i.childNodes.length>1?$b.splitTree(i,{node:h.parentNode,offset:$b.position(h)+1},{isSkipPaddingBlankHTML:!0}):null,l=$b.splitTree(i,{node:g.parentNode,offset:$b.position(g)},{isSkipPaddingBlankHTML:!0});f=c?$b.listDescendant(l,$b.isLi):Nb.from(l.childNodes).filter($b.isLi),(c||!$b.isList(i.parentNode))&&(f=f.map(function(a){return $b.replace(a,"P")})),a.each(Nb.from(f).reverse(),function(a,b){$b.insertAfter(b,i)});var m=Nb.compact([i,l,k]);a.each(m,function(b,c){var d=[c].concat($b.listDescendant(c,$b.isList));a.each(d.reverse(),function(a,b){$b.nodeLength(b)||$b.remove(b,!0)})})}e=e.concat(f)}),e},b.prototype.appendToPrevious=function(a){return a.previousSibling?$b.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")},b.prototype.findList=function(a){return a?Nb.find(a.children,function(a){return["OL","UL"].indexOf(a.nodeName)>-1}):null},b.prototype.findNextSiblings=function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b},b}(),hc=function(){function b(a){this.bullet=new gc,this.options=a.options}return b.prototype.insertTab=function(a,b){var c=$b.createText(new Array(b+1).join($b.NBSP_CHAR));a=a.deleteContents(),a.insertNode(c,!0),a=bc.create(c,b),a.select()},b.prototype.insertParagraph=function(b,c){c=c||bc.create(b),c=c.deleteContents(),c=c.wrapBodyInlineWithPara();var d,e=$b.ancestor(c.sc,$b.isPara);if(e){if($b.isEmpty(e)&&$b.isLi(e))return void this.bullet.toggleList(e.parentNode.nodeName);var f=null;if(1===this.options.blockquoteBreakingLevel?f=$b.ancestor(e,$b.isBlockquote):2===this.options.blockquoteBreakingLevel&&(f=$b.lastAncestor(e,$b.isBlockquote)),f){d=a($b.emptyPara)[0],$b.isRightEdgePoint(c.getStartPoint())&&$b.isBR(c.sc.nextSibling)&&a(c.sc.nextSibling).remove();var g=$b.splitTree(f,c.getStartPoint(),{isDiscardEmptySplits:!0});g?g.parentNode.insertBefore(d,g):$b.insertAfter(d,f)}else{d=$b.splitTree(e,c.getStartPoint());var h=$b.listDescendant(e,$b.isEmptyAnchor);h=h.concat($b.listDescendant(d,$b.isEmptyAnchor)),a.each(h,function(a,b){$b.remove(b)}),($b.isHeading(d)||$b.isPre(d)||$b.isCustomStyleTag(d))&&$b.isEmpty(d)&&(d=$b.replace(d,"p"))}}else{var i=c.sc.childNodes[c.so];d=a($b.emptyPara)[0],i?c.sc.insertBefore(d,i):c.sc.appendChild(d)}bc.create(d,0).normalize().select().scrollIntoView(b)},b}(),ic=function Nc(a,b,c,d){function e(){return!a||!a.tagName||"td"!==a.tagName.toLowerCase()&&"th"!==a.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",a):(o.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()?void(o.rowPos=a.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",a))}function f(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};p[a]||(p[a]=[]),p[a][b]=h}function g(a,b,c,d){return{baseCell:a.baseCell,action:b,virtualTable:{rowIndex:c,cellIndex:d}}}function h(a,b){if(!p[a])return b;if(!p[a][b])return b;for(var c=b;p[a][c];)if(c++,!p[a][c])return c}function i(a,b){var c=h(a.rowIndex,b.cellIndex),d=b.colSpan>1,e=b.rowSpan>1,g=a.rowIndex===o.rowPos&&b.cellIndex===o.colPos;f(a.rowIndex,c,a,b,e,d,!1);var i=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(i>1)for(var k=1;i>k;k++){var l=a.rowIndex+k;j(l,c,b,g),f(l,c,a,b,!0,d,!0)}var m=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(m>1)for(var n=1;m>n;n++){var p=h(a.rowIndex,c+n);j(a.rowIndex,p,b,g),f(a.rowIndex,p,a,b,e,!0,!0)}}function j(a,b,c,d){a===o.rowPos&&o.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&o.colPos++}function k(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)i(a[b],c[e])}function l(a){switch(b){case Nc.where.Column:if(a.isColSpan)return Nc.resultAction.SubtractSpanCount;break;case Nc.where.Row:if(!a.isVirtual&&a.isRowSpan)return Nc.resultAction.AddCell;if(a.isRowSpan)return Nc.resultAction.SubtractSpanCount}return Nc.resultAction.RemoveCell}function m(a){switch(b){case Nc.where.Column:if(a.isColSpan)return Nc.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return Nc.resultAction.Ignore;break;case Nc.where.Row:if(a.isRowSpan)return Nc.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return Nc.resultAction.Ignore}return Nc.resultAction.AddCell}function n(){e(),k()}var o={colPos:0,rowPos:0},p=[],q=[];this.getActionList=function(){for(var a=b===Nc.where.Row?o.rowPos:-1,d=b===Nc.where.Column?o.colPos:-1,e=0,f=!0;f;){var h=a>=0?a:e,i=d>=0?d:e,j=p[h];if(!j)return f=!1,q;var k=j[i];if(!k)return f=!1,q;var n=Nc.resultAction.Ignore;switch(c){case Nc.requestAction.Add:n=m(k);break;case Nc.requestAction.Delete:n=l(k)}q.push(g(k,n,h,i)),e++}return q},n()};ic.where={Row:0,Column:1},ic.requestAction={Add:0,Delete:1},ic.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var jc,kc=function(){function b(){}return b.prototype.tab=function(a,b){var c=$b.ancestor(a.commonAncestor(),$b.isCell),d=$b.ancestor(c,$b.isTable),e=$b.listDescendant(d,$b.isCell),f=Nb[b?"prev":"next"](e,c);f&&bc.create(f,0).select()},b.prototype.addRow=function(b,c){for(var d=$b.ancestor(b.commonAncestor(),$b.isCell),e=a(d).closest("tr"),f=this.recoverAttributes(e),g=a("<tr"+f+"></tr>"),h=new ic(d,ic.where.Row,ic.requestAction.Add,a(e).closest("table")[0]),i=h.getActionList(),j=0;j<i.length;j++){var k=i[j],l=this.recoverAttributes(k.baseCell);switch(k.action){case ic.resultAction.AddCell:g.append("<td"+l+">"+$b.blank+"</td>");break;case ic.resultAction.SumSpanCount:if("top"===c){var m=k.baseCell.parent,n=(m?k.baseCell.closest("tr").rowIndex:0)<=e[0].rowIndex;if(n){var o=a("<div></div>").append(a("<td"+l+">"+$b.blank+"</td>").removeAttr("rowspan")).html();g.append(o);break}}var p=parseInt(k.baseCell.rowSpan,10);p++,k.baseCell.setAttribute("rowSpan",p)}}if("top"===c)e.before(g);else{var q=d.rowSpan>1;if(q){var r=e[0].rowIndex+(d.rowSpan-2);return void a(a(e).parent().find("tr")[r]).after(a(g))}e.after(g)}},b.prototype.addCol=function(b,c){var d=$b.ancestor(b.commonAncestor(),$b.isCell),e=a(d).closest("tr"),f=a(e).siblings();f.push(e);for(var g=new ic(d,ic.where.Column,ic.requestAction.Add,a(e).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++){var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case ic.resultAction.AddCell:"right"===c?a(j.baseCell).after("<td"+k+">"+$b.blank+"</td>"):a(j.baseCell).before("<td"+k+">"+$b.blank+"</td>");break;case ic.resultAction.SumSpanCount:if("right"===c){var l=parseInt(j.baseCell.colSpan,10);l++,j.baseCell.setAttribute("colSpan",l)}else a(j.baseCell).before("<td"+k+">"+$b.blank+"</td>")}}},b.prototype.recoverAttributes=function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b},b.prototype.deleteRow=function(b){for(var c=$b.ancestor(b.commonAncestor(),$b.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=d[0].rowIndex,g=new ic(c,ic.where.Row,ic.requestAction.Delete,a(d).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++)if(h[i]){var j=h[i].baseCell,k=h[i].virtualTable,l=j.rowSpan&&j.rowSpan>1,m=l?parseInt(j.rowSpan,10):0;switch(h[i].action){case ic.resultAction.Ignore:continue;case ic.resultAction.AddCell:var n=d.next("tr")[0];if(!n)continue;var o=d[0].cells[e];l&&(m>2?(m--,n.insertBefore(o,n.cells[e]),n.cells[e].setAttribute("rowSpan",m),n.cells[e].innerHTML=""):2===m&&(n.insertBefore(o,n.cells[e]),n.cells[e].removeAttribute("rowSpan"),n.cells[e].innerHTML=""));continue;case ic.resultAction.SubtractSpanCount:l&&(m>2?(m--,j.setAttribute("rowSpan",m),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")):2===m&&(j.removeAttribute("rowSpan"),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")));continue;case ic.resultAction.RemoveCell:continue}}d.remove()},b.prototype.deleteCol=function(b){for(var c=$b.ancestor(b.commonAncestor(),$b.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=new ic(c,ic.where.Column,ic.requestAction.Delete,a(d).closest("table")[0]),g=f.getActionList(),h=0;h<g.length;h++)if(g[h])switch(g[h].action){case ic.resultAction.Ignore:continue;case ic.resultAction.SubtractSpanCount:var i=g[h].baseCell,j=i.colSpan&&i.colSpan>1;if(j){var k=i.colSpan?parseInt(i.colSpan,10):0;k>2?(k--,i.setAttribute("colSpan",k),i.cellIndex===e&&(i.innerHTML="")):2===k&&(i.removeAttribute("colSpan"),i.cellIndex===e&&(i.innerHTML=""))}continue;case ic.resultAction.RemoveCell:$b.remove(g[h].baseCell,!0);continue}},b.prototype.createTable=function(b,c,d){for(var e,f=[],g=0;b>g;g++)f.push("<td>"+$b.blank+"</td>");e=f.join("");for(var h,i=[],j=0;c>j;j++)i.push("<tr>"+e+"</tr>");h=i.join("");var k=a("<table>"+h+"</table>");return d&&d.tableClassName&&k.addClass(d.tableClassName),k[0]},b.prototype.deleteTable=function(b){var c=$b.ancestor(b.commonAncestor(),$b.isCell);a(c).closest("table").remove()},b}(),lc="bogus",mc=function(){function b(b){var c=this;this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new fc,this.table=new kc,this.typing=new hc(b),this.bullet=new gc,this.history=new ec(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;f>e;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family","'"+a+"'")}),this.fontSize=this.wrapCommand(function(a){return c.fontStyling("font-size",a+"px")});for(var e=1;6>=e;e++)this["formatH"+e]=function(a){return function(){c.formatBlock("H"+a)}}(e),this.context.memo("help.formatH"+e,this.lang.help["formatH"+e]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(b){if(!c.isLimited(a(b).text().length)){var d=c.getLastRange();d.insertNode(b),bc.createFromNodeAfter(b).select(),c.setLastRange()}}),this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange(),d=b.insertNode($b.createText(a));bc.create(d,$b.nodeLength(d)).select(),c.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);bc.createFromNodeAfter(Nb.last(b)).select(),c.setLastRange()}}),this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode($b.create("HR"));a.nextSibling&&(bc.create(a.nextSibling,0).normalize().select(),c.setLastRange())}),this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),this.createLink=this.wrapCommand(function(b){var d=b.url,e=b.text,f=b.isNewWindow,g=b.range||c.getLastRange(),h=e.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==e;"string"==typeof d&&(d=d.trim()),d=c.options.onCreateLink?c.options.onCreateLink(d):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(d)?d:"http://"+d;var j=[];if(i){g=g.deleteContents();var k=g.insertNode(a("<A>"+e+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(j,function(b,c){a(c).attr("href",d),f?a(c).attr("target","_blank"):a(c).removeAttr("target")});var l=bc.createFromNodeBefore(Nb.head(j)),m=l.getStartPoint(),n=bc.createFromNodeAfter(Nb.last(j)),o=n.getEndPoint();bc.create(m.node,m.offset,o.node,o.offset).select(),c.setLastRange()}}),this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.foreColor=this.wrapCommand(function(a){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x"),d=c.getLastRange().deleteContents();d.insertNode(c.table.createTable(b[0],b[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var b=a(c.restoreTarget()).parent();b.parent("figure").length?b.parent("figure").remove():b=a(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",b,c.$editable)}),this.floatMe=this.wrapCommand(function(b){var d=a(c.restoreTarget());d.toggleClass("note-float-left","left"===b),d.toggleClass("note-float-right","right"===b),d.css("float","none"===b?"":b)}),this.resize=this.wrapCommand(function(b){var d=a(c.restoreTarget());b=parseFloat(b),0===b?d.css("width",""):d.css({width:100*b+"%",height:""})})}return b.prototype.initialize=function(){var a=this;this.$editable.on("keydown",function(b){return b.keyCode===dc.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),b.isDefaultPrevented()||(a.options.shortcuts?a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)?!1:void 0}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html($b.html(this.$note)||$b.emptyPara),this.$editable.on(Kb.inputEventName,Mb.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editor.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),
this.setLastRange()},b.prototype.destroy=function(){this.$editable.off()},b.prototype.handleKeyMap=function(a){var b=this.options.keyMap[Kb.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=dc.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];e?this.context.invoke(e)!==!1&&a.preventDefault():dc.isEdit(a.keyCode)&&this.afterCommand()},b.prototype.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&Nb.contains([66,73,85],a.keyCode)&&a.preventDefault()},b.prototype.isLimited=function(a,b){return a=a||0,"undefined"!=typeof b&&(dc.isMove(b.keyCode)||b.ctrlKey||b.metaKey||Nb.contains([dc.code.BACKSPACE,dc.code.DELETE],b.keyCode))?!1:this.options.maxTextLength>0&&this.$editable.text().length+a>=this.options.maxTextLength?!0:!1},b.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},b.prototype.setLastRange=function(){this.lastRange=bc.create(this.editable)},b.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},b.prototype.saveRange=function(a){a&&this.getLastRange().collapse().select()},b.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},b.prototype.saveTarget=function(a){this.$editable.data("target",a)},b.prototype.clearTarget=function(){this.$editable.removeData("target")},b.prototype.restoreTarget=function(){return this.$editable.data("target")},b.prototype.currentStyle=function(){var a=bc.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)},b.prototype.styleFromNode=function(a){return this.style.fromNode(a)},b.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},b.prototype.afterCommand=function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.tab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}},b.prototype.untab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1},b.prototype.wrapCommand=function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}},b.prototype.insertImage=function(a,b){var c=this;return Va(a,b).then(function(a){c.beforeCommand(),"function"==typeof b?b(a):("string"==typeof b&&a.attr("data-filename",b),a.css("width",Math.min(c.$editable.width(),a.width()))),a.show(),bc.create(c.editable).insertNode(a[0]),bc.createFromNodeAfter(a[0]).select(),c.setLastRange(),c.afterCommand()}).fail(function(a){c.context.triggerEvent("image.upload.error",a)})},b.prototype.insertImagesAsDataURL=function(b){var c=this;a.each(b,function(a,b){var d=b.name;c.options.maximumImageFileSize&&c.options.maximumImageFileSize<b.size?c.context.triggerEvent("image.upload.error",c.lang.image.maximumFileSizeError):Ua(b).then(function(a){return c.insertImage(a,d)}).fail(function(){c.context.triggerEvent("image.upload.error")})})},b.prototype.insertImagesOrCallback=function(a){var b=this.options.callbacks;b.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)},b.prototype.getSelectedText=function(){var a=this.getLastRange();return a.isOnAnchor()&&(a=bc.createFromNode($b.ancestor(a.sc,$b.isAnchor))),a.toString()},b.prototype.onFormatBlock=function(b,c){if(document.execCommand("FormatBlock",!1,Kb.isMSIE?"<"+b+">":b),c&&c.length&&(c[0].tagName.toUpperCase()!==b.toUpperCase()&&(c=c.find(b)),c&&c.length)){var d=c[0].className||"";if(d){var e=this.createRange(),f=a([e.sc,e.ec]).closest(b);f.addClass(d)}}},b.prototype.formatPara=function(){this.formatBlock("P")},b.prototype.fontStyling=function(b,c){var d=this.getLastRange();if(d){var e=this.style.styleNodes(d);if(a(e).css(b,c),d.isCollapsed()){var f=Nb.head(e);f&&!$b.nodeLength(f)&&(f.innerHTML=$b.ZERO_WIDTH_NBSP_CHAR,bc.createFromNodeAfter(f.firstChild).select(),this.setLastRange(),this.$editable.data(lc,f))}}},b.prototype.unlink=function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=$b.ancestor(a.sc,$b.isAnchor);a=bc.createFromNode(b),a.select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},b.prototype.getLinkInfo=function(){var b=this.getLastRange().expand($b.isAnchor),c=a(Nb.head(b.nodes($b.isAnchor))),d={range:b,text:b.toString(),url:c.length?c.attr("href"):""};return c.length&&(d.isNewWindow="_blank"===c.attr("target")),d},b.prototype.addRow=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())},b.prototype.addCol=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())},b.prototype.deleteRow=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())},b.prototype.deleteCol=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())},b.prototype.deleteTable=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())},b.prototype.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},b.prototype.hasFocus=function(){return this.$editable.is(":focus")},b.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},b.prototype.isEmpty=function(){return $b.isEmpty(this.$editable[0])||$b.emptyPara===this.$editable.html()},b.prototype.empty=function(){this.context.invoke("code",$b.emptyPara)},b.prototype.normalizeContent=function(){this.$editable[0].normalize()},b}(),nc=function(){function a(a){this.context=a,this.$editable=a.layoutInfo.editable}return a.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},a.prototype.pasteByEvent=function(a){var b=a.originalEvent.clipboardData;if(b&&b.items&&b.items.length){var c=b.items.length>1?b.items[1]:Nb.head(b.items);"file"===c.kind&&-1!==c.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[c.getAsFile()]),this.context.invoke("editor.afterCommand")}},a}(),oc=function(){function b(b){this.context=b,this.$eventListener=a(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=a(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return b.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(a){a.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},b.prototype.attachDragAndDropEvent=function(){var b=this,c=a(),d=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(a){var e=b.context.invoke("codeview.isActivated"),f=b.$editor.width()>0&&b.$editor.height()>0;e||c.length||!f||(b.$editor.addClass("dragover"),b.$dropzone.width(b.$editor.width()),b.$dropzone.height(b.$editor.height()),d.text(b.lang.image.dragImageHere)),c=c.add(a.target)},this.documentEventHandlers.onDragleave=function(a){c=c.not(a.target),c.length||b.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){c=a(),b.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){b.$dropzone.addClass("hover"),d.text(b.lang.image.dropImage)}).on("dragleave",function(){b.$dropzone.removeClass("hover"),d.text(b.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(c){var d=c.originalEvent.dataTransfer;c.preventDefault(),d&&d.files&&d.files.length?(b.$editable.focus(),b.context.invoke("editor.insertImagesOrCallback",d.files)):a.each(d.types,function(c,e){var f=d.getData(e);e.toLowerCase().indexOf("text")>-1?b.context.invoke("editor.pasteHTML",f):a(f).each(function(a,c){b.context.invoke("editor.insertNode",c)})})}).on("dragover",!1)},b.prototype.destroy=function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}},b}();Kb.hasCodeMirror&&(jc=window.CodeMirror);var pc=function(){function a(a){this.context=a,this.$editor=a.layoutInfo.editor,this.$editable=a.layoutInfo.editable,this.$codable=a.layoutInfo.codable,this.options=a.options}return a.prototype.sync=function(){var a=this.isActivated();a&&Kb.hasCodeMirror&&this.$codable.data("cmEditor").save()},a.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},a.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},a.prototype.purify=function(a){if(this.options.codeviewFilter&&(a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";for(var c=0,d=b;c<d.length;c++){var e=d[c];if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}return""})}return a},a.prototype.activate=function(){var a=this;if(this.$codable.val($b.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),Kb.hasCodeMirror){var b=jc.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var c=new jc.TernServer(this.options.codemirror.tern);b.ternServer=c,b.on("cursorActivity",function(a){c.updateArgHints(a)})}b.on("blur",function(c){a.context.triggerEvent("blur.codeview",b.getValue(),c)}),b.on("change",function(c){a.context.triggerEvent("change.codeview",b.getValue(),b)}),b.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",b)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(b){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})},a.prototype.deactivate=function(){if(Kb.hasCodeMirror){var a=this.$codable.data("cmEditor");this.$codable.val(a.getValue()),a.toTextArea()}var b=this.purify($b.value(this.$codable,this.options.prettifyHtml)||$b.emptyPara),c=this.$editable.html()!==b;this.$editable.html(b),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),c&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},a.prototype.destroy=function(){this.isActivated()&&this.deactivate()},a}(),qc=24,rc=function(){function b(b){this.$document=a(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return b.prototype.initialize=function(){var a=this;return this.options.airMode||this.options.disableResizeEditor?void this.destroy():void this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function(b){var d=b.clientY-(c+qc);d=a.options.minheight>0?Math.max(d,a.options.minheight):d,d=a.options.maxHeight>0?Math.min(d,a.options.maxHeight):d,a.$editable.height(d)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})},b.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},b}(),sc=function(){function b(b){var c=this;this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=a(window),this.$scrollbar=a("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return b.prototype.resizeTo=function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)},b.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},b.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},b}(),tc=function(){function b(b){var c=this;this.context=b,this.$document=a(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return b.prototype.initialize=function(){var b=this;this.$handle=a(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(a){if($b.isControlSizing(a.target)){a.preventDefault(),a.stopPropagation();var c=b.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=b.$document.scrollTop(),f=function(a){b.context.invoke("editor.resizeTo",{x:a.clientX-d.left,y:a.clientY-(d.top-e)},c,!a.shiftKey),b.update(c[0])};b.$document.on("mousemove",f).one("mouseup",function(a){a.preventDefault(),b.$document.off("mousemove",f),b.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(a){a.preventDefault(),b.update()})},b.prototype.destroy=function(){this.$handle.remove()},b.prototype.update=function(b,c){if(this.context.isDisabled())return!1;var d=$b.isImg(b),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",b,c),d){var f=a(b),g=f.position(),h={left:g.left+parseInt(f.css("marginLeft"),10),top:g.top+parseInt(f.css("marginTop"),10)},i={w:f.outerWidth(!1),h:f.outerHeight(!1)};e.css({display:"block",left:h.left,top:h.top,width:i.w,height:i.h}).data("target",f);var j=new Image;j.src=f.attr("src");var k=i.w+"x"+i.h+" ("+this.lang.image.original+": "+j.width+"x"+j.height+")";e.find(".note-control-selection-info").text(k),this.context.invoke("editor.saveTarget",b)}else this.hide();return d},b.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},b}(),uc="http://",vc=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,wc=function(){function b(a){var b=this;this.context=a,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return b.prototype.initialize=function(){this.lastWordRange=null},b.prototype.destroy=function(){this.lastWordRange=null},b.prototype.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),c=b.match(vc);if(c&&(c[1]||c[2])){var d=c[1]?b:uc+b,e=a("<a />").html(b).attr("href",d)[0];this.context.options.linkTargetBlank&&a(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}},b.prototype.handleKeydown=function(a){if(Nb.contains([dc.code.ENTER,dc.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}},b.prototype.handleKeyup=function(a){Nb.contains([dc.code.ENTER,dc.code.SPACE],a.keyCode)&&this.replace()},b}(),xc=function(){function a(a){var b=this;this.$note=a.layoutInfo.note,this.events={"summernote.change":function(){b.$note.val(a.invoke("code"))}}}return a.prototype.shouldInitialize=function(){return $b.isTextarea(this.$note[0])},a}(),yc=function(){function a(a){var b=this;this.context=a,this.options=a.options.replace||{},this.keys=[dc.code.ENTER,dc.code.SPACE,dc.code.PERIOD,dc.code.COMMA,dc.code.SEMICOLON,dc.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return a.prototype.shouldInitialize=function(){return!!this.options.match},a.prototype.initialize=function(){this.lastWord=null},a.prototype.destroy=function(){this.lastWord=null},a.prototype.replace=function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=$b.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}},a.prototype.handleKeydown=function(a){if(this.previousKeydownCode&&Nb.contains(this.keys,this.previousKeydownCode))return void(this.previousKeydownCode=a.keyCode);if(Nb.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode},a.prototype.handleKeyup=function(a){Nb.contains(this.keys,a.keyCode)&&this.replace()},a}(),zc=function(){function b(a){var b=this;this.context=a,this.$editingArea=a.layoutInfo.editingArea,this.options=a.options,this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}}}return b.prototype.shouldInitialize=function(){return!!this.options.placeholder},b.prototype.initialize=function(){var b=this;this.$placeholder=a('<div class="note-placeholder">'),this.$placeholder.on("click",function(){b.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},b.prototype.destroy=function(){this.$placeholder.remove()},b.prototype.update=function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)},b}(),Ac=function(){function b(b){this.ui=a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,this.invertedKeyMap=Mb.invertObject(this.options.keyMap[Kb.isMac?"mac":"pc"])}return b.prototype.representShortcut=function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(Kb.isMac&&(b=b.replace("CMD","⌘").replace("SHIFT","⇧")),b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+b+")"):""},b.prototype.button=function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)},b.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},b.prototype.destroy=function(){delete this.fontInstalledMap},b.prototype.isFontInstalled=function(a){return this.fontInstalledMap.hasOwnProperty(a)||(this.fontInstalledMap[a]=Kb.isFontInstalled(a)||Nb.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]},b.prototype.isFontDeservedToAdd=function(a){var b=["sans-serif","serif","monospace","cursive","fantasy"];return a=a.toLowerCase(),""!==a&&this.isFontInstalled(a)&&-1===b.indexOf(a)},b.prototype.colorPalette=function(b,c,d,e){var f=this;return this.ui.buttonGroup({className:"note-color "+b,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:c,click:function(b){var c=a(b.currentTarget);d&&e?f.context.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")}):d?f.context.invoke("editor.color",{backColor:c.attr("data-backColor")}):e&&f.context.invoke("editor.color",{foreColor:c.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");d&&(b.css("background-color",f.options.colorButton.backColor),a.attr("data-backColor",f.options.colorButton.backColor)),e?(b.css("color",f.options.colorButton.foreColor),a.attr("data-foreColor",f.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(d?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(e?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(b){b.find(".note-holder").each(function(b,c){var d=a(c);d.append(f.ui.palette({colors:f.options.colors,colorsName:f.options.colorsName,eventName:d.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())});var c=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];b.find(".note-holder-custom").each(function(b,d){var e=a(d);e.append(f.ui.palette({colors:c,colorsName:c,eventName:e.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())}),b.find("input[type=color]").each(function(c,d){a(d).change(function(){var c=b.find("#"+a(this).data("event")).find(".note-color-btn").first(),d=this.value.toUpperCase();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.click()})})},click:function(c){c.stopPropagation();var d=a("."+b),e=a(c.target),g=e.data("event"),h=e.attr("data-value");if("openPalette"===g){var i=d.find("#"+h),j=a(d.find("#"+i.data("event")).find(".note-color-row")[0]),k=j.find(".note-color-btn").last().detach(),l=i.val();k.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),j.prepend(k),i.click()}else if(Nb.contains(["backColor","foreColor"],g)){var m="backColor"===g?"background-color":"color",n=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");n.css(m,h),o.attr("data-"+g,h),f.context.invoke("editor."+g,h)}}})]}).render()},b.prototype.addToolbarButtons=function(){var b=this;this.context.memo("button.style",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.magic),b.options),tooltip:b.lang.style.style,data:{toggle:"dropdown"}}),b.ui.dropdown({className:"dropdown-style",items:b.options.styleTags,title:b.lang.style.style,template:function(a){"string"==typeof a&&(a={tag:a,title:b.lang.style.hasOwnProperty(a)?b.lang.style[a]:a});var c=a.tag,d=a.title,e=a.style?' style="'+a.style+'" ':"",f=a.className?' class="'+a.className+'"':"";return"<"+c+e+f+">"+d+"</"+c+">"},click:b.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var c=function(a,c){var e=d.options.styleTags[a];d.context.memo("button.style."+e,function(){return b.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:b.lang.style[e],click:b.context.createInvokeHandler("editor.formatBlock")}).render()})},d=this,e=0,f=this.options.styleTags.length;f>e;e++)c(e,f);this.context.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.ui.icon(b.options.icons.bold),tooltip:b.lang.font.bold+b.representShortcut("bold"),click:b.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.ui.icon(b.options.icons.italic),tooltip:b.lang.font.italic+b.representShortcut("italic"),click:b.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.ui.icon(b.options.icons.underline),tooltip:b.lang.font.underline+b.representShortcut("underline"),click:b.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return b.button({contents:b.ui.icon(b.options.icons.eraser),tooltip:b.lang.font.clear+b.representShortcut("removeFormat"),click:b.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.ui.icon(b.options.icons.strikethrough),tooltip:b.lang.font.strikethrough+b.representShortcut("strikethrough"),click:b.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.ui.icon(b.options.icons.superscript),tooltip:b.lang.font.superscript,click:b.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.ui.icon(b.options.icons.subscript),tooltip:b.lang.font.subscript,click:b.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var c=b.context.invoke("editor.currentStyle");return a.each(c["font-family"].split(","),function(a,c){c=c.trim().replace(/['"]+/g,""),b.isFontDeservedToAdd(c)&&-1===b.options.fontNames.indexOf(c)&&b.options.fontNames.push(c)}),b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontname"/>',b.options),tooltip:b.lang.font.name,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:b.options.icons.menuCheck,items:b.options.fontNames.filter(b.isFontInstalled.bind(b)),title:b.lang.font.name,template:function(a){return"<span style=\"font-family: '"+a+"'\">"+a+"</span>"},click:b.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',b.options),tooltip:b.lang.font.size,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:b.options.icons.menuCheck,items:b.options.fontSizes,title:b.lang.font.size,click:b.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return b.colorPalette("note-color-all",b.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return b.colorPalette("note-color-fore",b.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return b.colorPalette("note-color-back",b.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return b.button({contents:b.ui.icon(b.options.icons.unorderedlist),tooltip:b.lang.lists.unordered+b.representShortcut("insertUnorderedList"),click:b.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return b.button({contents:b.ui.icon(b.options.icons.orderedlist),tooltip:b.lang.lists.ordered+b.representShortcut("insertOrderedList"),click:b.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),h=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),i=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),j=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),k=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",Mb.invoke(g,"render")),this.context.memo("button.justifyCenter",Mb.invoke(h,"render")),this.context.memo("button.justifyRight",Mb.invoke(i,"render")),this.context.memo("button.justifyFull",Mb.invoke(j,"render")),
this.context.memo("button.outdent",Mb.invoke(k,"render")),this.context.memo("button.indent",Mb.invoke(l,"render")),this.context.memo("button.paragraph",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.alignLeft),b.options),tooltip:b.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),b.ui.dropdown([b.ui.buttonGroup({className:"note-align",children:[g,h,i,j]}),b.ui.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),this.context.memo("button.height",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.textHeight),b.options),tooltip:b.lang.font.height,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({items:b.options.lineHeights,checkClassName:b.options.icons.menuCheck,className:"dropdown-line-height",title:b.lang.font.height,click:b.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.table),b.options),tooltip:b.lang.table.table,data:{toggle:"dropdown"}}),b.ui.dropdown({title:b.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(a){var c=a.find(".note-dimension-picker-mousecatcher");c.css({width:b.options.insertTableMaxSize.col+"em",height:b.options.insertTableMaxSize.row+"em"}).mousedown(b.context.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler.bind(b))}}).render()}),this.context.memo("button.link",function(){return b.button({contents:b.ui.icon(b.options.icons.link),tooltip:b.lang.link.link+b.representShortcut("linkDialog.show"),click:b.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return b.button({contents:b.ui.icon(b.options.icons.picture),tooltip:b.lang.image.image,click:b.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return b.button({contents:b.ui.icon(b.options.icons.video),tooltip:b.lang.video.video,click:b.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return b.button({contents:b.ui.icon(b.options.icons.minus),tooltip:b.lang.hr.insert+b.representShortcut("insertHorizontalRule"),click:b.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.ui.icon(b.options.icons.arrowsAlt),tooltip:b.lang.options.fullscreen,click:b.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.ui.icon(b.options.icons.code),tooltip:b.lang.options.codeview,click:b.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return b.button({contents:b.ui.icon(b.options.icons.redo),tooltip:b.lang.history.redo+b.representShortcut("redo"),click:b.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return b.button({contents:b.ui.icon(b.options.icons.undo),tooltip:b.lang.history.undo+b.representShortcut("undo"),click:b.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return b.button({contents:b.ui.icon(b.options.icons.question),tooltip:b.lang.options.help,click:b.context.createInvokeHandler("helpDialog.show")}).render()})},b.prototype.addImagePopoverButtons=function(){var a=this;this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})},b.prototype.addLinkPopoverButtons=function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})},b.prototype.addTablePopoverButtons=function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})},b.prototype.build=function(a,b){for(var c=0,d=b.length;d>c;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;j>i;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k():k)}h.appendTo(a)}},b.prototype.updateCurrentStyle=function(b){var c=this,d=b||this.$toolbar,e=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(d,{".note-btn-bold":function(){return"bold"===e["font-bold"]},".note-btn-italic":function(){return"italic"===e["font-italic"]},".note-btn-underline":function(){return"underline"===e["font-underline"]},".note-btn-subscript":function(){return"subscript"===e["font-subscript"]},".note-btn-superscript":function(){return"superscript"===e["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===e["font-strikethrough"]}}),e["font-family"]){var f=e["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=Nb.find(f,this.isFontInstalled.bind(this));d.find(".dropdown-fontname a").each(function(b,c){var d=a(c),e=d.data("value")+""==g+"";d.toggleClass("checked",e)}),d.find(".note-current-fontname").text(g).css("font-family",g)}if(e["font-size"]){var h=e["font-size"];d.find(".dropdown-fontsize a").each(function(b,c){var d=a(c),e=d.data("value")+""==h+"";d.toggleClass("checked",e)}),d.find(".note-current-fontsize").text(h)}if(e["line-height"]){var i=e["line-height"];d.find(".dropdown-line-height li a").each(function(b,d){var e=a(d).data("value")+""==i+"";c.className=e?"checked":""})}},b.prototype.updateBtnStates=function(b,c){var d=this;a.each(c,function(a,c){d.ui.toggleBtnActive(b.find(a),c())})},b.prototype.tableMoveHandler=function(b){var c,d=18,e=a(b.target.parentNode),f=e.next(),g=e.find(".note-dimension-picker-mousecatcher"),h=e.find(".note-dimension-picker-highlighted"),i=e.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var j=a(b.target).offset();c={x:b.pageX-j.left,y:b.pageY-j.top}}else c={x:b.offsetX,y:b.offsetY};var k={c:Math.ceil(c.x/d)||1,r:Math.ceil(c.y/d)||1};h.css({width:k.c+"em",height:k.r+"em"}),g.data("value",k.c+"x"+k.r),k.c>3&&k.c<this.options.insertTableMaxSize.col&&i.css({width:k.c+1+"em"}),k.r>3&&k.r<this.options.insertTableMaxSize.row&&i.css({height:k.r+1+"em"}),f.html(k.c+" x "+k.r)},b}(),Bc=function(){function b(b){this.context=b,this.$window=a(window),this.$document=a(document),this.ui=a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return b.prototype.shouldInitialize=function(){return!this.options.airMode},b.prototype.initialize=function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},b.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},b.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var b=this.$editor.outerHeight(),c=this.$editor.width(),d=this.$toolbar.height(),e=this.$statusbar.height(),f=0;this.options.otherStaticBar&&(f=a(this.options.otherStaticBar).outerHeight());var g=this.$document.scrollTop(),h=this.$editor.offset().top,i=h+b,j=h-f,k=i-f-d-e;!this.isFollowing&&g>j&&k-d>g?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:f,width:c}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(j>g||g>k)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},b.prototype.changeContainer=function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},b.prototype.updateFullscreen=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)},b.prototype.updateCodeview=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()},b.prototype.activate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!0)},b.prototype.deactivate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!1)},b}(),Cc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return b.prototype.initialize=function(){var b=this.options.dialogsInBody?this.$body:this.$editor,c=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":a("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),d="btn btn-primary note-btn note-btn-primary note-link-btn",e='<input type="button" href="#" class="'+d+'" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:c,footer:e}).render().appendTo(b)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===dc.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.toggleLinkBtn=function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())},b.prototype.showLinkDialog=function(b){var c=this;return a.Deferred(function(a){var d=c.$dialog.find(".note-link-text"),e=c.$dialog.find(".note-link-url"),f=c.$dialog.find(".note-link-btn"),g=c.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),!b.url&&Mb.isValidUrl(b.text)&&(b.url=b.text),d.on("input paste propertychange",function(){b.text=d.val(),c.toggleLinkBtn(f,d,e)}).val(b.text),e.on("input paste propertychange",function(){b.text||d.val(e.val()),c.toggleLinkBtn(f,d,e)}).val(b.url),Kb.isSupportTouch||e.trigger("focus"),c.toggleLinkBtn(f,d,e),c.bindEnterKey(e,f),c.bindEnterKey(d,f);var h=void 0!==b.isNewWindow?b.isNewWindow:c.context.options.linkTargetBlank;g.prop("checked",h),f.one("click",function(f){f.preventDefault(),a.resolve({range:b.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked")}),c.ui.hideDialog(c.$dialog)})}),c.ui.onDialogHidden(c.$dialog,function(){d.off(),e.off(),f.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)}).promise()},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b}(),Dc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Nb.isEmpty(this.options.popover.link)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){var b=a.find(".popover-content,.note-popover-content");b.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){if(!this.context.invoke("editor.hasFocus"))return void this.hide();var b=this.context.invoke("editor.getLastRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=$b.ancestor(b.sc,$b.isAnchor),d=a(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=$b.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),Ec=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b="";if(this.options.maximumImageFileSize){var c=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),d=1*(this.options.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";b="<small>"+(this.lang.image.maximumFileSize+" : "+d)+"</small>"}var e=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',b,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),f="btn btn-primary note-btn note-btn-primary note-image-btn",g='<input type="button" href="#" class="'+f+'" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:g}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===dc.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showImageDialog=function(){var b=this;return a.Deferred(function(a){var c=b.$dialog.find(".note-image-input"),d=b.$dialog.find(".note-image-url"),e=b.$dialog.find(".note-image-btn");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){a.resolve(b.target.files||b.target.value)}).val("")),d.on("input paste propertychange",function(){b.ui.toggleBtn(e,d.val())}).val(""),Kb.isSupportTouch||d.trigger("focus"),e.click(function(b){b.preventDefault(),a.resolve(d.val())}),b.bindEnterKey(d,e)}),b.ui.onDialogHidden(b.$dialog,function(){c.off(),d.off(),e.off(),"pending"===a.state()&&a.reject()}),b.ui.showDialog(b.$dialog)})},b}(),Fc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Nb.isEmpty(this.options.popover.image)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a,b){if($b.isImg(a)){var c=$b.posFromPlaceholder(a),d=$b.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?b.pageX-20:c.left,top:this.options.popatmouse?b.pageY:Math.min(c.top,d.top)})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),Gc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Nb.isEmpty(this.options.popover.table)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),Kb.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a){if(this.context.isDisabled())return!1;var b=$b.isCell(a);if(b){var c=$b.posFromPlaceholder(a);this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b},b.prototype.hide=function(){this.$popover.hide()},b}(),Hc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),c="btn btn-primary note-btn note-btn-primary note-video-btn",d='<input type="button" href="#" class="'+c+'" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:d}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===dc.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.createVideoNode=function(b){var c,d=/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/,e=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/,f=b.match(d),g=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,h=b.match(g),i=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,j=b.match(i),k=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,l=b.match(k),m=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,n=b.match(m),o=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=b.match(o),q=/\/\/v\.qq\.com.*?vid=(.+)/,r=b.match(q),s=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,t=b.match(s),u=/^.+.(mp4|m4v)$/,v=b.match(u),w=/^.+.(ogg|ogv)$/,x=b.match(w),y=/^.+.(webm)$/,z=b.match(y),A=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/,B=b.match(A);if(f&&11===f[1].length){var C=f[1],D=0;if("undefined"!=typeof f[2]){var E=f[2].match(e);if(E)for(var F=[3600,60,1],G=0,H=F.length;H>G;G++)D+="undefined"!=typeof E[G+1]?F[G]*parseInt(E[G+1],10):0}c=a("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+C+(D>0?"?start="+D:"")).attr("width","640").attr("height","360")}else if(h&&h[0].length)c=a("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+h[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(j&&j[0].length)c=a("<iframe>").attr("frameborder",0).attr("src",j[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(l&&l[3].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+l[3]).attr("width","640").attr("height","360");else if(n&&n[2].length)c=a("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+n[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(r&&r[1].length||t&&t[2].length){var I=r&&r[1].length?r[1]:t[2];c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+I+"&amp;auto=0")}else if(v||x||z)c=a("<video controls>").attr("src",b).attr("width","640").attr("height","360");else{if(!B||!B[0].length)return!1;c=a("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(B[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return c.addClass("note-video-clip"),c[0]},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");var c=a.createVideoNode(b);c&&a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showVideoDialog=function(b){var c=this;return a.Deferred(function(a){var b=c.$dialog.find(".note-video-url"),d=c.$dialog.find(".note-video-btn");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),b.on("input paste propertychange",function(){c.ui.toggleBtn(d,b.val())}),Kb.isSupportTouch||b.trigger("focus"),d.click(function(c){c.preventDefault(),a.resolve(b.val())}),c.bindEnterKey(b,d)}),c.ui.onDialogHidden(c.$dialog,function(){b.off(),d.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)})},b}(),Ic=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.createShortcutList=function(){var b=this,c=this.options.keyMap[Kb.isMac?"mac":"pc"];return Object.keys(c).map(function(d){var e=c[d],f=a('<div><div class="help-list-item"/></div>');return f.append(a("<label><kbd>"+d+"</kdb></label>").css({width:180,"margin-right":10})).append(a("<span/>").html(b.context.memo("help."+e)||e)),f.html()}).join("")},b.prototype.showHelpDialog=function(){var b=this;return a.Deferred(function(a){b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),a.resolve()}),b.ui.showDialog(b.$dialog)}).promise()},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})},b}(),Jc=20,Kc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){c.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){c.hide()},"summernote.focusout":function(a,b){Kb.isFF||b.relatedTarget&&$b.ancestor(b.relatedTarget,Mb.eq(c.$popover[0]))||c.hide()}}}return b.prototype.shouldInitialize=function(){return this.options.airMode&&!Nb.isEmpty(this.options.popover.air)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content");this.context.invoke("buttons.build",a,this.options.popover.air)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){var a=this.context.invoke("editor.currentStyle");if(a.range&&!a.range.isCollapsed()){var b=Nb.last(a.range.getClientRects());if(b){var c=Mb.rect2bnd(b);this.$popover.css({display:"block",left:Math.max(c.left+c.width/2,0)-Jc,top:c.top+c.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),Lc=5,Mc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return this.hints.length>0},b.prototype.initialize=function(){var b=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(c){b.$content.find(".active").removeClass("active"),a(c.currentTarget).addClass("active"),b.replace()})},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},b.prototype.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},b.prototype.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},b.prototype.replace=function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);this.lastWordRange.insertNode(b),bc.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},b.prototype.nodeFromItem=function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=$b.createText(d)),d},b.prototype.createItemTemplates=function(b,c){var d=this.hints[b];return c.map(function(c,e){var f=a('<div class="note-hint-item"/>');
return f.append(d.template?d.template(c):c+""),f.data({index:b,item:c}),f})},b.prototype.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===dc.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===dc.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===dc.code.DOWN&&(a.preventDefault(),this.moveDown()))},b.prototype.searchKeyword=function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},b.prototype.createGroup=function(b,c){var d=this,e=a('<div class="note-hint-group note-hint-group-'+b+'"/>');return this.searchKeyword(b,c,function(a){a=a||[],a.length&&(e.html(d.createItemTemplates(b,a)),d.show())}),e},b.prototype.handleKeyup=function(a){var b=this;if(!Nb.contains([dc.code.ENTER,dc.code.UP,dc.code.DOWN],a.keyCode)){var c=this.context.invoke("editor.getLastRange").getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var e=Mb.rect2bnd(Nb.last(c.getClientRects()));e&&(this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-Lc}):this.$popover.css({left:e.left,top:e.top+e.height+Lc}))}else this.hide()}},b.prototype.show=function(){this.$popover.show()},b.prototype.hide=function(){this.$popover.hide()},b}();a.summernote=a.extend(a.summernote,{version:"0.8.12",plugins:{},dom:$b,range:bc,options:{langInfo:a.summernote.lang["en-US"],modules:{editor:mc,clipboard:nc,dropzone:oc,codeview:pc,statusbar:rc,fullscreen:sc,handle:tc,hintPopover:Mc,autoLink:wc,autoSync:xc,autoReplace:yc,placeholder:zc,buttons:Ac,toolbar:Bc,linkDialog:Cc,linkPopover:Dc,imageDialog:Ec,imagePopover:Fc,tablePopover:Gc,videoDialog:Hc,helpDialog:Ic,airPopover:Kc},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),a.summernote=a.extend(a.summernote,{ui:Ab})})},{jquery:528}],56:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(e,f){"object"==("undefined"==typeof c?"undefined":d(c))&&"undefined"!=typeof b?f(a("jquery")):"function"==typeof define&&define.amd?define(["jquery"],f):f((e=e||self).jQuery)}(void 0,function(a){function b(a){return a[0]}function c(a){return a[a.length-1]}function e(a){return a.slice(1)}function f(a,b){return!!(a&&a.length&&b)&&-1!==a.indexOf(b)}function g(b){return b&&a(b).hasClass("note-editable")}function h(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}function i(a){return a&&3===a.nodeType}function j(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase())}function k(a){return!g(a)&&a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())}function l(a){return!(o(a)||m(a)||Ca(a)||k(a)||Aa(a)||Da(a)||Ba(a))}function m(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function n(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function o(a){return n(a)||Da(a)||g(a)}function p(a){return i(a)?a.nodeValue.length:a?a.childNodes.length:0}function q(a){var b=p(a);return 0===b||!i(a)&&1===b&&a.innerHTML===Ga||!(!wa.all(a.childNodes,i)||""!==a.innerHTML)}function r(a){j(a)||p(a)||(a.innerHTML=Ga)}function s(a,b){for(;a;){if(b(a))return a;if(g(a))break;a=a.parentNode}return null}function t(a,b){b=b||va.fail;var c=[];return s(a,function(a){return g(a)||c.push(a),b(a)}),c}function u(a,b){b=b||va.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}function v(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function w(b,c){return a.each(c,function(a,c){b.appendChild(c)}),b}function x(a){return 0===a.offset}function y(a){return a.offset===p(a.node)}function z(a){return x(a)||y(a)}function A(a,b){for(;a&&a!==b;){if(0!==C(a))return!1;a=a.parentNode}return!0}function B(a,b){if(!b)return!1;for(;a&&a!==b;){if(C(a)!==p(a.parentNode)-1)return!1;a=a.parentNode}return!0}function C(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function D(a){return!!(a&&a.childNodes&&a.childNodes.length)}function E(a,b){var c,d;if(0===a.offset){if(g(a.node))return null;c=a.node.parentNode,d=C(a.node)}else d=D(a.node)?p(c=a.node.childNodes[a.offset-1]):(c=a.node,b?0:a.offset-1);return{node:c,offset:d}}function F(a,b){var c,d;if(p(a.node)===a.offset){if(g(a.node))return null;c=a.node.parentNode,d=C(a.node)+1}else d=D(a.node)?(c=a.node.childNodes[a.offset],0):(c=a.node,b?p(a.node):a.offset+1);return{node:c,offset:d}}function G(a,b){return a.node===b.node&&a.offset===b.offset}function H(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;if(e&&(c=!0),z(a)&&(i(a.node)||d)){if(x(a))return a.node;if(y(a))return a.node.nextSibling}if(i(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=v(a.node.cloneNode(!1),a.node);return w(g,u(f)),c||(r(a.node),r(g)),e&&(q(a.node)&&K(a.node),q(g))?(K(g),a.node.nextSibling):g}function I(a,b,c){var d=t(b.node,va.eq(a));return d.length?1===d.length?H(b,c):d.reduce(function(a,d){return a===b.node&&(a=H(b,c)),H({node:d,offset:a?C(a):p(d)},c)}):null}function J(a){return document.createElement(a)}function K(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)d.push(a.childNodes[e]);for(e=0,f=d.length;f>e;e++)c.insertBefore(d[e],a)}c.removeChild(a)}}function L(a,b){var c=Ha(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}function M(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=wa.from(e.childNodes);for(c=0;c<g.length;c++)if(!Ia.isText(g[c])){if(f.moveToElementText(g[c]),0<=f.compareEndPoints("StartToStart",a))break;d=g[c]}if(0!==c&&Ia.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue,b&&i.nextSibling&&Ia.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}function N(a){var b=function e(a,b){var c,d;if(Ia.isText(a)){var f=Ia.listPrev(a,va.not(Ia.isText)),g=wa.last(f).previousSibling;c=g||a.parentNode,b+=wa.sum(wa.tail(f),Ia.nodeLength),d=!g}else{if(c=a.childNodes[b]||a,Ia.isText(c))return e(c,0);b=0,d=!1}return{node:c,collapseToStart:d,offset:b}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}a=a&&a.hasOwnProperty("default")?a["default"]:a;var O=function(){function b(a,b,c,d){this.markup=a,this.children=b,this.options=c,this.callback=d}return b.prototype.render=function(b){var c=a(this.markup);if(this.options&&this.options.contents&&c.html(this.options.contents),this.options&&this.options.className&&c.addClass(this.options.className),this.options&&this.options.data&&a.each(this.options.data,function(a,b){c.attr("data-"+a,b)}),this.options&&this.options.click&&c.on("click",this.options.click),this.children){var d=c.find(".note-children-container");this.children.forEach(function(a){a.render(d.length?d:c)})}return this.callback&&this.callback(c,this.options),this.options&&this.options.callback&&this.options.callback(c),b&&b.append(c),c},b}(),P=function(a,b){return function(){var c="object"==d(arguments[1])?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(e=c.children),new O(a,e,c,b)}},Q=function(){function a(a,b){if(this.$node=a,this.options=$.extend({},{title:"",target:b.container,trigger:"hover focus",placement:"bottom"},b),this.$tooltip=$(['<div class="note-tooltip in">','  <div class="note-tooltip-arrow"/>','  <div class="note-tooltip-content"/>',"</div>"].join("")),"manual"!==this.options.trigger){var c=this.show.bind(this),d=this.hide.bind(this),e=this.toggle.bind(this);this.options.trigger.split(" ").forEach(function(b){"hover"===b?(a.off("mouseenter mouseleave"),a.on("mouseenter",c).on("mouseleave",d)):"click"===b?a.on("click",e):"focus"===b&&a.on("focus",c).on("blur",d)})}}return a.prototype.show=function(){var a=this.$node,b=a.offset(),c=this.$tooltip,d=this.options.title||a.attr("title")||a.data("title"),e=this.options.placement||a.data("placement");c.addClass(e),c.addClass("in"),c.find(".note-tooltip-content").text(d),c.appendTo(this.options.target);var f=a.outerWidth(),g=a.outerHeight(),h=c.outerWidth(),i=c.outerHeight();"bottom"===e?c.css({top:b.top+g,left:b.left+(f/2-h/2)}):"top"===e?c.css({top:b.top-i,left:b.left+(f/2-h/2)}):"left"===e?c.css({top:b.top+(g/2-i/2),left:b.left-h}):"right"===e&&c.css({top:b.top+(g/2-i/2),left:b.left+f})},a.prototype.hide=function(){this.$tooltip.removeClass("in"),this.$tooltip.remove()},a.prototype.toggle=function(){this.$tooltip.hasClass("in")?this.hide():this.show()},a}(),R=function(){function a(a,b){this.$button=a,this.options=$.extend({},{target:b.container},b),this.setEvent()}return a.prototype.setEvent=function(){var a=this;this.$button.on("click",function(b){a.toggle(),b.stopImmediatePropagation()})},a.prototype.clear=function(){var a=$(".note-btn-group.open");a.find(".note-btn.active").removeClass("active"),a.removeClass("open")},a.prototype.show=function(){this.$button.addClass("active"),this.$button.parent().addClass("open");var a=this.$button.next(),b=a.offset(),c=a.outerWidth(),d=$(window).width(),e=parseFloat($(this.options.target).css("margin-right"));b.left+c>d-e?a.css("margin-left",d-e-(b.left+c)):a.css("margin-left","")},a.prototype.hide=function(){this.$button.removeClass("active"),this.$button.parent().removeClass("open")},a.prototype.toggle=function(){var a=this.$button.parent().hasClass("open");this.clear(),a?this.hide():this.show()},a}();$(document).on("click",function(a){$(a.target).closest(".note-btn-group").length||$(".note-btn-group.open").removeClass("open")}),$(document).on("click.note-dropdown-menu",function(a){$(a.target).closest(".note-dropdown-menu").parent().removeClass("open")});var S=function(){function a(a,b){this.options=$.extend({},{target:b.container||"body"},b),this.$modal=a,this.$backdrop=$('<div class="note-modal-backdrop" />')}return a.prototype.show=function(){"body"===this.options.target?(this.$backdrop.css("position","fixed"),this.$modal.css("position","fixed")):(this.$backdrop.css("position","absolute"),this.$modal.css("position","absolute")),this.$backdrop.appendTo(this.options.target).show(),this.$modal.appendTo(this.options.target).addClass("open").show(),this.$modal.trigger("note.modal.show"),this.$modal.off("click",".close").on("click",".close",this.hide.bind(this))},a.prototype.hide=function(){this.$modal.removeClass("open").hide(),this.$backdrop.hide(),this.$modal.trigger("note.modal.hide")},a}(),T=P('<div class="note-editor note-frame"/>'),U=P('<div class="note-toolbar" role="toolbar"/>'),V=P('<div class="note-editing-area"/>'),W=P('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),X=P('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),Y=P(['<output class="note-status-output" role="status" aria-live="polite"/>','<div class="note-statusbar" role="resize">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),Z=P('<div class="note-editor"/>'),_=P(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" role="status" aria-live="polite"/>'].join("")),aa=P('<div class="note-btn-group">'),ba=P('<button type="button" class="note-btn" role="button" tabindex="-1">',function(a,b){b&&b.tooltip&&(a.attr({"aria-label":b.tooltip}),a.data("_lite_tooltip",new Q(a,{title:b.tooltip,container:b.container})).on("click",function(a){$(a.currentTarget).data("_lite_tooltip").hide()})),b.contents&&a.html(b.contents),b&&b.data&&"dropdown"===b.data.toggle&&a.data("_lite_dropdown",new R(a,{container:b.container}))}),ca=P('<div class="note-dropdown-menu" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a,e=$('<a class="note-dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+c+'"></a>');return e.html(d).data("item",a),e}):b.items;a.html(c).attr({"aria-label":b.title}),a.on("click","> .note-dropdown-item",function(a){var c=$(this),d=c.data("item"),e=c.data("value");d.click?d.click(c):b.itemClick&&b.itemClick(a,d,e)})}),da=P('<div class="note-dropdown-menu note-check" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a,e=$('<a class="note-dropdown-item" href="#" data-value="'+c+'" role="listitem" aria-label="'+a+'"></a>');return e.html([ia(b.checkClassName)," ",d]).data("item",a),e}):b.items;a.html(c).attr({"aria-label":b.title}),a.on("click","> .note-dropdown-item",function(a){var c=$(this),d=c.data("item"),e=c.data("value");d.click?d.click(c):b.itemClick&&b.itemClick(a,d,e)})}),ea=P('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;e>d;d++){for(var f=b.eventName,g=b.colors[d],h=b.colorsName[d],i=[],j=0,k=g.length;k>j;j++){var l=g[j],m=h[j];i.push(['<button type="button" class="note-btn note-color-btn"','style="background-color:',l,'" ','data-event="',f,'" ','data-value="',l,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+i.join("")+"</div>")}a.html(c.join("")),a.find(".note-color-btn").each(function(){$(this).data("_lite_tooltip",new Q($(this),{container:b.container}))})}),fa=P('<div class="note-modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['  <div class="note-modal-content">',b.title?'    <div class="note-modal-header">      <button type="button" class="close" aria-label="Close" aria-hidden="true"><i class="note-icon-close"></i></button>      <h4 class="note-modal-title">'+b.title+"</h4>    </div>":"",'    <div class="note-modal-body">'+b.body+"</div>",b.footer?'    <div class="note-modal-footer">'+b.footer+"</div>":"","  </div>"].join("")),a.data("modal",new S(a,b))}),ga=P(['<div class="note-popover bottom">','  <div class="note-popover-arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c=void 0!==b.direction?b.direction:"bottom";a.addClass(c).hide(),b.hideArrow&&a.find(".note-popover-arrow").hide()}),ha=P('<div class="checkbox"></div>',function(a,b){a.html(["<label"+(b.id?' for="'+b.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(b.id?' id="'+b.id+'"':""),b.checked?" checked":"",' aria-checked="'+(b.checked?"true":"false")+'"/>',b.text?b.text:"","</label>"].join(""))}),ia=function(a,b){return"<"+(b=b||"i")+' class="'+a+'"/>'},ja={editor:T,toolbar:U,editingArea:V,codable:W,editable:X,statusbar:Y,airEditor:Z,airEditable:_,buttonGroup:aa,button:ba,dropdown:ca,dropdownCheck:da,dropdownButton:function(a,b){return aa([ba({className:"dropdown-toggle",contents:a.title+" "+ia("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),ca({className:a.className,items:a.items,template:a.template,itemClick:a.itemClick})],{callback:b}).render()},dropdownButtonContents:function(a,b){return a+" "+ia(b.icons.caret,"span")},dropdownCheckButton:function(a,b){return aa([ba({className:"dropdown-toggle",contents:a.title+" "+ia("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),da({className:a.className,checkClassName:a.checkClassName,items:a.items,template:a.template,itemClick:a.itemClick})],{callback:b}).render()},paragraphDropdownButton:function(a){return aa([ba({className:"dropdown-toggle",contents:a.title+" "+ia("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),ca([aa({className:"note-align",children:a.items[0]}),aa({className:"note-list",children:a.items[1]})])]).render()},tableDropdownButton:function(a){return aa([ba({className:"dropdown-toggle",contents:a.title+" "+ia("note-icon-caret"),tooltip:a.tooltip,data:{toggle:"dropdown"}}),ca({className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(b){b.find(".note-dimension-picker-mousecatcher").css({width:a.col+"em",height:a.row+"em"}).mousedown(a.itemClick).mousemove(function(b){!function(a,b,c){var d,e=$(a.target.parentNode),f=e.next(),g=e.find(".note-dimension-picker-mousecatcher"),h=e.find(".note-dimension-picker-highlighted"),i=e.find(".note-dimension-picker-unhighlighted");if(void 0===a.offsetX){var j=$(a.target).offset();d={x:a.pageX-j.left,y:a.pageY-j.top}}else d={x:a.offsetX,y:a.offsetY};var k=Math.ceil(d.x/18)||1,l=Math.ceil(d.y/18)||1;h.css({width:k+"em",height:l+"em"}),g.data("value",k+"x"+l),k>3&&b>k&&i.css({width:k+1+"em"}),l>3&&c>l&&i.css({height:l+1+"em"}),f.html(k+" x "+l)}(b,a.col,a.row)})}}).render()},colorDropdownButton:function(a,b){return aa({className:"note-color",children:[ba({className:"note-current-color-button",contents:a.title,tooltip:a.lang.color.recent,click:a.currentClick,callback:function(a){var c=a.find(".note-recent-color");"foreColor"!==b&&(c.css("background-color","#FFFF00"),a.attr("data-backColor","#FFFF00"))}}),ba({className:"dropdown-toggle",contents:ia("note-icon-caret"),tooltip:a.lang.color.more,data:{toggle:"dropdown"}}),ca({items:["<div>",'<div class="note-btn-group btn-background-color">','  <div class="note-palette-title">'+a.lang.color.background+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="backColor" data-value="inherit">',a.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>','  <div class="btn-sm">','    <input type="color" id="html5bcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="backColor" data-value="cpbackColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>",'<div class="note-btn-group btn-foreground-color">','  <div class="note-palette-title">'+a.lang.color.foreground+"</div>","  <div>",'<button type="button" class="note-color-reset note-btn note-btn-block"  data-event="removeFormat" data-value="foreColor">',a.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>','  <div class="btn-sm">','    <input type="color" id="html5fcp" class="note-btn btn-default" value="#21104A" style="width:100%;" data-value="cp">','    <button type="button" class="note-color-reset btn" data-event="foreColor" data-value="cpforeColor">',a.lang.color.cpSelect,"    </button>","  </div>","</div>","</div>"].join(""),callback:function(c){c.find(".note-holder").each(function(){var b=$(this);b.append(ea({colors:a.colors,eventName:b.data("event")}).render())}),"fore"===b?(c.find(".btn-background-color").hide(),c.css({"min-width":"210px"})):"back"===b&&(c.find(".btn-foreground-color").hide(),c.css({"min-width":"210px"}))},click:function(c){var d=$(c.target),e=d.data("event"),f=d.data("value"),g=document.getElementById("html5fcp").value,h=document.getElementById("html5bcp").value;if("cp"===f?c.stopPropagation():"cpbackColor"===f?f=h:"cpforeColor"===f&&(f=g),e&&f){var i="backColor"===e?"background-color":"color",j=d.closest(".note-color").find(".note-recent-color"),k=d.closest(".note-color").find(".note-current-color-button");j.css(i,f),k.attr("data-"+e,f),"fore"===b?a.itemClick("foreColor",f):"back"===b?a.itemClick("backColor",f):a.itemClick(e,f)}}})]}).render()},palette:ea,dialog:fa,videoDialog:function(a){var b='<div class="note-form-group"><label class="note-form-label">'+a.lang.video.url+' <small class="text-muted">'+a.lang.video.providers+'</small></label><input class="note-video-url note-input" type="text" /></div>',c=['<button type="button" href="#" class="note-btn note-btn-primary note-video-btn disabled" disabled>',a.lang.video.insert,"</button>"].join("");return fa({title:a.lang.video.insert,fade:a.fade,body:b,footer:c}).render()},imageDialog:function(a){var b='<div class="note-form-group note-group-select-from-files"><label class="note-form-label">'+a.lang.image.selectFromFiles+'</label><input class="note-note-image-input note-input" type="file" name="files" accept="image/*" multiple="multiple" />'+a.imageLimitation+'</div><div class="note-form-group" style="overflow:auto;"><label class="note-form-label">'+a.lang.image.url+'</label><input class="note-image-url note-input" type="text" /></div>',c=['<button href="#" type="button" class="note-btn note-btn-primary note-btn-large note-image-btn disabled" disabled>',a.lang.image.insert,"</button>"].join("");return fa({title:a.lang.image.insert,fade:a.fade,body:b,footer:c}).render()},linkDialog:function(a){var b='<div class="note-form-group"><label class="note-form-label">'+a.lang.link.textToDisplay+'</label><input class="note-link-text note-input" type="text" /></div><div class="note-form-group"><label class="note-form-label">'+a.lang.link.url+'</label><input class="note-link-url note-input" type="text" value="http://" /></div>'+(a.disableLinkTarget?"":'<div class="checkbox"><label><input type="checkbox" checked> '+a.lang.link.openInNewWindow+"</label></div>"),c=['<button href="#" type="button" class="note-btn note-btn-primary note-link-btn disabled" disabled>',a.lang.link.insert,"</button>"].join("");return fa({className:"link-dialog",title:a.lang.link.insert,fade:a.fade,body:b,footer:c}).render()},popover:ga,checkbox:ha,icon:ia,toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},check:function(a,b){a.find(".checked").removeClass("checked"),a.find('[data-value="'+b+'"]').addClass("checked")},onDialogShown:function(a,b){a.one("note.modal.show",b)},onDialogHidden:function(a,b){a.one("note.modal.hide",b)},showDialog:function(a){a.data("modal").show()},hideDialog:function(a){a.data("modal").hide()},getPopoverContent:function(a){return a.find(".note-popover-content")},getDialogBody:function(a){return a.find(".note-modal-body")},createLayout:function(a,b){var c=(b.airMode?ja.airEditor([ja.editingArea([ja.airEditable()])]):ja.editor([ja.toolbar(),ja.editingArea([ja.codable(),ja.editable()]),ja.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.off("summernote"),a.show()}};a.summernote=a.summernote||{lang:{}},a.extend(a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",
resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var ka,la="function"==typeof define&&define.amd,ma=navigator.userAgent,na=/MSIE|Trident/i.test(ma);if(na){var oa=/MSIE (\d+[.]\d+)/.exec(ma);oa&&(ka=parseFloat(oa[1])),(oa=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(ma))&&(ka=parseFloat(oa[1]))}var pa=/Edge\/\d+/.test(ma),qa=!!window.CodeMirror,ra="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints,sa=na||pa?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",ta={isMac:-1<navigator.appVersion.indexOf("Mac"),isMSIE:na,isEdge:pa,isFF:!pa&&/firefox/i.test(ma),isPhantom:/PhantomJS/i.test(ma),isWebkit:!pa&&/webkit/i.test(ma),isChrome:!pa&&/chrome/i.test(ma),isSafari:!pa&&/safari/i.test(ma),browserVersion:ka,jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:la,isSupportTouch:ra,hasCodeMirror:qa,isFontInstalled:function(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",d=document.createElement("canvas").getContext("2d");d.font="200px '"+b+"'";var e=d.measureText(c).width;return d.font="200px '"+a+"', '"+b+"'",e!==d.measureText(c).width},isW3CRangeSupport:!!document.createRange,inputEventName:sa},ua=0,va={eq:function(a){return function(b){return a===b}},eq2:function(a,b){return a===b},peq2:function(a){return function(b,c){return b[a]===c[a]}},ok:function(){return!0},fail:function(){return!1},self:function(a){return a},not:function(a){return function(){return!a.apply(a,arguments)}},and:function(a,b){return function(c){return a(c)&&b(c)}},invoke:function(a,b){return function(){return a[b].apply(a,arguments)}},uniqueId:function(a){var b=++ua+"";return a?a+b:b},rect2bnd:function(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}},invertObject:function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b},namespaceToCamel:function(a,b){return(b=b||"")+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")},debounce:function(a,b,c){var d;return function(){var e=this,f=arguments,g=c&&!d;clearTimeout(d),d=setTimeout(function(){d=null,c||a.apply(e,f)},b),g&&a.apply(e,f)}},isValidUrl:function(a){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi.test(a)}},wa={head:b,last:c,initial:function(a){return a.slice(0,a.length-1)},tail:e,prev:function(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c-1]}return null},next:function(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c+1]}return null},find:function(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e))return e}},contains:f,all:function(a,b){for(var c=0,d=a.length;d>c;c++)if(!b(a[c]))return!1;return!0},sum:function(a,b){return b=b||va.self,a.reduce(function(a,c){return a+b(c)},0)},from:function(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b},isEmpty:function(a){return!a||!a.length},clusterBy:function(a,d){return a.length?e(a).reduce(function(a,b){var e=c(a);return d(c(e),b)?e[e.length]=b:a[a.length]=[b],a},[[b(a)]]):[]},compact:function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b},unique:function(a){for(var b=[],c=0,d=a.length;d>c;c++)f(b,a[c])||b.push(a[c]);return b}},xa=String.fromCharCode(160),ya=h("PRE"),za=h("LI"),Aa=h("TABLE"),Ba=h("DATA"),Ca=h("HR"),Da=h("BLOCKQUOTE"),Ea=h("A"),Fa=h("BODY"),Ga=ta.isMSIE&&ta.browserVersion<11?"&nbsp;":"<br>",Ha=h("TEXTAREA"),Ia={NBSP_CHAR:xa,ZERO_WIDTH_NBSP_CHAR:"\ufeff",blank:Ga,emptyPara:"<p>"+Ga+"</p>",makePredByNodeName:h,isEditable:g,isControlSizing:function(b){return b&&a(b).hasClass("note-control-sizing")},isText:i,isElement:function(a){return a&&1===a.nodeType},isVoid:j,isPara:k,isPurePara:function(a){return k(a)&&!za(a)},isHeading:function(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())},isInline:l,isBlock:va.not(l),isBodyInline:function(a){return l(a)&&!s(a,k)},isBody:Fa,isParaInline:function(a){return l(a)&&!!s(a,k)},isPre:ya,isList:m,isTable:Aa,isData:Ba,isCell:n,isBlockquote:Da,isBodyContainer:o,isAnchor:Ea,isDiv:h("DIV"),isLi:za,isBR:h("BR"),isSpan:h("SPAN"),isB:h("B"),isU:h("U"),isS:h("S"),isI:h("I"),isImg:h("IMG"),isTextarea:Ha,isEmpty:q,isEmptyAnchor:va.and(Ea,q),isClosestSibling:function(a,b){return a.nextSibling===b||a.previousSibling===b},withClosestSiblings:function(a,b){b=b||va.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c},nodeLength:p,isLeftEdgePoint:x,isRightEdgePoint:y,isEdgePoint:z,isLeftEdgeOf:A,isRightEdgeOf:B,isLeftEdgePointOf:function(a,b){return x(a)&&A(a.node,b)},isRightEdgePointOf:function(a,b){return y(a)&&B(a.node,b)},prevPoint:E,nextPoint:F,isSamePoint:G,isVisiblePoint:function(a){if(i(a.node)||!D(a.node)||q(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return!(b&&!j(b)||c&&!j(c))},prevPointUntil:function(a,b){for(;a;){if(b(a))return a;a=E(a)}return null},nextPointUntil:function(a,b){for(;a;){if(b(a))return a;a=F(a)}return null},isCharPoint:function(a){if(!i(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==xa},walkPoint:function(a,b,c,d){for(var e=a;e&&(c(e),!G(e,b));)e=F(e,d&&a.node!==e.node&&b.node!==e.node)},ancestor:s,singleChildAncestor:function(a,b){for(a=a.parentNode;a&&1===p(a);){if(b(a))return a;if(g(a))break;a=a.parentNode}return null},listAncestor:t,lastAncestor:function(a,b){var c=t(a);return wa.last(c.filter(b))},listNext:u,listPrev:function(a,b){b=b||va.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c},listDescendant:function(a,b){var c=[];return b=b||va.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;g>f;f++)d(e.childNodes[f])}(a),c},commonAncestor:function(a,b){for(var c=t(a),d=b;d;d=d.parentNode)if(-1<c.indexOf(d))return d;return null},wrap:function(b,c){var d=b.parentNode,e=a("<"+c+">")[0];return d.insertBefore(e,b),e.appendChild(b),e},insertAfter:v,appendChildNodes:w,position:C,hasChildren:D,makeOffsetPath:function(a,b){return t(b,va.eq(a)).map(C).reverse()},fromOffsetPath:function(a,b){for(var c=a,d=0,e=b.length;e>d;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c},splitTree:I,splitPoint:function(a,b){var c,d,e=b?k:o,f=t(a.node,e),g=wa.last(f)||a.node;d=e(g)?(c=f[f.length-2],g):(c=g).parentNode;var h=c&&I(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}},create:J,createText:function(a){return document.createTextNode(a)},remove:K,removeWhile:function(a,b){for(;a&&!g(a)&&b(a);){var c=a.parentNode;K(a),a=c}},replace:function(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=J(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),w(c,wa.from(a.childNodes)),v(c,a),K(a),c},html:function(a,b){var c=L(a);return b&&(c=(c=c.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")})).trim()),c},value:L,posFromPlaceholder:function(b){var c=a(b),d=c.offset(),e=c.outerHeight(!0);return{left:d.left,top:d.top+e}},attachEvents:function(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})},detachEvents:function(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})},isCustomStyleTag:function(a){return a&&!i(a)&&wa.contains(a.classList,"note-styletag")}},Ja=function(){function b(b,c){this.ui=a.summernote.ui,this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=c,this.initialize()}return b.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},b.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},b.prototype.reset=function(){var a=this.isDisabled();this.code(Ia.emptyPara),this._destroy(),this._initialize(),a&&this.disable()},b.prototype._initialize=function(){var b=this,c=a.extend({},this.options.buttons);Object.keys(c).forEach(function(a){b.memo("button."+a,c[a])});var d=a.extend({},this.options.modules,a.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)}),Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})},b.prototype._destroy=function(){var a=this;Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),this.triggerEvent("destroy",this)},b.prototype.code=function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.layoutInfo.codable.val(a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)},b.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},b.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},b.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},b.prototype.triggerEvent=function(){var a=wa.head(arguments),b=wa.tail(wa.from(arguments)),c=this.options.callbacks[va.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)},b.prototype.initializeModule=function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||va.ok,b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&Ia.attachEvents(this.$note,b.events))},b.prototype.module=function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))},b.prototype.removeModule=function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&Ia.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]},b.prototype.memo=function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)},b.prototype.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},b.prototype.createInvokeHandlerAndUpdateState=function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}},b.prototype.createInvokeHandler=function(b,c){var d=this;return function(e){e.preventDefault();var f=a(e.target);d.invoke(b,c||f.closest("[data-value]").data("value"),f)}},b.prototype.invoke=function(){var a=wa.head(arguments),b=wa.tail(wa.from(arguments)),c=a.split("."),d=1<c.length,e=d&&wa.head(c),f=d?wa.last(c):wa.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},b}();a.fn.extend({summernote:function(){var b=a.type(wa.head(arguments)),c="string"===b,d="object"===b,e=a.extend({},a.summernote.options,d?wa.head(arguments):{});e.langInfo=a.extend(!0,{},a.summernote.lang["en-US"],a.summernote.lang[e.lang]),e.icons=a.extend(!0,{},a.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!ta.isSupportTouch:e.tooltip,this.each(function(b,c){var d=a(c);if(!d.data("summernote")){var f=new Ja(d,e);d.data("summernote",f),d.data("summernote").triggerEvent("init",f.layoutInfo)}});var f=this.first();if(f.length){var g=f.data("summernote");if(c)return g.invoke.apply(g,wa.from(arguments));e.focus&&g.invoke("editor.focus")}return this}});var Ka=function(){function b(a,b,c,d){this.sc=a,this.so=b,this.ec=c,this.eo=d,this.isOnEditable=this.makeIsOn(Ia.isEditable),this.isOnList=this.makeIsOn(Ia.isList),this.isOnAnchor=this.makeIsOn(Ia.isAnchor),this.isOnCell=this.makeIsOn(Ia.isCell),this.isOnData=this.makeIsOn(Ia.isData)}return b.prototype.nativeRange=function(){if(ta.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),a.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),a}var b=N({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",N({node:this.ec,offset:this.eo})),b},b.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},b.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},b.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},b.prototype.select=function(){var a=this.nativeRange();if(ta.isW3CRangeSupport){var b=document.getSelection();0<b.rangeCount&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},b.prototype.scrollIntoView=function(b){var c=a(b).height();return b.scrollTop+c<this.sc.offsetTop&&(b.scrollTop+=Math.abs(b.scrollTop+c-this.sc.offsetTop)),this},b.prototype.normalize=function(){var a=function(a,b){if(Ia.isVisiblePoint(a)&&(!Ia.isEdgePoint(a)||Ia.isRightEdgePoint(a)&&!b||Ia.isLeftEdgePoint(a)&&b||Ia.isRightEdgePoint(a)&&b&&Ia.isVoid(a.node.nextSibling)||Ia.isLeftEdgePoint(a)&&!b&&Ia.isVoid(a.node.previousSibling)||Ia.isBlock(a.node)&&Ia.isEmpty(a.node)))return a;var c=Ia.ancestor(a.node,Ia.isBlock);if((Ia.isLeftEdgePointOf(a,c)||Ia.isVoid(Ia.prevPoint(a).node))&&!b||(Ia.isRightEdgePointOf(a,c)||Ia.isVoid(Ia.nextPoint(a).node))&&b){if(Ia.isVisiblePoint(a))return a;b=!b}return(b?Ia.nextPointUntil(Ia.nextPoint(a),Ia.isVisiblePoint):Ia.prevPointUntil(Ia.prevPoint(a),Ia.isVisiblePoint))||a},c=a(this.getEndPoint(),!1),d=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(d.node,d.offset,c.node,c.offset)},b.prototype.nodes=function(a,b){a=a||va.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return Ia.walkPoint(e,f,function(b){var e;Ia.isEditable(b.node)||(d?(Ia.isLeftEdgePoint(b)&&h.push(b.node),Ia.isRightEdgePoint(b)&&wa.contains(h,b.node)&&(e=b.node)):e=c?Ia.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e))},!0),wa.unique(g)},b.prototype.commonAncestor=function(){return Ia.commonAncestor(this.sc,this.ec)},b.prototype.expand=function(a){var c=Ia.ancestor(this.sc,a),d=Ia.ancestor(this.ec,a);if(!c&&!d)return new b(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=Ia.nodeLength(d)),new b(e.sc,e.so,e.ec,e.eo)},b.prototype.collapse=function(a){return a?new b(this.sc,this.so,this.sc,this.so):new b(this.ec,this.eo,this.ec,this.eo)},b.prototype.splitText=function(){var a=this.sc===this.ec,c=this.getPoints();return Ia.isText(this.ec)&&!Ia.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Ia.isText(this.sc)&&!Ia.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,a&&(c.ec=c.sc,c.eo=this.eo-this.so)),new b(c.sc,c.so,c.ec,c.eo)},b.prototype.deleteContents=function(){if(this.isCollapsed())return this;var c=this.splitText(),d=c.nodes(null,{fullyContains:!0}),e=Ia.prevPointUntil(c.getStartPoint(),function(a){return!wa.contains(d,a.node)}),f=[];return a.each(d,function(a,b){var c=b.parentNode;e.node!==c&&1===Ia.nodeLength(c)&&f.push(c),Ia.remove(b,!1)}),a.each(f,function(a,b){Ia.remove(b,!1)}),new b(e.node,e.offset,e.node,e.offset).normalize()},b.prototype.makeIsOn=function(a){return function(){var b=Ia.ancestor(this.sc,a);return!!b&&b===Ia.ancestor(this.ec,a)}},b.prototype.isLeftEdgeOf=function(a){if(!Ia.isLeftEdgePoint(this.getStartPoint()))return!1;var b=Ia.ancestor(this.sc,a);return b&&Ia.isLeftEdgeOf(this.sc,b)},b.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},b.prototype.wrapBodyInlineWithPara=function(){if(Ia.isBodyContainer(this.sc)&&Ia.isEmpty(this.sc))return this.sc.innerHTML=Ia.emptyPara,new b(this.sc.firstChild,0,this.sc.firstChild,0);var a,c=this.normalize();if(Ia.isParaInline(this.sc)||Ia.isPara(this.sc))return c;if(Ia.isInline(c.sc)){var d=Ia.listAncestor(c.sc,va.not(Ia.isInline));a=wa.last(d),Ia.isInline(a)||(a=d[d.length-2]||c.sc.childNodes[c.so])}else a=c.sc.childNodes[0<c.so?c.so-1:0];var e=Ia.listPrev(a,Ia.isParaInline).reverse();if((e=e.concat(Ia.listNext(a.nextSibling,Ia.isParaInline))).length){var f=Ia.wrap(wa.head(e),"p");Ia.appendChildNodes(f,wa.tail(e))}return this.normalize()},b.prototype.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=Ia.splitPoint(b.getStartPoint(),Ia.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},b.prototype.pasteHTML=function(b){var c=a("<div></div>").html(b)[0],d=wa.from(c.childNodes),e=this.wrapBodyInlineWithPara().deleteContents();return 0<e.so&&(d=d.reverse()),d=d.map(function(a){return e.insertNode(a)}),0<e.so&&(d=d.reverse()),d},b.prototype.toString=function(){var a=this.nativeRange();return ta.isW3CRangeSupport?a.toString():a.text},b.prototype.getWordRange=function(a){var c=this.getEndPoint();if(!Ia.isCharPoint(c))return this;var d=Ia.prevPointUntil(c,function(a){return!Ia.isCharPoint(a)});return a&&(c=Ia.nextPointUntil(c,function(a){return!Ia.isCharPoint(a)})),new b(d.node,d.offset,c.node,c.offset)},b.prototype.bookmark=function(a){return{s:{path:Ia.makeOffsetPath(a,this.sc),offset:this.so},e:{path:Ia.makeOffsetPath(a,this.ec),offset:this.eo}}},b.prototype.paraBookmark=function(a){return{s:{path:wa.tail(Ia.makeOffsetPath(wa.head(a),this.sc)),offset:this.so},e:{path:wa.tail(Ia.makeOffsetPath(wa.last(a),this.ec)),offset:this.eo}}},b.prototype.getClientRects=function(){return this.nativeRange().getClientRects()},b}(),La={create:function(a,b,c,d){if(4===arguments.length)return new Ka(a,b,c,d);if(2===arguments.length)return new Ka(c=a,d=b,c,d);var e=this.createFromSelection();return e||1!==arguments.length?e:(e=this.createFromNode(a)).collapse(Ia.emptyPara===a.innerHTML)},createFromSelection:function(){var a,b,c,d;if(ta.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Ia.isBody(e.anchorNode))return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=M(i,!0),k=M(h,!1);Ia.isText(j.node)&&Ia.isLeftEdgePoint(j)&&Ia.isTextNode(k.node)&&Ia.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new Ka(a,b,c,d)},createFromNode:function(a){var b=a,c=0,d=a,e=Ia.nodeLength(d);return Ia.isVoid(b)&&(c=Ia.listPrev(b).length-1,b=b.parentNode),Ia.isBR(d)?(e=Ia.listPrev(d).length-1,d=d.parentNode):Ia.isVoid(d)&&(e=Ia.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var c=Ia.fromOffsetPath(a,b.s.path),d=b.s.offset,e=Ia.fromOffsetPath(a,b.e.path),f=b.e.offset;return new Ka(c,d,e,f)},createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=Ia.fromOffsetPath(wa.head(b),a.s.path),f=Ia.fromOffsetPath(wa.last(b),a.e.path);return new Ka(e,c,f,d)}},Ma={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Na={isEdit:function(a){return wa.contains([Ma.BACKSPACE,Ma.TAB,Ma.ENTER,Ma.SPACE,Ma.DELETE],a)},isMove:function(a){return wa.contains([Ma.LEFT,Ma.UP,Ma.RIGHT,Ma.DOWN],a)},nameFromCode:va.invertObject(Ma),code:Ma},Oa=function(){function a(a){this.stack=[],this.stackOffset=-1,this.$editable=a,this.editable=a[0]}return a.prototype.makeSnapshot=function(){var a=La.create(this.editable);return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):{s:{path:[],offset:0},e:{path:[],offset:0}}}},a.prototype.applySnapshot=function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&La.createFromBookmark(this.editable,a.bookmark).select()},a.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},a.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},a.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},a.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),0<this.stackOffset&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},a}(),Pa=function(){function b(){}return b.prototype.jQueryCSS=function(b,c){if(ta.jqueryVersion<1.9){var d={};return a.each(c,function(a,c){d[c]=b.css(c)}),d}return b.css(c)},b.prototype.fromNode=function(a){var b=this.jQueryCSS(a,["font-family","font-size","text-align","list-style-type","line-height"])||{};return b["font-size"]=parseInt(b["font-size"],10),b},b.prototype.stylePara=function(b,c){a.each(b.nodes(Ia.isPara,{includeAncestor:!0}),function(b,d){a(d).css(c)})},b.prototype.styleNodes=function(b,c){b=b.splitText();var d=c&&c.nodeName||"SPAN",e=!(!c||!c.expandClosestSibling),f=!(!c||!c.onlyPartialContains);if(b.isCollapsed())return[b.insertNode(Ia.create(d))];var g=Ia.makePredByNodeName(d),h=b.nodes(Ia.isText,{fullyContains:!0}).map(function(a){return Ia.singleChildAncestor(a,g)||Ia.wrap(a,d)});if(e){if(f){var i=b.nodes();g=va.and(g,function(a){return wa.contains(i,a)})}return h.map(function(b){var c=Ia.withClosestSiblings(b,g),d=wa.head(c),e=wa.tail(c);return a.each(e,function(a,b){Ia.appendChildNodes(d,b.childNodes),Ia.remove(b)}),wa.head(c)})}return h},b.prototype.current=function(b){var c=a(Ia.isElement(b.sc)?b.sc:b.sc.parentNode),d=this.fromNode(c);try{d=a.extend(d,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||d["font-family"]})}catch(b){}if(b.isOnList()){var e=-1<["circle","disc","disc-leading-zero","square"].indexOf(d["list-style-type"]);d["list-style"]=e?"unordered":"ordered"}else d["list-style"]="none";var f=Ia.ancestor(b.sc,Ia.isPara);if(f&&f.style["line-height"])d["line-height"]=f.style.lineHeight;else{var g=parseInt(d["line-height"],10)/parseInt(d["font-size"],10);d["line-height"]=g.toFixed(1)}return d.anchor=b.isOnAnchor()&&Ia.ancestor(b.sc,Ia.isAnchor),d.ancestors=Ia.listAncestor(b.sc,Ia.isEditable),d.range=b,d},b}(),Qa=function(){function b(){}return b.prototype.insertOrderedList=function(a){this.toggleList("OL",a)},b.prototype.insertUnorderedList=function(a){this.toggleList("UL",a)},b.prototype.indent=function(b){var c=this,d=La.create(b).wrapBodyInlineWithPara(),e=d.nodes(Ia.isPara,{includeAncestor:!0}),f=wa.clusterBy(e,va.peq2("parentNode"));a.each(f,function(b,d){var e=wa.head(d);if(Ia.isLi(e)){var f=c.findList(e.previousSibling);f?d.map(function(a){return f.appendChild(a)}):(c.wrapList(d,e.parentNode.nodeName),d.map(function(a){return a.parentNode}).map(function(a){return c.appendToPrevious(a)}))}else a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),d.select()},b.prototype.outdent=function(b){var c=this,d=La.create(b).wrapBodyInlineWithPara(),e=d.nodes(Ia.isPara,{includeAncestor:!0}),f=wa.clusterBy(e,va.peq2("parentNode"));a.each(f,function(b,d){var e=wa.head(d);Ia.isLi(e)?c.releaseList([d]):a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return 25<(b=parseInt(b,10)||0)?b-25:""})})}),d.select()},b.prototype.toggleList=function(b,c){var d=this,e=La.create(c).wrapBodyInlineWithPara(),f=e.nodes(Ia.isPara,{includeAncestor:!0}),g=e.paraBookmark(f),h=wa.clusterBy(f,va.peq2("parentNode"));if(wa.find(f,Ia.isPurePara)){var i=[];a.each(h,function(a,c){i=i.concat(d.wrapList(c,b))}),f=i}else{var j=e.nodes(Ia.isList,{includeAncestor:!0}).filter(function(c){return!a.nodeName(c,b)});j.length?a.each(j,function(a,c){Ia.replace(c,b)}):f=this.releaseList(h,!0)}La.createFromParaBookmark(g,f).select()},b.prototype.wrapList=function(a,b){var c=wa.head(a),d=wa.last(a),e=Ia.isList(c.previousSibling)&&c.previousSibling,f=Ia.isList(d.nextSibling)&&d.nextSibling,g=e||Ia.insertAfter(Ia.create(b||"UL"),d);return a=a.map(function(a){return Ia.isPurePara(a)?Ia.replace(a,"LI"):a}),Ia.appendChildNodes(g,a),f&&(Ia.appendChildNodes(g,wa.from(f.childNodes)),Ia.remove(f)),a},b.prototype.releaseList=function(b,c){var d=this,e=[];return a.each(b,function(b,f){var g=wa.head(f),h=wa.last(f),i=c?Ia.lastAncestor(g,Ia.isList):g.parentNode,j=i.parentNode;if("LI"===i.parentNode.nodeName)f.map(function(a){var b=d.findNextSiblings(a);j.nextSibling?j.parentNode.insertBefore(a,j.nextSibling):j.parentNode.appendChild(a),b.length&&(d.wrapList(b,i.nodeName),a.appendChild(b[0].parentNode))}),0===i.children.length&&j.removeChild(i),0===j.childNodes.length&&j.parentNode.removeChild(j);else{var k=1<i.childNodes.length?Ia.splitTree(i,{node:h.parentNode,offset:Ia.position(h)+1},{isSkipPaddingBlankHTML:!0}):null,l=Ia.splitTree(i,{node:g.parentNode,offset:Ia.position(g)},{isSkipPaddingBlankHTML:!0});f=c?Ia.listDescendant(l,Ia.isLi):wa.from(l.childNodes).filter(Ia.isLi),!c&&Ia.isList(i.parentNode)||(f=f.map(function(a){return Ia.replace(a,"P")})),a.each(wa.from(f).reverse(),function(a,b){Ia.insertAfter(b,i)});var m=wa.compact([i,l,k]);a.each(m,function(b,c){var d=[c].concat(Ia.listDescendant(c,Ia.isList));a.each(d.reverse(),function(a,b){Ia.nodeLength(b)||Ia.remove(b,!0)})})}e=e.concat(f)}),e},b.prototype.appendToPrevious=function(a){return a.previousSibling?Ia.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")},b.prototype.findList=function(a){return a?wa.find(a.children,function(a){return-1<["OL","UL"].indexOf(a.nodeName)}):null},b.prototype.findNextSiblings=function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b},b}(),Ra=function(){function b(a){this.bullet=new Qa,this.options=a.options}return b.prototype.insertTab=function(a,b){var c=Ia.createText(new Array(b+1).join(Ia.NBSP_CHAR));(a=a.deleteContents()).insertNode(c,!0),(a=La.create(c,b)).select()},b.prototype.insertParagraph=function(b,c){c=(c=(c=c||La.create(b)).deleteContents()).wrapBodyInlineWithPara();var d,e=Ia.ancestor(c.sc,Ia.isPara);if(e){if(Ia.isEmpty(e)&&Ia.isLi(e))return void this.bullet.toggleList(e.parentNode.nodeName);var f=null;if(1===this.options.blockquoteBreakingLevel?f=Ia.ancestor(e,Ia.isBlockquote):2===this.options.blockquoteBreakingLevel&&(f=Ia.lastAncestor(e,Ia.isBlockquote)),f){d=a(Ia.emptyPara)[0],Ia.isRightEdgePoint(c.getStartPoint())&&Ia.isBR(c.sc.nextSibling)&&a(c.sc.nextSibling).remove();var g=Ia.splitTree(f,c.getStartPoint(),{isDiscardEmptySplits:!0});g?g.parentNode.insertBefore(d,g):Ia.insertAfter(d,f)}else{d=Ia.splitTree(e,c.getStartPoint());var h=Ia.listDescendant(e,Ia.isEmptyAnchor);h=h.concat(Ia.listDescendant(d,Ia.isEmptyAnchor)),a.each(h,function(a,b){Ia.remove(b)}),(Ia.isHeading(d)||Ia.isPre(d)||Ia.isCustomStyleTag(d))&&Ia.isEmpty(d)&&(d=Ia.replace(d,"p"))}}else{var i=c.sc.childNodes[c.so];d=a(Ia.emptyPara)[0],i?c.sc.insertBefore(d,i):c.sc.appendChild(d)}La.create(d,0).normalize().select().scrollIntoView(b)},b}(),Sa=function qb(a,b,c,d){function e(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};l[a]||(l[a]=[]),l[a][b]=h}function f(a,b){if(!l[a])return b;if(!l[a][b])return b;for(var c=b;l[a][c];)if(c++,!l[a][c])return c}function g(a,b){var c=f(a.rowIndex,b.cellIndex),d=1<b.colSpan,g=1<b.rowSpan,i=a.rowIndex===k.rowPos&&b.cellIndex===k.colPos;e(a.rowIndex,c,a,b,g,d,!1);var j=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(j>1)for(var l=1;j>l;l++){var m=a.rowIndex+l;h(m,c,b,i),e(m,c,a,b,!0,d,!0)}var n=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(n>1)for(var o=1;n>o;o++){var p=f(a.rowIndex,c+o);h(a.rowIndex,p,b,i),e(a.rowIndex,p,a,b,g,!0,!0)}}function h(a,b,c,d){a===k.rowPos&&k.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&k.colPos++}function i(a){switch(b){case qb.where.Column:if(a.isColSpan)return qb.resultAction.SubtractSpanCount;break;case qb.where.Row:if(!a.isVirtual&&a.isRowSpan)return qb.resultAction.AddCell;if(a.isRowSpan)return qb.resultAction.SubtractSpanCount}return qb.resultAction.RemoveCell}function j(a){switch(b){case qb.where.Column:if(a.isColSpan)return qb.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return qb.resultAction.Ignore;break;case qb.where.Row:if(a.isRowSpan)return qb.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return qb.resultAction.Ignore}return qb.resultAction.AddCell}var k={colPos:0,rowPos:0},l=[],m=[];this.getActionList=function(){for(var a,d,e,f=b===qb.where.Row?k.rowPos:-1,g=b===qb.where.Column?k.colPos:-1,h=0,n=!0;n;){var o=f>=0?f:h,p=g>=0?g:h,q=l[o];if(!q)return n=!1,m;var r=q[p];if(!r)return n=!1,m;var s=qb.resultAction.Ignore;switch(c){case qb.requestAction.Add:s=j(r);break;case qb.requestAction.Delete:s=i(r)}m.push((a=s,d=o,e=p,{baseCell:r.baseCell,action:a,virtualTable:{rowIndex:d,cellIndex:e}})),h++}return m},a&&a.tagName&&("td"===a.tagName.toLowerCase()||"th"===a.tagName.toLowerCase())?(k.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()?k.rowPos=a.parentElement.rowIndex:console.error("Impossible to identify start Row point.",a)):console.error("Impossible to identify start Cell point.",a),function(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)g(a[b],c[e])}()};Sa.where={Row:0,Column:1},Sa.requestAction={Add:0,Delete:1},Sa.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Ta,Ua=function(){function b(){}return b.prototype.tab=function(a,b){var c=Ia.ancestor(a.commonAncestor(),Ia.isCell),d=Ia.ancestor(c,Ia.isTable),e=Ia.listDescendant(d,Ia.isCell),f=wa[b?"prev":"next"](e,c);f&&La.create(f,0).select()},b.prototype.addRow=function(b,c){for(var d=Ia.ancestor(b.commonAncestor(),Ia.isCell),e=a(d).closest("tr"),f=this.recoverAttributes(e),g=a("<tr"+f+"></tr>"),h=new Sa(d,Sa.where.Row,Sa.requestAction.Add,a(e).closest("table")[0]).getActionList(),i=0;i<h.length;i++){
var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case Sa.resultAction.AddCell:g.append("<td"+k+">"+Ia.blank+"</td>");break;case Sa.resultAction.SumSpanCount:if("top"===c&&(j.baseCell.parent?j.baseCell.closest("tr").rowIndex:0)<=e[0].rowIndex){var l=a("<div></div>").append(a("<td"+k+">"+Ia.blank+"</td>").removeAttr("rowspan")).html();g.append(l);break}var m=parseInt(j.baseCell.rowSpan,10);m++,j.baseCell.setAttribute("rowSpan",m)}}if("top"===c)e.before(g);else{if(1<d.rowSpan){var n=e[0].rowIndex+(d.rowSpan-2);return void a(a(e).parent().find("tr")[n]).after(a(g))}e.after(g)}},b.prototype.addCol=function(b,c){var d=Ia.ancestor(b.commonAncestor(),Ia.isCell),e=a(d).closest("tr");a(e).siblings().push(e);for(var f=new Sa(d,Sa.where.Column,Sa.requestAction.Add,a(e).closest("table")[0]).getActionList(),g=0;g<f.length;g++){var h=f[g],i=this.recoverAttributes(h.baseCell);switch(h.action){case Sa.resultAction.AddCell:"right"===c?a(h.baseCell).after("<td"+i+">"+Ia.blank+"</td>"):a(h.baseCell).before("<td"+i+">"+Ia.blank+"</td>");break;case Sa.resultAction.SumSpanCount:if("right"===c){var j=parseInt(h.baseCell.colSpan,10);j++,h.baseCell.setAttribute("colSpan",j)}else a(h.baseCell).before("<td"+i+">"+Ia.blank+"</td>")}}},b.prototype.recoverAttributes=function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b},b.prototype.deleteRow=function(b){for(var c=Ia.ancestor(b.commonAncestor(),Ia.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=d[0].rowIndex,g=new Sa(c,Sa.where.Row,Sa.requestAction.Delete,a(d).closest("table")[0]).getActionList(),h=0;h<g.length;h++)if(g[h]){var i=g[h].baseCell,j=g[h].virtualTable,k=i.rowSpan&&1<i.rowSpan,l=k?parseInt(i.rowSpan,10):0;switch(g[h].action){case Sa.resultAction.Ignore:continue;case Sa.resultAction.AddCell:var m=d.next("tr")[0];if(!m)continue;var n=d[0].cells[e];k&&(l>2?(l--,m.insertBefore(n,m.cells[e]),m.cells[e].setAttribute("rowSpan",l),m.cells[e].innerHTML=""):2===l&&(m.insertBefore(n,m.cells[e]),m.cells[e].removeAttribute("rowSpan"),m.cells[e].innerHTML=""));continue;case Sa.resultAction.SubtractSpanCount:k&&(l>2?(l--,i.setAttribute("rowSpan",l),j.rowIndex!==f&&i.cellIndex===e&&(i.innerHTML="")):2===l&&(i.removeAttribute("rowSpan"),j.rowIndex!==f&&i.cellIndex===e&&(i.innerHTML="")));continue;case Sa.resultAction.RemoveCell:continue}}d.remove()},b.prototype.deleteCol=function(b){for(var c=Ia.ancestor(b.commonAncestor(),Ia.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=new Sa(c,Sa.where.Column,Sa.requestAction.Delete,a(d).closest("table")[0]).getActionList(),g=0;g<f.length;g++)if(f[g])switch(f[g].action){case Sa.resultAction.Ignore:continue;case Sa.resultAction.SubtractSpanCount:var h=f[g].baseCell;if(h.colSpan&&1<h.colSpan){var i=h.colSpan?parseInt(h.colSpan,10):0;i>2?(i--,h.setAttribute("colSpan",i),h.cellIndex===e&&(h.innerHTML="")):2===i&&(h.removeAttribute("colSpan"),h.cellIndex===e&&(h.innerHTML=""))}continue;case Sa.resultAction.RemoveCell:Ia.remove(f[g].baseCell,!0);continue}},b.prototype.createTable=function(b,c,d){for(var e,f=[],g=0;b>g;g++)f.push("<td>"+Ia.blank+"</td>");e=f.join("");for(var h,i=[],j=0;c>j;j++)i.push("<tr>"+e+"</tr>");h=i.join("");var k=a("<table>"+h+"</table>");return d&&d.tableClassName&&k.addClass(d.tableClassName),k[0]},b.prototype.deleteTable=function(b){var c=Ia.ancestor(b.commonAncestor(),Ia.isCell);a(c).closest("table").remove()},b}(),Va=function(){function b(b){var c=this;this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Pa,this.table=new Ua,this.typing=new Ra(b),this.bullet=new Qa,this.history=new Oa(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;f>e;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);for(this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family","'"+a+"'")}),this.fontSize=this.wrapCommand(function(a){return c.fontStyling("font-size",a+"px")}),e=1;6>=e;e++)this["formatH"+e]=function(a){return function(){c.formatBlock("H"+a)}}(e),this.context.memo("help.formatH"+e,this.lang.help["formatH"+e]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(b){c.isLimited(a(b).text().length)||(c.getLastRange().insertNode(b),La.createFromNodeAfter(b).select(),c.setLastRange())}),this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange().insertNode(Ia.createText(a));La.create(b,Ia.nodeLength(b)).select(),c.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);La.createFromNodeAfter(wa.last(b)).select(),c.setLastRange()}}),this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode(Ia.create("HR"));a.nextSibling&&(La.create(a.nextSibling,0).normalize().select(),c.setLastRange())}),this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),this.createLink=this.wrapCommand(function(b){var d=b.url,e=b.text,f=b.isNewWindow,g=b.range||c.getLastRange(),h=e.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==e;"string"==typeof d&&(d=d.trim()),d=c.options.onCreateLink?c.options.onCreateLink(d):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(d)?d:"http://"+d;var j=[];if(i){var k=(g=g.deleteContents()).insertNode(a("<A>"+e+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(j,function(b,c){a(c).attr("href",d),f?a(c).attr("target","_blank"):a(c).removeAttr("target")});var l=La.createFromNodeBefore(wa.head(j)).getStartPoint(),m=La.createFromNodeAfter(wa.last(j)).getEndPoint();La.create(l.node,l.offset,m.node,m.offset).select(),c.setLastRange()}}),this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.foreColor=this.wrapCommand(function(a){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x");c.getLastRange().deleteContents().insertNode(c.table.createTable(b[0],b[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var b=a(c.restoreTarget()).parent();b.parent("figure").length?b.parent("figure").remove():b=a(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",b,c.$editable)}),this.floatMe=this.wrapCommand(function(b){var d=a(c.restoreTarget());d.toggleClass("note-float-left","left"===b),d.toggleClass("note-float-right","right"===b),d.css("float","none"===b?"":b)}),this.resize=this.wrapCommand(function(b){var d=a(c.restoreTarget());0===(b=parseFloat(b))?d.css("width",""):d.css({width:100*b+"%",height:""})})}return b.prototype.initialize=function(){var a=this;this.$editable.on("keydown",function(b){return b.keyCode===Na.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),b.isDefaultPrevented()||(a.options.shortcuts?a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)?!1:void 0}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Ia.html(this.$note)||Ia.emptyPara),this.$editable.on(ta.inputEventName,va.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editor.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},b.prototype.destroy=function(){this.$editable.off()},b.prototype.handleKeyMap=function(a){var b=this.options.keyMap[ta.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=Na.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];e?!1!==this.context.invoke(e)&&a.preventDefault():Na.isEdit(a.keyCode)&&this.afterCommand()},b.prototype.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&wa.contains([66,73,85],a.keyCode)&&a.preventDefault()},b.prototype.isLimited=function(a,b){return a=a||0,(void 0===b||!(Na.isMove(b.keyCode)||b.ctrlKey||b.metaKey||wa.contains([Na.code.BACKSPACE,Na.code.DELETE],b.keyCode)))&&0<this.options.maxTextLength&&this.$editable.text().length+a>=this.options.maxTextLength},b.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},b.prototype.setLastRange=function(){this.lastRange=La.create(this.editable)},b.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},b.prototype.saveRange=function(a){a&&this.getLastRange().collapse().select()},b.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},b.prototype.saveTarget=function(a){this.$editable.data("target",a)},b.prototype.clearTarget=function(){this.$editable.removeData("target")},b.prototype.restoreTarget=function(){return this.$editable.data("target")},b.prototype.currentStyle=function(){var a=La.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)},b.prototype.styleFromNode=function(a){return this.style.fromNode(a)},b.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},b.prototype.afterCommand=function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.tab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}},b.prototype.untab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1},b.prototype.wrapCommand=function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}},b.prototype.insertImage=function(b,c){var d,e=this;return(d=b,a.Deferred(function(b){var c=a("<img>");c.one("load",function(){c.off("error abort"),b.resolve(c)}).one("error abort",function(){c.off("load").detach(),b.reject(c)}).css({display:"none"}).appendTo(document.body).attr("src",d)}).promise()).then(function(a){e.beforeCommand(),"function"==typeof c?c(a):("string"==typeof c&&a.attr("data-filename",c),a.css("width",Math.min(e.$editable.width(),a.width()))),a.show(),La.create(e.editable).insertNode(a[0]),La.createFromNodeAfter(a[0]).select(),e.setLastRange(),e.afterCommand()}).fail(function(a){e.context.triggerEvent("image.upload.error",a)})},b.prototype.insertImagesAsDataURL=function(b){var c=this;a.each(b,function(b,d){var e,f=d.name;c.options.maximumImageFileSize&&c.options.maximumImageFileSize<d.size?c.context.triggerEvent("image.upload.error",c.lang.image.maximumFileSizeError):(e=d,a.Deferred(function(b){a.extend(new FileReader,{onload:function(a){var c=a.target.result;b.resolve(c)},onerror:function(a){b.reject(a)}}).readAsDataURL(e)}).promise()).then(function(a){return c.insertImage(a,f)}).fail(function(){c.context.triggerEvent("image.upload.error")})})},b.prototype.insertImagesOrCallback=function(a){this.options.callbacks.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)},b.prototype.getSelectedText=function(){var a=this.getLastRange();return a.isOnAnchor()&&(a=La.createFromNode(Ia.ancestor(a.sc,Ia.isAnchor))),a.toString()},b.prototype.onFormatBlock=function(b,c){if(document.execCommand("FormatBlock",!1,ta.isMSIE?"<"+b+">":b),c&&c.length&&(c[0].tagName.toUpperCase()!==b.toUpperCase()&&(c=c.find(b)),c&&c.length)){var d=c[0].className||"";if(d){var e=this.createRange();a([e.sc,e.ec]).closest(b).addClass(d)}}},b.prototype.formatPara=function(){this.formatBlock("P")},b.prototype.fontStyling=function(b,c){var d=this.getLastRange();if(d){var e=this.style.styleNodes(d);if(a(e).css(b,c),d.isCollapsed()){var f=wa.head(e);f&&!Ia.nodeLength(f)&&(f.innerHTML=Ia.ZERO_WIDTH_NBSP_CHAR,La.createFromNodeAfter(f.firstChild).select(),this.setLastRange(),this.$editable.data("bogus",f))}}},b.prototype.unlink=function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=Ia.ancestor(a.sc,Ia.isAnchor);(a=La.createFromNode(b)).select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},b.prototype.getLinkInfo=function(){var b=this.getLastRange().expand(Ia.isAnchor),c=a(wa.head(b.nodes(Ia.isAnchor))),d={range:b,text:b.toString(),url:c.length?c.attr("href"):""};return c.length&&(d.isNewWindow="_blank"===c.attr("target")),d},b.prototype.addRow=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())},b.prototype.addCol=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())},b.prototype.deleteRow=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())},b.prototype.deleteCol=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())},b.prototype.deleteTable=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())},b.prototype.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},b.prototype.hasFocus=function(){return this.$editable.is(":focus")},b.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},b.prototype.isEmpty=function(){return Ia.isEmpty(this.$editable[0])||Ia.emptyPara===this.$editable.html()},b.prototype.empty=function(){this.context.invoke("code",Ia.emptyPara)},b.prototype.normalizeContent=function(){this.$editable[0].normalize()},b}(),Wa=function(){function a(a){this.context=a,this.$editable=a.layoutInfo.editable}return a.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},a.prototype.pasteByEvent=function(a){var b=a.originalEvent.clipboardData;if(b&&b.items&&b.items.length){var c=1<b.items.length?b.items[1]:wa.head(b.items);"file"===c.kind&&-1!==c.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[c.getAsFile()]),this.context.invoke("editor.afterCommand")}},a}(),Xa=function(){function b(b){this.context=b,this.$eventListener=a(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=a(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return b.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(a){a.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},b.prototype.attachDragAndDropEvent=function(){var b=this,c=a(),d=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(a){var e=b.context.invoke("codeview.isActivated"),f=0<b.$editor.width()&&0<b.$editor.height();e||c.length||!f||(b.$editor.addClass("dragover"),b.$dropzone.width(b.$editor.width()),b.$dropzone.height(b.$editor.height()),d.text(b.lang.image.dragImageHere)),c=c.add(a.target)},this.documentEventHandlers.onDragleave=function(a){(c=c.not(a.target)).length||b.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){c=a(),b.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){b.$dropzone.addClass("hover"),d.text(b.lang.image.dropImage)}).on("dragleave",function(){b.$dropzone.removeClass("hover"),d.text(b.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(c){var d=c.originalEvent.dataTransfer;c.preventDefault(),d&&d.files&&d.files.length?(b.$editable.focus(),b.context.invoke("editor.insertImagesOrCallback",d.files)):a.each(d.types,function(c,e){var f=d.getData(e);-1<e.toLowerCase().indexOf("text")?b.context.invoke("editor.pasteHTML",f):a(f).each(function(a,c){b.context.invoke("editor.insertNode",c)})})}).on("dragover",!1)},b.prototype.destroy=function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}},b}();ta.hasCodeMirror&&(Ta=window.CodeMirror);var Ya=function(){function a(a){this.context=a,this.$editor=a.layoutInfo.editor,this.$editable=a.layoutInfo.editable,this.$codable=a.layoutInfo.codable,this.options=a.options}return a.prototype.sync=function(){this.isActivated()&&ta.hasCodeMirror&&this.$codable.data("cmEditor").save()},a.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},a.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},a.prototype.purify=function(a){if(this.options.codeviewFilter&&(a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";for(var c=0,d=b;c<d.length;c++){var e=d[c];if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}return""})}return a},a.prototype.activate=function(){var a=this;if(this.$codable.val(Ia.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),ta.hasCodeMirror){var b=Ta.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var c=new Ta.TernServer(this.options.codemirror.tern);b.ternServer=c,b.on("cursorActivity",function(a){c.updateArgHints(a)})}b.on("blur",function(c){a.context.triggerEvent("blur.codeview",b.getValue(),c)}),b.on("change",function(c){a.context.triggerEvent("change.codeview",b.getValue(),b)}),b.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",b)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(b){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})},a.prototype.deactivate=function(){if(ta.hasCodeMirror){var a=this.$codable.data("cmEditor");this.$codable.val(a.getValue()),a.toTextArea()}var b=this.purify(Ia.value(this.$codable,this.options.prettifyHtml)||Ia.emptyPara),c=this.$editable.html()!==b;this.$editable.html(b),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),c&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},a.prototype.destroy=function(){this.isActivated()&&this.deactivate()},a}(),Za=function(){function b(b){this.$document=a(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return b.prototype.initialize=function(){var a=this;this.options.airMode||this.options.disableResizeEditor?this.destroy():this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function e(b){var e=b.clientY-(c+24);e=0<a.options.minheight?Math.max(e,a.options.minheight):e,e=0<a.options.maxHeight?Math.min(e,a.options.maxHeight):e,a.$editable.height(e)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})},b.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},b}(),$a=function(){function b(b){var c=this;this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=a(window),this.$scrollbar=a("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return b.prototype.resizeTo=function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)},b.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},b.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},b}(),_a=function(){function b(b){var c=this;this.context=b,this.$document=a(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return b.prototype.initialize=function(){var b=this;this.$handle=a(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(a){if(Ia.isControlSizing(a.target)){a.preventDefault(),a.stopPropagation();var c=b.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=b.$document.scrollTop(),f=function(a){b.context.invoke("editor.resizeTo",{x:a.clientX-d.left,y:a.clientY-(d.top-e)},c,!a.shiftKey),b.update(c[0])};b.$document.on("mousemove",f).one("mouseup",function(a){a.preventDefault(),b.$document.off("mousemove",f),b.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(a){a.preventDefault(),b.update()})},b.prototype.destroy=function(){this.$handle.remove()},b.prototype.update=function(b,c){if(this.context.isDisabled())return!1;var d=Ia.isImg(b),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",b,c),d){var f=a(b),g=f.position(),h={left:g.left+parseInt(f.css("marginLeft"),10),top:g.top+parseInt(f.css("marginTop"),10)},i={w:f.outerWidth(!1),h:f.outerHeight(!1)};e.css({display:"block",left:h.left,top:h.top,width:i.w,height:i.h}).data("target",f);var j=new Image;j.src=f.attr("src");var k=i.w+"x"+i.h+" ("+this.lang.image.original+": "+j.width+"x"+j.height+")";e.find(".note-control-selection-info").text(k),this.context.invoke("editor.saveTarget",b)}else this.hide();return d},b.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},b}(),ab=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,bb=function(){function b(a){var b=this;this.context=a,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return b.prototype.initialize=function(){this.lastWordRange=null},b.prototype.destroy=function(){this.lastWordRange=null},b.prototype.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),c=b.match(ab);if(c&&(c[1]||c[2])){var d=c[1]?b:"http://"+b,e=a("<a />").html(b).attr("href",d)[0];this.context.options.linkTargetBlank&&a(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}},b.prototype.handleKeydown=function(a){if(wa.contains([Na.code.ENTER,Na.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}},b.prototype.handleKeyup=function(a){wa.contains([Na.code.ENTER,Na.code.SPACE],a.keyCode)&&this.replace()},b}(),cb=function(){function a(a){var b=this;this.$note=a.layoutInfo.note,this.events={"summernote.change":function(){b.$note.val(a.invoke("code"))}}}return a.prototype.shouldInitialize=function(){return Ia.isTextarea(this.$note[0])},a}(),db=function(){function a(a){var b=this;this.context=a,this.options=a.options.replace||{},this.keys=[Na.code.ENTER,Na.code.SPACE,Na.code.PERIOD,Na.code.COMMA,Na.code.SEMICOLON,Na.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return a.prototype.shouldInitialize=function(){return!!this.options.match},a.prototype.initialize=function(){this.lastWord=null},a.prototype.destroy=function(){this.lastWord=null},a.prototype.replace=function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=Ia.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}},a.prototype.handleKeydown=function(a){if(this.previousKeydownCode&&wa.contains(this.keys,this.previousKeydownCode))this.previousKeydownCode=a.keyCode;else{if(wa.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode}},a.prototype.handleKeyup=function(a){wa.contains(this.keys,a.keyCode)&&this.replace()},a}(),eb=function(){function b(a){var b=this;this.context=a,this.$editingArea=a.layoutInfo.editingArea,this.options=a.options,this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}}}return b.prototype.shouldInitialize=function(){return!!this.options.placeholder},b.prototype.initialize=function(){var b=this;this.$placeholder=a('<div class="note-placeholder">'),this.$placeholder.on("click",function(){b.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},b.prototype.destroy=function(){this.$placeholder.remove()},b.prototype.update=function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)},b}(),fb=function(){function b(b){this.ui=a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,this.invertedKeyMap=va.invertObject(this.options.keyMap[ta.isMac?"mac":"pc"])}return b.prototype.representShortcut=function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(ta.isMac&&(b=b.replace("CMD","⌘").replace("SHIFT","⇧"))," ("+(b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]"))+")"):""},b.prototype.button=function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)},b.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},b.prototype.destroy=function(){delete this.fontInstalledMap},b.prototype.isFontInstalled=function(a){return this.fontInstalledMap.hasOwnProperty(a)||(this.fontInstalledMap[a]=ta.isFontInstalled(a)||wa.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]},b.prototype.isFontDeservedToAdd=function(a){return""!==(a=a.toLowerCase())&&this.isFontInstalled(a)&&-1===["sans-serif","serif","monospace","cursive","fantasy"].indexOf(a)},b.prototype.colorPalette=function(b,c,d,e){var f=this;return this.ui.buttonGroup({className:"note-color "+b,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),
tooltip:c,click:function(b){var c=a(b.currentTarget);d&&e?f.context.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")}):d?f.context.invoke("editor.color",{backColor:c.attr("data-backColor")}):e&&f.context.invoke("editor.color",{foreColor:c.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");d&&(b.css("background-color",f.options.colorButton.backColor),a.attr("data-backColor",f.options.colorButton.backColor)),e?(b.css("color",f.options.colorButton.foreColor),a.attr("data-foreColor",f.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(d?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(e?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(b){b.find(".note-holder").each(function(b,c){var d=a(c);d.append(f.ui.palette({colors:f.options.colors,colorsName:f.options.colorsName,eventName:d.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())});var c=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];b.find(".note-holder-custom").each(function(b,d){var e=a(d);e.append(f.ui.palette({colors:c,colorsName:c,eventName:e.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())}),b.find("input[type=color]").each(function(c,d){a(d).change(function(){var c=b.find("#"+a(this).data("event")).find(".note-color-btn").first(),d=this.value.toUpperCase();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.click()})})},click:function(c){c.stopPropagation();var d=a("."+b),e=a(c.target),g=e.data("event"),h=e.attr("data-value");if("openPalette"===g){var i=d.find("#"+h),j=a(d.find("#"+i.data("event")).find(".note-color-row")[0]),k=j.find(".note-color-btn").last().detach(),l=i.val();k.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),j.prepend(k),i.click()}else if(wa.contains(["backColor","foreColor"],g)){var m="backColor"===g?"background-color":"color",n=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");n.css(m,h),o.attr("data-"+g,h),f.context.invoke("editor."+g,h)}}})]}).render()},b.prototype.addToolbarButtons=function(){var b=this;this.context.memo("button.style",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.magic),b.options),tooltip:b.lang.style.style,data:{toggle:"dropdown"}}),b.ui.dropdown({className:"dropdown-style",items:b.options.styleTags,title:b.lang.style.style,template:function(a){"string"==typeof a&&(a={tag:a,title:b.lang.style.hasOwnProperty(a)?b.lang.style[a]:a});var c=a.tag,d=a.title;return"<"+c+(a.style?' style="'+a.style+'" ':"")+(a.className?' class="'+a.className+'"':"")+">"+d+"</"+c+">"},click:b.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var c=function(a,c){var e=d.options.styleTags[a];d.context.memo("button.style."+e,function(){return b.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:b.lang.style[e],click:b.context.createInvokeHandler("editor.formatBlock")}).render()})},d=this,e=0,f=this.options.styleTags.length;f>e;e++)c(e);this.context.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.ui.icon(b.options.icons.bold),tooltip:b.lang.font.bold+b.representShortcut("bold"),click:b.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.ui.icon(b.options.icons.italic),tooltip:b.lang.font.italic+b.representShortcut("italic"),click:b.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.ui.icon(b.options.icons.underline),tooltip:b.lang.font.underline+b.representShortcut("underline"),click:b.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return b.button({contents:b.ui.icon(b.options.icons.eraser),tooltip:b.lang.font.clear+b.representShortcut("removeFormat"),click:b.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.ui.icon(b.options.icons.strikethrough),tooltip:b.lang.font.strikethrough+b.representShortcut("strikethrough"),click:b.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.ui.icon(b.options.icons.superscript),tooltip:b.lang.font.superscript,click:b.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.ui.icon(b.options.icons.subscript),tooltip:b.lang.font.subscript,click:b.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var c=b.context.invoke("editor.currentStyle");return a.each(c["font-family"].split(","),function(a,c){c=c.trim().replace(/['"]+/g,""),b.isFontDeservedToAdd(c)&&-1===b.options.fontNames.indexOf(c)&&b.options.fontNames.push(c)}),b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontname"/>',b.options),tooltip:b.lang.font.name,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:b.options.icons.menuCheck,items:b.options.fontNames.filter(b.isFontInstalled.bind(b)),title:b.lang.font.name,template:function(a){return"<span style=\"font-family: '"+a+"'\">"+a+"</span>"},click:b.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',b.options),tooltip:b.lang.font.size,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:b.options.icons.menuCheck,items:b.options.fontSizes,title:b.lang.font.size,click:b.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return b.colorPalette("note-color-all",b.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return b.colorPalette("note-color-fore",b.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return b.colorPalette("note-color-back",b.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return b.button({contents:b.ui.icon(b.options.icons.unorderedlist),tooltip:b.lang.lists.unordered+b.representShortcut("insertUnorderedList"),click:b.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return b.button({contents:b.ui.icon(b.options.icons.orderedlist),tooltip:b.lang.lists.ordered+b.representShortcut("insertOrderedList"),click:b.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),h=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),i=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),j=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),k=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",va.invoke(g,"render")),this.context.memo("button.justifyCenter",va.invoke(h,"render")),this.context.memo("button.justifyRight",va.invoke(i,"render")),this.context.memo("button.justifyFull",va.invoke(j,"render")),this.context.memo("button.outdent",va.invoke(k,"render")),this.context.memo("button.indent",va.invoke(l,"render")),this.context.memo("button.paragraph",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.alignLeft),b.options),tooltip:b.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),b.ui.dropdown([b.ui.buttonGroup({className:"note-align",children:[g,h,i,j]}),b.ui.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),this.context.memo("button.height",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.textHeight),b.options),tooltip:b.lang.font.height,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({items:b.options.lineHeights,checkClassName:b.options.icons.menuCheck,className:"dropdown-line-height",title:b.lang.font.height,click:b.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.table),b.options),tooltip:b.lang.table.table,data:{toggle:"dropdown"}}),b.ui.dropdown({title:b.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(a){a.find(".note-dimension-picker-mousecatcher").css({width:b.options.insertTableMaxSize.col+"em",height:b.options.insertTableMaxSize.row+"em"}).mousedown(b.context.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler.bind(b))}}).render()}),this.context.memo("button.link",function(){return b.button({contents:b.ui.icon(b.options.icons.link),tooltip:b.lang.link.link+b.representShortcut("linkDialog.show"),click:b.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return b.button({contents:b.ui.icon(b.options.icons.picture),tooltip:b.lang.image.image,click:b.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return b.button({contents:b.ui.icon(b.options.icons.video),tooltip:b.lang.video.video,click:b.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return b.button({contents:b.ui.icon(b.options.icons.minus),tooltip:b.lang.hr.insert+b.representShortcut("insertHorizontalRule"),click:b.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.ui.icon(b.options.icons.arrowsAlt),tooltip:b.lang.options.fullscreen,click:b.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.ui.icon(b.options.icons.code),tooltip:b.lang.options.codeview,click:b.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return b.button({contents:b.ui.icon(b.options.icons.redo),tooltip:b.lang.history.redo+b.representShortcut("redo"),click:b.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return b.button({contents:b.ui.icon(b.options.icons.undo),tooltip:b.lang.history.undo+b.representShortcut("undo"),click:b.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return b.button({contents:b.ui.icon(b.options.icons.question),tooltip:b.lang.options.help,click:b.context.createInvokeHandler("helpDialog.show")}).render()})},b.prototype.addImagePopoverButtons=function(){var a=this;this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})},b.prototype.addLinkPopoverButtons=function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})},b.prototype.addTablePopoverButtons=function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})},b.prototype.build=function(a,b){for(var c=0,d=b.length;d>c;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;j>i;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k():k)}h.appendTo(a)}},b.prototype.updateCurrentStyle=function(b){var c=this,d=b||this.$toolbar,e=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(d,{".note-btn-bold":function(){return"bold"===e["font-bold"]},".note-btn-italic":function(){return"italic"===e["font-italic"]},".note-btn-underline":function(){return"underline"===e["font-underline"]},".note-btn-subscript":function(){return"subscript"===e["font-subscript"]},".note-btn-superscript":function(){return"superscript"===e["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===e["font-strikethrough"]}}),e["font-family"]){var f=e["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=wa.find(f,this.isFontInstalled.bind(this));d.find(".dropdown-fontname a").each(function(b,c){var d=a(c),e=d.data("value")+""==g+"";d.toggleClass("checked",e)}),d.find(".note-current-fontname").text(g).css("font-family",g)}if(e["font-size"]){var h=e["font-size"];d.find(".dropdown-fontsize a").each(function(b,c){var d=a(c),e=d.data("value")+""==h+"";d.toggleClass("checked",e)}),d.find(".note-current-fontsize").text(h)}if(e["line-height"]){var i=e["line-height"];d.find(".dropdown-line-height li a").each(function(b,d){var e=a(d).data("value")+""==i+"";c.className=e?"checked":""})}},b.prototype.updateBtnStates=function(b,c){var d=this;a.each(c,function(a,c){d.ui.toggleBtnActive(b.find(a),c())})},b.prototype.tableMoveHandler=function(b){var c,d=a(b.target.parentNode),e=d.next(),f=d.find(".note-dimension-picker-mousecatcher"),g=d.find(".note-dimension-picker-highlighted"),h=d.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var i=a(b.target).offset();c={x:b.pageX-i.left,y:b.pageY-i.top}}else c={x:b.offsetX,y:b.offsetY};var j=Math.ceil(c.x/18)||1,k=Math.ceil(c.y/18)||1;g.css({width:j+"em",height:k+"em"}),f.data("value",j+"x"+k),j>3&&j<this.options.insertTableMaxSize.col&&h.css({width:j+1+"em"}),k>3&&k<this.options.insertTableMaxSize.row&&h.css({height:k+1+"em"}),e.html(j+" x "+k)},b}(),gb=function(){function b(b){this.context=b,this.$window=a(window),this.$document=a(document),this.ui=a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return b.prototype.shouldInitialize=function(){return!this.options.airMode},b.prototype.initialize=function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},b.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},b.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var b=this.$editor.outerHeight(),c=this.$editor.width(),d=this.$toolbar.height(),e=this.$statusbar.height(),f=0;this.options.otherStaticBar&&(f=a(this.options.otherStaticBar).outerHeight());var g=this.$document.scrollTop(),h=this.$editor.offset().top,i=h-f,j=h+b-f-d-e;!this.isFollowing&&g>i&&j-d>g?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:f,width:c}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(i>g||g>j)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},b.prototype.changeContainer=function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},b.prototype.updateFullscreen=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)},b.prototype.updateCodeview=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()},b.prototype.activate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!0)},b.prototype.deactivate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!1)},b}(),hb=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return b.prototype.initialize=function(){var b=this.options.dialogsInBody?this.$body:this.$editor,c=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":a("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),d='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:c,footer:d}).render().appendTo(b)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Na.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.toggleLinkBtn=function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())},b.prototype.showLinkDialog=function(b){var c=this;return a.Deferred(function(a){var d=c.$dialog.find(".note-link-text"),e=c.$dialog.find(".note-link-url"),f=c.$dialog.find(".note-link-btn"),g=c.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),!b.url&&va.isValidUrl(b.text)&&(b.url=b.text),d.on("input paste propertychange",function(){b.text=d.val(),c.toggleLinkBtn(f,d,e)}).val(b.text),e.on("input paste propertychange",function(){b.text||d.val(e.val()),c.toggleLinkBtn(f,d,e)}).val(b.url),ta.isSupportTouch||e.trigger("focus"),c.toggleLinkBtn(f,d,e),c.bindEnterKey(e,f),c.bindEnterKey(d,f);var h=void 0!==b.isNewWindow?b.isNewWindow:c.context.options.linkTargetBlank;g.prop("checked",h),f.one("click",function(f){f.preventDefault(),a.resolve({range:b.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked")}),c.ui.hideDialog(c.$dialog)})}),c.ui.onDialogHidden(c.$dialog,function(){d.off(),e.off(),f.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)}).promise()},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b}(),ib=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!wa.isEmpty(this.options.popover.link)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){a.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){if(this.context.invoke("editor.hasFocus")){var b=this.context.invoke("editor.getLastRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=Ia.ancestor(b.sc,Ia.isAnchor),d=a(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=Ia.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),jb=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b="";if(this.options.maximumImageFileSize){var c=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),d=1*(this.options.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";b="<small>"+this.lang.image.maximumFileSize+" : "+d+"</small>"}var e=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',b,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),f='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:f}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Na.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showImageDialog=function(){var b=this;return a.Deferred(function(a){var c=b.$dialog.find(".note-image-input"),d=b.$dialog.find(".note-image-url"),e=b.$dialog.find(".note-image-btn");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){a.resolve(b.target.files||b.target.value)}).val("")),d.on("input paste propertychange",function(){b.ui.toggleBtn(e,d.val())}).val(""),ta.isSupportTouch||d.trigger("focus"),e.click(function(b){b.preventDefault(),a.resolve(d.val())}),b.bindEnterKey(d,e)}),b.ui.onDialogHidden(b.$dialog,function(){c.off(),d.off(),e.off(),"pending"===a.state()&&a.reject()}),b.ui.showDialog(b.$dialog)})},b}(),kb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!wa.isEmpty(this.options.popover.image)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a,b){if(Ia.isImg(a)){var c=Ia.posFromPlaceholder(a),d=Ia.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?b.pageX-20:c.left,top:this.options.popatmouse?b.pageY:Math.min(c.top,d.top)})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),lb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!wa.isEmpty(this.options.popover.table)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),ta.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a){if(this.context.isDisabled())return!1;
var b=Ia.isCell(a);if(b){var c=Ia.posFromPlaceholder(a);this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b},b.prototype.hide=function(){this.$popover.hide()},b}(),mb=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),c='<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:c}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Na.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.createVideoNode=function(b){var c,d=b.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/),e=b.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/),f=b.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/),g=b.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/),h=b.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/),i=b.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/),j=b.match(/\/\/v\.qq\.com.*?vid=(.+)/),k=b.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/),l=b.match(/^.+.(mp4|m4v)$/),m=b.match(/^.+.(ogg|ogv)$/),n=b.match(/^.+.(webm)$/),o=b.match(/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/);if(d&&11===d[1].length){var p=d[1],q=0;if(void 0!==d[2]){var r=d[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/);if(r)for(var s=[3600,60,1],t=0,u=s.length;u>t;t++)q+=void 0!==r[t+1]?s[t]*parseInt(r[t+1],10):0}c=a("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+p+(q>0?"?start="+q:"")).attr("width","640").attr("height","360")}else if(e&&e[0].length)c=a("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+e[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(f&&f[0].length)c=a("<iframe>").attr("frameborder",0).attr("src",f[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(g&&g[3].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+g[3]).attr("width","640").attr("height","360");else if(h&&h[2].length)c=a("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+h[2]).attr("width","640").attr("height","360");else if(i&&i[1].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+i[1]);else if(j&&j[1].length||k&&k[2].length){var v=j&&j[1].length?j[1]:k[2];c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+v+"&amp;auto=0")}else if(l||m||n)c=a("<video controls>").attr("src",b).attr("width","640").attr("height","360");else{if(!o||!o[0].length)return!1;c=a("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(o[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return c.addClass("note-video-clip"),c[0]},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");var c=a.createVideoNode(b);c&&a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showVideoDialog=function(b){var c=this;return a.Deferred(function(a){var b=c.$dialog.find(".note-video-url"),d=c.$dialog.find(".note-video-btn");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),b.on("input paste propertychange",function(){c.ui.toggleBtn(d,b.val())}),ta.isSupportTouch||b.trigger("focus"),d.click(function(c){c.preventDefault(),a.resolve(b.val())}),c.bindEnterKey(b,d)}),c.ui.onDialogHidden(c.$dialog,function(){b.off(),d.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)})},b}(),nb=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.createShortcutList=function(){var b=this,c=this.options.keyMap[ta.isMac?"mac":"pc"];return Object.keys(c).map(function(d){var e=c[d],f=a('<div><div class="help-list-item"/></div>');return f.append(a("<label><kbd>"+d+"</kdb></label>").css({width:180,"margin-right":10})).append(a("<span/>").html(b.context.memo("help."+e)||e)),f.html()}).join("")},b.prototype.showHelpDialog=function(){var b=this;return a.Deferred(function(a){b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),a.resolve()}),b.ui.showDialog(b.$dialog)}).promise()},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})},b}(),ob=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){c.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){c.hide()},"summernote.focusout":function(a,b){ta.isFF||b.relatedTarget&&Ia.ancestor(b.relatedTarget,va.eq(c.$popover[0]))||c.hide()}}}return b.prototype.shouldInitialize=function(){return this.options.airMode&&!wa.isEmpty(this.options.popover.air)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content");this.context.invoke("buttons.build",a,this.options.popover.air)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){var a=this.context.invoke("editor.currentStyle");if(a.range&&!a.range.isCollapsed()){var b=wa.last(a.range.getClientRects());if(b){var c=va.rect2bnd(b);this.$popover.css({display:"block",left:Math.max(c.left+c.width/2,0)-20,top:c.top+c.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),pb=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return 0<this.hints.length},b.prototype.initialize=function(){var b=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(c){b.$content.find(".active").removeClass("active"),a(c.currentTarget).addClass("active"),b.replace()})},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},b.prototype.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},b.prototype.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},b.prototype.replace=function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);this.lastWordRange.insertNode(b),La.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},b.prototype.nodeFromItem=function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=Ia.createText(d)),d},b.prototype.createItemTemplates=function(b,c){var d=this.hints[b];return c.map(function(c,e){var f=a('<div class="note-hint-item"/>');return f.append(d.template?d.template(c):c+""),f.data({index:b,item:c}),f})},b.prototype.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===Na.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===Na.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===Na.code.DOWN&&(a.preventDefault(),this.moveDown()))},b.prototype.searchKeyword=function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},b.prototype.createGroup=function(b,c){var d=this,e=a('<div class="note-hint-group note-hint-group-'+b+'"/>');return this.searchKeyword(b,c,function(a){(a=a||[]).length&&(e.html(d.createItemTemplates(b,a)),d.show())}),e},b.prototype.handleKeyup=function(a){var b=this;if(!wa.contains([Na.code.ENTER,Na.code.UP,Na.code.DOWN],a.keyCode)){var c=this.context.invoke("editor.getLastRange").getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var e=va.rect2bnd(wa.last(c.getClientRects()));e&&(this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-5}):this.$popover.css({left:e.left,top:e.top+e.height+5}))}else this.hide()}},b.prototype.show=function(){this.$popover.show()},b.prototype.hide=function(){this.$popover.hide()},b}();a.summernote=a.extend(a.summernote,{version:"0.8.12",plugins:{},dom:Ia,range:La,options:{langInfo:a.summernote.lang["en-US"],modules:{editor:Va,clipboard:Wa,dropzone:Xa,codeview:Ya,statusbar:Za,fullscreen:$a,handle:_a,hintPopover:pb,autoLink:bb,autoSync:cb,autoReplace:db,placeholder:eb,buttons:fb,toolbar:gb,linkDialog:hb,linkPopover:ib,imageDialog:jb,imagePopover:kb,tablePopover:lb,videoDialog:mb,helpDialog:nb,airPopover:ob},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),a.summernote=a.extend(a.summernote,{ui:ja})})},{jquery:528}],57:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(e,f){"object"===("undefined"==typeof c?"undefined":d(c))&&"undefined"!=typeof b?f(a("jquery")):"function"==typeof define&&define.amd?define(["jquery"],f):(e=e||self,f(e.jQuery))}(void 0,function(a){function b(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",d="200px",e=document.createElement("canvas"),f=e.getContext("2d");f.font=d+" '"+b+"'";var g=f.measureText(c).width;f.font=d+" '"+a+"', '"+b+"'";var h=f.measureText(c).width;return g!==h}function c(a){return function(b){return a===b}}function e(a,b){return a===b}function f(a){return function(b,c){return b[a]===c[a]}}function g(){return!0}function h(){return!1}function i(a){return function(){return!a.apply(a,arguments)}}function j(a,b){return function(c){return a(c)&&b(c)}}function k(a){return a}function l(a,b){return function(){return a[b].apply(a,arguments)}}function m(a){var b=++yb+"";return a?a+b:b}function n(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}}function o(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function p(a,b){return b=b||"",b+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")}function q(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function r(a){var b=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return b.test(a)}function s(a){return a[0]}function t(a){return a[a.length-1]}function u(a){return a.slice(0,a.length-1)}function v(a){return a.slice(1)}function w(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e))return e}}function x(a,b){for(var c=0,d=a.length;d>c;c++)if(!b(a[c]))return!1;return!0}function y(a,b){return a&&a.length&&b?-1!==a.indexOf(b):!1}function z(a,b){return b=b||zb.self,a.reduce(function(a,c){return a+b(c)},0)}function A(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b}function B(a){return!a||!a.length}function C(a,b){if(!a.length)return[];var c=v(a);return c.reduce(function(a,c){var d=t(a);return b(t(d),c)?d[d.length]=c:a[a.length]=[c],a},[[s(a)]])}function D(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b}function E(a){for(var b=[],c=0,d=a.length;d>c;c++)y(b,a[c])||b.push(a[c]);return b}function F(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c+1]}return null}function G(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c-1]}return null}function H(b){return b&&a(b).hasClass("note-editable")}function I(b){return b&&a(b).hasClass("note-control-sizing")}function J(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}function K(a){return a&&3===a.nodeType}function L(a){return a&&1===a.nodeType}function M(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase())}function N(a){return H(a)?!1:a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())}function O(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())}function P(a){return N(a)&&!Eb(a)}function Q(a){return!(T(a)||R(a)||Hb(a)||N(a)||Fb(a)||Ib(a)||Gb(a))}function R(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function S(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function T(a){return S(a)||Ib(a)||H(a)}function U(a){return Q(a)&&!!aa(a,N)}function V(a){return Q(a)&&!aa(a,N)}function W(a,b){return a.nextSibling===b||a.previousSibling===b}function X(a,b){b=b||zb.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c}function Y(a){return K(a)?a.nodeValue.length:a?a.childNodes.length:0}function Z(a){var b=Y(a);return 0===b?!0:K(a)||1!==b||a.innerHTML!==Lb?Ab.all(a.childNodes,K)&&""===a.innerHTML?!0:!1:!0}function _(a){M(a)||Y(a)||(a.innerHTML=Lb)}function aa(a,b){for(;a;){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ba(a,b){for(a=a.parentNode;a&&1===Y(a);){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ca(a,b){b=b||zb.fail;var c=[];return aa(a,function(a){return H(a)||c.push(a),b(a)}),c}function da(a,b){var c=ca(a);return Ab.last(c.filter(b))}function ea(a,b){for(var c=ca(a),d=b;d;d=d.parentNode)if(c.indexOf(d)>-1)return d;return null}function fa(a,b){b=b||zb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c}function ga(a,b){b=b||zb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}function ha(a,b){var c=[];return b=b||zb.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;g>f;f++)d(e.childNodes[f])}(a),c}function ia(b,c){var d=b.parentNode,e=a("<"+c+">")[0];return d.insertBefore(e,b),e.appendChild(b),e}function ja(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function ka(b,c){return a.each(c,function(a,c){b.appendChild(c)}),b}function la(a){return 0===a.offset}function ma(a){return a.offset===Y(a.node)}function na(a){return la(a)||ma(a)}function oa(a,b){for(;a&&a!==b;){if(0!==sa(a))return!1;a=a.parentNode}return!0}function pa(a,b){if(!b)return!1;for(;a&&a!==b;){if(sa(a)!==Y(a.parentNode)-1)return!1;a=a.parentNode}return!0}function qa(a,b){return la(a)&&oa(a.node,b)}function ra(a,b){return ma(a)&&pa(a.node,b)}function sa(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function ta(a){return!!(a&&a.childNodes&&a.childNodes.length)}function ua(a,b){var c,d;if(0===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)}else ta(a.node)?(c=a.node.childNodes[a.offset-1],d=Y(c)):(c=a.node,d=b?0:a.offset-1);return{node:c,offset:d}}function va(a,b){var c,d;if(Y(a.node)===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)+1}else ta(a.node)?(c=a.node.childNodes[a.offset],d=0):(c=a.node,d=b?Y(a.node):a.offset+1);return{node:c,offset:d}}function wa(a,b){return a.node===b.node&&a.offset===b.offset}function xa(a){if(K(a.node)||!ta(a.node)||Z(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return b&&!M(b)||c&&!M(c)?!1:!0}function ya(a,b){for(;a;){if(b(a))return a;a=ua(a)}return null}function za(a,b){for(;a;){if(b(a))return a;a=va(a)}return null}function Aa(a){if(!K(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==Bb}function Ba(a,b,c,d){for(var e=a;e&&(c(e),!wa(e,b));){var f=d&&a.node!==e.node&&b.node!==e.node;e=va(e,f)}}function Ca(a,b){var c=ca(b,zb.eq(a));return c.map(sa).reverse()}function Da(a,b){for(var c=a,d=0,e=b.length;e>d;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c}function Ea(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;if(e&&(c=!0),na(a)&&(K(a.node)||d)){if(la(a))return a.node;if(ma(a))return a.node.nextSibling}if(K(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=ja(a.node.cloneNode(!1),a.node);return ka(g,ga(f)),c||(_(a.node),_(g)),e&&(Z(a.node)&&Ja(a.node),Z(g))?(Ja(g),a.node.nextSibling):g}function Fa(a,b,c){var d=ca(b.node,zb.eq(a));return d.length?1===d.length?Ea(b,c):d.reduce(function(a,d){return a===b.node&&(a=Ea(b,c)),Ea({node:d,offset:a?sa(a):Y(d)},c)}):null}function Ga(a,b){var c,d,e=b?N:T,f=ca(a.node,e),g=Ab.last(f)||a.node;e(g)?(c=f[f.length-2],d=g):(c=g,d=c.parentNode);var h=c&&Fa(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}}function Ha(a){return document.createElement(a)}function Ia(a){return document.createTextNode(a)}function Ja(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)d.push(a.childNodes[e]);for(var e=0,f=d.length;f>e;e++)c.insertBefore(d[e],a)}c.removeChild(a)}}function Ka(a,b){for(;a&&!H(a)&&b(a);){var c=a.parentNode;Ja(a),a=c}}function La(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=Ha(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),ka(c,Ab.from(a.childNodes)),ja(c,a),Ja(a),c}function Ma(a,b){var c=Mb(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}function Na(a,b){var c=Ma(a);if(b){var d=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;c=c.replace(d,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),c=c.trim()}return c}function Oa(b){var c=a(b),d=c.offset(),e=c.outerHeight(!0);return{left:d.left,top:d.top+e}}function Pa(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})}function Qa(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})}function Ra(a){return a&&!K(a)&&Ab.contains(a.classList,"note-styletag")}function Sa(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=Ab.from(e.childNodes);for(c=0;c<g.length;c++)if(!Nb.isText(g[c])){if(f.moveToElementText(g[c]),f.compareEndPoints("StartToStart",a)>=0)break;d=g[c]}if(0!==c&&Nb.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue;b&&i.nextSibling&&Nb.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}function Ta(a){var b=function e(a,b){var c,d;if(Nb.isText(a)){var f=Nb.listPrev(a,zb.not(Nb.isText)),g=Ab.last(f).previousSibling;c=g||a.parentNode,b+=Ab.sum(Ab.tail(f),Nb.nodeLength),d=!g}else{if(c=a.childNodes[b]||a,Nb.isText(c))return e(c,0);b=0,d=!1}return{node:c,collapseToStart:d,offset:b}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}function Ua(b){return a.Deferred(function(c){a.extend(new FileReader,{onload:function(a){var b=a.target.result;c.resolve(b)},onerror:function(a){c.reject(a)}}).readAsDataURL(b)}).promise()}function Va(b){return a.Deferred(function(c){var d=a("<img>");d.one("load",function(){d.off("error abort"),c.resolve(d)}).one("error abort",function(){d.off("load").detach(),c.reject(d)}).css({display:"none"}).appendTo(document.body).attr("src",b)}).promise()}a=a&&a.hasOwnProperty("default")?a["default"]:a;var Wa=function(){function b(a,b,c,d){this.markup=a,this.children=b,this.options=c,this.callback=d}return b.prototype.render=function(b){var c=a(this.markup);if(this.options&&this.options.contents&&c.html(this.options.contents),this.options&&this.options.className&&c.addClass(this.options.className),this.options&&this.options.data&&a.each(this.options.data,function(a,b){c.attr("data-"+a,b)}),this.options&&this.options.click&&c.on("click",this.options.click),this.children){var d=c.find(".note-children-container");this.children.forEach(function(a){a.render(d.length?d:c)})}return this.callback&&this.callback(c,this.options),this.options&&this.options.callback&&this.options.callback(c),b&&b.append(c),c},b}(),Xa={create:function(a,b){return function(){var c="object"===d(arguments[1])?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(e=c.children),new Wa(a,e,c,b)}}},Ya=Xa.create('<div class="note-editor note-frame panel panel-default"/>'),Za=Xa.create('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),$a=Xa.create('<div class="note-editing-area"/>'),_a=Xa.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),ab=Xa.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),bb=Xa.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),cb=Xa.create('<div class="note-editor"/>'),db=Xa.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),eb=Xa.create('<div class="note-btn-group btn-group">'),fb=Xa.create('<ul class="dropdown-menu" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",e=b.template?b.template(a):a,f="object"===d(a)?a.option:void 0,g='data-value="'+c+'"',h=void 0!==f?' data-option="'+f+'"':"";return'<li role="listitem" aria-label="'+c+'"><a href="#" '+(g+h)+">"+e+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),gb=function(a,b){return a+" "+mb(b.icons.caret,"span")},hb=Xa.create('<ul class="dropdown-menu note-check" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a;
return'<li role="listitem" aria-label="'+a+'"><a href="#" data-value="'+c+'">'+mb(b.checkClassName)+" "+d+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),ib=Xa.create('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;e>d;d++){for(var f=b.eventName,g=b.colors[d],h=b.colorsName[d],i=[],j=0,k=g.length;k>j;j++){var l=g[j],m=h[j];i.push(['<button type="button" class="note-color-btn"','style="background-color:',l,'" ','data-event="',f,'" ','data-value="',l,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+i.join("")+"</div>")}a.html(c.join("")),b.tooltip&&a.find(".note-color-btn").tooltip({container:b.container,trigger:"hover",placement:"bottom"})}),jb=Xa.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['<div class="modal-dialog">','  <div class="modal-content">',b.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+b.title+"</h4>    </div>":"",'    <div class="modal-body">'+b.body+"</div>",b.footer?'    <div class="modal-footer">'+b.footer+"</div>":"","  </div>","</div>"].join(""))}),kb=Xa.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c="undefined"!=typeof b.direction?b.direction:"bottom";a.addClass(c),b.hideArrow&&a.find(".arrow").hide()}),lb=Xa.create('<div class="checkbox"></div>',function(a,b){a.html(["<label"+(b.id?' for="'+b.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(b.id?' id="'+b.id+'"':""),b.checked?" checked":"",' aria-checked="'+(b.checked?"true":"false")+'"/>',b.text?b.text:"","</label>"].join(""))}),mb=function(a,b){return b=b||"i","<"+b+' class="'+a+'"/>'},nb={editor:Ya,toolbar:Za,editingArea:$a,codable:_a,editable:ab,statusbar:bb,airEditor:cb,airEditable:db,buttonGroup:eb,dropdown:fb,dropdownButtonContents:gb,dropdownCheck:hb,palette:ib,dialog:jb,popover:kb,checkbox:lb,icon:mb,options:{},button:function(b,c){return Xa.create('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(b,c){c&&c.tooltip&&b.attr({title:c.tooltip,"aria-label":c.tooltip}).tooltip({container:void 0!==c.container?c.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(b){a(b.currentTarget).tooltip("hide")})})(b,c)},toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},onDialogShown:function(a,b){a.one("shown.bs.modal",b)},onDialogHidden:function(a,b){a.one("hidden.bs.modal",b)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,b){var c=(b.airMode?nb.airEditor([nb.editingArea([nb.airEditable()])]):nb.editor([nb.toolbar(),nb.editingArea([nb.codable(),nb.editable()]),nb.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.show()}};a.summernote=a.summernote||{lang:{}},a.extend(a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var ob,pb="function"==typeof define&&define.amd,qb=navigator.userAgent,rb=/MSIE|Trident/i.test(qb);if(rb){var sb=/MSIE (\d+[.]\d+)/.exec(qb);sb&&(ob=parseFloat(sb[1])),sb=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(qb),sb&&(ob=parseFloat(sb[1]))}var tb=/Edge\/\d+/.test(qb),ub=!!window.CodeMirror,vb="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,wb=rb||tb?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",xb={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:rb,isEdge:tb,isFF:!tb&&/firefox/i.test(qb),isPhantom:/PhantomJS/i.test(qb),isWebkit:!tb&&/webkit/i.test(qb),isChrome:!tb&&/chrome/i.test(qb),isSafari:!tb&&/safari/i.test(qb),browserVersion:ob,jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:pb,isSupportTouch:vb,hasCodeMirror:ub,isFontInstalled:b,isW3CRangeSupport:!!document.createRange,inputEventName:wb},yb=0,zb={eq:c,eq2:e,peq2:f,ok:g,fail:h,self:k,not:i,and:j,invoke:l,uniqueId:m,rect2bnd:n,invertObject:o,namespaceToCamel:p,debounce:q,isValidUrl:r},Ab={head:s,last:t,initial:u,tail:v,prev:G,next:F,find:w,contains:y,all:x,sum:z,from:A,isEmpty:B,clusterBy:C,compact:D,unique:E},Bb=String.fromCharCode(160),Cb="\ufeff",Db=J("PRE"),Eb=J("LI"),Fb=J("TABLE"),Gb=J("DATA"),Hb=J("HR"),Ib=J("BLOCKQUOTE"),Jb=J("A"),Kb=J("BODY"),Lb=xb.isMSIE&&xb.browserVersion<11?"&nbsp;":"<br>",Mb=J("TEXTAREA"),Nb={NBSP_CHAR:Bb,ZERO_WIDTH_NBSP_CHAR:Cb,blank:Lb,emptyPara:"<p>"+Lb+"</p>",makePredByNodeName:J,isEditable:H,isControlSizing:I,isText:K,isElement:L,isVoid:M,isPara:N,isPurePara:P,isHeading:O,isInline:Q,isBlock:zb.not(Q),isBodyInline:V,isBody:Kb,isParaInline:U,isPre:Db,isList:R,isTable:Fb,isData:Gb,isCell:S,isBlockquote:Ib,isBodyContainer:T,isAnchor:Jb,isDiv:J("DIV"),isLi:Eb,isBR:J("BR"),isSpan:J("SPAN"),isB:J("B"),isU:J("U"),isS:J("S"),isI:J("I"),isImg:J("IMG"),isTextarea:Mb,isEmpty:Z,isEmptyAnchor:zb.and(Jb,Z),isClosestSibling:W,withClosestSiblings:X,nodeLength:Y,isLeftEdgePoint:la,isRightEdgePoint:ma,isEdgePoint:na,isLeftEdgeOf:oa,isRightEdgeOf:pa,isLeftEdgePointOf:qa,isRightEdgePointOf:ra,prevPoint:ua,nextPoint:va,isSamePoint:wa,isVisiblePoint:xa,prevPointUntil:ya,nextPointUntil:za,isCharPoint:Aa,walkPoint:Ba,ancestor:aa,singleChildAncestor:ba,listAncestor:ca,lastAncestor:da,listNext:ga,listPrev:fa,listDescendant:ha,commonAncestor:ea,wrap:ia,insertAfter:ja,appendChildNodes:ka,position:sa,hasChildren:ta,makeOffsetPath:Ca,fromOffsetPath:Da,splitTree:Fa,splitPoint:Ga,create:Ha,createText:Ia,remove:Ja,removeWhile:Ka,replace:La,html:Na,value:Ma,posFromPlaceholder:Oa,attachEvents:Pa,detachEvents:Qa,isCustomStyleTag:Ra},Ob=function(){function b(b,c){this.ui=a.summernote.ui,this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=c,this.initialize()}return b.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},b.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},b.prototype.reset=function(){var a=this.isDisabled();this.code(Nb.emptyPara),this._destroy(),this._initialize(),a&&this.disable()},b.prototype._initialize=function(){var b=this,c=a.extend({},this.options.buttons);Object.keys(c).forEach(function(a){b.memo("button."+a,c[a])});var d=a.extend({},this.options.modules,a.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)}),Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})},b.prototype._destroy=function(){var a=this;Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),this.triggerEvent("destroy",this)},b.prototype.code=function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.layoutInfo.codable.val(a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)},b.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},b.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},b.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},b.prototype.triggerEvent=function(){var a=Ab.head(arguments),b=Ab.tail(Ab.from(arguments)),c=this.options.callbacks[zb.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)},b.prototype.initializeModule=function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||zb.ok,b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&Nb.attachEvents(this.$note,b.events))},b.prototype.module=function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))},b.prototype.removeModule=function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&Nb.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]},b.prototype.memo=function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)},b.prototype.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},b.prototype.createInvokeHandlerAndUpdateState=function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}},b.prototype.createInvokeHandler=function(b,c){var d=this;return function(e){e.preventDefault();var f=a(e.target);d.invoke(b,c||f.closest("[data-value]").data("value"),f)}},b.prototype.invoke=function(){var a=Ab.head(arguments),b=Ab.tail(Ab.from(arguments)),c=a.split("."),d=c.length>1,e=d&&Ab.head(c),f=d?Ab.last(c):Ab.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},b}();a.fn.extend({summernote:function(){var b=a.type(Ab.head(arguments)),c="string"===b,d="object"===b,e=a.extend({},a.summernote.options,d?Ab.head(arguments):{});e.langInfo=a.extend(!0,{},a.summernote.lang["en-US"],a.summernote.lang[e.lang]),e.icons=a.extend(!0,{},a.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!xb.isSupportTouch:e.tooltip,this.each(function(b,c){var d=a(c);if(!d.data("summernote")){var f=new Ob(d,e);d.data("summernote",f),d.data("summernote").triggerEvent("init",f.layoutInfo)}});var f=this.first();if(f.length){var g=f.data("summernote");if(c)return g.invoke.apply(g,Ab.from(arguments));e.focus&&g.invoke("editor.focus")}return this}});var Pb=function(){function b(a,b,c,d){this.sc=a,this.so=b,this.ec=c,this.eo=d,this.isOnEditable=this.makeIsOn(Nb.isEditable),this.isOnList=this.makeIsOn(Nb.isList),this.isOnAnchor=this.makeIsOn(Nb.isAnchor),this.isOnCell=this.makeIsOn(Nb.isCell),this.isOnData=this.makeIsOn(Nb.isData)}return b.prototype.nativeRange=function(){if(xb.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),a.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),a}var b=Ta({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",Ta({node:this.ec,offset:this.eo})),b},b.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},b.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},b.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},b.prototype.select=function(){var a=this.nativeRange();if(xb.isW3CRangeSupport){var b=document.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},b.prototype.scrollIntoView=function(b){var c=a(b).height();return b.scrollTop+c<this.sc.offsetTop&&(b.scrollTop+=Math.abs(b.scrollTop+c-this.sc.offsetTop)),this},b.prototype.normalize=function(){var a=function(a,b){if(Nb.isVisiblePoint(a)&&(!Nb.isEdgePoint(a)||Nb.isRightEdgePoint(a)&&!b||Nb.isLeftEdgePoint(a)&&b||Nb.isRightEdgePoint(a)&&b&&Nb.isVoid(a.node.nextSibling)||Nb.isLeftEdgePoint(a)&&!b&&Nb.isVoid(a.node.previousSibling)||Nb.isBlock(a.node)&&Nb.isEmpty(a.node)))return a;var c=Nb.ancestor(a.node,Nb.isBlock);if((Nb.isLeftEdgePointOf(a,c)||Nb.isVoid(Nb.prevPoint(a).node))&&!b||(Nb.isRightEdgePointOf(a,c)||Nb.isVoid(Nb.nextPoint(a).node))&&b){if(Nb.isVisiblePoint(a))return a;b=!b}var d=b?Nb.nextPointUntil(Nb.nextPoint(a),Nb.isVisiblePoint):Nb.prevPointUntil(Nb.prevPoint(a),Nb.isVisiblePoint);return d||a},c=a(this.getEndPoint(),!1),d=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(d.node,d.offset,c.node,c.offset)},b.prototype.nodes=function(a,b){a=a||zb.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return Nb.walkPoint(e,f,function(b){if(!Nb.isEditable(b.node)){var e;d?(Nb.isLeftEdgePoint(b)&&h.push(b.node),Nb.isRightEdgePoint(b)&&Ab.contains(h,b.node)&&(e=b.node)):e=c?Nb.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e)}},!0),Ab.unique(g)},b.prototype.commonAncestor=function(){return Nb.commonAncestor(this.sc,this.ec)},b.prototype.expand=function(a){var c=Nb.ancestor(this.sc,a),d=Nb.ancestor(this.ec,a);if(!c&&!d)return new b(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=Nb.nodeLength(d)),new b(e.sc,e.so,e.ec,e.eo)},b.prototype.collapse=function(a){return a?new b(this.sc,this.so,this.sc,this.so):new b(this.ec,this.eo,this.ec,this.eo)},b.prototype.splitText=function(){var a=this.sc===this.ec,c=this.getPoints();return Nb.isText(this.ec)&&!Nb.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Nb.isText(this.sc)&&!Nb.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,a&&(c.ec=c.sc,c.eo=this.eo-this.so)),new b(c.sc,c.so,c.ec,c.eo)},b.prototype.deleteContents=function(){if(this.isCollapsed())return this;var c=this.splitText(),d=c.nodes(null,{fullyContains:!0}),e=Nb.prevPointUntil(c.getStartPoint(),function(a){return!Ab.contains(d,a.node)}),f=[];return a.each(d,function(a,b){var c=b.parentNode;e.node!==c&&1===Nb.nodeLength(c)&&f.push(c),Nb.remove(b,!1)}),a.each(f,function(a,b){Nb.remove(b,!1)}),new b(e.node,e.offset,e.node,e.offset).normalize()},b.prototype.makeIsOn=function(a){return function(){var b=Nb.ancestor(this.sc,a);return!!b&&b===Nb.ancestor(this.ec,a)}},b.prototype.isLeftEdgeOf=function(a){if(!Nb.isLeftEdgePoint(this.getStartPoint()))return!1;var b=Nb.ancestor(this.sc,a);return b&&Nb.isLeftEdgeOf(this.sc,b)},b.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},b.prototype.wrapBodyInlineWithPara=function(){if(Nb.isBodyContainer(this.sc)&&Nb.isEmpty(this.sc))return this.sc.innerHTML=Nb.emptyPara,new b(this.sc.firstChild,0,this.sc.firstChild,0);var a=this.normalize();if(Nb.isParaInline(this.sc)||Nb.isPara(this.sc))return a;var c;if(Nb.isInline(a.sc)){var d=Nb.listAncestor(a.sc,zb.not(Nb.isInline));c=Ab.last(d),Nb.isInline(c)||(c=d[d.length-2]||a.sc.childNodes[a.so])}else c=a.sc.childNodes[a.so>0?a.so-1:0];var e=Nb.listPrev(c,Nb.isParaInline).reverse();if(e=e.concat(Nb.listNext(c.nextSibling,Nb.isParaInline)),e.length){var f=Nb.wrap(Ab.head(e),"p");Nb.appendChildNodes(f,Ab.tail(e))}return this.normalize()},b.prototype.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=Nb.splitPoint(b.getStartPoint(),Nb.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},b.prototype.pasteHTML=function(b){var c=a("<div></div>").html(b)[0],d=Ab.from(c.childNodes),e=this.wrapBodyInlineWithPara().deleteContents();return e.so>0&&(d=d.reverse()),d=d.map(function(a){return e.insertNode(a)}),e.so>0&&(d=d.reverse()),d},b.prototype.toString=function(){var a=this.nativeRange();return xb.isW3CRangeSupport?a.toString():a.text},b.prototype.getWordRange=function(a){var c=this.getEndPoint();if(!Nb.isCharPoint(c))return this;var d=Nb.prevPointUntil(c,function(a){return!Nb.isCharPoint(a)});return a&&(c=Nb.nextPointUntil(c,function(a){return!Nb.isCharPoint(a)})),new b(d.node,d.offset,c.node,c.offset)},b.prototype.bookmark=function(a){return{s:{path:Nb.makeOffsetPath(a,this.sc),offset:this.so},e:{path:Nb.makeOffsetPath(a,this.ec),offset:this.eo}}},b.prototype.paraBookmark=function(a){return{s:{path:Ab.tail(Nb.makeOffsetPath(Ab.head(a),this.sc)),offset:this.so},e:{path:Ab.tail(Nb.makeOffsetPath(Ab.last(a),this.ec)),offset:this.eo}}},b.prototype.getClientRects=function(){var a=this.nativeRange();return a.getClientRects()},b}(),Qb={create:function(a,b,c,d){if(4===arguments.length)return new Pb(a,b,c,d);if(2===arguments.length)return c=a,d=b,new Pb(a,b,c,d);var e=this.createFromSelection();return e||1!==arguments.length?e:(e=this.createFromNode(arguments[0]),e.collapse(Nb.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var a,b,c,d;if(xb.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Nb.isBody(e.anchorNode))return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=Sa(i,!0),k=Sa(h,!1);Nb.isText(j.node)&&Nb.isLeftEdgePoint(j)&&Nb.isTextNode(k.node)&&Nb.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new Pb(a,b,c,d)},createFromNode:function(a){var b=a,c=0,d=a,e=Nb.nodeLength(d);return Nb.isVoid(b)&&(c=Nb.listPrev(b).length-1,b=b.parentNode),Nb.isBR(d)?(e=Nb.listPrev(d).length-1,d=d.parentNode):Nb.isVoid(d)&&(e=Nb.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var c=Nb.fromOffsetPath(a,b.s.path),d=b.s.offset,e=Nb.fromOffsetPath(a,b.e.path),f=b.e.offset;return new Pb(c,d,e,f)},createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=Nb.fromOffsetPath(Ab.head(b),a.s.path),f=Nb.fromOffsetPath(Ab.last(b),a.e.path);return new Pb(e,c,f,d)}},Rb={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Sb={isEdit:function(a){return Ab.contains([Rb.BACKSPACE,Rb.TAB,Rb.ENTER,Rb.SPACE,Rb.DELETE],a)},isMove:function(a){return Ab.contains([Rb.LEFT,Rb.UP,Rb.RIGHT,Rb.DOWN],a)},nameFromCode:zb.invertObject(Rb),code:Rb},Tb=function(){function a(a){this.stack=[],this.stackOffset=-1,this.$editable=a,this.editable=a[0]}return a.prototype.makeSnapshot=function(){var a=Qb.create(this.editable),b={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):b}},a.prototype.applySnapshot=function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&Qb.createFromBookmark(this.editable,a.bookmark).select()},a.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},a.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},a.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},a.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},a}(),Ub=function(){function b(){}return b.prototype.jQueryCSS=function(b,c){if(xb.jqueryVersion<1.9){var d={};return a.each(c,function(a,c){d[c]=b.css(c)}),d}return b.css(c)},b.prototype.fromNode=function(a){var b=["font-family","font-size","text-align","list-style-type","line-height"],c=this.jQueryCSS(a,b)||{};return c["font-size"]=parseInt(c["font-size"],10),c},b.prototype.stylePara=function(b,c){a.each(b.nodes(Nb.isPara,{includeAncestor:!0}),function(b,d){a(d).css(c)})},b.prototype.styleNodes=function(b,c){b=b.splitText();var d=c&&c.nodeName||"SPAN",e=!(!c||!c.expandClosestSibling),f=!(!c||!c.onlyPartialContains);if(b.isCollapsed())return[b.insertNode(Nb.create(d))];var g=Nb.makePredByNodeName(d),h=b.nodes(Nb.isText,{fullyContains:!0}).map(function(a){return Nb.singleChildAncestor(a,g)||Nb.wrap(a,d)});if(e){if(f){var i=b.nodes();g=zb.and(g,function(a){return Ab.contains(i,a)})}return h.map(function(b){var c=Nb.withClosestSiblings(b,g),d=Ab.head(c),e=Ab.tail(c);return a.each(e,function(a,b){Nb.appendChildNodes(d,b.childNodes),Nb.remove(b)}),Ab.head(c)})}return h},b.prototype.current=function(b){var c=a(Nb.isElement(b.sc)?b.sc:b.sc.parentNode),d=this.fromNode(c);try{d=a.extend(d,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||d["font-family"]})}catch(e){}if(b.isOnList()){var f=["circle","disc","disc-leading-zero","square"],g=f.indexOf(d["list-style-type"])>-1;d["list-style"]=g?"unordered":"ordered"}else d["list-style"]="none";var h=Nb.ancestor(b.sc,Nb.isPara);if(h&&h.style["line-height"])d["line-height"]=h.style.lineHeight;else{var i=parseInt(d["line-height"],10)/parseInt(d["font-size"],10);d["line-height"]=i.toFixed(1)}return d.anchor=b.isOnAnchor()&&Nb.ancestor(b.sc,Nb.isAnchor),d.ancestors=Nb.listAncestor(b.sc,Nb.isEditable),d.range=b,d},b}(),Vb=function(){function b(){}return b.prototype.insertOrderedList=function(a){this.toggleList("OL",a)},b.prototype.insertUnorderedList=function(a){this.toggleList("UL",a)},b.prototype.indent=function(b){var c=this,d=Qb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Nb.isPara,{includeAncestor:!0}),f=Ab.clusterBy(e,zb.peq2("parentNode"));a.each(f,function(b,d){var e=Ab.head(d);if(Nb.isLi(e)){var f=c.findList(e.previousSibling);f?d.map(function(a){return f.appendChild(a)}):(c.wrapList(d,e.parentNode.nodeName),d.map(function(a){return a.parentNode}).map(function(a){return c.appendToPrevious(a)}))}else a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),d.select()},b.prototype.outdent=function(b){var c=this,d=Qb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Nb.isPara,{includeAncestor:!0}),f=Ab.clusterBy(e,zb.peq2("parentNode"));a.each(f,function(b,d){var e=Ab.head(d);Nb.isLi(e)?c.releaseList([d]):a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return b=parseInt(b,10)||0,b>25?b-25:""})})}),d.select()},b.prototype.toggleList=function(b,c){var d=this,e=Qb.create(c).wrapBodyInlineWithPara(),f=e.nodes(Nb.isPara,{includeAncestor:!0}),g=e.paraBookmark(f),h=Ab.clusterBy(f,zb.peq2("parentNode"));if(Ab.find(f,Nb.isPurePara)){var i=[];a.each(h,function(a,c){i=i.concat(d.wrapList(c,b))}),f=i}else{var j=e.nodes(Nb.isList,{includeAncestor:!0}).filter(function(c){return!a.nodeName(c,b)});j.length?a.each(j,function(a,c){Nb.replace(c,b)}):f=this.releaseList(h,!0)}Qb.createFromParaBookmark(g,f).select()},b.prototype.wrapList=function(a,b){var c=Ab.head(a),d=Ab.last(a),e=Nb.isList(c.previousSibling)&&c.previousSibling,f=Nb.isList(d.nextSibling)&&d.nextSibling,g=e||Nb.insertAfter(Nb.create(b||"UL"),d);return a=a.map(function(a){return Nb.isPurePara(a)?Nb.replace(a,"LI"):a}),Nb.appendChildNodes(g,a),f&&(Nb.appendChildNodes(g,Ab.from(f.childNodes)),Nb.remove(f)),a},b.prototype.releaseList=function(b,c){var d=this,e=[];return a.each(b,function(b,f){var g=Ab.head(f),h=Ab.last(f),i=c?Nb.lastAncestor(g,Nb.isList):g.parentNode,j=i.parentNode;if("LI"===i.parentNode.nodeName)f.map(function(a){var b=d.findNextSiblings(a);j.nextSibling?j.parentNode.insertBefore(a,j.nextSibling):j.parentNode.appendChild(a),b.length&&(d.wrapList(b,i.nodeName),a.appendChild(b[0].parentNode))}),0===i.children.length&&j.removeChild(i),0===j.childNodes.length&&j.parentNode.removeChild(j);else{var k=i.childNodes.length>1?Nb.splitTree(i,{node:h.parentNode,offset:Nb.position(h)+1},{isSkipPaddingBlankHTML:!0}):null,l=Nb.splitTree(i,{node:g.parentNode,offset:Nb.position(g)},{isSkipPaddingBlankHTML:!0});f=c?Nb.listDescendant(l,Nb.isLi):Ab.from(l.childNodes).filter(Nb.isLi),(c||!Nb.isList(i.parentNode))&&(f=f.map(function(a){return Nb.replace(a,"P")})),a.each(Ab.from(f).reverse(),function(a,b){Nb.insertAfter(b,i)});var m=Ab.compact([i,l,k]);a.each(m,function(b,c){var d=[c].concat(Nb.listDescendant(c,Nb.isList));a.each(d.reverse(),function(a,b){Nb.nodeLength(b)||Nb.remove(b,!0)})})}e=e.concat(f)}),e},b.prototype.appendToPrevious=function(a){return a.previousSibling?Nb.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")},b.prototype.findList=function(a){return a?Ab.find(a.children,function(a){return["OL","UL"].indexOf(a.nodeName)>-1}):null},b.prototype.findNextSiblings=function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b},b}(),Wb=function(){function b(a){this.bullet=new Vb,this.options=a.options}return b.prototype.insertTab=function(a,b){var c=Nb.createText(new Array(b+1).join(Nb.NBSP_CHAR));a=a.deleteContents(),a.insertNode(c,!0),a=Qb.create(c,b),a.select()},b.prototype.insertParagraph=function(b,c){c=c||Qb.create(b),c=c.deleteContents(),c=c.wrapBodyInlineWithPara();var d,e=Nb.ancestor(c.sc,Nb.isPara);if(e){if(Nb.isEmpty(e)&&Nb.isLi(e))return void this.bullet.toggleList(e.parentNode.nodeName);var f=null;if(1===this.options.blockquoteBreakingLevel?f=Nb.ancestor(e,Nb.isBlockquote):2===this.options.blockquoteBreakingLevel&&(f=Nb.lastAncestor(e,Nb.isBlockquote)),f){d=a(Nb.emptyPara)[0],Nb.isRightEdgePoint(c.getStartPoint())&&Nb.isBR(c.sc.nextSibling)&&a(c.sc.nextSibling).remove();var g=Nb.splitTree(f,c.getStartPoint(),{isDiscardEmptySplits:!0});g?g.parentNode.insertBefore(d,g):Nb.insertAfter(d,f)}else{d=Nb.splitTree(e,c.getStartPoint());var h=Nb.listDescendant(e,Nb.isEmptyAnchor);h=h.concat(Nb.listDescendant(d,Nb.isEmptyAnchor)),a.each(h,function(a,b){Nb.remove(b)}),(Nb.isHeading(d)||Nb.isPre(d)||Nb.isCustomStyleTag(d))&&Nb.isEmpty(d)&&(d=Nb.replace(d,"p"))}}else{var i=c.sc.childNodes[c.so];d=a(Nb.emptyPara)[0],i?c.sc.insertBefore(d,i):c.sc.appendChild(d)}Qb.create(d,0).normalize().select().scrollIntoView(b)},b}(),Xb=function Ac(a,b,c,d){function e(){return!a||!a.tagName||"td"!==a.tagName.toLowerCase()&&"th"!==a.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",a):(o.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()?void(o.rowPos=a.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",a))}function f(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};p[a]||(p[a]=[]),p[a][b]=h}function g(a,b,c,d){return{baseCell:a.baseCell,action:b,virtualTable:{rowIndex:c,cellIndex:d}}}function h(a,b){if(!p[a])return b;if(!p[a][b])return b;for(var c=b;p[a][c];)if(c++,!p[a][c])return c}function i(a,b){var c=h(a.rowIndex,b.cellIndex),d=b.colSpan>1,e=b.rowSpan>1,g=a.rowIndex===o.rowPos&&b.cellIndex===o.colPos;f(a.rowIndex,c,a,b,e,d,!1);var i=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(i>1)for(var k=1;i>k;k++){var l=a.rowIndex+k;j(l,c,b,g),f(l,c,a,b,!0,d,!0)}var m=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(m>1)for(var n=1;m>n;n++){var p=h(a.rowIndex,c+n);j(a.rowIndex,p,b,g),f(a.rowIndex,p,a,b,e,!0,!0)}}function j(a,b,c,d){a===o.rowPos&&o.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&o.colPos++}function k(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)i(a[b],c[e])}function l(a){switch(b){case Ac.where.Column:if(a.isColSpan)return Ac.resultAction.SubtractSpanCount;break;case Ac.where.Row:if(!a.isVirtual&&a.isRowSpan)return Ac.resultAction.AddCell;if(a.isRowSpan)return Ac.resultAction.SubtractSpanCount}return Ac.resultAction.RemoveCell}function m(a){switch(b){case Ac.where.Column:if(a.isColSpan)return Ac.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return Ac.resultAction.Ignore;break;case Ac.where.Row:if(a.isRowSpan)return Ac.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return Ac.resultAction.Ignore}return Ac.resultAction.AddCell}function n(){e(),k()}var o={colPos:0,rowPos:0},p=[],q=[];this.getActionList=function(){
for(var a=b===Ac.where.Row?o.rowPos:-1,d=b===Ac.where.Column?o.colPos:-1,e=0,f=!0;f;){var h=a>=0?a:e,i=d>=0?d:e,j=p[h];if(!j)return f=!1,q;var k=j[i];if(!k)return f=!1,q;var n=Ac.resultAction.Ignore;switch(c){case Ac.requestAction.Add:n=m(k);break;case Ac.requestAction.Delete:n=l(k)}q.push(g(k,n,h,i)),e++}return q},n()};Xb.where={Row:0,Column:1},Xb.requestAction={Add:0,Delete:1},Xb.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Yb,Zb=function(){function b(){}return b.prototype.tab=function(a,b){var c=Nb.ancestor(a.commonAncestor(),Nb.isCell),d=Nb.ancestor(c,Nb.isTable),e=Nb.listDescendant(d,Nb.isCell),f=Ab[b?"prev":"next"](e,c);f&&Qb.create(f,0).select()},b.prototype.addRow=function(b,c){for(var d=Nb.ancestor(b.commonAncestor(),Nb.isCell),e=a(d).closest("tr"),f=this.recoverAttributes(e),g=a("<tr"+f+"></tr>"),h=new Xb(d,Xb.where.Row,Xb.requestAction.Add,a(e).closest("table")[0]),i=h.getActionList(),j=0;j<i.length;j++){var k=i[j],l=this.recoverAttributes(k.baseCell);switch(k.action){case Xb.resultAction.AddCell:g.append("<td"+l+">"+Nb.blank+"</td>");break;case Xb.resultAction.SumSpanCount:if("top"===c){var m=k.baseCell.parent,n=(m?k.baseCell.closest("tr").rowIndex:0)<=e[0].rowIndex;if(n){var o=a("<div></div>").append(a("<td"+l+">"+Nb.blank+"</td>").removeAttr("rowspan")).html();g.append(o);break}}var p=parseInt(k.baseCell.rowSpan,10);p++,k.baseCell.setAttribute("rowSpan",p)}}if("top"===c)e.before(g);else{var q=d.rowSpan>1;if(q){var r=e[0].rowIndex+(d.rowSpan-2);return void a(a(e).parent().find("tr")[r]).after(a(g))}e.after(g)}},b.prototype.addCol=function(b,c){var d=Nb.ancestor(b.commonAncestor(),Nb.isCell),e=a(d).closest("tr"),f=a(e).siblings();f.push(e);for(var g=new Xb(d,Xb.where.Column,Xb.requestAction.Add,a(e).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++){var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case Xb.resultAction.AddCell:"right"===c?a(j.baseCell).after("<td"+k+">"+Nb.blank+"</td>"):a(j.baseCell).before("<td"+k+">"+Nb.blank+"</td>");break;case Xb.resultAction.SumSpanCount:if("right"===c){var l=parseInt(j.baseCell.colSpan,10);l++,j.baseCell.setAttribute("colSpan",l)}else a(j.baseCell).before("<td"+k+">"+Nb.blank+"</td>")}}},b.prototype.recoverAttributes=function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b},b.prototype.deleteRow=function(b){for(var c=Nb.ancestor(b.commonAncestor(),Nb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=d[0].rowIndex,g=new Xb(c,Xb.where.Row,Xb.requestAction.Delete,a(d).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++)if(h[i]){var j=h[i].baseCell,k=h[i].virtualTable,l=j.rowSpan&&j.rowSpan>1,m=l?parseInt(j.rowSpan,10):0;switch(h[i].action){case Xb.resultAction.Ignore:continue;case Xb.resultAction.AddCell:var n=d.next("tr")[0];if(!n)continue;var o=d[0].cells[e];l&&(m>2?(m--,n.insertBefore(o,n.cells[e]),n.cells[e].setAttribute("rowSpan",m),n.cells[e].innerHTML=""):2===m&&(n.insertBefore(o,n.cells[e]),n.cells[e].removeAttribute("rowSpan"),n.cells[e].innerHTML=""));continue;case Xb.resultAction.SubtractSpanCount:l&&(m>2?(m--,j.setAttribute("rowSpan",m),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")):2===m&&(j.removeAttribute("rowSpan"),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")));continue;case Xb.resultAction.RemoveCell:continue}}d.remove()},b.prototype.deleteCol=function(b){for(var c=Nb.ancestor(b.commonAncestor(),Nb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=new Xb(c,Xb.where.Column,Xb.requestAction.Delete,a(d).closest("table")[0]),g=f.getActionList(),h=0;h<g.length;h++)if(g[h])switch(g[h].action){case Xb.resultAction.Ignore:continue;case Xb.resultAction.SubtractSpanCount:var i=g[h].baseCell,j=i.colSpan&&i.colSpan>1;if(j){var k=i.colSpan?parseInt(i.colSpan,10):0;k>2?(k--,i.setAttribute("colSpan",k),i.cellIndex===e&&(i.innerHTML="")):2===k&&(i.removeAttribute("colSpan"),i.cellIndex===e&&(i.innerHTML=""))}continue;case Xb.resultAction.RemoveCell:Nb.remove(g[h].baseCell,!0);continue}},b.prototype.createTable=function(b,c,d){for(var e,f=[],g=0;b>g;g++)f.push("<td>"+Nb.blank+"</td>");e=f.join("");for(var h,i=[],j=0;c>j;j++)i.push("<tr>"+e+"</tr>");h=i.join("");var k=a("<table>"+h+"</table>");return d&&d.tableClassName&&k.addClass(d.tableClassName),k[0]},b.prototype.deleteTable=function(b){var c=Nb.ancestor(b.commonAncestor(),Nb.isCell);a(c).closest("table").remove()},b}(),$b="bogus",_b=function(){function b(b){var c=this;this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ub,this.table=new Zb,this.typing=new Wb(b),this.bullet=new Vb,this.history=new Tb(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;f>e;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family","'"+a+"'")}),this.fontSize=this.wrapCommand(function(a){return c.fontStyling("font-size",a+"px")});for(var e=1;6>=e;e++)this["formatH"+e]=function(a){return function(){c.formatBlock("H"+a)}}(e),this.context.memo("help.formatH"+e,this.lang.help["formatH"+e]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(b){if(!c.isLimited(a(b).text().length)){var d=c.getLastRange();d.insertNode(b),Qb.createFromNodeAfter(b).select(),c.setLastRange()}}),this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange(),d=b.insertNode(Nb.createText(a));Qb.create(d,Nb.nodeLength(d)).select(),c.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);Qb.createFromNodeAfter(Ab.last(b)).select(),c.setLastRange()}}),this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode(Nb.create("HR"));a.nextSibling&&(Qb.create(a.nextSibling,0).normalize().select(),c.setLastRange())}),this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),this.createLink=this.wrapCommand(function(b){var d=b.url,e=b.text,f=b.isNewWindow,g=b.range||c.getLastRange(),h=e.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==e;"string"==typeof d&&(d=d.trim()),d=c.options.onCreateLink?c.options.onCreateLink(d):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(d)?d:"http://"+d;var j=[];if(i){g=g.deleteContents();var k=g.insertNode(a("<A>"+e+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(j,function(b,c){a(c).attr("href",d),f?a(c).attr("target","_blank"):a(c).removeAttr("target")});var l=Qb.createFromNodeBefore(Ab.head(j)),m=l.getStartPoint(),n=Qb.createFromNodeAfter(Ab.last(j)),o=n.getEndPoint();Qb.create(m.node,m.offset,o.node,o.offset).select(),c.setLastRange()}}),this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.foreColor=this.wrapCommand(function(a){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x"),d=c.getLastRange().deleteContents();d.insertNode(c.table.createTable(b[0],b[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var b=a(c.restoreTarget()).parent();b.parent("figure").length?b.parent("figure").remove():b=a(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",b,c.$editable)}),this.floatMe=this.wrapCommand(function(b){var d=a(c.restoreTarget());d.toggleClass("note-float-left","left"===b),d.toggleClass("note-float-right","right"===b),d.css("float","none"===b?"":b)}),this.resize=this.wrapCommand(function(b){var d=a(c.restoreTarget());b=parseFloat(b),0===b?d.css("width",""):d.css({width:100*b+"%",height:""})})}return b.prototype.initialize=function(){var a=this;this.$editable.on("keydown",function(b){return b.keyCode===Sb.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),b.isDefaultPrevented()||(a.options.shortcuts?a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)?!1:void 0}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Nb.html(this.$note)||Nb.emptyPara),this.$editable.on(xb.inputEventName,zb.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editor.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},b.prototype.destroy=function(){this.$editable.off()},b.prototype.handleKeyMap=function(a){var b=this.options.keyMap[xb.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=Sb.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];e?this.context.invoke(e)!==!1&&a.preventDefault():Sb.isEdit(a.keyCode)&&this.afterCommand()},b.prototype.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&Ab.contains([66,73,85],a.keyCode)&&a.preventDefault()},b.prototype.isLimited=function(a,b){return a=a||0,"undefined"!=typeof b&&(Sb.isMove(b.keyCode)||b.ctrlKey||b.metaKey||Ab.contains([Sb.code.BACKSPACE,Sb.code.DELETE],b.keyCode))?!1:this.options.maxTextLength>0&&this.$editable.text().length+a>=this.options.maxTextLength?!0:!1},b.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},b.prototype.setLastRange=function(){this.lastRange=Qb.create(this.editable)},b.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},b.prototype.saveRange=function(a){a&&this.getLastRange().collapse().select()},b.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},b.prototype.saveTarget=function(a){this.$editable.data("target",a)},b.prototype.clearTarget=function(){this.$editable.removeData("target")},b.prototype.restoreTarget=function(){return this.$editable.data("target")},b.prototype.currentStyle=function(){var a=Qb.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)},b.prototype.styleFromNode=function(a){return this.style.fromNode(a)},b.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},b.prototype.afterCommand=function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.tab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}},b.prototype.untab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1},b.prototype.wrapCommand=function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}},b.prototype.insertImage=function(a,b){var c=this;return Va(a,b).then(function(a){c.beforeCommand(),"function"==typeof b?b(a):("string"==typeof b&&a.attr("data-filename",b),a.css("width",Math.min(c.$editable.width(),a.width()))),a.show(),Qb.create(c.editable).insertNode(a[0]),Qb.createFromNodeAfter(a[0]).select(),c.setLastRange(),c.afterCommand()}).fail(function(a){c.context.triggerEvent("image.upload.error",a)})},b.prototype.insertImagesAsDataURL=function(b){var c=this;a.each(b,function(a,b){var d=b.name;c.options.maximumImageFileSize&&c.options.maximumImageFileSize<b.size?c.context.triggerEvent("image.upload.error",c.lang.image.maximumFileSizeError):Ua(b).then(function(a){return c.insertImage(a,d)}).fail(function(){c.context.triggerEvent("image.upload.error")})})},b.prototype.insertImagesOrCallback=function(a){var b=this.options.callbacks;b.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)},b.prototype.getSelectedText=function(){var a=this.getLastRange();return a.isOnAnchor()&&(a=Qb.createFromNode(Nb.ancestor(a.sc,Nb.isAnchor))),a.toString()},b.prototype.onFormatBlock=function(b,c){if(document.execCommand("FormatBlock",!1,xb.isMSIE?"<"+b+">":b),c&&c.length&&(c[0].tagName.toUpperCase()!==b.toUpperCase()&&(c=c.find(b)),c&&c.length)){var d=c[0].className||"";if(d){var e=this.createRange(),f=a([e.sc,e.ec]).closest(b);f.addClass(d)}}},b.prototype.formatPara=function(){this.formatBlock("P")},b.prototype.fontStyling=function(b,c){var d=this.getLastRange();if(d){var e=this.style.styleNodes(d);if(a(e).css(b,c),d.isCollapsed()){var f=Ab.head(e);f&&!Nb.nodeLength(f)&&(f.innerHTML=Nb.ZERO_WIDTH_NBSP_CHAR,Qb.createFromNodeAfter(f.firstChild).select(),this.setLastRange(),this.$editable.data($b,f))}}},b.prototype.unlink=function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=Nb.ancestor(a.sc,Nb.isAnchor);a=Qb.createFromNode(b),a.select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},b.prototype.getLinkInfo=function(){var b=this.getLastRange().expand(Nb.isAnchor),c=a(Ab.head(b.nodes(Nb.isAnchor))),d={range:b,text:b.toString(),url:c.length?c.attr("href"):""};return c.length&&(d.isNewWindow="_blank"===c.attr("target")),d},b.prototype.addRow=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())},b.prototype.addCol=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())},b.prototype.deleteRow=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())},b.prototype.deleteCol=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())},b.prototype.deleteTable=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())},b.prototype.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},b.prototype.hasFocus=function(){return this.$editable.is(":focus")},b.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},b.prototype.isEmpty=function(){return Nb.isEmpty(this.$editable[0])||Nb.emptyPara===this.$editable.html()},b.prototype.empty=function(){this.context.invoke("code",Nb.emptyPara)},b.prototype.normalizeContent=function(){this.$editable[0].normalize()},b}(),ac=function(){function a(a){this.context=a,this.$editable=a.layoutInfo.editable}return a.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},a.prototype.pasteByEvent=function(a){var b=a.originalEvent.clipboardData;if(b&&b.items&&b.items.length){var c=b.items.length>1?b.items[1]:Ab.head(b.items);"file"===c.kind&&-1!==c.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[c.getAsFile()]),this.context.invoke("editor.afterCommand")}},a}(),bc=function(){function b(b){this.context=b,this.$eventListener=a(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=a(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return b.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(a){a.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},b.prototype.attachDragAndDropEvent=function(){var b=this,c=a(),d=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(a){var e=b.context.invoke("codeview.isActivated"),f=b.$editor.width()>0&&b.$editor.height()>0;e||c.length||!f||(b.$editor.addClass("dragover"),b.$dropzone.width(b.$editor.width()),b.$dropzone.height(b.$editor.height()),d.text(b.lang.image.dragImageHere)),c=c.add(a.target)},this.documentEventHandlers.onDragleave=function(a){c=c.not(a.target),c.length||b.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){c=a(),b.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){b.$dropzone.addClass("hover"),d.text(b.lang.image.dropImage)}).on("dragleave",function(){b.$dropzone.removeClass("hover"),d.text(b.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(c){var d=c.originalEvent.dataTransfer;c.preventDefault(),d&&d.files&&d.files.length?(b.$editable.focus(),b.context.invoke("editor.insertImagesOrCallback",d.files)):a.each(d.types,function(c,e){var f=d.getData(e);e.toLowerCase().indexOf("text")>-1?b.context.invoke("editor.pasteHTML",f):a(f).each(function(a,c){b.context.invoke("editor.insertNode",c)})})}).on("dragover",!1)},b.prototype.destroy=function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}},b}();xb.hasCodeMirror&&(Yb=window.CodeMirror);var cc=function(){function a(a){this.context=a,this.$editor=a.layoutInfo.editor,this.$editable=a.layoutInfo.editable,this.$codable=a.layoutInfo.codable,this.options=a.options}return a.prototype.sync=function(){var a=this.isActivated();a&&xb.hasCodeMirror&&this.$codable.data("cmEditor").save()},a.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},a.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},a.prototype.purify=function(a){if(this.options.codeviewFilter&&(a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";for(var c=0,d=b;c<d.length;c++){var e=d[c];if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}return""})}return a},a.prototype.activate=function(){var a=this;if(this.$codable.val(Nb.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),xb.hasCodeMirror){var b=Yb.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var c=new Yb.TernServer(this.options.codemirror.tern);b.ternServer=c,b.on("cursorActivity",function(a){c.updateArgHints(a)})}b.on("blur",function(c){a.context.triggerEvent("blur.codeview",b.getValue(),c)}),b.on("change",function(c){a.context.triggerEvent("change.codeview",b.getValue(),b)}),b.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",b)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(b){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})},a.prototype.deactivate=function(){if(xb.hasCodeMirror){var a=this.$codable.data("cmEditor");this.$codable.val(a.getValue()),a.toTextArea()}var b=this.purify(Nb.value(this.$codable,this.options.prettifyHtml)||Nb.emptyPara),c=this.$editable.html()!==b;this.$editable.html(b),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),c&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},a.prototype.destroy=function(){this.isActivated()&&this.deactivate()},a}(),dc=24,ec=function(){function b(b){this.$document=a(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return b.prototype.initialize=function(){var a=this;return this.options.airMode||this.options.disableResizeEditor?void this.destroy():void this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function(b){var d=b.clientY-(c+dc);d=a.options.minheight>0?Math.max(d,a.options.minheight):d,d=a.options.maxHeight>0?Math.min(d,a.options.maxHeight):d,a.$editable.height(d)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})},b.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},b}(),fc=function(){function b(b){var c=this;this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=a(window),this.$scrollbar=a("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return b.prototype.resizeTo=function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)},b.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},b.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},b}(),gc=function(){function b(b){var c=this;this.context=b,this.$document=a(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return b.prototype.initialize=function(){var b=this;this.$handle=a(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(a){if(Nb.isControlSizing(a.target)){a.preventDefault(),a.stopPropagation();var c=b.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=b.$document.scrollTop(),f=function(a){b.context.invoke("editor.resizeTo",{x:a.clientX-d.left,y:a.clientY-(d.top-e)},c,!a.shiftKey),b.update(c[0])};b.$document.on("mousemove",f).one("mouseup",function(a){a.preventDefault(),b.$document.off("mousemove",f),b.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(a){a.preventDefault(),b.update()})},b.prototype.destroy=function(){this.$handle.remove()},b.prototype.update=function(b,c){if(this.context.isDisabled())return!1;var d=Nb.isImg(b),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",b,c),d){var f=a(b),g=f.position(),h={left:g.left+parseInt(f.css("marginLeft"),10),top:g.top+parseInt(f.css("marginTop"),10)},i={w:f.outerWidth(!1),h:f.outerHeight(!1)};e.css({display:"block",left:h.left,top:h.top,width:i.w,height:i.h}).data("target",f);var j=new Image;j.src=f.attr("src");var k=i.w+"x"+i.h+" ("+this.lang.image.original+": "+j.width+"x"+j.height+")";e.find(".note-control-selection-info").text(k),this.context.invoke("editor.saveTarget",b)}else this.hide();return d},b.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},b}(),hc="http://",ic=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,jc=function(){function b(a){var b=this;this.context=a,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return b.prototype.initialize=function(){this.lastWordRange=null},b.prototype.destroy=function(){this.lastWordRange=null},b.prototype.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),c=b.match(ic);if(c&&(c[1]||c[2])){var d=c[1]?b:hc+b,e=a("<a />").html(b).attr("href",d)[0];this.context.options.linkTargetBlank&&a(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}},b.prototype.handleKeydown=function(a){if(Ab.contains([Sb.code.ENTER,Sb.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}},b.prototype.handleKeyup=function(a){Ab.contains([Sb.code.ENTER,Sb.code.SPACE],a.keyCode)&&this.replace()},b}(),kc=function(){function a(a){var b=this;this.$note=a.layoutInfo.note,this.events={"summernote.change":function(){b.$note.val(a.invoke("code"))}}}return a.prototype.shouldInitialize=function(){return Nb.isTextarea(this.$note[0])},a}(),lc=function(){function a(a){var b=this;this.context=a,this.options=a.options.replace||{},this.keys=[Sb.code.ENTER,Sb.code.SPACE,Sb.code.PERIOD,Sb.code.COMMA,Sb.code.SEMICOLON,Sb.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return a.prototype.shouldInitialize=function(){return!!this.options.match},a.prototype.initialize=function(){this.lastWord=null},a.prototype.destroy=function(){this.lastWord=null},a.prototype.replace=function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=Nb.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}},a.prototype.handleKeydown=function(a){if(this.previousKeydownCode&&Ab.contains(this.keys,this.previousKeydownCode))return void(this.previousKeydownCode=a.keyCode);if(Ab.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode},a.prototype.handleKeyup=function(a){Ab.contains(this.keys,a.keyCode)&&this.replace()},a}(),mc=function(){function b(a){var b=this;this.context=a,this.$editingArea=a.layoutInfo.editingArea,this.options=a.options,this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}}}return b.prototype.shouldInitialize=function(){return!!this.options.placeholder},b.prototype.initialize=function(){var b=this;this.$placeholder=a('<div class="note-placeholder">'),this.$placeholder.on("click",function(){b.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},b.prototype.destroy=function(){this.$placeholder.remove()},b.prototype.update=function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)},b}(),nc=function(){function b(b){this.ui=a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,this.invertedKeyMap=zb.invertObject(this.options.keyMap[xb.isMac?"mac":"pc"])}return b.prototype.representShortcut=function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(xb.isMac&&(b=b.replace("CMD","⌘").replace("SHIFT","⇧")),b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+b+")"):""},b.prototype.button=function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)},b.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),
this.addTablePopoverButtons(),this.fontInstalledMap={}},b.prototype.destroy=function(){delete this.fontInstalledMap},b.prototype.isFontInstalled=function(a){return this.fontInstalledMap.hasOwnProperty(a)||(this.fontInstalledMap[a]=xb.isFontInstalled(a)||Ab.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]},b.prototype.isFontDeservedToAdd=function(a){var b=["sans-serif","serif","monospace","cursive","fantasy"];return a=a.toLowerCase(),""!==a&&this.isFontInstalled(a)&&-1===b.indexOf(a)},b.prototype.colorPalette=function(b,c,d,e){var f=this;return this.ui.buttonGroup({className:"note-color "+b,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:c,click:function(b){var c=a(b.currentTarget);d&&e?f.context.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")}):d?f.context.invoke("editor.color",{backColor:c.attr("data-backColor")}):e&&f.context.invoke("editor.color",{foreColor:c.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");d&&(b.css("background-color",f.options.colorButton.backColor),a.attr("data-backColor",f.options.colorButton.backColor)),e?(b.css("color",f.options.colorButton.foreColor),a.attr("data-foreColor",f.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(d?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(e?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(b){b.find(".note-holder").each(function(b,c){var d=a(c);d.append(f.ui.palette({colors:f.options.colors,colorsName:f.options.colorsName,eventName:d.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())});var c=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];b.find(".note-holder-custom").each(function(b,d){var e=a(d);e.append(f.ui.palette({colors:c,colorsName:c,eventName:e.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())}),b.find("input[type=color]").each(function(c,d){a(d).change(function(){var c=b.find("#"+a(this).data("event")).find(".note-color-btn").first(),d=this.value.toUpperCase();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.click()})})},click:function(c){c.stopPropagation();var d=a("."+b),e=a(c.target),g=e.data("event"),h=e.attr("data-value");if("openPalette"===g){var i=d.find("#"+h),j=a(d.find("#"+i.data("event")).find(".note-color-row")[0]),k=j.find(".note-color-btn").last().detach(),l=i.val();k.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),j.prepend(k),i.click()}else if(Ab.contains(["backColor","foreColor"],g)){var m="backColor"===g?"background-color":"color",n=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");n.css(m,h),o.attr("data-"+g,h),f.context.invoke("editor."+g,h)}}})]}).render()},b.prototype.addToolbarButtons=function(){var b=this;this.context.memo("button.style",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.magic),b.options),tooltip:b.lang.style.style,data:{toggle:"dropdown"}}),b.ui.dropdown({className:"dropdown-style",items:b.options.styleTags,title:b.lang.style.style,template:function(a){"string"==typeof a&&(a={tag:a,title:b.lang.style.hasOwnProperty(a)?b.lang.style[a]:a});var c=a.tag,d=a.title,e=a.style?' style="'+a.style+'" ':"",f=a.className?' class="'+a.className+'"':"";return"<"+c+e+f+">"+d+"</"+c+">"},click:b.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var c=function(a,c){var e=d.options.styleTags[a];d.context.memo("button.style."+e,function(){return b.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:b.lang.style[e],click:b.context.createInvokeHandler("editor.formatBlock")}).render()})},d=this,e=0,f=this.options.styleTags.length;f>e;e++)c(e,f);this.context.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.ui.icon(b.options.icons.bold),tooltip:b.lang.font.bold+b.representShortcut("bold"),click:b.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.ui.icon(b.options.icons.italic),tooltip:b.lang.font.italic+b.representShortcut("italic"),click:b.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.ui.icon(b.options.icons.underline),tooltip:b.lang.font.underline+b.representShortcut("underline"),click:b.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return b.button({contents:b.ui.icon(b.options.icons.eraser),tooltip:b.lang.font.clear+b.representShortcut("removeFormat"),click:b.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.ui.icon(b.options.icons.strikethrough),tooltip:b.lang.font.strikethrough+b.representShortcut("strikethrough"),click:b.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.ui.icon(b.options.icons.superscript),tooltip:b.lang.font.superscript,click:b.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.ui.icon(b.options.icons.subscript),tooltip:b.lang.font.subscript,click:b.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var c=b.context.invoke("editor.currentStyle");return a.each(c["font-family"].split(","),function(a,c){c=c.trim().replace(/['"]+/g,""),b.isFontDeservedToAdd(c)&&-1===b.options.fontNames.indexOf(c)&&b.options.fontNames.push(c)}),b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontname"/>',b.options),tooltip:b.lang.font.name,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:b.options.icons.menuCheck,items:b.options.fontNames.filter(b.isFontInstalled.bind(b)),title:b.lang.font.name,template:function(a){return"<span style=\"font-family: '"+a+"'\">"+a+"</span>"},click:b.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',b.options),tooltip:b.lang.font.size,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:b.options.icons.menuCheck,items:b.options.fontSizes,title:b.lang.font.size,click:b.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return b.colorPalette("note-color-all",b.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return b.colorPalette("note-color-fore",b.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return b.colorPalette("note-color-back",b.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return b.button({contents:b.ui.icon(b.options.icons.unorderedlist),tooltip:b.lang.lists.unordered+b.representShortcut("insertUnorderedList"),click:b.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return b.button({contents:b.ui.icon(b.options.icons.orderedlist),tooltip:b.lang.lists.ordered+b.representShortcut("insertOrderedList"),click:b.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),h=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),i=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),j=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),k=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",zb.invoke(g,"render")),this.context.memo("button.justifyCenter",zb.invoke(h,"render")),this.context.memo("button.justifyRight",zb.invoke(i,"render")),this.context.memo("button.justifyFull",zb.invoke(j,"render")),this.context.memo("button.outdent",zb.invoke(k,"render")),this.context.memo("button.indent",zb.invoke(l,"render")),this.context.memo("button.paragraph",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.alignLeft),b.options),tooltip:b.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),b.ui.dropdown([b.ui.buttonGroup({className:"note-align",children:[g,h,i,j]}),b.ui.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),this.context.memo("button.height",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.textHeight),b.options),tooltip:b.lang.font.height,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({items:b.options.lineHeights,checkClassName:b.options.icons.menuCheck,className:"dropdown-line-height",title:b.lang.font.height,click:b.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.table),b.options),tooltip:b.lang.table.table,data:{toggle:"dropdown"}}),b.ui.dropdown({title:b.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(a){var c=a.find(".note-dimension-picker-mousecatcher");c.css({width:b.options.insertTableMaxSize.col+"em",height:b.options.insertTableMaxSize.row+"em"}).mousedown(b.context.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler.bind(b))}}).render()}),this.context.memo("button.link",function(){return b.button({contents:b.ui.icon(b.options.icons.link),tooltip:b.lang.link.link+b.representShortcut("linkDialog.show"),click:b.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return b.button({contents:b.ui.icon(b.options.icons.picture),tooltip:b.lang.image.image,click:b.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return b.button({contents:b.ui.icon(b.options.icons.video),tooltip:b.lang.video.video,click:b.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return b.button({contents:b.ui.icon(b.options.icons.minus),tooltip:b.lang.hr.insert+b.representShortcut("insertHorizontalRule"),click:b.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.ui.icon(b.options.icons.arrowsAlt),tooltip:b.lang.options.fullscreen,click:b.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.ui.icon(b.options.icons.code),tooltip:b.lang.options.codeview,click:b.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return b.button({contents:b.ui.icon(b.options.icons.redo),tooltip:b.lang.history.redo+b.representShortcut("redo"),click:b.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return b.button({contents:b.ui.icon(b.options.icons.undo),tooltip:b.lang.history.undo+b.representShortcut("undo"),click:b.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return b.button({contents:b.ui.icon(b.options.icons.question),tooltip:b.lang.options.help,click:b.context.createInvokeHandler("helpDialog.show")}).render()})},b.prototype.addImagePopoverButtons=function(){var a=this;this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})},b.prototype.addLinkPopoverButtons=function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})},b.prototype.addTablePopoverButtons=function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})},b.prototype.build=function(a,b){for(var c=0,d=b.length;d>c;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;j>i;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k():k)}h.appendTo(a)}},b.prototype.updateCurrentStyle=function(b){var c=this,d=b||this.$toolbar,e=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(d,{".note-btn-bold":function(){return"bold"===e["font-bold"]},".note-btn-italic":function(){return"italic"===e["font-italic"]},".note-btn-underline":function(){return"underline"===e["font-underline"]},".note-btn-subscript":function(){return"subscript"===e["font-subscript"]},".note-btn-superscript":function(){return"superscript"===e["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===e["font-strikethrough"]}}),e["font-family"]){var f=e["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=Ab.find(f,this.isFontInstalled.bind(this));d.find(".dropdown-fontname a").each(function(b,c){var d=a(c),e=d.data("value")+""==g+"";d.toggleClass("checked",e)}),d.find(".note-current-fontname").text(g).css("font-family",g)}if(e["font-size"]){var h=e["font-size"];d.find(".dropdown-fontsize a").each(function(b,c){var d=a(c),e=d.data("value")+""==h+"";d.toggleClass("checked",e)}),d.find(".note-current-fontsize").text(h)}if(e["line-height"]){var i=e["line-height"];d.find(".dropdown-line-height li a").each(function(b,d){var e=a(d).data("value")+""==i+"";c.className=e?"checked":""})}},b.prototype.updateBtnStates=function(b,c){var d=this;a.each(c,function(a,c){d.ui.toggleBtnActive(b.find(a),c())})},b.prototype.tableMoveHandler=function(b){var c,d=18,e=a(b.target.parentNode),f=e.next(),g=e.find(".note-dimension-picker-mousecatcher"),h=e.find(".note-dimension-picker-highlighted"),i=e.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var j=a(b.target).offset();c={x:b.pageX-j.left,y:b.pageY-j.top}}else c={x:b.offsetX,y:b.offsetY};var k={c:Math.ceil(c.x/d)||1,r:Math.ceil(c.y/d)||1};h.css({width:k.c+"em",height:k.r+"em"}),g.data("value",k.c+"x"+k.r),k.c>3&&k.c<this.options.insertTableMaxSize.col&&i.css({width:k.c+1+"em"}),k.r>3&&k.r<this.options.insertTableMaxSize.row&&i.css({height:k.r+1+"em"}),f.html(k.c+" x "+k.r)},b}(),oc=function(){function b(b){this.context=b,this.$window=a(window),this.$document=a(document),this.ui=a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return b.prototype.shouldInitialize=function(){return!this.options.airMode},b.prototype.initialize=function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},b.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},b.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var b=this.$editor.outerHeight(),c=this.$editor.width(),d=this.$toolbar.height(),e=this.$statusbar.height(),f=0;this.options.otherStaticBar&&(f=a(this.options.otherStaticBar).outerHeight());var g=this.$document.scrollTop(),h=this.$editor.offset().top,i=h+b,j=h-f,k=i-f-d-e;!this.isFollowing&&g>j&&k-d>g?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:f,width:c}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(j>g||g>k)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},b.prototype.changeContainer=function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},b.prototype.updateFullscreen=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)},b.prototype.updateCodeview=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()},b.prototype.activate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!0)},b.prototype.deactivate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!1)},b}(),pc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return b.prototype.initialize=function(){var b=this.options.dialogsInBody?this.$body:this.$editor,c=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":a("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),d="btn btn-primary note-btn note-btn-primary note-link-btn",e='<input type="button" href="#" class="'+d+'" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:c,footer:e}).render().appendTo(b)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.toggleLinkBtn=function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())},b.prototype.showLinkDialog=function(b){var c=this;return a.Deferred(function(a){var d=c.$dialog.find(".note-link-text"),e=c.$dialog.find(".note-link-url"),f=c.$dialog.find(".note-link-btn"),g=c.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),!b.url&&zb.isValidUrl(b.text)&&(b.url=b.text),d.on("input paste propertychange",function(){b.text=d.val(),c.toggleLinkBtn(f,d,e)}).val(b.text),e.on("input paste propertychange",function(){b.text||d.val(e.val()),c.toggleLinkBtn(f,d,e)}).val(b.url),xb.isSupportTouch||e.trigger("focus"),c.toggleLinkBtn(f,d,e),c.bindEnterKey(e,f),c.bindEnterKey(d,f);var h=void 0!==b.isNewWindow?b.isNewWindow:c.context.options.linkTargetBlank;g.prop("checked",h),f.one("click",function(f){f.preventDefault(),a.resolve({range:b.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked")}),c.ui.hideDialog(c.$dialog)})}),c.ui.onDialogHidden(c.$dialog,function(){d.off(),e.off(),f.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)}).promise()},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b}(),qc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.link)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){var b=a.find(".popover-content,.note-popover-content");b.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){if(!this.context.invoke("editor.hasFocus"))return void this.hide();var b=this.context.invoke("editor.getLastRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=Nb.ancestor(b.sc,Nb.isAnchor),d=a(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=Nb.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),rc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b="";if(this.options.maximumImageFileSize){var c=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),d=1*(this.options.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";b="<small>"+(this.lang.image.maximumFileSize+" : "+d)+"</small>"}var e=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',b,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),f="btn btn-primary note-btn note-btn-primary note-image-btn",g='<input type="button" href="#" class="'+f+'" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:g}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showImageDialog=function(){var b=this;return a.Deferred(function(a){var c=b.$dialog.find(".note-image-input"),d=b.$dialog.find(".note-image-url"),e=b.$dialog.find(".note-image-btn");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){a.resolve(b.target.files||b.target.value)}).val("")),d.on("input paste propertychange",function(){b.ui.toggleBtn(e,d.val())}).val(""),xb.isSupportTouch||d.trigger("focus"),e.click(function(b){b.preventDefault(),a.resolve(d.val())}),b.bindEnterKey(d,e)}),b.ui.onDialogHidden(b.$dialog,function(){c.off(),d.off(),e.off(),"pending"===a.state()&&a.reject()}),b.ui.showDialog(b.$dialog)})},b}(),sc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.image)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a,b){if(Nb.isImg(a)){var c=Nb.posFromPlaceholder(a),d=Nb.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?b.pageX-20:c.left,top:this.options.popatmouse?b.pageY:Math.min(c.top,d.top)})}else this.hide()},b.prototype.hide=function(){this.$popover.hide();
},b}(),tc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.table)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),xb.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a){if(this.context.isDisabled())return!1;var b=Nb.isCell(a);if(b){var c=Nb.posFromPlaceholder(a);this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b},b.prototype.hide=function(){this.$popover.hide()},b}(),uc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),c="btn btn-primary note-btn note-btn-primary note-video-btn",d='<input type="button" href="#" class="'+c+'" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:d}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.createVideoNode=function(b){var c,d=/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/,e=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/,f=b.match(d),g=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,h=b.match(g),i=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,j=b.match(i),k=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,l=b.match(k),m=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,n=b.match(m),o=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=b.match(o),q=/\/\/v\.qq\.com.*?vid=(.+)/,r=b.match(q),s=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,t=b.match(s),u=/^.+.(mp4|m4v)$/,v=b.match(u),w=/^.+.(ogg|ogv)$/,x=b.match(w),y=/^.+.(webm)$/,z=b.match(y),A=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/,B=b.match(A);if(f&&11===f[1].length){var C=f[1],D=0;if("undefined"!=typeof f[2]){var E=f[2].match(e);if(E)for(var F=[3600,60,1],G=0,H=F.length;H>G;G++)D+="undefined"!=typeof E[G+1]?F[G]*parseInt(E[G+1],10):0}c=a("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+C+(D>0?"?start="+D:"")).attr("width","640").attr("height","360")}else if(h&&h[0].length)c=a("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+h[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(j&&j[0].length)c=a("<iframe>").attr("frameborder",0).attr("src",j[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(l&&l[3].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+l[3]).attr("width","640").attr("height","360");else if(n&&n[2].length)c=a("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+n[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(r&&r[1].length||t&&t[2].length){var I=r&&r[1].length?r[1]:t[2];c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+I+"&amp;auto=0")}else if(v||x||z)c=a("<video controls>").attr("src",b).attr("width","640").attr("height","360");else{if(!B||!B[0].length)return!1;c=a("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(B[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return c.addClass("note-video-clip"),c[0]},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");var c=a.createVideoNode(b);c&&a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showVideoDialog=function(b){var c=this;return a.Deferred(function(a){var b=c.$dialog.find(".note-video-url"),d=c.$dialog.find(".note-video-btn");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),b.on("input paste propertychange",function(){c.ui.toggleBtn(d,b.val())}),xb.isSupportTouch||b.trigger("focus"),d.click(function(c){c.preventDefault(),a.resolve(b.val())}),c.bindEnterKey(b,d)}),c.ui.onDialogHidden(c.$dialog,function(){b.off(),d.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)})},b}(),vc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.createShortcutList=function(){var b=this,c=this.options.keyMap[xb.isMac?"mac":"pc"];return Object.keys(c).map(function(d){var e=c[d],f=a('<div><div class="help-list-item"/></div>');return f.append(a("<label><kbd>"+d+"</kdb></label>").css({width:180,"margin-right":10})).append(a("<span/>").html(b.context.memo("help."+e)||e)),f.html()}).join("")},b.prototype.showHelpDialog=function(){var b=this;return a.Deferred(function(a){b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),a.resolve()}),b.ui.showDialog(b.$dialog)}).promise()},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})},b}(),wc=20,xc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){c.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){c.hide()},"summernote.focusout":function(a,b){xb.isFF||b.relatedTarget&&Nb.ancestor(b.relatedTarget,zb.eq(c.$popover[0]))||c.hide()}}}return b.prototype.shouldInitialize=function(){return this.options.airMode&&!Ab.isEmpty(this.options.popover.air)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content");this.context.invoke("buttons.build",a,this.options.popover.air)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){var a=this.context.invoke("editor.currentStyle");if(a.range&&!a.range.isCollapsed()){var b=Ab.last(a.range.getClientRects());if(b){var c=zb.rect2bnd(b);this.$popover.css({display:"block",left:Math.max(c.left+c.width/2,0)-wc,top:c.top+c.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),yc=5,zc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return this.hints.length>0},b.prototype.initialize=function(){var b=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(c){b.$content.find(".active").removeClass("active"),a(c.currentTarget).addClass("active"),b.replace()})},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},b.prototype.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},b.prototype.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},b.prototype.replace=function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);this.lastWordRange.insertNode(b),Qb.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},b.prototype.nodeFromItem=function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=Nb.createText(d)),d},b.prototype.createItemTemplates=function(b,c){var d=this.hints[b];return c.map(function(c,e){var f=a('<div class="note-hint-item"/>');return f.append(d.template?d.template(c):c+""),f.data({index:b,item:c}),f})},b.prototype.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===Sb.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===Sb.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===Sb.code.DOWN&&(a.preventDefault(),this.moveDown()))},b.prototype.searchKeyword=function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},b.prototype.createGroup=function(b,c){var d=this,e=a('<div class="note-hint-group note-hint-group-'+b+'"/>');return this.searchKeyword(b,c,function(a){a=a||[],a.length&&(e.html(d.createItemTemplates(b,a)),d.show())}),e},b.prototype.handleKeyup=function(a){var b=this;if(!Ab.contains([Sb.code.ENTER,Sb.code.UP,Sb.code.DOWN],a.keyCode)){var c=this.context.invoke("editor.getLastRange").getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var e=zb.rect2bnd(Ab.last(c.getClientRects()));e&&(this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-yc}):this.$popover.css({left:e.left,top:e.top+e.height+yc}))}else this.hide()}},b.prototype.show=function(){this.$popover.show()},b.prototype.hide=function(){this.$popover.hide()},b}();a.summernote=a.extend(a.summernote,{version:"0.8.12",plugins:{},dom:Nb,range:Qb,options:{langInfo:a.summernote.lang["en-US"],modules:{editor:_b,clipboard:ac,dropzone:bc,codeview:cc,statusbar:ec,fullscreen:fc,handle:gc,hintPopover:zc,autoLink:jc,autoSync:kc,autoReplace:lc,placeholder:mc,buttons:nc,toolbar:oc,linkDialog:pc,linkPopover:qc,imageDialog:rc,imagePopover:sc,tablePopover:tc,videoDialog:uc,helpDialog:vc,airPopover:xc},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),a.summernote=a.extend(a.summernote,{ui:nb})})},{jquery:528}],58:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}!function(e,f){"object"===("undefined"==typeof c?"undefined":d(c))&&"undefined"!=typeof b?f(a("jquery")):"function"==typeof define&&define.amd?define(["jquery"],f):(e=e||self,f(e.jQuery))}(void 0,function(a){function b(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",d="200px",e=document.createElement("canvas"),f=e.getContext("2d");f.font=d+" '"+b+"'";var g=f.measureText(c).width;f.font=d+" '"+a+"', '"+b+"'";var h=f.measureText(c).width;return g!==h}function c(a){return function(b){return a===b}}function e(a,b){return a===b}function f(a){return function(b,c){return b[a]===c[a]}}function g(){return!0}function h(){return!1}function i(a){return function(){return!a.apply(a,arguments)}}function j(a,b){return function(c){return a(c)&&b(c)}}function k(a){return a}function l(a,b){return function(){return a[b].apply(a,arguments)}}function m(a){var b=++yb+"";return a?a+b:b}function n(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}}function o(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function p(a,b){return b=b||"",b+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")}function q(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function r(a){var b=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return b.test(a)}function s(a){return a[0]}function t(a){return a[a.length-1]}function u(a){return a.slice(0,a.length-1)}function v(a){return a.slice(1)}function w(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e))return e}}function x(a,b){for(var c=0,d=a.length;d>c;c++)if(!b(a[c]))return!1;return!0}function y(a,b){return a&&a.length&&b?-1!==a.indexOf(b):!1}function z(a,b){return b=b||zb.self,a.reduce(function(a,c){return a+b(c)},0)}function A(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b}function B(a){return!a||!a.length}function C(a,b){if(!a.length)return[];var c=v(a);return c.reduce(function(a,c){var d=t(a);return b(t(d),c)?d[d.length]=c:a[a.length]=[c],a},[[s(a)]])}function D(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b}function E(a){for(var b=[],c=0,d=a.length;d>c;c++)y(b,a[c])||b.push(a[c]);return b}function F(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c+1]}return null}function G(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c-1]}return null}function H(b){return b&&a(b).hasClass("note-editable")}function I(b){return b&&a(b).hasClass("note-control-sizing")}function J(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}function K(a){return a&&3===a.nodeType}function L(a){return a&&1===a.nodeType}function M(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase())}function N(a){return H(a)?!1:a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())}function O(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())}function P(a){return N(a)&&!Eb(a)}function Q(a){return!(T(a)||R(a)||Hb(a)||N(a)||Fb(a)||Ib(a)||Gb(a))}function R(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function S(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function T(a){return S(a)||Ib(a)||H(a)}function U(a){return Q(a)&&!!aa(a,N)}function V(a){return Q(a)&&!aa(a,N)}function W(a,b){return a.nextSibling===b||a.previousSibling===b}function X(a,b){b=b||zb.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c}function Y(a){return K(a)?a.nodeValue.length:a?a.childNodes.length:0}function Z(a){var b=Y(a);return 0===b?!0:K(a)||1!==b||a.innerHTML!==Lb?Ab.all(a.childNodes,K)&&""===a.innerHTML?!0:!1:!0}function _(a){M(a)||Y(a)||(a.innerHTML=Lb)}function aa(a,b){for(;a;){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ba(a,b){for(a=a.parentNode;a&&1===Y(a);){if(b(a))return a;if(H(a))break;a=a.parentNode}return null}function ca(a,b){b=b||zb.fail;var c=[];return aa(a,function(a){return H(a)||c.push(a),b(a)}),c}function da(a,b){var c=ca(a);return Ab.last(c.filter(b))}function ea(a,b){for(var c=ca(a),d=b;d;d=d.parentNode)if(c.indexOf(d)>-1)return d;return null}function fa(a,b){b=b||zb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c}function ga(a,b){b=b||zb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}function ha(a,b){var c=[];return b=b||zb.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;g>f;f++)d(e.childNodes[f])}(a),c}function ia(b,c){var d=b.parentNode,e=a("<"+c+">")[0];return d.insertBefore(e,b),e.appendChild(b),e}function ja(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function ka(b,c){return a.each(c,function(a,c){b.appendChild(c)}),b}function la(a){return 0===a.offset}function ma(a){return a.offset===Y(a.node)}function na(a){return la(a)||ma(a)}function oa(a,b){for(;a&&a!==b;){if(0!==sa(a))return!1;a=a.parentNode}return!0}function pa(a,b){if(!b)return!1;for(;a&&a!==b;){if(sa(a)!==Y(a.parentNode)-1)return!1;a=a.parentNode}return!0}function qa(a,b){return la(a)&&oa(a.node,b)}function ra(a,b){return ma(a)&&pa(a.node,b)}function sa(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function ta(a){return!!(a&&a.childNodes&&a.childNodes.length)}function ua(a,b){var c,d;if(0===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)}else ta(a.node)?(c=a.node.childNodes[a.offset-1],d=Y(c)):(c=a.node,d=b?0:a.offset-1);return{node:c,offset:d}}function va(a,b){var c,d;if(Y(a.node)===a.offset){if(H(a.node))return null;c=a.node.parentNode,d=sa(a.node)+1}else ta(a.node)?(c=a.node.childNodes[a.offset],d=0):(c=a.node,d=b?Y(a.node):a.offset+1);return{node:c,offset:d}}function wa(a,b){return a.node===b.node&&a.offset===b.offset}function xa(a){if(K(a.node)||!ta(a.node)||Z(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return b&&!M(b)||c&&!M(c)?!1:!0}function ya(a,b){for(;a;){if(b(a))return a;a=ua(a)}return null}function za(a,b){for(;a;){if(b(a))return a;a=va(a)}return null}function Aa(a){if(!K(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==Bb}function Ba(a,b,c,d){for(var e=a;e&&(c(e),!wa(e,b));){var f=d&&a.node!==e.node&&b.node!==e.node;e=va(e,f)}}function Ca(a,b){var c=ca(b,zb.eq(a));return c.map(sa).reverse()}function Da(a,b){for(var c=a,d=0,e=b.length;e>d;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c}function Ea(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;if(e&&(c=!0),na(a)&&(K(a.node)||d)){if(la(a))return a.node;if(ma(a))return a.node.nextSibling}if(K(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=ja(a.node.cloneNode(!1),a.node);return ka(g,ga(f)),c||(_(a.node),_(g)),e&&(Z(a.node)&&Ja(a.node),Z(g))?(Ja(g),a.node.nextSibling):g}function Fa(a,b,c){var d=ca(b.node,zb.eq(a));return d.length?1===d.length?Ea(b,c):d.reduce(function(a,d){return a===b.node&&(a=Ea(b,c)),Ea({node:d,offset:a?sa(a):Y(d)},c)}):null}function Ga(a,b){var c,d,e=b?N:T,f=ca(a.node,e),g=Ab.last(f)||a.node;e(g)?(c=f[f.length-2],d=g):(c=g,d=c.parentNode);var h=c&&Fa(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}}function Ha(a){return document.createElement(a)}function Ia(a){return document.createTextNode(a)}function Ja(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)d.push(a.childNodes[e]);for(var e=0,f=d.length;f>e;e++)c.insertBefore(d[e],a)}c.removeChild(a)}}function Ka(a,b){for(;a&&!H(a)&&b(a);){var c=a.parentNode;Ja(a),a=c}}function La(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=Ha(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),ka(c,Ab.from(a.childNodes)),ja(c,a),Ja(a),c}function Ma(a,b){var c=Mb(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}function Na(a,b){var c=Ma(a);if(b){var d=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;c=c.replace(d,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),c=c.trim()}return c}function Oa(b){var c=a(b),d=c.offset(),e=c.outerHeight(!0);return{left:d.left,top:d.top+e}}function Pa(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})}function Qa(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})}function Ra(a){return a&&!K(a)&&Ab.contains(a.classList,"note-styletag")}function Sa(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=Ab.from(e.childNodes);for(c=0;c<g.length;c++)if(!Nb.isText(g[c])){if(f.moveToElementText(g[c]),f.compareEndPoints("StartToStart",a)>=0)break;d=g[c]}if(0!==c&&Nb.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue;b&&i.nextSibling&&Nb.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}function Ta(a){var b=function e(a,b){var c,d;if(Nb.isText(a)){var f=Nb.listPrev(a,zb.not(Nb.isText)),g=Ab.last(f).previousSibling;c=g||a.parentNode,b+=Ab.sum(Ab.tail(f),Nb.nodeLength),d=!g}else{if(c=a.childNodes[b]||a,Nb.isText(c))return e(c,0);b=0,d=!1}return{node:c,collapseToStart:d,offset:b}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}function Ua(b){return a.Deferred(function(c){a.extend(new FileReader,{onload:function(a){var b=a.target.result;c.resolve(b)},onerror:function(a){c.reject(a)}}).readAsDataURL(b)}).promise()}function Va(b){return a.Deferred(function(c){var d=a("<img>");d.one("load",function(){d.off("error abort"),c.resolve(d)}).one("error abort",function(){d.off("load").detach(),c.reject(d)}).css({display:"none"}).appendTo(document.body).attr("src",b)}).promise()}a=a&&a.hasOwnProperty("default")?a["default"]:a;var Wa=function(){function b(a,b,c,d){this.markup=a,this.children=b,this.options=c,this.callback=d}return b.prototype.render=function(b){var c=a(this.markup);if(this.options&&this.options.contents&&c.html(this.options.contents),this.options&&this.options.className&&c.addClass(this.options.className),this.options&&this.options.data&&a.each(this.options.data,function(a,b){c.attr("data-"+a,b)}),this.options&&this.options.click&&c.on("click",this.options.click),this.children){var d=c.find(".note-children-container");this.children.forEach(function(a){a.render(d.length?d:c)})}return this.callback&&this.callback(c,this.options),this.options&&this.options.callback&&this.options.callback(c),b&&b.append(c),c},b}(),Xa={create:function(a,b){return function(){var c="object"===d(arguments[1])?arguments[1]:arguments[0],e=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(e=c.children),new Wa(a,e,c,b)}}},Ya=Xa.create('<div class="note-editor note-frame panel panel-default"/>'),Za=Xa.create('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),$a=Xa.create('<div class="note-editing-area"/>'),_a=Xa.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),ab=Xa.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),bb=Xa.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),cb=Xa.create('<div class="note-editor"/>'),db=Xa.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),eb=Xa.create('<div class="note-btn-group btn-group">'),fb=Xa.create('<ul class="dropdown-menu" role="list">',function(a,b){
var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",e=b.template?b.template(a):a,f="object"===d(a)?a.option:void 0,g='data-value="'+c+'"',h=void 0!==f?' data-option="'+f+'"':"";return'<li role="listitem" aria-label="'+c+'"><a href="#" '+(g+h)+">"+e+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),gb=function(a,b){return a+" "+mb(b.icons.caret,"span")},hb=Xa.create('<ul class="dropdown-menu note-check" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a;return'<li role="listitem" aria-label="'+a+'"><a href="#" data-value="'+c+'">'+mb(b.checkClassName)+" "+d+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),ib=Xa.create('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;e>d;d++){for(var f=b.eventName,g=b.colors[d],h=b.colorsName[d],i=[],j=0,k=g.length;k>j;j++){var l=g[j],m=h[j];i.push(['<button type="button" class="note-color-btn"','style="background-color:',l,'" ','data-event="',f,'" ','data-value="',l,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+i.join("")+"</div>")}a.html(c.join("")),b.tooltip&&a.find(".note-color-btn").tooltip({container:b.container,trigger:"hover",placement:"bottom"})}),jb=Xa.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['<div class="modal-dialog">','  <div class="modal-content">',b.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+b.title+"</h4>    </div>":"",'    <div class="modal-body">'+b.body+"</div>",b.footer?'    <div class="modal-footer">'+b.footer+"</div>":"","  </div>","</div>"].join(""))}),kb=Xa.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c="undefined"!=typeof b.direction?b.direction:"bottom";a.addClass(c),b.hideArrow&&a.find(".arrow").hide()}),lb=Xa.create('<div class="checkbox"></div>',function(a,b){a.html(["<label"+(b.id?' for="'+b.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(b.id?' id="'+b.id+'"':""),b.checked?" checked":"",' aria-checked="'+(b.checked?"true":"false")+'"/>',b.text?b.text:"","</label>"].join(""))}),mb=function(a,b){return b=b||"i","<"+b+' class="'+a+'"/>'},nb={editor:Ya,toolbar:Za,editingArea:$a,codable:_a,editable:ab,statusbar:bb,airEditor:cb,airEditable:db,buttonGroup:eb,dropdown:fb,dropdownButtonContents:gb,dropdownCheck:hb,palette:ib,dialog:jb,popover:kb,checkbox:lb,icon:mb,options:{},button:function(b,c){return Xa.create('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(b,c){c&&c.tooltip&&b.attr({title:c.tooltip,"aria-label":c.tooltip}).tooltip({container:void 0!==c.container?c.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(b){a(b.currentTarget).tooltip("hide")})})(b,c)},toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},onDialogShown:function(a,b){a.one("shown.bs.modal",b)},onDialogHidden:function(a,b){a.one("hidden.bs.modal",b)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,b){var c=(b.airMode?nb.airEditor([nb.editingArea([nb.airEditable()])]):nb.editor([nb.toolbar(),nb.editingArea([nb.codable(),nb.editable()]),nb.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.show()}};a.summernote=a.summernote||{lang:{}},a.extend(a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var ob,pb="function"==typeof define&&define.amd,qb=navigator.userAgent,rb=/MSIE|Trident/i.test(qb);if(rb){var sb=/MSIE (\d+[.]\d+)/.exec(qb);sb&&(ob=parseFloat(sb[1])),sb=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(qb),sb&&(ob=parseFloat(sb[1]))}var tb=/Edge\/\d+/.test(qb),ub=!!window.CodeMirror,vb="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,wb=rb||tb?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",xb={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:rb,isEdge:tb,isFF:!tb&&/firefox/i.test(qb),isPhantom:/PhantomJS/i.test(qb),isWebkit:!tb&&/webkit/i.test(qb),isChrome:!tb&&/chrome/i.test(qb),isSafari:!tb&&/safari/i.test(qb),browserVersion:ob,jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:pb,isSupportTouch:vb,hasCodeMirror:ub,isFontInstalled:b,isW3CRangeSupport:!!document.createRange,inputEventName:wb},yb=0,zb={eq:c,eq2:e,peq2:f,ok:g,fail:h,self:k,not:i,and:j,invoke:l,uniqueId:m,rect2bnd:n,invertObject:o,namespaceToCamel:p,debounce:q,isValidUrl:r},Ab={head:s,last:t,initial:u,tail:v,prev:G,next:F,find:w,contains:y,all:x,sum:z,from:A,isEmpty:B,clusterBy:C,compact:D,unique:E},Bb=String.fromCharCode(160),Cb="\ufeff",Db=J("PRE"),Eb=J("LI"),Fb=J("TABLE"),Gb=J("DATA"),Hb=J("HR"),Ib=J("BLOCKQUOTE"),Jb=J("A"),Kb=J("BODY"),Lb=xb.isMSIE&&xb.browserVersion<11?"&nbsp;":"<br>",Mb=J("TEXTAREA"),Nb={NBSP_CHAR:Bb,ZERO_WIDTH_NBSP_CHAR:Cb,blank:Lb,emptyPara:"<p>"+Lb+"</p>",makePredByNodeName:J,isEditable:H,isControlSizing:I,isText:K,isElement:L,isVoid:M,isPara:N,isPurePara:P,isHeading:O,isInline:Q,isBlock:zb.not(Q),isBodyInline:V,isBody:Kb,isParaInline:U,isPre:Db,isList:R,isTable:Fb,isData:Gb,isCell:S,isBlockquote:Ib,isBodyContainer:T,isAnchor:Jb,isDiv:J("DIV"),isLi:Eb,isBR:J("BR"),isSpan:J("SPAN"),isB:J("B"),isU:J("U"),isS:J("S"),isI:J("I"),isImg:J("IMG"),isTextarea:Mb,isEmpty:Z,isEmptyAnchor:zb.and(Jb,Z),isClosestSibling:W,withClosestSiblings:X,nodeLength:Y,isLeftEdgePoint:la,isRightEdgePoint:ma,isEdgePoint:na,isLeftEdgeOf:oa,isRightEdgeOf:pa,isLeftEdgePointOf:qa,isRightEdgePointOf:ra,prevPoint:ua,nextPoint:va,isSamePoint:wa,isVisiblePoint:xa,prevPointUntil:ya,nextPointUntil:za,isCharPoint:Aa,walkPoint:Ba,ancestor:aa,singleChildAncestor:ba,listAncestor:ca,lastAncestor:da,listNext:ga,listPrev:fa,listDescendant:ha,commonAncestor:ea,wrap:ia,insertAfter:ja,appendChildNodes:ka,position:sa,hasChildren:ta,makeOffsetPath:Ca,fromOffsetPath:Da,splitTree:Fa,splitPoint:Ga,create:Ha,createText:Ia,remove:Ja,removeWhile:Ka,replace:La,html:Na,value:Ma,posFromPlaceholder:Oa,attachEvents:Pa,detachEvents:Qa,isCustomStyleTag:Ra},Ob=function(){function b(b,c){this.ui=a.summernote.ui,this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=c,this.initialize()}return b.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},b.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},b.prototype.reset=function(){var a=this.isDisabled();this.code(Nb.emptyPara),this._destroy(),this._initialize(),a&&this.disable()},b.prototype._initialize=function(){var b=this,c=a.extend({},this.options.buttons);Object.keys(c).forEach(function(a){b.memo("button."+a,c[a])});var d=a.extend({},this.options.modules,a.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)}),Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})},b.prototype._destroy=function(){var a=this;Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),this.triggerEvent("destroy",this)},b.prototype.code=function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.layoutInfo.codable.val(a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)},b.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},b.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},b.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},b.prototype.triggerEvent=function(){var a=Ab.head(arguments),b=Ab.tail(Ab.from(arguments)),c=this.options.callbacks[zb.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)},b.prototype.initializeModule=function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||zb.ok,b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&Nb.attachEvents(this.$note,b.events))},b.prototype.module=function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))},b.prototype.removeModule=function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&Nb.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]},b.prototype.memo=function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)},b.prototype.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},b.prototype.createInvokeHandlerAndUpdateState=function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}},b.prototype.createInvokeHandler=function(b,c){var d=this;return function(e){e.preventDefault();var f=a(e.target);d.invoke(b,c||f.closest("[data-value]").data("value"),f)}},b.prototype.invoke=function(){var a=Ab.head(arguments),b=Ab.tail(Ab.from(arguments)),c=a.split("."),d=c.length>1,e=d&&Ab.head(c),f=d?Ab.last(c):Ab.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},b}();a.fn.extend({summernote:function(){var b=a.type(Ab.head(arguments)),c="string"===b,d="object"===b,e=a.extend({},a.summernote.options,d?Ab.head(arguments):{});e.langInfo=a.extend(!0,{},a.summernote.lang["en-US"],a.summernote.lang[e.lang]),e.icons=a.extend(!0,{},a.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!xb.isSupportTouch:e.tooltip,this.each(function(b,c){var d=a(c);if(!d.data("summernote")){var f=new Ob(d,e);d.data("summernote",f),d.data("summernote").triggerEvent("init",f.layoutInfo)}});var f=this.first();if(f.length){var g=f.data("summernote");if(c)return g.invoke.apply(g,Ab.from(arguments));e.focus&&g.invoke("editor.focus")}return this}});var Pb=function(){function b(a,b,c,d){this.sc=a,this.so=b,this.ec=c,this.eo=d,this.isOnEditable=this.makeIsOn(Nb.isEditable),this.isOnList=this.makeIsOn(Nb.isList),this.isOnAnchor=this.makeIsOn(Nb.isAnchor),this.isOnCell=this.makeIsOn(Nb.isCell),this.isOnData=this.makeIsOn(Nb.isData)}return b.prototype.nativeRange=function(){if(xb.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),a.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),a}var b=Ta({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",Ta({node:this.ec,offset:this.eo})),b},b.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},b.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},b.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},b.prototype.select=function(){var a=this.nativeRange();if(xb.isW3CRangeSupport){var b=document.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},b.prototype.scrollIntoView=function(b){var c=a(b).height();return b.scrollTop+c<this.sc.offsetTop&&(b.scrollTop+=Math.abs(b.scrollTop+c-this.sc.offsetTop)),this},b.prototype.normalize=function(){var a=function(a,b){if(Nb.isVisiblePoint(a)&&(!Nb.isEdgePoint(a)||Nb.isRightEdgePoint(a)&&!b||Nb.isLeftEdgePoint(a)&&b||Nb.isRightEdgePoint(a)&&b&&Nb.isVoid(a.node.nextSibling)||Nb.isLeftEdgePoint(a)&&!b&&Nb.isVoid(a.node.previousSibling)||Nb.isBlock(a.node)&&Nb.isEmpty(a.node)))return a;var c=Nb.ancestor(a.node,Nb.isBlock);if((Nb.isLeftEdgePointOf(a,c)||Nb.isVoid(Nb.prevPoint(a).node))&&!b||(Nb.isRightEdgePointOf(a,c)||Nb.isVoid(Nb.nextPoint(a).node))&&b){if(Nb.isVisiblePoint(a))return a;b=!b}var d=b?Nb.nextPointUntil(Nb.nextPoint(a),Nb.isVisiblePoint):Nb.prevPointUntil(Nb.prevPoint(a),Nb.isVisiblePoint);return d||a},c=a(this.getEndPoint(),!1),d=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(d.node,d.offset,c.node,c.offset)},b.prototype.nodes=function(a,b){a=a||zb.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return Nb.walkPoint(e,f,function(b){if(!Nb.isEditable(b.node)){var e;d?(Nb.isLeftEdgePoint(b)&&h.push(b.node),Nb.isRightEdgePoint(b)&&Ab.contains(h,b.node)&&(e=b.node)):e=c?Nb.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e)}},!0),Ab.unique(g)},b.prototype.commonAncestor=function(){return Nb.commonAncestor(this.sc,this.ec)},b.prototype.expand=function(a){var c=Nb.ancestor(this.sc,a),d=Nb.ancestor(this.ec,a);if(!c&&!d)return new b(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=Nb.nodeLength(d)),new b(e.sc,e.so,e.ec,e.eo)},b.prototype.collapse=function(a){return a?new b(this.sc,this.so,this.sc,this.so):new b(this.ec,this.eo,this.ec,this.eo)},b.prototype.splitText=function(){var a=this.sc===this.ec,c=this.getPoints();return Nb.isText(this.ec)&&!Nb.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Nb.isText(this.sc)&&!Nb.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,a&&(c.ec=c.sc,c.eo=this.eo-this.so)),new b(c.sc,c.so,c.ec,c.eo)},b.prototype.deleteContents=function(){if(this.isCollapsed())return this;var c=this.splitText(),d=c.nodes(null,{fullyContains:!0}),e=Nb.prevPointUntil(c.getStartPoint(),function(a){return!Ab.contains(d,a.node)}),f=[];return a.each(d,function(a,b){var c=b.parentNode;e.node!==c&&1===Nb.nodeLength(c)&&f.push(c),Nb.remove(b,!1)}),a.each(f,function(a,b){Nb.remove(b,!1)}),new b(e.node,e.offset,e.node,e.offset).normalize()},b.prototype.makeIsOn=function(a){return function(){var b=Nb.ancestor(this.sc,a);return!!b&&b===Nb.ancestor(this.ec,a)}},b.prototype.isLeftEdgeOf=function(a){if(!Nb.isLeftEdgePoint(this.getStartPoint()))return!1;var b=Nb.ancestor(this.sc,a);return b&&Nb.isLeftEdgeOf(this.sc,b)},b.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},b.prototype.wrapBodyInlineWithPara=function(){if(Nb.isBodyContainer(this.sc)&&Nb.isEmpty(this.sc))return this.sc.innerHTML=Nb.emptyPara,new b(this.sc.firstChild,0,this.sc.firstChild,0);var a=this.normalize();if(Nb.isParaInline(this.sc)||Nb.isPara(this.sc))return a;var c;if(Nb.isInline(a.sc)){var d=Nb.listAncestor(a.sc,zb.not(Nb.isInline));c=Ab.last(d),Nb.isInline(c)||(c=d[d.length-2]||a.sc.childNodes[a.so])}else c=a.sc.childNodes[a.so>0?a.so-1:0];var e=Nb.listPrev(c,Nb.isParaInline).reverse();if(e=e.concat(Nb.listNext(c.nextSibling,Nb.isParaInline)),e.length){var f=Nb.wrap(Ab.head(e),"p");Nb.appendChildNodes(f,Ab.tail(e))}return this.normalize()},b.prototype.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=Nb.splitPoint(b.getStartPoint(),Nb.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},b.prototype.pasteHTML=function(b){var c=a("<div></div>").html(b)[0],d=Ab.from(c.childNodes),e=this.wrapBodyInlineWithPara().deleteContents();return e.so>0&&(d=d.reverse()),d=d.map(function(a){return e.insertNode(a)}),e.so>0&&(d=d.reverse()),d},b.prototype.toString=function(){var a=this.nativeRange();return xb.isW3CRangeSupport?a.toString():a.text},b.prototype.getWordRange=function(a){var c=this.getEndPoint();if(!Nb.isCharPoint(c))return this;var d=Nb.prevPointUntil(c,function(a){return!Nb.isCharPoint(a)});return a&&(c=Nb.nextPointUntil(c,function(a){return!Nb.isCharPoint(a)})),new b(d.node,d.offset,c.node,c.offset)},b.prototype.bookmark=function(a){return{s:{path:Nb.makeOffsetPath(a,this.sc),offset:this.so},e:{path:Nb.makeOffsetPath(a,this.ec),offset:this.eo}}},b.prototype.paraBookmark=function(a){return{s:{path:Ab.tail(Nb.makeOffsetPath(Ab.head(a),this.sc)),offset:this.so},e:{path:Ab.tail(Nb.makeOffsetPath(Ab.last(a),this.ec)),offset:this.eo}}},b.prototype.getClientRects=function(){var a=this.nativeRange();return a.getClientRects()},b}(),Qb={create:function(a,b,c,d){if(4===arguments.length)return new Pb(a,b,c,d);if(2===arguments.length)return c=a,d=b,new Pb(a,b,c,d);var e=this.createFromSelection();return e||1!==arguments.length?e:(e=this.createFromNode(arguments[0]),e.collapse(Nb.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var a,b,c,d;if(xb.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Nb.isBody(e.anchorNode))return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=Sa(i,!0),k=Sa(h,!1);Nb.isText(j.node)&&Nb.isLeftEdgePoint(j)&&Nb.isTextNode(k.node)&&Nb.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new Pb(a,b,c,d)},createFromNode:function(a){var b=a,c=0,d=a,e=Nb.nodeLength(d);return Nb.isVoid(b)&&(c=Nb.listPrev(b).length-1,b=b.parentNode),Nb.isBR(d)?(e=Nb.listPrev(d).length-1,d=d.parentNode):Nb.isVoid(d)&&(e=Nb.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var c=Nb.fromOffsetPath(a,b.s.path),d=b.s.offset,e=Nb.fromOffsetPath(a,b.e.path),f=b.e.offset;return new Pb(c,d,e,f)},createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=Nb.fromOffsetPath(Ab.head(b),a.s.path),f=Nb.fromOffsetPath(Ab.last(b),a.e.path);return new Pb(e,c,f,d)}},Rb={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Sb={isEdit:function(a){return Ab.contains([Rb.BACKSPACE,Rb.TAB,Rb.ENTER,Rb.SPACE,Rb.DELETE],a)},isMove:function(a){return Ab.contains([Rb.LEFT,Rb.UP,Rb.RIGHT,Rb.DOWN],a)},nameFromCode:zb.invertObject(Rb),code:Rb},Tb=function(){function a(a){this.stack=[],this.stackOffset=-1,this.$editable=a,this.editable=a[0]}return a.prototype.makeSnapshot=function(){var a=Qb.create(this.editable),b={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):b}},a.prototype.applySnapshot=function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&Qb.createFromBookmark(this.editable,a.bookmark).select()},a.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},a.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},a.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},a.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},a}(),Ub=function(){function b(){}return b.prototype.jQueryCSS=function(b,c){if(xb.jqueryVersion<1.9){var d={};return a.each(c,function(a,c){d[c]=b.css(c)}),d}return b.css(c)},b.prototype.fromNode=function(a){var b=["font-family","font-size","text-align","list-style-type","line-height"],c=this.jQueryCSS(a,b)||{};return c["font-size"]=parseInt(c["font-size"],10),c},b.prototype.stylePara=function(b,c){a.each(b.nodes(Nb.isPara,{includeAncestor:!0}),function(b,d){a(d).css(c)})},b.prototype.styleNodes=function(b,c){b=b.splitText();var d=c&&c.nodeName||"SPAN",e=!(!c||!c.expandClosestSibling),f=!(!c||!c.onlyPartialContains);if(b.isCollapsed())return[b.insertNode(Nb.create(d))];var g=Nb.makePredByNodeName(d),h=b.nodes(Nb.isText,{fullyContains:!0}).map(function(a){return Nb.singleChildAncestor(a,g)||Nb.wrap(a,d)});if(e){if(f){var i=b.nodes();g=zb.and(g,function(a){return Ab.contains(i,a)})}return h.map(function(b){var c=Nb.withClosestSiblings(b,g),d=Ab.head(c),e=Ab.tail(c);return a.each(e,function(a,b){Nb.appendChildNodes(d,b.childNodes),Nb.remove(b)}),Ab.head(c)})}return h},b.prototype.current=function(b){var c=a(Nb.isElement(b.sc)?b.sc:b.sc.parentNode),d=this.fromNode(c);try{d=a.extend(d,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||d["font-family"]})}catch(e){}if(b.isOnList()){var f=["circle","disc","disc-leading-zero","square"],g=f.indexOf(d["list-style-type"])>-1;d["list-style"]=g?"unordered":"ordered"}else d["list-style"]="none";var h=Nb.ancestor(b.sc,Nb.isPara);if(h&&h.style["line-height"])d["line-height"]=h.style.lineHeight;else{var i=parseInt(d["line-height"],10)/parseInt(d["font-size"],10);d["line-height"]=i.toFixed(1)}return d.anchor=b.isOnAnchor()&&Nb.ancestor(b.sc,Nb.isAnchor),d.ancestors=Nb.listAncestor(b.sc,Nb.isEditable),d.range=b,d},b}(),Vb=function(){function b(){}return b.prototype.insertOrderedList=function(a){this.toggleList("OL",a)},b.prototype.insertUnorderedList=function(a){this.toggleList("UL",a)},b.prototype.indent=function(b){var c=this,d=Qb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Nb.isPara,{includeAncestor:!0}),f=Ab.clusterBy(e,zb.peq2("parentNode"));a.each(f,function(b,d){var e=Ab.head(d);if(Nb.isLi(e)){var f=c.findList(e.previousSibling);f?d.map(function(a){return f.appendChild(a)}):(c.wrapList(d,e.parentNode.nodeName),d.map(function(a){return a.parentNode}).map(function(a){return c.appendToPrevious(a)}))}else a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),d.select()},b.prototype.outdent=function(b){var c=this,d=Qb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Nb.isPara,{includeAncestor:!0}),f=Ab.clusterBy(e,zb.peq2("parentNode"));a.each(f,function(b,d){var e=Ab.head(d);Nb.isLi(e)?c.releaseList([d]):a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return b=parseInt(b,10)||0,b>25?b-25:""})})}),d.select()},b.prototype.toggleList=function(b,c){var d=this,e=Qb.create(c).wrapBodyInlineWithPara(),f=e.nodes(Nb.isPara,{includeAncestor:!0}),g=e.paraBookmark(f),h=Ab.clusterBy(f,zb.peq2("parentNode"));if(Ab.find(f,Nb.isPurePara)){var i=[];a.each(h,function(a,c){i=i.concat(d.wrapList(c,b))}),f=i}else{var j=e.nodes(Nb.isList,{includeAncestor:!0}).filter(function(c){return!a.nodeName(c,b)});j.length?a.each(j,function(a,c){Nb.replace(c,b)}):f=this.releaseList(h,!0)}Qb.createFromParaBookmark(g,f).select()},b.prototype.wrapList=function(a,b){var c=Ab.head(a),d=Ab.last(a),e=Nb.isList(c.previousSibling)&&c.previousSibling,f=Nb.isList(d.nextSibling)&&d.nextSibling,g=e||Nb.insertAfter(Nb.create(b||"UL"),d);return a=a.map(function(a){return Nb.isPurePara(a)?Nb.replace(a,"LI"):a}),Nb.appendChildNodes(g,a),f&&(Nb.appendChildNodes(g,Ab.from(f.childNodes)),Nb.remove(f)),a},b.prototype.releaseList=function(b,c){var d=this,e=[];return a.each(b,function(b,f){var g=Ab.head(f),h=Ab.last(f),i=c?Nb.lastAncestor(g,Nb.isList):g.parentNode,j=i.parentNode;if("LI"===i.parentNode.nodeName)f.map(function(a){var b=d.findNextSiblings(a);j.nextSibling?j.parentNode.insertBefore(a,j.nextSibling):j.parentNode.appendChild(a),b.length&&(d.wrapList(b,i.nodeName),a.appendChild(b[0].parentNode))}),0===i.children.length&&j.removeChild(i),0===j.childNodes.length&&j.parentNode.removeChild(j);else{var k=i.childNodes.length>1?Nb.splitTree(i,{node:h.parentNode,offset:Nb.position(h)+1},{isSkipPaddingBlankHTML:!0}):null,l=Nb.splitTree(i,{node:g.parentNode,offset:Nb.position(g)},{isSkipPaddingBlankHTML:!0});f=c?Nb.listDescendant(l,Nb.isLi):Ab.from(l.childNodes).filter(Nb.isLi),(c||!Nb.isList(i.parentNode))&&(f=f.map(function(a){return Nb.replace(a,"P")})),a.each(Ab.from(f).reverse(),function(a,b){Nb.insertAfter(b,i)});var m=Ab.compact([i,l,k]);a.each(m,function(b,c){var d=[c].concat(Nb.listDescendant(c,Nb.isList));a.each(d.reverse(),function(a,b){Nb.nodeLength(b)||Nb.remove(b,!0)})})}e=e.concat(f)}),e},b.prototype.appendToPrevious=function(a){return a.previousSibling?Nb.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")},b.prototype.findList=function(a){return a?Ab.find(a.children,function(a){return["OL","UL"].indexOf(a.nodeName)>-1}):null},b.prototype.findNextSiblings=function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b},b}(),Wb=function(){function b(a){this.bullet=new Vb,this.options=a.options}return b.prototype.insertTab=function(a,b){var c=Nb.createText(new Array(b+1).join(Nb.NBSP_CHAR));a=a.deleteContents(),a.insertNode(c,!0),a=Qb.create(c,b),a.select()},b.prototype.insertParagraph=function(b,c){c=c||Qb.create(b),c=c.deleteContents(),c=c.wrapBodyInlineWithPara();var d,e=Nb.ancestor(c.sc,Nb.isPara);if(e){if(Nb.isEmpty(e)&&Nb.isLi(e))return void this.bullet.toggleList(e.parentNode.nodeName);var f=null;if(1===this.options.blockquoteBreakingLevel?f=Nb.ancestor(e,Nb.isBlockquote):2===this.options.blockquoteBreakingLevel&&(f=Nb.lastAncestor(e,Nb.isBlockquote)),f){d=a(Nb.emptyPara)[0],Nb.isRightEdgePoint(c.getStartPoint())&&Nb.isBR(c.sc.nextSibling)&&a(c.sc.nextSibling).remove();var g=Nb.splitTree(f,c.getStartPoint(),{isDiscardEmptySplits:!0});g?g.parentNode.insertBefore(d,g):Nb.insertAfter(d,f)}else{d=Nb.splitTree(e,c.getStartPoint());var h=Nb.listDescendant(e,Nb.isEmptyAnchor);h=h.concat(Nb.listDescendant(d,Nb.isEmptyAnchor)),a.each(h,function(a,b){Nb.remove(b)}),(Nb.isHeading(d)||Nb.isPre(d)||Nb.isCustomStyleTag(d))&&Nb.isEmpty(d)&&(d=Nb.replace(d,"p"))}}else{var i=c.sc.childNodes[c.so];d=a(Nb.emptyPara)[0],i?c.sc.insertBefore(d,i):c.sc.appendChild(d)}Qb.create(d,0).normalize().select().scrollIntoView(b)},b}(),Xb=function Ac(a,b,c,d){function e(){return!a||!a.tagName||"td"!==a.tagName.toLowerCase()&&"th"!==a.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",a):(o.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()?void(o.rowPos=a.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",a))}function f(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};p[a]||(p[a]=[]),p[a][b]=h}function g(a,b,c,d){return{baseCell:a.baseCell,action:b,virtualTable:{rowIndex:c,cellIndex:d}}}function h(a,b){if(!p[a])return b;if(!p[a][b])return b;for(var c=b;p[a][c];)if(c++,!p[a][c])return c}function i(a,b){var c=h(a.rowIndex,b.cellIndex),d=b.colSpan>1,e=b.rowSpan>1,g=a.rowIndex===o.rowPos&&b.cellIndex===o.colPos;f(a.rowIndex,c,a,b,e,d,!1);var i=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(i>1)for(var k=1;i>k;k++){var l=a.rowIndex+k;j(l,c,b,g),f(l,c,a,b,!0,d,!0)}var m=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(m>1)for(var n=1;m>n;n++){var p=h(a.rowIndex,c+n);j(a.rowIndex,p,b,g),f(a.rowIndex,p,a,b,e,!0,!0)}}function j(a,b,c,d){a===o.rowPos&&o.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&o.colPos++}function k(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)i(a[b],c[e])}function l(a){switch(b){case Ac.where.Column:
if(a.isColSpan)return Ac.resultAction.SubtractSpanCount;break;case Ac.where.Row:if(!a.isVirtual&&a.isRowSpan)return Ac.resultAction.AddCell;if(a.isRowSpan)return Ac.resultAction.SubtractSpanCount}return Ac.resultAction.RemoveCell}function m(a){switch(b){case Ac.where.Column:if(a.isColSpan)return Ac.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return Ac.resultAction.Ignore;break;case Ac.where.Row:if(a.isRowSpan)return Ac.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return Ac.resultAction.Ignore}return Ac.resultAction.AddCell}function n(){e(),k()}var o={colPos:0,rowPos:0},p=[],q=[];this.getActionList=function(){for(var a=b===Ac.where.Row?o.rowPos:-1,d=b===Ac.where.Column?o.colPos:-1,e=0,f=!0;f;){var h=a>=0?a:e,i=d>=0?d:e,j=p[h];if(!j)return f=!1,q;var k=j[i];if(!k)return f=!1,q;var n=Ac.resultAction.Ignore;switch(c){case Ac.requestAction.Add:n=m(k);break;case Ac.requestAction.Delete:n=l(k)}q.push(g(k,n,h,i)),e++}return q},n()};Xb.where={Row:0,Column:1},Xb.requestAction={Add:0,Delete:1},Xb.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Yb,Zb=function(){function b(){}return b.prototype.tab=function(a,b){var c=Nb.ancestor(a.commonAncestor(),Nb.isCell),d=Nb.ancestor(c,Nb.isTable),e=Nb.listDescendant(d,Nb.isCell),f=Ab[b?"prev":"next"](e,c);f&&Qb.create(f,0).select()},b.prototype.addRow=function(b,c){for(var d=Nb.ancestor(b.commonAncestor(),Nb.isCell),e=a(d).closest("tr"),f=this.recoverAttributes(e),g=a("<tr"+f+"></tr>"),h=new Xb(d,Xb.where.Row,Xb.requestAction.Add,a(e).closest("table")[0]),i=h.getActionList(),j=0;j<i.length;j++){var k=i[j],l=this.recoverAttributes(k.baseCell);switch(k.action){case Xb.resultAction.AddCell:g.append("<td"+l+">"+Nb.blank+"</td>");break;case Xb.resultAction.SumSpanCount:if("top"===c){var m=k.baseCell.parent,n=(m?k.baseCell.closest("tr").rowIndex:0)<=e[0].rowIndex;if(n){var o=a("<div></div>").append(a("<td"+l+">"+Nb.blank+"</td>").removeAttr("rowspan")).html();g.append(o);break}}var p=parseInt(k.baseCell.rowSpan,10);p++,k.baseCell.setAttribute("rowSpan",p)}}if("top"===c)e.before(g);else{var q=d.rowSpan>1;if(q){var r=e[0].rowIndex+(d.rowSpan-2);return void a(a(e).parent().find("tr")[r]).after(a(g))}e.after(g)}},b.prototype.addCol=function(b,c){var d=Nb.ancestor(b.commonAncestor(),Nb.isCell),e=a(d).closest("tr"),f=a(e).siblings();f.push(e);for(var g=new Xb(d,Xb.where.Column,Xb.requestAction.Add,a(e).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++){var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case Xb.resultAction.AddCell:"right"===c?a(j.baseCell).after("<td"+k+">"+Nb.blank+"</td>"):a(j.baseCell).before("<td"+k+">"+Nb.blank+"</td>");break;case Xb.resultAction.SumSpanCount:if("right"===c){var l=parseInt(j.baseCell.colSpan,10);l++,j.baseCell.setAttribute("colSpan",l)}else a(j.baseCell).before("<td"+k+">"+Nb.blank+"</td>")}}},b.prototype.recoverAttributes=function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b},b.prototype.deleteRow=function(b){for(var c=Nb.ancestor(b.commonAncestor(),Nb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=d[0].rowIndex,g=new Xb(c,Xb.where.Row,Xb.requestAction.Delete,a(d).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++)if(h[i]){var j=h[i].baseCell,k=h[i].virtualTable,l=j.rowSpan&&j.rowSpan>1,m=l?parseInt(j.rowSpan,10):0;switch(h[i].action){case Xb.resultAction.Ignore:continue;case Xb.resultAction.AddCell:var n=d.next("tr")[0];if(!n)continue;var o=d[0].cells[e];l&&(m>2?(m--,n.insertBefore(o,n.cells[e]),n.cells[e].setAttribute("rowSpan",m),n.cells[e].innerHTML=""):2===m&&(n.insertBefore(o,n.cells[e]),n.cells[e].removeAttribute("rowSpan"),n.cells[e].innerHTML=""));continue;case Xb.resultAction.SubtractSpanCount:l&&(m>2?(m--,j.setAttribute("rowSpan",m),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")):2===m&&(j.removeAttribute("rowSpan"),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")));continue;case Xb.resultAction.RemoveCell:continue}}d.remove()},b.prototype.deleteCol=function(b){for(var c=Nb.ancestor(b.commonAncestor(),Nb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=new Xb(c,Xb.where.Column,Xb.requestAction.Delete,a(d).closest("table")[0]),g=f.getActionList(),h=0;h<g.length;h++)if(g[h])switch(g[h].action){case Xb.resultAction.Ignore:continue;case Xb.resultAction.SubtractSpanCount:var i=g[h].baseCell,j=i.colSpan&&i.colSpan>1;if(j){var k=i.colSpan?parseInt(i.colSpan,10):0;k>2?(k--,i.setAttribute("colSpan",k),i.cellIndex===e&&(i.innerHTML="")):2===k&&(i.removeAttribute("colSpan"),i.cellIndex===e&&(i.innerHTML=""))}continue;case Xb.resultAction.RemoveCell:Nb.remove(g[h].baseCell,!0);continue}},b.prototype.createTable=function(b,c,d){for(var e,f=[],g=0;b>g;g++)f.push("<td>"+Nb.blank+"</td>");e=f.join("");for(var h,i=[],j=0;c>j;j++)i.push("<tr>"+e+"</tr>");h=i.join("");var k=a("<table>"+h+"</table>");return d&&d.tableClassName&&k.addClass(d.tableClassName),k[0]},b.prototype.deleteTable=function(b){var c=Nb.ancestor(b.commonAncestor(),Nb.isCell);a(c).closest("table").remove()},b}(),$b="bogus",_b=function(){function b(b){var c=this;this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Ub,this.table=new Zb,this.typing=new Wb(b),this.bullet=new Vb,this.history=new Tb(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;f>e;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family","'"+a+"'")}),this.fontSize=this.wrapCommand(function(a){return c.fontStyling("font-size",a+"px")});for(var e=1;6>=e;e++)this["formatH"+e]=function(a){return function(){c.formatBlock("H"+a)}}(e),this.context.memo("help.formatH"+e,this.lang.help["formatH"+e]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(b){if(!c.isLimited(a(b).text().length)){var d=c.getLastRange();d.insertNode(b),Qb.createFromNodeAfter(b).select(),c.setLastRange()}}),this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange(),d=b.insertNode(Nb.createText(a));Qb.create(d,Nb.nodeLength(d)).select(),c.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);Qb.createFromNodeAfter(Ab.last(b)).select(),c.setLastRange()}}),this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode(Nb.create("HR"));a.nextSibling&&(Qb.create(a.nextSibling,0).normalize().select(),c.setLastRange())}),this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),this.createLink=this.wrapCommand(function(b){var d=b.url,e=b.text,f=b.isNewWindow,g=b.range||c.getLastRange(),h=e.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==e;"string"==typeof d&&(d=d.trim()),d=c.options.onCreateLink?c.options.onCreateLink(d):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(d)?d:"http://"+d;var j=[];if(i){g=g.deleteContents();var k=g.insertNode(a("<A>"+e+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(j,function(b,c){a(c).attr("href",d),f?a(c).attr("target","_blank"):a(c).removeAttr("target")});var l=Qb.createFromNodeBefore(Ab.head(j)),m=l.getStartPoint(),n=Qb.createFromNodeAfter(Ab.last(j)),o=n.getEndPoint();Qb.create(m.node,m.offset,o.node,o.offset).select(),c.setLastRange()}}),this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.foreColor=this.wrapCommand(function(a){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x"),d=c.getLastRange().deleteContents();d.insertNode(c.table.createTable(b[0],b[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var b=a(c.restoreTarget()).parent();b.parent("figure").length?b.parent("figure").remove():b=a(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",b,c.$editable)}),this.floatMe=this.wrapCommand(function(b){var d=a(c.restoreTarget());d.toggleClass("note-float-left","left"===b),d.toggleClass("note-float-right","right"===b),d.css("float","none"===b?"":b)}),this.resize=this.wrapCommand(function(b){var d=a(c.restoreTarget());b=parseFloat(b),0===b?d.css("width",""):d.css({width:100*b+"%",height:""})})}return b.prototype.initialize=function(){var a=this;this.$editable.on("keydown",function(b){return b.keyCode===Sb.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),b.isDefaultPrevented()||(a.options.shortcuts?a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)?!1:void 0}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Nb.html(this.$note)||Nb.emptyPara),this.$editable.on(xb.inputEventName,zb.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editor.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},b.prototype.destroy=function(){this.$editable.off()},b.prototype.handleKeyMap=function(a){var b=this.options.keyMap[xb.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=Sb.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];e?this.context.invoke(e)!==!1&&a.preventDefault():Sb.isEdit(a.keyCode)&&this.afterCommand()},b.prototype.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&Ab.contains([66,73,85],a.keyCode)&&a.preventDefault()},b.prototype.isLimited=function(a,b){return a=a||0,"undefined"!=typeof b&&(Sb.isMove(b.keyCode)||b.ctrlKey||b.metaKey||Ab.contains([Sb.code.BACKSPACE,Sb.code.DELETE],b.keyCode))?!1:this.options.maxTextLength>0&&this.$editable.text().length+a>=this.options.maxTextLength?!0:!1},b.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},b.prototype.setLastRange=function(){this.lastRange=Qb.create(this.editable)},b.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},b.prototype.saveRange=function(a){a&&this.getLastRange().collapse().select()},b.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},b.prototype.saveTarget=function(a){this.$editable.data("target",a)},b.prototype.clearTarget=function(){this.$editable.removeData("target")},b.prototype.restoreTarget=function(){return this.$editable.data("target")},b.prototype.currentStyle=function(){var a=Qb.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)},b.prototype.styleFromNode=function(a){return this.style.fromNode(a)},b.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},b.prototype.afterCommand=function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.tab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}},b.prototype.untab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1},b.prototype.wrapCommand=function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}},b.prototype.insertImage=function(a,b){var c=this;return Va(a,b).then(function(a){c.beforeCommand(),"function"==typeof b?b(a):("string"==typeof b&&a.attr("data-filename",b),a.css("width",Math.min(c.$editable.width(),a.width()))),a.show(),Qb.create(c.editable).insertNode(a[0]),Qb.createFromNodeAfter(a[0]).select(),c.setLastRange(),c.afterCommand()}).fail(function(a){c.context.triggerEvent("image.upload.error",a)})},b.prototype.insertImagesAsDataURL=function(b){var c=this;a.each(b,function(a,b){var d=b.name;c.options.maximumImageFileSize&&c.options.maximumImageFileSize<b.size?c.context.triggerEvent("image.upload.error",c.lang.image.maximumFileSizeError):Ua(b).then(function(a){return c.insertImage(a,d)}).fail(function(){c.context.triggerEvent("image.upload.error")})})},b.prototype.insertImagesOrCallback=function(a){var b=this.options.callbacks;b.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)},b.prototype.getSelectedText=function(){var a=this.getLastRange();return a.isOnAnchor()&&(a=Qb.createFromNode(Nb.ancestor(a.sc,Nb.isAnchor))),a.toString()},b.prototype.onFormatBlock=function(b,c){if(document.execCommand("FormatBlock",!1,xb.isMSIE?"<"+b+">":b),c&&c.length&&(c[0].tagName.toUpperCase()!==b.toUpperCase()&&(c=c.find(b)),c&&c.length)){var d=c[0].className||"";if(d){var e=this.createRange(),f=a([e.sc,e.ec]).closest(b);f.addClass(d)}}},b.prototype.formatPara=function(){this.formatBlock("P")},b.prototype.fontStyling=function(b,c){var d=this.getLastRange();if(d){var e=this.style.styleNodes(d);if(a(e).css(b,c),d.isCollapsed()){var f=Ab.head(e);f&&!Nb.nodeLength(f)&&(f.innerHTML=Nb.ZERO_WIDTH_NBSP_CHAR,Qb.createFromNodeAfter(f.firstChild).select(),this.setLastRange(),this.$editable.data($b,f))}}},b.prototype.unlink=function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=Nb.ancestor(a.sc,Nb.isAnchor);a=Qb.createFromNode(b),a.select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},b.prototype.getLinkInfo=function(){var b=this.getLastRange().expand(Nb.isAnchor),c=a(Ab.head(b.nodes(Nb.isAnchor))),d={range:b,text:b.toString(),url:c.length?c.attr("href"):""};return c.length&&(d.isNewWindow="_blank"===c.attr("target")),d},b.prototype.addRow=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())},b.prototype.addCol=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())},b.prototype.deleteRow=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())},b.prototype.deleteCol=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())},b.prototype.deleteTable=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())},b.prototype.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},b.prototype.hasFocus=function(){return this.$editable.is(":focus")},b.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},b.prototype.isEmpty=function(){return Nb.isEmpty(this.$editable[0])||Nb.emptyPara===this.$editable.html()},b.prototype.empty=function(){this.context.invoke("code",Nb.emptyPara)},b.prototype.normalizeContent=function(){this.$editable[0].normalize()},b}(),ac=function(){function a(a){this.context=a,this.$editable=a.layoutInfo.editable}return a.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},a.prototype.pasteByEvent=function(a){var b=a.originalEvent.clipboardData;if(b&&b.items&&b.items.length){var c=b.items.length>1?b.items[1]:Ab.head(b.items);"file"===c.kind&&-1!==c.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[c.getAsFile()]),this.context.invoke("editor.afterCommand")}},a}(),bc=function(){function b(b){this.context=b,this.$eventListener=a(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=a(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return b.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(a){a.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},b.prototype.attachDragAndDropEvent=function(){var b=this,c=a(),d=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(a){var e=b.context.invoke("codeview.isActivated"),f=b.$editor.width()>0&&b.$editor.height()>0;e||c.length||!f||(b.$editor.addClass("dragover"),b.$dropzone.width(b.$editor.width()),b.$dropzone.height(b.$editor.height()),d.text(b.lang.image.dragImageHere)),c=c.add(a.target)},this.documentEventHandlers.onDragleave=function(a){c=c.not(a.target),c.length||b.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){c=a(),b.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){b.$dropzone.addClass("hover"),d.text(b.lang.image.dropImage)}).on("dragleave",function(){b.$dropzone.removeClass("hover"),d.text(b.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(c){var d=c.originalEvent.dataTransfer;c.preventDefault(),d&&d.files&&d.files.length?(b.$editable.focus(),b.context.invoke("editor.insertImagesOrCallback",d.files)):a.each(d.types,function(c,e){var f=d.getData(e);e.toLowerCase().indexOf("text")>-1?b.context.invoke("editor.pasteHTML",f):a(f).each(function(a,c){b.context.invoke("editor.insertNode",c)})})}).on("dragover",!1)},b.prototype.destroy=function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}},b}();xb.hasCodeMirror&&(Yb=window.CodeMirror);var cc=function(){function a(a){this.context=a,this.$editor=a.layoutInfo.editor,this.$editable=a.layoutInfo.editable,this.$codable=a.layoutInfo.codable,this.options=a.options}return a.prototype.sync=function(){var a=this.isActivated();a&&xb.hasCodeMirror&&this.$codable.data("cmEditor").save()},a.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},a.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},a.prototype.purify=function(a){if(this.options.codeviewFilter&&(a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";for(var c=0,d=b;c<d.length;c++){var e=d[c];if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}return""})}return a},a.prototype.activate=function(){var a=this;if(this.$codable.val(Nb.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),xb.hasCodeMirror){var b=Yb.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var c=new Yb.TernServer(this.options.codemirror.tern);b.ternServer=c,b.on("cursorActivity",function(a){c.updateArgHints(a)})}b.on("blur",function(c){a.context.triggerEvent("blur.codeview",b.getValue(),c)}),b.on("change",function(c){a.context.triggerEvent("change.codeview",b.getValue(),b)}),b.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",b)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(b){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})},a.prototype.deactivate=function(){if(xb.hasCodeMirror){var a=this.$codable.data("cmEditor");this.$codable.val(a.getValue()),a.toTextArea()}var b=this.purify(Nb.value(this.$codable,this.options.prettifyHtml)||Nb.emptyPara),c=this.$editable.html()!==b;this.$editable.html(b),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),c&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},a.prototype.destroy=function(){this.isActivated()&&this.deactivate()},a}(),dc=24,ec=function(){function b(b){this.$document=a(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return b.prototype.initialize=function(){var a=this;return this.options.airMode||this.options.disableResizeEditor?void this.destroy():void this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function(b){var d=b.clientY-(c+dc);d=a.options.minheight>0?Math.max(d,a.options.minheight):d,d=a.options.maxHeight>0?Math.min(d,a.options.maxHeight):d,a.$editable.height(d)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})},b.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},b}(),fc=function(){function b(b){var c=this;this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=a(window),this.$scrollbar=a("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return b.prototype.resizeTo=function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)},b.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},b.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},b}(),gc=function(){function b(b){var c=this;this.context=b,this.$document=a(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return b.prototype.initialize=function(){var b=this;this.$handle=a(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(a){if(Nb.isControlSizing(a.target)){a.preventDefault(),a.stopPropagation();var c=b.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=b.$document.scrollTop(),f=function(a){b.context.invoke("editor.resizeTo",{x:a.clientX-d.left,y:a.clientY-(d.top-e)},c,!a.shiftKey),b.update(c[0])};b.$document.on("mousemove",f).one("mouseup",function(a){a.preventDefault(),b.$document.off("mousemove",f),b.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(a){a.preventDefault(),b.update()})},b.prototype.destroy=function(){this.$handle.remove()},b.prototype.update=function(b,c){if(this.context.isDisabled())return!1;var d=Nb.isImg(b),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",b,c),d){var f=a(b),g=f.position(),h={left:g.left+parseInt(f.css("marginLeft"),10),top:g.top+parseInt(f.css("marginTop"),10)},i={w:f.outerWidth(!1),h:f.outerHeight(!1)};e.css({display:"block",left:h.left,top:h.top,width:i.w,height:i.h}).data("target",f);var j=new Image;j.src=f.attr("src");var k=i.w+"x"+i.h+" ("+this.lang.image.original+": "+j.width+"x"+j.height+")";e.find(".note-control-selection-info").text(k),this.context.invoke("editor.saveTarget",b)}else this.hide();return d},b.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},b}(),hc="http://",ic=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,jc=function(){function b(a){var b=this;this.context=a,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return b.prototype.initialize=function(){this.lastWordRange=null},b.prototype.destroy=function(){this.lastWordRange=null},b.prototype.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),c=b.match(ic);if(c&&(c[1]||c[2])){var d=c[1]?b:hc+b,e=a("<a />").html(b).attr("href",d)[0];this.context.options.linkTargetBlank&&a(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}},b.prototype.handleKeydown=function(a){if(Ab.contains([Sb.code.ENTER,Sb.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}},b.prototype.handleKeyup=function(a){Ab.contains([Sb.code.ENTER,Sb.code.SPACE],a.keyCode)&&this.replace()},b}(),kc=function(){function a(a){var b=this;this.$note=a.layoutInfo.note,this.events={"summernote.change":function(){b.$note.val(a.invoke("code"))}}}return a.prototype.shouldInitialize=function(){return Nb.isTextarea(this.$note[0])},a}(),lc=function(){function a(a){var b=this;this.context=a,this.options=a.options.replace||{},this.keys=[Sb.code.ENTER,Sb.code.SPACE,Sb.code.PERIOD,Sb.code.COMMA,Sb.code.SEMICOLON,Sb.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return a.prototype.shouldInitialize=function(){return!!this.options.match},a.prototype.initialize=function(){this.lastWord=null},a.prototype.destroy=function(){this.lastWord=null},a.prototype.replace=function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=Nb.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}},a.prototype.handleKeydown=function(a){if(this.previousKeydownCode&&Ab.contains(this.keys,this.previousKeydownCode))return void(this.previousKeydownCode=a.keyCode);if(Ab.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode},a.prototype.handleKeyup=function(a){Ab.contains(this.keys,a.keyCode)&&this.replace()},a}(),mc=function(){function b(a){var b=this;this.context=a,this.$editingArea=a.layoutInfo.editingArea,this.options=a.options,this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}}}return b.prototype.shouldInitialize=function(){return!!this.options.placeholder},b.prototype.initialize=function(){var b=this;this.$placeholder=a('<div class="note-placeholder">'),this.$placeholder.on("click",function(){b.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},b.prototype.destroy=function(){this.$placeholder.remove()},b.prototype.update=function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)},b}(),nc=function(){function b(b){this.ui=a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,
this.invertedKeyMap=zb.invertObject(this.options.keyMap[xb.isMac?"mac":"pc"])}return b.prototype.representShortcut=function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(xb.isMac&&(b=b.replace("CMD","⌘").replace("SHIFT","⇧")),b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+b+")"):""},b.prototype.button=function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)},b.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},b.prototype.destroy=function(){delete this.fontInstalledMap},b.prototype.isFontInstalled=function(a){return this.fontInstalledMap.hasOwnProperty(a)||(this.fontInstalledMap[a]=xb.isFontInstalled(a)||Ab.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]},b.prototype.isFontDeservedToAdd=function(a){var b=["sans-serif","serif","monospace","cursive","fantasy"];return a=a.toLowerCase(),""!==a&&this.isFontInstalled(a)&&-1===b.indexOf(a)},b.prototype.colorPalette=function(b,c,d,e){var f=this;return this.ui.buttonGroup({className:"note-color "+b,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:c,click:function(b){var c=a(b.currentTarget);d&&e?f.context.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")}):d?f.context.invoke("editor.color",{backColor:c.attr("data-backColor")}):e&&f.context.invoke("editor.color",{foreColor:c.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");d&&(b.css("background-color",f.options.colorButton.backColor),a.attr("data-backColor",f.options.colorButton.backColor)),e?(b.css("color",f.options.colorButton.foreColor),a.attr("data-foreColor",f.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(d?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(e?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(b){b.find(".note-holder").each(function(b,c){var d=a(c);d.append(f.ui.palette({colors:f.options.colors,colorsName:f.options.colorsName,eventName:d.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())});var c=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];b.find(".note-holder-custom").each(function(b,d){var e=a(d);e.append(f.ui.palette({colors:c,colorsName:c,eventName:e.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())}),b.find("input[type=color]").each(function(c,d){a(d).change(function(){var c=b.find("#"+a(this).data("event")).find(".note-color-btn").first(),d=this.value.toUpperCase();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.click()})})},click:function(c){c.stopPropagation();var d=a("."+b),e=a(c.target),g=e.data("event"),h=e.attr("data-value");if("openPalette"===g){var i=d.find("#"+h),j=a(d.find("#"+i.data("event")).find(".note-color-row")[0]),k=j.find(".note-color-btn").last().detach(),l=i.val();k.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),j.prepend(k),i.click()}else if(Ab.contains(["backColor","foreColor"],g)){var m="backColor"===g?"background-color":"color",n=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");n.css(m,h),o.attr("data-"+g,h),f.context.invoke("editor."+g,h)}}})]}).render()},b.prototype.addToolbarButtons=function(){var b=this;this.context.memo("button.style",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.magic),b.options),tooltip:b.lang.style.style,data:{toggle:"dropdown"}}),b.ui.dropdown({className:"dropdown-style",items:b.options.styleTags,title:b.lang.style.style,template:function(a){"string"==typeof a&&(a={tag:a,title:b.lang.style.hasOwnProperty(a)?b.lang.style[a]:a});var c=a.tag,d=a.title,e=a.style?' style="'+a.style+'" ':"",f=a.className?' class="'+a.className+'"':"";return"<"+c+e+f+">"+d+"</"+c+">"},click:b.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var c=function(a,c){var e=d.options.styleTags[a];d.context.memo("button.style."+e,function(){return b.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:b.lang.style[e],click:b.context.createInvokeHandler("editor.formatBlock")}).render()})},d=this,e=0,f=this.options.styleTags.length;f>e;e++)c(e,f);this.context.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.ui.icon(b.options.icons.bold),tooltip:b.lang.font.bold+b.representShortcut("bold"),click:b.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.ui.icon(b.options.icons.italic),tooltip:b.lang.font.italic+b.representShortcut("italic"),click:b.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.ui.icon(b.options.icons.underline),tooltip:b.lang.font.underline+b.representShortcut("underline"),click:b.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return b.button({contents:b.ui.icon(b.options.icons.eraser),tooltip:b.lang.font.clear+b.representShortcut("removeFormat"),click:b.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.ui.icon(b.options.icons.strikethrough),tooltip:b.lang.font.strikethrough+b.representShortcut("strikethrough"),click:b.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.ui.icon(b.options.icons.superscript),tooltip:b.lang.font.superscript,click:b.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.ui.icon(b.options.icons.subscript),tooltip:b.lang.font.subscript,click:b.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var c=b.context.invoke("editor.currentStyle");return a.each(c["font-family"].split(","),function(a,c){c=c.trim().replace(/['"]+/g,""),b.isFontDeservedToAdd(c)&&-1===b.options.fontNames.indexOf(c)&&b.options.fontNames.push(c)}),b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontname"/>',b.options),tooltip:b.lang.font.name,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:b.options.icons.menuCheck,items:b.options.fontNames.filter(b.isFontInstalled.bind(b)),title:b.lang.font.name,template:function(a){return"<span style=\"font-family: '"+a+"'\">"+a+"</span>"},click:b.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',b.options),tooltip:b.lang.font.size,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:b.options.icons.menuCheck,items:b.options.fontSizes,title:b.lang.font.size,click:b.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return b.colorPalette("note-color-all",b.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return b.colorPalette("note-color-fore",b.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return b.colorPalette("note-color-back",b.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return b.button({contents:b.ui.icon(b.options.icons.unorderedlist),tooltip:b.lang.lists.unordered+b.representShortcut("insertUnorderedList"),click:b.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return b.button({contents:b.ui.icon(b.options.icons.orderedlist),tooltip:b.lang.lists.ordered+b.representShortcut("insertOrderedList"),click:b.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),h=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),i=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),j=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),k=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",zb.invoke(g,"render")),this.context.memo("button.justifyCenter",zb.invoke(h,"render")),this.context.memo("button.justifyRight",zb.invoke(i,"render")),this.context.memo("button.justifyFull",zb.invoke(j,"render")),this.context.memo("button.outdent",zb.invoke(k,"render")),this.context.memo("button.indent",zb.invoke(l,"render")),this.context.memo("button.paragraph",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.alignLeft),b.options),tooltip:b.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),b.ui.dropdown([b.ui.buttonGroup({className:"note-align",children:[g,h,i,j]}),b.ui.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),this.context.memo("button.height",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.textHeight),b.options),tooltip:b.lang.font.height,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({items:b.options.lineHeights,checkClassName:b.options.icons.menuCheck,className:"dropdown-line-height",title:b.lang.font.height,click:b.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.table),b.options),tooltip:b.lang.table.table,data:{toggle:"dropdown"}}),b.ui.dropdown({title:b.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(a){var c=a.find(".note-dimension-picker-mousecatcher");c.css({width:b.options.insertTableMaxSize.col+"em",height:b.options.insertTableMaxSize.row+"em"}).mousedown(b.context.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler.bind(b))}}).render()}),this.context.memo("button.link",function(){return b.button({contents:b.ui.icon(b.options.icons.link),tooltip:b.lang.link.link+b.representShortcut("linkDialog.show"),click:b.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return b.button({contents:b.ui.icon(b.options.icons.picture),tooltip:b.lang.image.image,click:b.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return b.button({contents:b.ui.icon(b.options.icons.video),tooltip:b.lang.video.video,click:b.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return b.button({contents:b.ui.icon(b.options.icons.minus),tooltip:b.lang.hr.insert+b.representShortcut("insertHorizontalRule"),click:b.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.ui.icon(b.options.icons.arrowsAlt),tooltip:b.lang.options.fullscreen,click:b.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.ui.icon(b.options.icons.code),tooltip:b.lang.options.codeview,click:b.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return b.button({contents:b.ui.icon(b.options.icons.redo),tooltip:b.lang.history.redo+b.representShortcut("redo"),click:b.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return b.button({contents:b.ui.icon(b.options.icons.undo),tooltip:b.lang.history.undo+b.representShortcut("undo"),click:b.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return b.button({contents:b.ui.icon(b.options.icons.question),tooltip:b.lang.options.help,click:b.context.createInvokeHandler("helpDialog.show")}).render()})},b.prototype.addImagePopoverButtons=function(){var a=this;this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})},b.prototype.addLinkPopoverButtons=function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})},b.prototype.addTablePopoverButtons=function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})},b.prototype.build=function(a,b){for(var c=0,d=b.length;d>c;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;j>i;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k():k)}h.appendTo(a)}},b.prototype.updateCurrentStyle=function(b){var c=this,d=b||this.$toolbar,e=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(d,{".note-btn-bold":function(){return"bold"===e["font-bold"]},".note-btn-italic":function(){return"italic"===e["font-italic"]},".note-btn-underline":function(){return"underline"===e["font-underline"]},".note-btn-subscript":function(){return"subscript"===e["font-subscript"]},".note-btn-superscript":function(){return"superscript"===e["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===e["font-strikethrough"]}}),e["font-family"]){var f=e["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=Ab.find(f,this.isFontInstalled.bind(this));d.find(".dropdown-fontname a").each(function(b,c){var d=a(c),e=d.data("value")+""==g+"";d.toggleClass("checked",e)}),d.find(".note-current-fontname").text(g).css("font-family",g)}if(e["font-size"]){var h=e["font-size"];d.find(".dropdown-fontsize a").each(function(b,c){var d=a(c),e=d.data("value")+""==h+"";d.toggleClass("checked",e)}),d.find(".note-current-fontsize").text(h)}if(e["line-height"]){var i=e["line-height"];d.find(".dropdown-line-height li a").each(function(b,d){var e=a(d).data("value")+""==i+"";c.className=e?"checked":""})}},b.prototype.updateBtnStates=function(b,c){var d=this;a.each(c,function(a,c){d.ui.toggleBtnActive(b.find(a),c())})},b.prototype.tableMoveHandler=function(b){var c,d=18,e=a(b.target.parentNode),f=e.next(),g=e.find(".note-dimension-picker-mousecatcher"),h=e.find(".note-dimension-picker-highlighted"),i=e.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var j=a(b.target).offset();c={x:b.pageX-j.left,y:b.pageY-j.top}}else c={x:b.offsetX,y:b.offsetY};var k={c:Math.ceil(c.x/d)||1,r:Math.ceil(c.y/d)||1};h.css({width:k.c+"em",height:k.r+"em"}),g.data("value",k.c+"x"+k.r),k.c>3&&k.c<this.options.insertTableMaxSize.col&&i.css({width:k.c+1+"em"}),k.r>3&&k.r<this.options.insertTableMaxSize.row&&i.css({height:k.r+1+"em"}),f.html(k.c+" x "+k.r)},b}(),oc=function(){function b(b){this.context=b,this.$window=a(window),this.$document=a(document),this.ui=a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return b.prototype.shouldInitialize=function(){return!this.options.airMode},b.prototype.initialize=function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},b.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},b.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var b=this.$editor.outerHeight(),c=this.$editor.width(),d=this.$toolbar.height(),e=this.$statusbar.height(),f=0;this.options.otherStaticBar&&(f=a(this.options.otherStaticBar).outerHeight());var g=this.$document.scrollTop(),h=this.$editor.offset().top,i=h+b,j=h-f,k=i-f-d-e;!this.isFollowing&&g>j&&k-d>g?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:f,width:c}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(j>g||g>k)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},b.prototype.changeContainer=function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},b.prototype.updateFullscreen=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)},b.prototype.updateCodeview=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()},b.prototype.activate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!0)},b.prototype.deactivate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!1)},b}(),pc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return b.prototype.initialize=function(){var b=this.options.dialogsInBody?this.$body:this.$editor,c=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":a("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),d="btn btn-primary note-btn note-btn-primary note-link-btn",e='<input type="button" href="#" class="'+d+'" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:c,footer:e}).render().appendTo(b)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.toggleLinkBtn=function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())},b.prototype.showLinkDialog=function(b){var c=this;return a.Deferred(function(a){var d=c.$dialog.find(".note-link-text"),e=c.$dialog.find(".note-link-url"),f=c.$dialog.find(".note-link-btn"),g=c.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),!b.url&&zb.isValidUrl(b.text)&&(b.url=b.text),d.on("input paste propertychange",function(){b.text=d.val(),c.toggleLinkBtn(f,d,e)}).val(b.text),e.on("input paste propertychange",function(){b.text||d.val(e.val()),c.toggleLinkBtn(f,d,e)}).val(b.url),xb.isSupportTouch||e.trigger("focus"),c.toggleLinkBtn(f,d,e),c.bindEnterKey(e,f),c.bindEnterKey(d,f);var h=void 0!==b.isNewWindow?b.isNewWindow:c.context.options.linkTargetBlank;g.prop("checked",h),f.one("click",function(f){f.preventDefault(),a.resolve({range:b.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked")}),c.ui.hideDialog(c.$dialog)})}),c.ui.onDialogHidden(c.$dialog,function(){d.off(),e.off(),f.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)}).promise()},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b}(),qc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.link)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){var b=a.find(".popover-content,.note-popover-content");b.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){if(!this.context.invoke("editor.hasFocus"))return void this.hide();var b=this.context.invoke("editor.getLastRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=Nb.ancestor(b.sc,Nb.isAnchor),d=a(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=Nb.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),rc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b="";if(this.options.maximumImageFileSize){var c=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),d=1*(this.options.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";b="<small>"+(this.lang.image.maximumFileSize+" : "+d)+"</small>"}var e=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',b,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),f="btn btn-primary note-btn note-btn-primary note-image-btn",g='<input type="button" href="#" class="'+f+'" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:g}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showImageDialog=function(){var b=this;return a.Deferred(function(a){var c=b.$dialog.find(".note-image-input"),d=b.$dialog.find(".note-image-url"),e=b.$dialog.find(".note-image-btn");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){a.resolve(b.target.files||b.target.value)}).val("")),d.on("input paste propertychange",function(){b.ui.toggleBtn(e,d.val())}).val(""),xb.isSupportTouch||d.trigger("focus"),e.click(function(b){b.preventDefault(),a.resolve(d.val())}),b.bindEnterKey(d,e)}),b.ui.onDialogHidden(b.$dialog,function(){c.off(),d.off(),e.off(),"pending"===a.state()&&a.reject()}),b.ui.showDialog(b.$dialog)})},b}(),sc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.image)},b.prototype.initialize=function(){
this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a,b){if(Nb.isImg(a)){var c=Nb.posFromPlaceholder(a),d=Nb.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?b.pageX-20:c.left,top:this.options.popatmouse?b.pageY:Math.min(c.top,d.top)})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),tc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!Ab.isEmpty(this.options.popover.table)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),xb.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a){if(this.context.isDisabled())return!1;var b=Nb.isCell(a);if(b){var c=Nb.posFromPlaceholder(a);this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b},b.prototype.hide=function(){this.$popover.hide()},b}(),uc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),c="btn btn-primary note-btn note-btn-primary note-video-btn",d='<input type="button" href="#" class="'+c+'" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:d}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Sb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.createVideoNode=function(b){var c,d=/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/,e=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/,f=b.match(d),g=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,h=b.match(g),i=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,j=b.match(i),k=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,l=b.match(k),m=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,n=b.match(m),o=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=b.match(o),q=/\/\/v\.qq\.com.*?vid=(.+)/,r=b.match(q),s=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,t=b.match(s),u=/^.+.(mp4|m4v)$/,v=b.match(u),w=/^.+.(ogg|ogv)$/,x=b.match(w),y=/^.+.(webm)$/,z=b.match(y),A=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/,B=b.match(A);if(f&&11===f[1].length){var C=f[1],D=0;if("undefined"!=typeof f[2]){var E=f[2].match(e);if(E)for(var F=[3600,60,1],G=0,H=F.length;H>G;G++)D+="undefined"!=typeof E[G+1]?F[G]*parseInt(E[G+1],10):0}c=a("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+C+(D>0?"?start="+D:"")).attr("width","640").attr("height","360")}else if(h&&h[0].length)c=a("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+h[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(j&&j[0].length)c=a("<iframe>").attr("frameborder",0).attr("src",j[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(l&&l[3].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+l[3]).attr("width","640").attr("height","360");else if(n&&n[2].length)c=a("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+n[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(r&&r[1].length||t&&t[2].length){var I=r&&r[1].length?r[1]:t[2];c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+I+"&amp;auto=0")}else if(v||x||z)c=a("<video controls>").attr("src",b).attr("width","640").attr("height","360");else{if(!B||!B[0].length)return!1;c=a("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(B[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return c.addClass("note-video-clip"),c[0]},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");var c=a.createVideoNode(b);c&&a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showVideoDialog=function(b){var c=this;return a.Deferred(function(a){var b=c.$dialog.find(".note-video-url"),d=c.$dialog.find(".note-video-btn");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),b.on("input paste propertychange",function(){c.ui.toggleBtn(d,b.val())}),xb.isSupportTouch||b.trigger("focus"),d.click(function(c){c.preventDefault(),a.resolve(b.val())}),c.bindEnterKey(b,d)}),c.ui.onDialogHidden(c.$dialog,function(){b.off(),d.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)})},b}(),vc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.createShortcutList=function(){var b=this,c=this.options.keyMap[xb.isMac?"mac":"pc"];return Object.keys(c).map(function(d){var e=c[d],f=a('<div><div class="help-list-item"/></div>');return f.append(a("<label><kbd>"+d+"</kdb></label>").css({width:180,"margin-right":10})).append(a("<span/>").html(b.context.memo("help."+e)||e)),f.html()}).join("")},b.prototype.showHelpDialog=function(){var b=this;return a.Deferred(function(a){b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),a.resolve()}),b.ui.showDialog(b.$dialog)}).promise()},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})},b}(),wc=20,xc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){c.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){c.hide()},"summernote.focusout":function(a,b){xb.isFF||b.relatedTarget&&Nb.ancestor(b.relatedTarget,zb.eq(c.$popover[0]))||c.hide()}}}return b.prototype.shouldInitialize=function(){return this.options.airMode&&!Ab.isEmpty(this.options.popover.air)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content");this.context.invoke("buttons.build",a,this.options.popover.air)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){var a=this.context.invoke("editor.currentStyle");if(a.range&&!a.range.isCollapsed()){var b=Ab.last(a.range.getClientRects());if(b){var c=zb.rect2bnd(b);this.$popover.css({display:"block",left:Math.max(c.left+c.width/2,0)-wc,top:c.top+c.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),yc=5,zc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return this.hints.length>0},b.prototype.initialize=function(){var b=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(c){b.$content.find(".active").removeClass("active"),a(c.currentTarget).addClass("active"),b.replace()})},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},b.prototype.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},b.prototype.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},b.prototype.replace=function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);this.lastWordRange.insertNode(b),Qb.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},b.prototype.nodeFromItem=function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=Nb.createText(d)),d},b.prototype.createItemTemplates=function(b,c){var d=this.hints[b];return c.map(function(c,e){var f=a('<div class="note-hint-item"/>');return f.append(d.template?d.template(c):c+""),f.data({index:b,item:c}),f})},b.prototype.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===Sb.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===Sb.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===Sb.code.DOWN&&(a.preventDefault(),this.moveDown()))},b.prototype.searchKeyword=function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},b.prototype.createGroup=function(b,c){var d=this,e=a('<div class="note-hint-group note-hint-group-'+b+'"/>');return this.searchKeyword(b,c,function(a){a=a||[],a.length&&(e.html(d.createItemTemplates(b,a)),d.show())}),e},b.prototype.handleKeyup=function(a){var b=this;if(!Ab.contains([Sb.code.ENTER,Sb.code.UP,Sb.code.DOWN],a.keyCode)){var c=this.context.invoke("editor.getLastRange").getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var e=zb.rect2bnd(Ab.last(c.getClientRects()));e&&(this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-yc}):this.$popover.css({left:e.left,top:e.top+e.height+yc}))}else this.hide()}},b.prototype.show=function(){this.$popover.show()},b.prototype.hide=function(){this.$popover.hide()},b}();a.summernote=a.extend(a.summernote,{version:"0.8.12",plugins:{},dom:Nb,range:Qb,options:{langInfo:a.summernote.lang["en-US"],modules:{editor:_b,clipboard:ac,dropzone:bc,codeview:cc,statusbar:ec,fullscreen:fc,handle:gc,hintPopover:zc,autoLink:jc,autoSync:kc,autoReplace:lc,placeholder:mc,buttons:nc,toolbar:oc,linkDialog:pc,linkPopover:qc,imageDialog:rc,imagePopover:sc,tablePopover:tc,videoDialog:uc,helpDialog:vc,airPopover:xc},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),a.summernote=a.extend(a.summernote,{ui:nb})})},{jquery:528}],59:[function(a,b,c){!function(a,d){"object"==typeof c&&"undefined"!=typeof b?b.exports=d():"function"==typeof define&&define.amd?define(d):a.CodeMirror=d()}(this,function(){"use strict";function a(a){return new RegExp("(^|\\s)"+a+"(?:$|\\s)\\s*")}function b(a){for(var b=a.childNodes.length;b>0;--b)a.removeChild(a.firstChild);return a}function c(a,c){return b(a).appendChild(c)}function d(a,b,c,d){var e=document.createElement(a);if(c&&(e.className=c),d&&(e.style.cssText=d),"string"==typeof b)e.appendChild(document.createTextNode(b));else if(b)for(var f=0;f<b.length;++f)e.appendChild(b[f]);return e}function e(a,b,c,e){var f=d(a,b,c,e);return f.setAttribute("role","presentation"),f}function f(a,b){if(3==b.nodeType&&(b=b.parentNode),a.contains)return a.contains(b);do if(11==b.nodeType&&(b=b.host),b==a)return!0;while(b=b.parentNode)}function g(){var a;try{a=document.activeElement}catch(b){a=document.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function h(b,c){var d=b.className;a(c).test(d)||(b.className+=(d?" ":"")+c)}function i(b,c){for(var d=b.split(" "),e=0;e<d.length;e++)d[e]&&!a(d[e]).test(c)&&(c+=" "+d[e]);return c}function j(a){var b=Array.prototype.slice.call(arguments,1);return function(){return a.apply(null,b)}}function k(a,b,c){b||(b={});for(var d in a)!a.hasOwnProperty(d)||c===!1&&b.hasOwnProperty(d)||(b[d]=a[d]);return b}function l(a,b,c,d,e){null==b&&(b=a.search(/[^\s\u00a0]/),-1==b&&(b=a.length));for(var f=d||0,g=e||0;;){var h=a.indexOf("	",f);if(0>h||h>=b)return g+(b-f);g+=h-f,g+=c-g%c,f=h+1}}function m(a,b){for(var c=0;c<a.length;++c)if(a[c]==b)return c;return-1}function n(a,b,c){for(var d=0,e=0;;){var f=a.indexOf("	",d);-1==f&&(f=a.length);var g=f-d;if(f==a.length||e+g>=b)return d+Math.min(g,b-e);if(e+=f-d,e+=c-e%c,d=f+1,e>=b)return d}}function o(a){for(;Yg.length<=a;)Yg.push(p(Yg)+" ");return Yg[a]}function p(a){return a[a.length-1]}function q(a,b){for(var c=[],d=0;d<a.length;d++)c[d]=b(a[d],d);return c}function r(a,b,c){for(var d=0,e=c(b);d<a.length&&c(a[d])<=e;)d++;a.splice(d,0,b)}function s(){}function t(a,b){var c;return Object.create?c=Object.create(a):(s.prototype=a,c=new s),b&&k(b,c),c}function u(a){return/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||Zg.test(a))}function v(a,b){return b?b.source.indexOf("\\w")>-1&&u(a)?!0:b.test(a):u(a)}function w(a){for(var b in a)if(a.hasOwnProperty(b)&&a[b])return!1;return!0}function x(a){return a.charCodeAt(0)>=768&&$g.test(a)}function y(a,b,c){for(;(0>c?b>0:b<a.length)&&x(a.charAt(b));)b+=c;return b}function z(a,b,c){for(var d=b>c?-1:1;;){if(b==c)return b;var e=(b+c)/2,f=0>d?Math.ceil(e):Math.floor(e);if(f==b)return a(f)?b:c;a(f)?c=f:b=f+d}}function A(a,b,c,d){if(!a)return d(b,c,"ltr",0);for(var e=!1,f=0;f<a.length;++f){var g=a[f];(g.from<c&&g.to>b||b==c&&g.to==b)&&(d(Math.max(g.from,b),Math.min(g.to,c),1==g.level?"rtl":"ltr",f),e=!0)}e||d(b,c,"ltr")}function B(a,b,c){var d;_g=null;for(var e=0;e<a.length;++e){var f=a[e];if(f.from<b&&f.to>b)return e;f.to==b&&(f.from!=f.to&&"before"==c?d=e:_g=e),f.from==b&&(f.from!=f.to&&"before"!=c?d=e:_g=e)}return null!=d?d:_g}function C(a,b){var c=a.order;return null==c&&(c=a.order=ah(a.text,b)),c}function D(a,b){return a._handlers&&a._handlers[b]||bh}function E(a,b,c){if(a.removeEventListener)a.removeEventListener(b,c,!1);else if(a.detachEvent)a.detachEvent("on"+b,c);else{var d=a._handlers,e=d&&d[b];if(e){var f=m(e,c);f>-1&&(d[b]=e.slice(0,f).concat(e.slice(f+1)))}}}function F(a,b){var c=D(a,b);if(c.length)for(var d=Array.prototype.slice.call(arguments,2),e=0;e<c.length;++e)c[e].apply(null,d)}function G(a,b,c){return"string"==typeof b&&(b={type:b,preventDefault:function(){this.defaultPrevented=!0}}),F(a,c||b.type,a,b),M(b)||b.codemirrorIgnore}function H(a){var b=a._handlers&&a._handlers.cursorActivity;if(b)for(var c=a.curOp.cursorActivityHandlers||(a.curOp.cursorActivityHandlers=[]),d=0;d<b.length;++d)-1==m(c,b[d])&&c.push(b[d])}function I(a,b){return D(a,b).length>0}function J(a){a.prototype.on=function(a,b){ch(this,a,b)},a.prototype.off=function(a,b){E(this,a,b)}}function K(a){a.preventDefault?a.preventDefault():a.returnValue=!1}function L(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0}function M(a){return null!=a.defaultPrevented?a.defaultPrevented:0==a.returnValue}function N(a){K(a),L(a)}function O(a){return a.target||a.srcElement}function P(a){var b=a.which;return null==b&&(1&a.button?b=1:2&a.button?b=3:4&a.button&&(b=2)),Hg&&a.ctrlKey&&1==b&&(b=3),b}function Q(a){if(null==Rg){var b=d("span","​");c(a,d("span",[b,document.createTextNode("x")])),0!=a.firstChild.offsetHeight&&(Rg=b.offsetWidth<=1&&b.offsetHeight>2&&!(vg&&8>wg))}var e=Rg?d("span","​"):d("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return e.setAttribute("cm-text",""),e}function R(a){if(null!=Sg)return Sg;var d=c(a,document.createTextNode("AخA")),e=Lg(d,0,1).getBoundingClientRect(),f=Lg(d,1,2).getBoundingClientRect();return b(a),e&&e.left!=e.right?Sg=f.right-e.right<3:!1}function S(a){if(null!=hh)return hh;var b=c(a,d("span","x")),e=b.getBoundingClientRect(),f=Lg(b,0,1).getBoundingClientRect();return hh=Math.abs(e.left-f.left)>1}function T(a,b){arguments.length>2&&(b.dependencies=Array.prototype.slice.call(arguments,2)),ih[a]=b}function U(a,b){jh[a]=b}function V(a){if("string"==typeof a&&jh.hasOwnProperty(a))a=jh[a];else if(a&&"string"==typeof a.name&&jh.hasOwnProperty(a.name)){var b=jh[a.name];"string"==typeof b&&(b={name:b}),a=t(b,a),a.name=b.name}else{if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+xml$/.test(a))return V("application/xml");if("string"==typeof a&&/^[\w\-]+\/[\w\-]+\+json$/.test(a))return V("application/json")}return"string"==typeof a?{name:a}:a||{name:"null"}}function W(a,b){b=V(b);var c=ih[b.name];if(!c)return W(a,"text/plain");var d=c(a,b);if(kh.hasOwnProperty(b.name)){var e=kh[b.name];for(var f in e)e.hasOwnProperty(f)&&(d.hasOwnProperty(f)&&(d["_"+f]=d[f]),d[f]=e[f])}if(d.name=b.name,b.helperType&&(d.helperType=b.helperType),b.modeProps)for(var g in b.modeProps)d[g]=b.modeProps[g];return d}function X(a,b){var c=kh.hasOwnProperty(a)?kh[a]:kh[a]={};k(b,c)}function Y(a,b){if(b===!0)return b;if(a.copyState)return a.copyState(b);var c={};for(var d in b){var e=b[d];e instanceof Array&&(e=e.concat([])),c[d]=e}return c}function Z(a,b){for(var c;a.innerMode&&(c=a.innerMode(b),c&&c.mode!=a);)b=c.state,a=c.mode;return c||{mode:a,state:b}}function $(a,b,c){return a.startState?a.startState(b,c):!0}function _(a,b){if(b-=a.first,0>b||b>=a.size)throw new Error("There is no line "+(b+a.first)+" in the document.");for(var c=a;!c.lines;)for(var d=0;;++d){var e=c.children[d],f=e.chunkSize();if(f>b){c=e;break}b-=f}return c.lines[b]}function aa(a,b,c){var d=[],e=b.line;return a.iter(b.line,c.line+1,function(a){var f=a.text;e==c.line&&(f=f.slice(0,c.ch)),e==b.line&&(f=f.slice(b.ch)),d.push(f),++e}),d}function ba(a,b,c){var d=[];return a.iter(b,c,function(a){d.push(a.text)}),d}function ca(a,b){var c=b-a.height;if(c)for(var d=a;d;d=d.parent)d.height+=c}function da(a){if(null==a.parent)return null;for(var b=a.parent,c=m(b.lines,a),d=b.parent;d;b=d,d=d.parent)for(var e=0;d.children[e]!=b;++e)c+=d.children[e].chunkSize();return c+b.first}function ea(a,b){var c=a.first;a:do{for(var d=0;d<a.children.length;++d){var e=a.children[d],f=e.height;if(f>b){a=e;continue a}b-=f,c+=e.chunkSize()}return c}while(!a.lines);for(var g=0;g<a.lines.length;++g){var h=a.lines[g],i=h.height;if(i>b)break;b-=i}return c+g}function fa(a,b){return b>=a.first&&b<a.first+a.size}function ga(a,b){return String(a.lineNumberFormatter(b+a.firstLineNumber))}function ha(a,b,c){return void 0===c&&(c=null),this instanceof ha?(this.line=a,this.ch=b,void(this.sticky=c)):new ha(a,b,c)}function ia(a,b){return a.line-b.line||a.ch-b.ch}function ja(a,b){return a.sticky==b.sticky&&0==ia(a,b)}function ka(a){return ha(a.line,a.ch)}function la(a,b){return ia(a,b)<0?b:a}function ma(a,b){return ia(a,b)<0?a:b}function na(a,b){return Math.max(a.first,Math.min(b,a.first+a.size-1))}function oa(a,b){if(b.line<a.first)return ha(a.first,0);var c=a.first+a.size-1;return b.line>c?ha(c,_(a,c).text.length):pa(b,_(a,b.line).text.length)}function pa(a,b){var c=a.ch;return null==c||c>b?ha(a.line,b):0>c?ha(a.line,0):a}function qa(a,b){for(var c=[],d=0;d<b.length;d++)c[d]=oa(a,b[d]);return c}function ra(a,b,c,d){var e=[a.state.modeGen],f={};za(a,b.text,a.doc.mode,c,function(a,b){return e.push(a,b)},f,d);for(var g=c.state,h=function(d){c.baseTokens=e;var h=a.state.overlays[d],i=1,j=0;c.state=!0,za(a,b.text,h.mode,c,function(a,b){for(var c=i;a>j;){var d=e[i];d>a&&e.splice(i,1,a,e[i+1],d),i+=2,j=Math.min(a,d)}if(b)if(h.opaque)e.splice(c,i-c,a,"overlay "+b),i=c+2;else for(;i>c;c+=2){var f=e[c+1];e[c+1]=(f?f+" ":"")+"overlay "+b}},f),c.state=g,c.baseTokens=null,c.baseTokenPos=1},i=0;i<a.state.overlays.length;++i)h(i);return{styles:e,classes:f.bgClass||f.textClass?f:null}}function sa(a,b,c){if(!b.styles||b.styles[0]!=a.state.modeGen){var d=ta(a,da(b)),e=b.text.length>a.options.maxHighlightLength&&Y(a.doc.mode,d.state),f=ra(a,b,d);e&&(d.state=e),b.stateAfter=d.save(!e),b.styles=f.styles,f.classes?b.styleClasses=f.classes:b.styleClasses&&(b.styleClasses=null),c===a.doc.highlightFrontier&&(a.doc.modeFrontier=Math.max(a.doc.modeFrontier,++a.doc.highlightFrontier))}return b.styles}function ta(a,b,c){var d=a.doc,e=a.display;if(!d.mode.startState)return new nh(d,!0,b);var f=Aa(a,b,c),g=f>d.first&&_(d,f-1).stateAfter,h=g?nh.fromSaved(d,g,f):new nh(d,$(d.mode),f);return d.iter(f,b,function(c){ua(a,c.text,h);var d=h.line;c.stateAfter=d==b-1||d%5==0||d>=e.viewFrom&&d<e.viewTo?h.save():null,h.nextLine()}),c&&(d.modeFrontier=h.line),h}function ua(a,b,c,d){var e=a.doc.mode,f=new lh(b,a.options.tabSize,c);for(f.start=f.pos=d||0,""==b&&va(e,c.state);!f.eol();)wa(e,f,c.state),f.start=f.pos}function va(a,b){if(a.blankLine)return a.blankLine(b);if(a.innerMode){var c=Z(a,b);return c.mode.blankLine?c.mode.blankLine(c.state):void 0}}function wa(a,b,c,d){for(var e=0;10>e;e++){d&&(d[0]=Z(a,c).mode);var f=a.token(b,c);if(b.pos>b.start)return f}throw new Error("Mode "+a.name+" failed to advance stream.")}function xa(a,b,c,d){var e,f=a.doc,g=f.mode;b=oa(f,b);var h,i=_(f,b.line),j=ta(a,b.line,c),k=new lh(i.text,a.options.tabSize,j);for(d&&(h=[]);(d||k.pos<b.ch)&&!k.eol();)k.start=k.pos,e=wa(g,k,j.state),d&&h.push(new oh(k,e,Y(f.mode,j.state)));return d?h:new oh(k,e,j.state)}function ya(a,b){if(a)for(;;){var c=a.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!c)break;a=a.slice(0,c.index)+a.slice(c.index+c[0].length);var d=c[1]?"bgClass":"textClass";null==b[d]?b[d]=c[2]:new RegExp("(?:^|s)"+c[2]+"(?:$|s)").test(b[d])||(b[d]+=" "+c[2])}return a}function za(a,b,c,d,e,f,g){var h=c.flattenSpans;null==h&&(h=a.options.flattenSpans);var i,j=0,k=null,l=new lh(b,a.options.tabSize,d),m=a.options.addModeClass&&[null];for(""==b&&ya(va(c,d.state),f);!l.eol();){if(l.pos>a.options.maxHighlightLength?(h=!1,g&&ua(a,b,d,l.pos),l.pos=b.length,i=null):i=ya(wa(c,l,d.state,m),f),m){var n=m[0].name;n&&(i="m-"+(i?n+" "+i:n))}if(!h||k!=i){for(;j<l.start;)j=Math.min(l.start,j+5e3),e(j,k);k=i}l.start=l.pos}for(;j<l.pos;){var o=Math.min(l.pos,j+5e3);e(o,k),j=o}}function Aa(a,b,c){for(var d,e,f=a.doc,g=c?-1:b-(a.doc.mode.innerMode?1e3:100),h=b;h>g;--h){if(h<=f.first)return f.first;var i=_(f,h-1),j=i.stateAfter;if(j&&(!c||h+(j instanceof mh?j.lookAhead:0)<=f.modeFrontier))return h;var k=l(i.text,null,a.options.tabSize);(null==e||d>k)&&(e=h-1,d=k)}return e}function Ba(a,b){if(a.modeFrontier=Math.min(a.modeFrontier,b),!(a.highlightFrontier<b-10)){for(var c=a.first,d=b-1;d>c;d--){var e=_(a,d).stateAfter;if(e&&(!(e instanceof mh)||d+e.lookAhead<b)){c=d+1;break;
}}a.highlightFrontier=Math.min(a.highlightFrontier,c)}}function Ca(){ph=!0}function Da(){qh=!0}function Ea(a,b,c){this.marker=a,this.from=b,this.to=c}function Fa(a,b){if(a)for(var c=0;c<a.length;++c){var d=a[c];if(d.marker==b)return d}}function Ga(a,b){for(var c,d=0;d<a.length;++d)a[d]!=b&&(c||(c=[])).push(a[d]);return c}function Ha(a,b){a.markedSpans=a.markedSpans?a.markedSpans.concat([b]):[b],b.marker.attachLine(a)}function Ia(a,b,c){var d;if(a)for(var e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);if(h||f.from==b&&"bookmark"==g.type&&(!c||!f.marker.insertLeft)){var i=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);(d||(d=[])).push(new Ea(g,f.from,i?null:f.to))}}return d}function Ja(a,b,c){var d;if(a)for(var e=0;e<a.length;++e){var f=a[e],g=f.marker,h=null==f.to||(g.inclusiveRight?f.to>=b:f.to>b);if(h||f.from==b&&"bookmark"==g.type&&(!c||f.marker.insertLeft)){var i=null==f.from||(g.inclusiveLeft?f.from<=b:f.from<b);(d||(d=[])).push(new Ea(g,i?null:f.from-b,null==f.to?null:f.to-b))}}return d}function Ka(a,b){if(b.full)return null;var c=fa(a,b.from.line)&&_(a,b.from.line).markedSpans,d=fa(a,b.to.line)&&_(a,b.to.line).markedSpans;if(!c&&!d)return null;var e=b.from.ch,f=b.to.ch,g=0==ia(b.from,b.to),h=Ia(c,e,g),i=Ja(d,f,g),j=1==b.text.length,k=p(b.text).length+(j?e:0);if(h)for(var l=0;l<h.length;++l){var m=h[l];if(null==m.to){var n=Fa(i,m.marker);n?j&&(m.to=null==n.to?null:n.to+k):m.to=e}}if(i)for(var o=0;o<i.length;++o){var q=i[o];if(null!=q.to&&(q.to+=k),null==q.from){var r=Fa(h,q.marker);r||(q.from=k,j&&(h||(h=[])).push(q))}else q.from+=k,j&&(h||(h=[])).push(q)}h&&(h=La(h)),i&&i!=h&&(i=La(i));var s=[h];if(!j){var t,u=b.text.length-2;if(u>0&&h)for(var v=0;v<h.length;++v)null==h[v].to&&(t||(t=[])).push(new Ea(h[v].marker,null,null));for(var w=0;u>w;++w)s.push(t);s.push(i)}return s}function La(a){for(var b=0;b<a.length;++b){var c=a[b];null!=c.from&&c.from==c.to&&c.marker.clearWhenEmpty!==!1&&a.splice(b--,1)}return a.length?a:null}function Ma(a,b,c){var d=null;if(a.iter(b.line,c.line+1,function(a){if(a.markedSpans)for(var b=0;b<a.markedSpans.length;++b){var c=a.markedSpans[b].marker;!c.readOnly||d&&-1!=m(d,c)||(d||(d=[])).push(c)}}),!d)return null;for(var e=[{from:b,to:c}],f=0;f<d.length;++f)for(var g=d[f],h=g.find(0),i=0;i<e.length;++i){var j=e[i];if(!(ia(j.to,h.from)<0||ia(j.from,h.to)>0)){var k=[i,1],l=ia(j.from,h.from),n=ia(j.to,h.to);(0>l||!g.inclusiveLeft&&!l)&&k.push({from:j.from,to:h.from}),(n>0||!g.inclusiveRight&&!n)&&k.push({from:h.to,to:j.to}),e.splice.apply(e,k),i+=k.length-3}}return e}function Na(a){var b=a.markedSpans;if(b){for(var c=0;c<b.length;++c)b[c].marker.detachLine(a);a.markedSpans=null}}function Oa(a,b){if(b){for(var c=0;c<b.length;++c)b[c].marker.attachLine(a);a.markedSpans=b}}function Pa(a){return a.inclusiveLeft?-1:0}function Qa(a){return a.inclusiveRight?1:0}function Ra(a,b){var c=a.lines.length-b.lines.length;if(0!=c)return c;var d=a.find(),e=b.find(),f=ia(d.from,e.from)||Pa(a)-Pa(b);if(f)return-f;var g=ia(d.to,e.to)||Qa(a)-Qa(b);return g?g:b.id-a.id}function Sa(a,b){var c,d=qh&&a.markedSpans;if(d)for(var e=void 0,f=0;f<d.length;++f)e=d[f],e.marker.collapsed&&null==(b?e.from:e.to)&&(!c||Ra(c,e.marker)<0)&&(c=e.marker);return c}function Ta(a){return Sa(a,!0)}function Ua(a){return Sa(a,!1)}function Va(a,b){var c,d=qh&&a.markedSpans;if(d)for(var e=0;e<d.length;++e){var f=d[e];f.marker.collapsed&&(null==f.from||f.from<b)&&(null==f.to||f.to>b)&&(!c||Ra(c,f.marker)<0)&&(c=f.marker)}return c}function Wa(a,b,c,d,e){var f=_(a,b),g=qh&&f.markedSpans;if(g)for(var h=0;h<g.length;++h){var i=g[h];if(i.marker.collapsed){var j=i.marker.find(0),k=ia(j.from,c)||Pa(i.marker)-Pa(e),l=ia(j.to,d)||Qa(i.marker)-Qa(e);if(!(k>=0&&0>=l||0>=k&&l>=0)&&(0>=k&&(i.marker.inclusiveRight&&e.inclusiveLeft?ia(j.to,c)>=0:ia(j.to,c)>0)||k>=0&&(i.marker.inclusiveRight&&e.inclusiveLeft?ia(j.from,d)<=0:ia(j.from,d)<0)))return!0}}}function Xa(a){for(var b;b=Ta(a);)a=b.find(-1,!0).line;return a}function Ya(a){for(var b;b=Ua(a);)a=b.find(1,!0).line;return a}function Za(a){for(var b,c;b=Ua(a);)a=b.find(1,!0).line,(c||(c=[])).push(a);return c}function $a(a,b){var c=_(a,b),d=Xa(c);return c==d?b:da(d)}function _a(a,b){if(b>a.lastLine())return b;var c,d=_(a,b);if(!ab(a,d))return b;for(;c=Ua(d);)d=c.find(1,!0).line;return da(d)+1}function ab(a,b){var c=qh&&b.markedSpans;if(c)for(var d=void 0,e=0;e<c.length;++e)if(d=c[e],d.marker.collapsed){if(null==d.from)return!0;if(!d.marker.widgetNode&&0==d.from&&d.marker.inclusiveLeft&&bb(a,b,d))return!0}}function bb(a,b,c){if(null==c.to){var d=c.marker.find(1,!0);return bb(a,d.line,Fa(d.line.markedSpans,c.marker))}if(c.marker.inclusiveRight&&c.to==b.text.length)return!0;for(var e=void 0,f=0;f<b.markedSpans.length;++f)if(e=b.markedSpans[f],e.marker.collapsed&&!e.marker.widgetNode&&e.from==c.to&&(null==e.to||e.to!=c.from)&&(e.marker.inclusiveLeft||c.marker.inclusiveRight)&&bb(a,b,e))return!0}function cb(a){a=Xa(a);for(var b=0,c=a.parent,d=0;d<c.lines.length;++d){var e=c.lines[d];if(e==a)break;b+=e.height}for(var f=c.parent;f;c=f,f=c.parent)for(var g=0;g<f.children.length;++g){var h=f.children[g];if(h==c)break;b+=h.height}return b}function db(a){if(0==a.height)return 0;for(var b,c=a.text.length,d=a;b=Ta(d);){var e=b.find(0,!0);d=e.from.line,c+=e.from.ch-e.to.ch}for(d=a;b=Ua(d);){var f=b.find(0,!0);c-=d.text.length-f.from.ch,d=f.to.line,c+=d.text.length-f.to.ch}return c}function eb(a){var b=a.display,c=a.doc;b.maxLine=_(c,c.first),b.maxLineLength=db(b.maxLine),b.maxLineChanged=!0,c.iter(function(a){var c=db(a);c>b.maxLineLength&&(b.maxLineLength=c,b.maxLine=a)})}function fb(a,b,c,d){a.text=b,a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null),null!=a.order&&(a.order=null),Na(a),Oa(a,c);var e=d?d(a):1;e!=a.height&&ca(a,e)}function gb(a){a.parent=null,Na(a)}function hb(a,b){if(!a||/^\s*$/.test(a))return null;var c=b.addModeClass?uh:th;return c[a]||(c[a]=a.replace(/\S+/g,"cm-$&"))}function ib(a,b){var c=e("span",null,null,xg?"padding-right: .1px":null),d={pre:e("pre",[c],"CodeMirror-line"),content:c,col:0,pos:0,cm:a,trailingSpace:!1,splitSpaces:a.getOption("lineWrapping")};b.measure={};for(var f=0;f<=(b.rest?b.rest.length:0);f++){var g=f?b.rest[f-1]:b.line,h=void 0;d.pos=0,d.addToken=kb,R(a.display.measure)&&(h=C(g,a.doc.direction))&&(d.addToken=mb(d.addToken,h)),d.map=[];var j=b!=a.display.externalMeasured&&da(g);ob(g,d,sa(a,g,j)),g.styleClasses&&(g.styleClasses.bgClass&&(d.bgClass=i(g.styleClasses.bgClass,d.bgClass||"")),g.styleClasses.textClass&&(d.textClass=i(g.styleClasses.textClass,d.textClass||""))),0==d.map.length&&d.map.push(0,0,d.content.appendChild(Q(a.display.measure))),0==f?(b.measure.map=d.map,b.measure.cache={}):((b.measure.maps||(b.measure.maps=[])).push(d.map),(b.measure.caches||(b.measure.caches=[])).push({}))}if(xg){var k=d.content.lastChild;(/\bcm-tab\b/.test(k.className)||k.querySelector&&k.querySelector(".cm-tab"))&&(d.content.className="cm-tab-wrap-hack")}return F(a,"renderLine",a,b.line,d.pre),d.pre.className&&(d.textClass=i(d.pre.className,d.textClass||"")),d}function jb(a){var b=d("span","•","cm-invalidchar");return b.title="\\u"+a.charCodeAt(0).toString(16),b.setAttribute("aria-label",b.title),b}function kb(a,b,c,e,f,g,h){if(b){var i,j=a.splitSpaces?lb(b,a.trailingSpace):b,k=a.cm.state.specialChars,l=!1;if(k.test(b)){i=document.createDocumentFragment();for(var m=0;;){k.lastIndex=m;var n=k.exec(b),p=n?n.index-m:b.length-m;if(p){var q=document.createTextNode(j.slice(m,m+p));vg&&9>wg?i.appendChild(d("span",[q])):i.appendChild(q),a.map.push(a.pos,a.pos+p,q),a.col+=p,a.pos+=p}if(!n)break;m+=p+1;var r=void 0;if("	"==n[0]){var s=a.cm.options.tabSize,t=s-a.col%s;r=i.appendChild(d("span",o(t),"cm-tab")),r.setAttribute("role","presentation"),r.setAttribute("cm-text","	"),a.col+=t}else"\r"==n[0]||"\n"==n[0]?(r=i.appendChild(d("span","\r"==n[0]?"␍":"␤","cm-invalidchar")),r.setAttribute("cm-text",n[0]),a.col+=1):(r=a.cm.options.specialCharPlaceholder(n[0]),r.setAttribute("cm-text",n[0]),vg&&9>wg?i.appendChild(d("span",[r])):i.appendChild(r),a.col+=1);a.map.push(a.pos,a.pos+1,r),a.pos++}}else a.col+=b.length,i=document.createTextNode(j),a.map.push(a.pos,a.pos+b.length,i),vg&&9>wg&&(l=!0),a.pos+=b.length;if(a.trailingSpace=32==j.charCodeAt(b.length-1),c||e||f||l||g){var u=c||"";e&&(u+=e),f&&(u+=f);var v=d("span",[i],u,g);if(h)for(var w in h)h.hasOwnProperty(w)&&"style"!=w&&"class"!=w&&v.setAttribute(w,h[w]);return a.content.appendChild(v)}a.content.appendChild(i)}}function lb(a,b){if(a.length>1&&!/  /.test(a))return a;for(var c=b,d="",e=0;e<a.length;e++){var f=a.charAt(e);" "!=f||!c||e!=a.length-1&&32!=a.charCodeAt(e+1)||(f=" "),d+=f,c=" "==f}return d}function mb(a,b){return function(c,d,e,f,g,h,i){e=e?e+" cm-force-border":"cm-force-border";for(var j=c.pos,k=j+d.length;;){for(var l=void 0,m=0;m<b.length&&(l=b[m],!(l.to>j&&l.from<=j));m++);if(l.to>=k)return a(c,d,e,f,g,h,i);a(c,d.slice(0,l.to-j),e,f,null,h,i),f=null,d=d.slice(l.to-j),j=l.to}}}function nb(a,b,c,d){var e=!d&&c.widgetNode;e&&a.map.push(a.pos,a.pos+b,e),!d&&a.cm.display.input.needsContentAttribute&&(e||(e=a.content.appendChild(document.createElement("span"))),e.setAttribute("cm-marker",c.id)),e&&(a.cm.display.input.setUneditable(e),a.content.appendChild(e)),a.pos+=b,a.trailingSpace=!1}function ob(a,b,c){var d=a.markedSpans,e=a.text,f=0;if(d)for(var g,h,i,j,k,l,m,n=e.length,o=0,p=1,q="",r=0;;){if(r==o){i=j=k=h="",m=null,l=null,r=1/0;for(var s=[],t=void 0,u=0;u<d.length;++u){var v=d[u],w=v.marker;if("bookmark"==w.type&&v.from==o&&w.widgetNode)s.push(w);else if(v.from<=o&&(null==v.to||v.to>o||w.collapsed&&v.to==o&&v.from==o)){if(null!=v.to&&v.to!=o&&r>v.to&&(r=v.to,j=""),w.className&&(i+=" "+w.className),w.css&&(h=(h?h+";":"")+w.css),w.startStyle&&v.from==o&&(k+=" "+w.startStyle),w.endStyle&&v.to==r&&(t||(t=[])).push(w.endStyle,v.to),w.title&&((m||(m={})).title=w.title),w.attributes)for(var x in w.attributes)(m||(m={}))[x]=w.attributes[x];w.collapsed&&(!l||Ra(l.marker,w)<0)&&(l=v)}else v.from>o&&r>v.from&&(r=v.from)}if(t)for(var y=0;y<t.length;y+=2)t[y+1]==r&&(j+=" "+t[y]);if(!l||l.from==o)for(var z=0;z<s.length;++z)nb(b,0,s[z]);if(l&&(l.from||0)==o){if(nb(b,(null==l.to?n+1:l.to)-o,l.marker,null==l.from),null==l.to)return;l.to==o&&(l=!1)}}if(o>=n)break;for(var A=Math.min(n,r);;){if(q){var B=o+q.length;if(!l){var C=B>A?q.slice(0,A-o):q;b.addToken(b,C,g?g+i:i,k,o+C.length==r?j:"",h,m)}if(B>=A){q=q.slice(A-o),o=A;break}o=B,k=""}q=e.slice(f,f=c[p++]),g=hb(c[p++],b.cm.options)}}else for(var D=1;D<c.length;D+=2)b.addToken(b,e.slice(f,f=c[D]),hb(c[D+1],b.cm.options))}function pb(a,b,c){this.line=b,this.rest=Za(b),this.size=this.rest?da(p(this.rest))-c+1:1,this.node=this.text=null,this.hidden=ab(a,b)}function qb(a,b,c){for(var d,e=[],f=b;c>f;f=d){var g=new pb(a.doc,_(a.doc,f),f);d=f+g.size,e.push(g)}return e}function rb(a){vh?vh.ops.push(a):a.ownsGroup=vh={ops:[a],delayedCallbacks:[]}}function sb(a){var b=a.delayedCallbacks,c=0;do{for(;c<b.length;c++)b[c].call(null);for(var d=0;d<a.ops.length;d++){var e=a.ops[d];if(e.cursorActivityHandlers)for(;e.cursorActivityCalled<e.cursorActivityHandlers.length;)e.cursorActivityHandlers[e.cursorActivityCalled++].call(null,e.cm)}}while(c<b.length)}function tb(a,b){var c=a.ownsGroup;if(c)try{sb(c)}finally{vh=null,b(c)}}function ub(a,b){var c=D(a,b);if(c.length){var d,e=Array.prototype.slice.call(arguments,2);vh?d=vh.delayedCallbacks:wh?d=wh:(d=wh=[],setTimeout(vb,0));for(var f=function(a){d.push(function(){return c[a].apply(null,e)})},g=0;g<c.length;++g)f(g)}}function vb(){var a=wh;wh=null;for(var b=0;b<a.length;++b)a[b]()}function wb(a,b,c,d){for(var e=0;e<b.changes.length;e++){var f=b.changes[e];"text"==f?Ab(a,b):"gutter"==f?Cb(a,b,c,d):"class"==f?Bb(a,b):"widget"==f&&Db(a,b,d)}b.changes=null}function xb(a){return a.node==a.text&&(a.node=d("div",null,null,"position: relative"),a.text.parentNode&&a.text.parentNode.replaceChild(a.node,a.text),a.node.appendChild(a.text),vg&&8>wg&&(a.node.style.zIndex=2)),a.node}function yb(a,b){var c=b.bgClass?b.bgClass+" "+(b.line.bgClass||""):b.line.bgClass;if(c&&(c+=" CodeMirror-linebackground"),b.background)c?b.background.className=c:(b.background.parentNode.removeChild(b.background),b.background=null);else if(c){var e=xb(b);b.background=e.insertBefore(d("div",null,c),e.firstChild),a.display.input.setUneditable(b.background)}}function zb(a,b){var c=a.display.externalMeasured;return c&&c.line==b.line?(a.display.externalMeasured=null,b.measure=c.measure,c.built):ib(a,b)}function Ab(a,b){var c=b.text.className,d=zb(a,b);b.text==b.node&&(b.node=d.pre),b.text.parentNode.replaceChild(d.pre,b.text),b.text=d.pre,d.bgClass!=b.bgClass||d.textClass!=b.textClass?(b.bgClass=d.bgClass,b.textClass=d.textClass,Bb(a,b)):c&&(b.text.className=c)}function Bb(a,b){yb(a,b),b.line.wrapClass?xb(b).className=b.line.wrapClass:b.node!=b.text&&(b.node.className="");var c=b.textClass?b.textClass+" "+(b.line.textClass||""):b.line.textClass;b.text.className=c||""}function Cb(a,b,c,e){if(b.gutter&&(b.node.removeChild(b.gutter),b.gutter=null),b.gutterBackground&&(b.node.removeChild(b.gutterBackground),b.gutterBackground=null),b.line.gutterClass){var f=xb(b);b.gutterBackground=d("div",null,"CodeMirror-gutter-background "+b.line.gutterClass,"left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px; width: "+e.gutterTotalWidth+"px"),a.display.input.setUneditable(b.gutterBackground),f.insertBefore(b.gutterBackground,b.text)}var g=b.line.gutterMarkers;if(a.options.lineNumbers||g){var h=xb(b),i=b.gutter=d("div",null,"CodeMirror-gutter-wrapper","left: "+(a.options.fixedGutter?e.fixedPos:-e.gutterTotalWidth)+"px");if(a.display.input.setUneditable(i),h.insertBefore(i,b.text),b.line.gutterClass&&(i.className+=" "+b.line.gutterClass),!a.options.lineNumbers||g&&g["CodeMirror-linenumbers"]||(b.lineNumber=i.appendChild(d("div",ga(a.options,c),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+e.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+a.display.lineNumInnerWidth+"px"))),g)for(var j=0;j<a.display.gutterSpecs.length;++j){var k=a.display.gutterSpecs[j].className,l=g.hasOwnProperty(k)&&g[k];l&&i.appendChild(d("div",[l],"CodeMirror-gutter-elt","left: "+e.gutterLeft[k]+"px; width: "+e.gutterWidth[k]+"px"))}}}function Db(a,b,c){b.alignable&&(b.alignable=null);for(var d=b.node.firstChild,e=void 0;d;d=e)e=d.nextSibling,"CodeMirror-linewidget"==d.className&&b.node.removeChild(d);Fb(a,b,c)}function Eb(a,b,c,d){var e=zb(a,b);return b.text=b.node=e.pre,e.bgClass&&(b.bgClass=e.bgClass),e.textClass&&(b.textClass=e.textClass),Bb(a,b),Cb(a,b,c,d),Fb(a,b,d),b.node}function Fb(a,b,c){if(Gb(a,b.line,b,c,!0),b.rest)for(var d=0;d<b.rest.length;d++)Gb(a,b.rest[d],b,c,!1)}function Gb(a,b,c,e,f){if(b.widgets)for(var g=xb(c),h=0,i=b.widgets;h<i.length;++h){var j=i[h],k=d("div",[j.node],"CodeMirror-linewidget");j.handleMouseEvents||k.setAttribute("cm-ignore-events","true"),Hb(j,k,c,e),a.display.input.setUneditable(k),f&&j.above?g.insertBefore(k,c.gutter||c.text):g.appendChild(k),ub(j,"redraw")}}function Hb(a,b,c,d){if(a.noHScroll){(c.alignable||(c.alignable=[])).push(b);var e=d.wrapperWidth;b.style.left=d.fixedPos+"px",a.coverGutter||(e-=d.gutterTotalWidth,b.style.paddingLeft=d.gutterTotalWidth+"px"),b.style.width=e+"px"}a.coverGutter&&(b.style.zIndex=5,b.style.position="relative",a.noHScroll||(b.style.marginLeft=-d.gutterTotalWidth+"px"))}function Ib(a){if(null!=a.height)return a.height;var b=a.doc.cm;if(!b)return 0;if(!f(document.body,a.node)){var e="position: relative;";a.coverGutter&&(e+="margin-left: -"+b.display.gutters.offsetWidth+"px;"),a.noHScroll&&(e+="width: "+b.display.wrapper.clientWidth+"px;"),c(b.display.measure,d("div",[a.node],null,e))}return a.height=a.node.parentNode.offsetHeight}function Jb(a,b){for(var c=O(b);c!=a.wrapper;c=c.parentNode)if(!c||1==c.nodeType&&"true"==c.getAttribute("cm-ignore-events")||c.parentNode==a.sizer&&c!=a.mover)return!0}function Kb(a){return a.lineSpace.offsetTop}function Lb(a){return a.mover.offsetHeight-a.lineSpace.offsetHeight}function Mb(a){if(a.cachedPaddingH)return a.cachedPaddingH;var b=c(a.measure,d("pre","x")),e=window.getComputedStyle?window.getComputedStyle(b):b.currentStyle,f={left:parseInt(e.paddingLeft),right:parseInt(e.paddingRight)};return isNaN(f.left)||isNaN(f.right)||(a.cachedPaddingH=f),f}function Nb(a){return Tg-a.display.nativeBarWidth}function Ob(a){return a.display.scroller.clientWidth-Nb(a)-a.display.barWidth}function Pb(a){return a.display.scroller.clientHeight-Nb(a)-a.display.barHeight}function Qb(a,b,c){var d=a.options.lineWrapping,e=d&&Ob(a);if(!b.measure.heights||d&&b.measure.width!=e){var f=b.measure.heights=[];if(d){b.measure.width=e;for(var g=b.text.firstChild.getClientRects(),h=0;h<g.length-1;h++){var i=g[h],j=g[h+1];Math.abs(i.bottom-j.bottom)>2&&f.push((i.bottom+j.top)/2-c.top)}}f.push(c.bottom-c.top)}}function Rb(a,b,c){if(a.line==b)return{map:a.measure.map,cache:a.measure.cache};for(var d=0;d<a.rest.length;d++)if(a.rest[d]==b)return{map:a.measure.maps[d],cache:a.measure.caches[d]};for(var e=0;e<a.rest.length;e++)if(da(a.rest[e])>c)return{map:a.measure.maps[e],cache:a.measure.caches[e],before:!0}}function Sb(a,b){b=Xa(b);var d=da(b),e=a.display.externalMeasured=new pb(a.doc,b,d);e.lineN=d;var f=e.built=ib(a,e);return e.text=f.pre,c(a.display.lineMeasure,f.pre),e}function Tb(a,b,c,d){return Wb(a,Vb(a,b),c,d)}function Ub(a,b){if(b>=a.display.viewFrom&&b<a.display.viewTo)return a.display.view[zc(a,b)];var c=a.display.externalMeasured;return c&&b>=c.lineN&&b<c.lineN+c.size?c:void 0}function Vb(a,b){var c=da(b),d=Ub(a,c);d&&!d.text?d=null:d&&d.changes&&(wb(a,d,c,uc(a)),a.curOp.forceUpdate=!0),d||(d=Sb(a,b));var e=Rb(d,b,c);return{line:b,view:d,rect:null,map:e.map,cache:e.cache,before:e.before,hasHeights:!1}}function Wb(a,b,c,d,e){b.before&&(c=-1);var f,g=c+(d||"");return b.cache.hasOwnProperty(g)?f=b.cache[g]:(b.rect||(b.rect=b.view.text.getBoundingClientRect()),b.hasHeights||(Qb(a,b.view,b.rect),b.hasHeights=!0),f=Zb(a,b,c,d),f.bogus||(b.cache[g]=f)),{left:f.left,right:f.right,top:e?f.rtop:f.top,bottom:e?f.rbottom:f.bottom}}function Xb(a,b,c){for(var d,e,f,g,h,i,j=0;j<a.length;j+=3)if(h=a[j],i=a[j+1],h>b?(e=0,f=1,g="left"):i>b?(e=b-h,f=e+1):(j==a.length-3||b==i&&a[j+3]>b)&&(f=i-h,e=f-1,b>=i&&(g="right")),null!=e){if(d=a[j+2],h==i&&c==(d.insertLeft?"left":"right")&&(g=c),"left"==c&&0==e)for(;j&&a[j-2]==a[j-3]&&a[j-1].insertLeft;)d=a[(j-=3)+2],g="left";if("right"==c&&e==i-h)for(;j<a.length-3&&a[j+3]==a[j+4]&&!a[j+5].insertLeft;)d=a[(j+=3)+2],g="right";break}return{node:d,start:e,end:f,collapse:g,coverStart:h,coverEnd:i}}function Yb(a,b){var c=xh;if("left"==b)for(var d=0;d<a.length&&(c=a[d]).left==c.right;d++);else for(var e=a.length-1;e>=0&&(c=a[e]).left==c.right;e--);return c}function Zb(a,b,c,d){var e,f=Xb(b.map,c,d),g=f.node,h=f.start,i=f.end,j=f.collapse;if(3==g.nodeType){for(var k=0;4>k;k++){for(;h&&x(b.line.text.charAt(f.coverStart+h));)--h;for(;f.coverStart+i<f.coverEnd&&x(b.line.text.charAt(f.coverStart+i));)++i;if(e=vg&&9>wg&&0==h&&i==f.coverEnd-f.coverStart?g.parentNode.getBoundingClientRect():Yb(Lg(g,h,i).getClientRects(),d),e.left||e.right||0==h)break;i=h,h-=1,j="right"}vg&&11>wg&&(e=$b(a.display.measure,e))}else{h>0&&(j=d="right");var l;e=a.options.lineWrapping&&(l=g.getClientRects()).length>1?l["right"==d?l.length-1:0]:g.getBoundingClientRect()}if(vg&&9>wg&&!h&&(!e||!e.left&&!e.right)){var m=g.parentNode.getClientRects()[0];e=m?{left:m.left,right:m.left+tc(a.display),top:m.top,bottom:m.bottom}:xh}for(var n=e.top-b.rect.top,o=e.bottom-b.rect.top,p=(n+o)/2,q=b.view.measure.heights,r=0;r<q.length-1&&!(p<q[r]);r++);var s=r?q[r-1]:0,t=q[r],u={left:("right"==j?e.right:e.left)-b.rect.left,right:("left"==j?e.left:e.right)-b.rect.left,top:s,bottom:t};return e.left||e.right||(u.bogus=!0),a.options.singleCursorHeightPerLine||(u.rtop=n,u.rbottom=o),u}function $b(a,b){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!S(a))return b;var c=screen.logicalXDPI/screen.deviceXDPI,d=screen.logicalYDPI/screen.deviceYDPI;return{left:b.left*c,right:b.right*c,top:b.top*d,bottom:b.bottom*d}}function _b(a){if(a.measure&&(a.measure.cache={},a.measure.heights=null,a.rest))for(var b=0;b<a.rest.length;b++)a.measure.caches[b]={}}function ac(a){a.display.externalMeasure=null,b(a.display.lineMeasure);for(var c=0;c<a.display.view.length;c++)_b(a.display.view[c])}function bc(a){ac(a),a.display.cachedCharWidth=a.display.cachedTextHeight=a.display.cachedPaddingH=null,a.options.lineWrapping||(a.display.maxLineChanged=!0),a.display.lineNumChars=null}function cc(){return zg&&Fg?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function dc(){return zg&&Fg?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ec(a){var b=0;if(a.widgets)for(var c=0;c<a.widgets.length;++c)a.widgets[c].above&&(b+=Ib(a.widgets[c]));return b}function fc(a,b,c,d,e){if(!e){var f=ec(b);c.top+=f,c.bottom+=f}if("line"==d)return c;d||(d="local");var g=cb(b);if("local"==d?g+=Kb(a.display):g-=a.display.viewOffset,"page"==d||"window"==d){var h=a.display.lineSpace.getBoundingClientRect();g+=h.top+("window"==d?0:dc());var i=h.left+("window"==d?0:cc());c.left+=i,c.right+=i}return c.top+=g,c.bottom+=g,c}function gc(a,b,c){if("div"==c)return b;var d=b.left,e=b.top;if("page"==c)d-=cc(),e-=dc();else if("local"==c||!c){var f=a.display.sizer.getBoundingClientRect();d+=f.left,e+=f.top}var g=a.display.lineSpace.getBoundingClientRect();return{left:d-g.left,top:e-g.top}}function hc(a,b,c,d,e){return d||(d=_(a.doc,b.line)),fc(a,d,Tb(a,d,b.ch,e),c)}function ic(a,b,c,d,e,f){function g(b,g){var h=Wb(a,e,b,g?"right":"left",f);return g?h.left=h.right:h.right=h.left,fc(a,d,h,c)}function h(a,b,c){var d=i[b],e=1==d.level;return g(c?a-1:a,e!=c)}d=d||_(a.doc,b.line),e||(e=Vb(a,d));var i=C(d,a.doc.direction),j=b.ch,k=b.sticky;if(j>=d.text.length?(j=d.text.length,k="before"):0>=j&&(j=0,k="after"),!i)return g("before"==k?j-1:j,"before"==k);var l=B(i,j,k),m=_g,n=h(j,l,"before"==k);return null!=m&&(n.other=h(j,m,"before"!=k)),n}function jc(a,b){var c=0;b=oa(a.doc,b),a.options.lineWrapping||(c=tc(a.display)*b.ch);var d=_(a.doc,b.line),e=cb(d)+Kb(a.display);return{left:c,right:c,top:e,bottom:e+d.height}}function kc(a,b,c,d,e){var f=ha(a,b,c);return f.xRel=e,d&&(f.outside=!0),f}function lc(a,b,c){var d=a.doc;if(c+=a.display.viewOffset,0>c)return kc(d.first,0,null,!0,-1);var e=ea(d,c),f=d.first+d.size-1;if(e>f)return kc(d.first+d.size-1,_(d,f).text.length,null,!0,1);0>b&&(b=0);for(var g=_(d,e);;){var h=pc(a,g,e,b,c),i=Va(g,h.ch+(h.xRel>0?1:0));if(!i)return h;var j=i.find(1);if(j.line==e)return j;g=_(d,e=j.line)}}function mc(a,b,c,d){d-=ec(b);var e=b.text.length,f=z(function(b){return Wb(a,c,b-1).bottom<=d},e,0);return e=z(function(b){return Wb(a,c,b).top>d},f,e),{begin:f,end:e}}function nc(a,b,c,d){c||(c=Vb(a,b));var e=fc(a,b,Wb(a,c,d),"line").top;return mc(a,b,c,e)}function oc(a,b,c,d){return a.bottom<=c?!1:a.top>c?!0:(d?a.left:a.right)>b}function pc(a,b,c,d,e){e-=cb(b);var f=Vb(a,b),g=ec(b),h=0,i=b.text.length,j=!0,k=C(b,a.doc.direction);if(k){var l=(a.options.lineWrapping?rc:qc)(a,b,c,f,k,d,e);j=1!=l.level,h=j?l.from:l.to-1,i=j?l.to:l.from-1}var m,n,o=null,p=null,q=z(function(b){var c=Wb(a,f,b);return c.top+=g,c.bottom+=g,oc(c,d,e,!1)?(c.top<=e&&c.left<=d&&(o=b,p=c),!0):!1},h,i),r=!1;if(p){var s=d-p.left<p.right-d,t=s==j;q=o+(t?0:1),n=t?"after":"before",m=s?p.left:p.right}else{j||q!=i&&q!=h||q++,n=0==q?"after":q==b.text.length?"before":Wb(a,f,q-(j?1:0)).bottom+g<=e==j?"after":"before";var u=ic(a,ha(c,q,n),"line",b,f);m=u.left,r=e<u.top||e>=u.bottom}return q=y(b.text,q,1),kc(c,q,n,r,d-m)}function qc(a,b,c,d,e,f,g){var h=z(function(h){var i=e[h],j=1!=i.level;return oc(ic(a,ha(c,j?i.to:i.from,j?"before":"after"),"line",b,d),f,g,!0)},0,e.length-1),i=e[h];if(h>0){var j=1!=i.level,k=ic(a,ha(c,j?i.from:i.to,j?"after":"before"),"line",b,d);oc(k,f,g,!0)&&k.top>g&&(i=e[h-1])}return i}function rc(a,b,c,d,e,f,g){var h=mc(a,b,d,g),i=h.begin,j=h.end;/\s/.test(b.text.charAt(j-1))&&j--;for(var k=null,l=null,m=0;m<e.length;m++){var n=e[m];if(!(n.from>=j||n.to<=i)){var o=1!=n.level,p=Wb(a,d,o?Math.min(j,n.to)-1:Math.max(i,n.from)).right,q=f>p?f-p+1e9:p-f;(!k||l>q)&&(k=n,l=q)}}return k||(k=e[e.length-1]),k.from<i&&(k={from:i,to:k.to,level:k.level}),k.to>j&&(k={from:k.from,to:j,level:k.level}),k}function sc(a){if(null!=a.cachedTextHeight)return a.cachedTextHeight;if(null==sh){sh=d("pre");for(var e=0;49>e;++e)sh.appendChild(document.createTextNode("x")),sh.appendChild(d("br"));sh.appendChild(document.createTextNode("x"))}c(a.measure,sh);var f=sh.offsetHeight/50;return f>3&&(a.cachedTextHeight=f),b(a.measure),f||1}function tc(a){if(null!=a.cachedCharWidth)return a.cachedCharWidth;var b=d("span","xxxxxxxxxx"),e=d("pre",[b]);c(a.measure,e);var f=b.getBoundingClientRect(),g=(f.right-f.left)/10;return g>2&&(a.cachedCharWidth=g),g||10}function uc(a){for(var b=a.display,c={},d={},e=b.gutters.clientLeft,f=b.gutters.firstChild,g=0;f;f=f.nextSibling,++g){var h=a.display.gutterSpecs[g].className;c[h]=f.offsetLeft+f.clientLeft+e,d[h]=f.clientWidth}return{fixedPos:vc(b),gutterTotalWidth:b.gutters.offsetWidth,gutterLeft:c,gutterWidth:d,wrapperWidth:b.wrapper.clientWidth}}function vc(a){return a.scroller.getBoundingClientRect().left-a.sizer.getBoundingClientRect().left}function wc(a){var b=sc(a.display),c=a.options.lineWrapping,d=c&&Math.max(5,a.display.scroller.clientWidth/tc(a.display)-3);return function(e){if(ab(a.doc,e))return 0;var f=0;if(e.widgets)for(var g=0;g<e.widgets.length;g++)e.widgets[g].height&&(f+=e.widgets[g].height);return c?f+(Math.ceil(e.text.length/d)||1)*b:f+b}}function xc(a){var b=a.doc,c=wc(a);b.iter(function(a){var b=c(a);b!=a.height&&ca(a,b)})}function yc(a,b,c,d){var e=a.display;if(!c&&"true"==O(b).getAttribute("cm-not-content"))return null;var f,g,h=e.lineSpace.getBoundingClientRect();try{f=b.clientX-h.left,g=b.clientY-h.top}catch(b){return null}var i,j=lc(a,f,g);if(d&&1==j.xRel&&(i=_(a.doc,j.line).text).length==j.ch){var k=l(i,i.length,a.options.tabSize)-i.length;j=ha(j.line,Math.max(0,Math.round((f-Mb(a.display).left)/tc(a.display))-k))}return j}function zc(a,b){if(b>=a.display.viewTo)return null;if(b-=a.display.viewFrom,0>b)return null;for(var c=a.display.view,d=0;d<c.length;d++)if(b-=c[d].size,0>b)return d}function Ac(a,b,c,d){null==b&&(b=a.doc.first),null==c&&(c=a.doc.first+a.doc.size),d||(d=0);var e=a.display;if(d&&c<e.viewTo&&(null==e.updateLineNumbers||e.updateLineNumbers>b)&&(e.updateLineNumbers=b),a.curOp.viewChanged=!0,b>=e.viewTo)qh&&$a(a.doc,b)<e.viewTo&&Cc(a);else if(c<=e.viewFrom)qh&&_a(a.doc,c+d)>e.viewFrom?Cc(a):(e.viewFrom+=d,e.viewTo+=d);else if(b<=e.viewFrom&&c>=e.viewTo)Cc(a);else if(b<=e.viewFrom){var f=Dc(a,c,c+d,1);f?(e.view=e.view.slice(f.index),e.viewFrom=f.lineN,e.viewTo+=d):Cc(a)}else if(c>=e.viewTo){var g=Dc(a,b,b,-1);g?(e.view=e.view.slice(0,g.index),e.viewTo=g.lineN):Cc(a)}else{var h=Dc(a,b,b,-1),i=Dc(a,c,c+d,1);h&&i?(e.view=e.view.slice(0,h.index).concat(qb(a,h.lineN,i.lineN)).concat(e.view.slice(i.index)),e.viewTo+=d):Cc(a)}var j=e.externalMeasured;j&&(c<j.lineN?j.lineN+=d:b<j.lineN+j.size&&(e.externalMeasured=null))}function Bc(a,b,c){a.curOp.viewChanged=!0;var d=a.display,e=a.display.externalMeasured;if(e&&b>=e.lineN&&b<e.lineN+e.size&&(d.externalMeasured=null),!(b<d.viewFrom||b>=d.viewTo)){var f=d.view[zc(a,b)];if(null!=f.node){var g=f.changes||(f.changes=[]);-1==m(g,c)&&g.push(c)}}}function Cc(a){a.display.viewFrom=a.display.viewTo=a.doc.first,a.display.view=[],a.display.viewOffset=0}function Dc(a,b,c,d){var e,f=zc(a,b),g=a.display.view;if(!qh||c==a.doc.first+a.doc.size)return{index:f,lineN:c};for(var h=a.display.viewFrom,i=0;f>i;i++)h+=g[i].size;if(h!=b){if(d>0){if(f==g.length-1)return null;e=h+g[f].size-b,f++}else e=h-b;b+=e,c+=e}for(;$a(a.doc,c)!=c;){if(f==(0>d?0:g.length-1))return null;c+=d*g[f-(0>d?1:0)].size,f+=d}return{index:f,lineN:c}}function Ec(a,b,c){var d=a.display,e=d.view;0==e.length||b>=d.viewTo||c<=d.viewFrom?(d.view=qb(a,b,c),d.viewFrom=b):(d.viewFrom>b?d.view=qb(a,b,d.viewFrom).concat(d.view):d.viewFrom<b&&(d.view=d.view.slice(zc(a,b))),d.viewFrom=b,d.viewTo<c?d.view=d.view.concat(qb(a,d.viewTo,c)):d.viewTo>c&&(d.view=d.view.slice(0,zc(a,c)))),d.viewTo=c}function Fc(a){for(var b=a.display.view,c=0,d=0;d<b.length;d++){var e=b[d];e.hidden||e.node&&!e.changes||++c}return c}function Gc(a){a.display.input.showSelection(a.display.input.prepareSelection())}function Hc(a,b){void 0===b&&(b=!0);for(var c=a.doc,d={},e=d.cursors=document.createDocumentFragment(),f=d.selection=document.createDocumentFragment(),g=0;g<c.sel.ranges.length;g++)if(b||g!=c.sel.primIndex){var h=c.sel.ranges[g];if(!(h.from().line>=a.display.viewTo||h.to().line<a.display.viewFrom)){var i=h.empty();(i||a.options.showCursorWhenSelecting)&&Ic(a,h.head,e),i||Kc(a,h,f)}}return d}function Ic(a,b,c){var e=ic(a,b,"div",null,null,!a.options.singleCursorHeightPerLine),f=c.appendChild(d("div"," ","CodeMirror-cursor"));if(f.style.left=e.left+"px",f.style.top=e.top+"px",f.style.height=Math.max(0,e.bottom-e.top)*a.options.cursorHeight+"px",e.other){var g=c.appendChild(d("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));g.style.display="",g.style.left=e.other.left+"px",g.style.top=e.other.top+"px",g.style.height=.85*(e.other.bottom-e.other.top)+"px"}}function Jc(a,b){return a.top-b.top||a.left-b.left}function Kc(a,b,c){function e(a,b,c,e){0>b&&(b=0),b=Math.round(b),e=Math.round(e),i.appendChild(d("div",null,"CodeMirror-selected","position: absolute; left: "+a+"px;\n                             top: "+b+"px; width: "+(null==c?l-a:c)+"px;\n                             height: "+(e-b)+"px"))}function f(b,c,d){function f(c,d){return hc(a,ha(b,c),"div",n,d)}function g(b,c,d){var e=nc(a,n,null,b),g="ltr"==c==("after"==d)?"left":"right",h="after"==d?e.begin:e.end-(/\s/.test(n.text.charAt(e.end-1))?2:1);return f(h,g)[g]}var i,j,n=_(h,b),o=n.text.length,p=C(n,h.direction);return A(p,c||0,null==d?o:d,function(a,b,h,n){var q="ltr"==h,r=f(a,q?"left":"right"),s=f(b-1,q?"right":"left"),t=null==c&&0==a,u=null==d&&b==o,v=0==n,w=!p||n==p.length-1;if(s.top-r.top<=3){var x=(m?t:u)&&v,y=(m?u:t)&&w,z=x?k:(q?r:s).left,A=y?l:(q?s:r).right;e(z,r.top,A-z,r.bottom)}else{var B,C,D,E;q?(B=m&&t&&v?k:r.left,C=m?l:g(a,h,"before"),D=m?k:g(b,h,"after"),E=m&&u&&w?l:s.right):(B=m?g(a,h,"before"):k,C=!m&&t&&v?l:r.right,D=!m&&u&&w?k:s.left,E=m?g(b,h,"after"):l),e(B,r.top,C-B,r.bottom),r.bottom<s.top&&e(k,r.bottom,null,s.top),e(D,s.top,E-D,s.bottom)}(!i||Jc(r,i)<0)&&(i=r),Jc(s,i)<0&&(i=s),(!j||Jc(r,j)<0)&&(j=r),Jc(s,j)<0&&(j=s)}),{start:i,end:j}}var g=a.display,h=a.doc,i=document.createDocumentFragment(),j=Mb(a.display),k=j.left,l=Math.max(g.sizerWidth,Ob(a)-g.sizer.offsetLeft)-j.right,m="ltr"==h.direction,n=b.from(),o=b.to();if(n.line==o.line)f(n.line,n.ch,o.ch);else{var p=_(h,n.line),q=_(h,o.line),r=Xa(p)==Xa(q),s=f(n.line,n.ch,r?p.text.length+1:null).end,t=f(o.line,r?0:null,o.ch).start;r&&(s.top<t.top-2?(e(s.right,s.top,null,s.bottom),e(k,t.top,t.left,t.bottom)):e(s.right,s.top,t.left-s.right,s.bottom)),s.bottom<t.top&&e(k,s.bottom,null,t.top)}c.appendChild(i)}function Lc(a){if(a.state.focused){var b=a.display;clearInterval(b.blinker);var c=!0;b.cursorDiv.style.visibility="",a.options.cursorBlinkRate>0?b.blinker=setInterval(function(){return b.cursorDiv.style.visibility=(c=!c)?"":"hidden"},a.options.cursorBlinkRate):a.options.cursorBlinkRate<0&&(b.cursorDiv.style.visibility="hidden")}}function Mc(a){a.state.focused||(a.display.input.focus(),Oc(a))}function Nc(a){a.state.delayingBlurEvent=!0,setTimeout(function(){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1,Pc(a))},100)}function Oc(a,b){a.state.delayingBlurEvent&&(a.state.delayingBlurEvent=!1),"nocursor"!=a.options.readOnly&&(a.state.focused||(F(a,"focus",a,b),
a.state.focused=!0,h(a.display.wrapper,"CodeMirror-focused"),a.curOp||a.display.selForContextMenu==a.doc.sel||(a.display.input.reset(),xg&&setTimeout(function(){return a.display.input.reset(!0)},20)),a.display.input.receivedFocus()),Lc(a))}function Pc(a,b){a.state.delayingBlurEvent||(a.state.focused&&(F(a,"blur",a,b),a.state.focused=!1,Og(a.display.wrapper,"CodeMirror-focused")),clearInterval(a.display.blinker),setTimeout(function(){a.state.focused||(a.display.shift=!1)},150))}function Qc(a){for(var b=a.display,c=b.lineDiv.offsetTop,d=0;d<b.view.length;d++){var e=b.view[d],f=a.options.lineWrapping,g=void 0,h=0;if(!e.hidden){if(vg&&8>wg){var i=e.node.offsetTop+e.node.offsetHeight;g=i-c,c=i}else{var j=e.node.getBoundingClientRect();g=j.bottom-j.top,!f&&e.text.firstChild&&(h=e.text.firstChild.getBoundingClientRect().right-j.left-1)}var k=e.line.height-g;if((k>.005||-.005>k)&&(ca(e.line,g),Rc(e.line),e.rest))for(var l=0;l<e.rest.length;l++)Rc(e.rest[l]);if(h>a.display.sizerWidth){var m=Math.ceil(h/tc(a.display));m>a.display.maxLineLength&&(a.display.maxLineLength=m,a.display.maxLine=e.line,a.display.maxLineChanged=!0)}}}}function Rc(a){if(a.widgets)for(var b=0;b<a.widgets.length;++b){var c=a.widgets[b],d=c.node.parentNode;d&&(c.height=d.offsetHeight)}}function Sc(a,b,c){var d=c&&null!=c.top?Math.max(0,c.top):a.scroller.scrollTop;d=Math.floor(d-Kb(a));var e=c&&null!=c.bottom?c.bottom:d+a.wrapper.clientHeight,f=ea(b,d),g=ea(b,e);if(c&&c.ensure){var h=c.ensure.from.line,i=c.ensure.to.line;f>h?(f=h,g=ea(b,cb(_(b,h))+a.wrapper.clientHeight)):Math.min(i,b.lastLine())>=g&&(f=ea(b,cb(_(b,i))-a.wrapper.clientHeight),g=i)}return{from:f,to:Math.max(g,f+1)}}function Tc(a,b){if(!G(a,"scrollCursorIntoView")){var c=a.display,e=c.sizer.getBoundingClientRect(),f=null;if(b.top+e.top<0?f=!0:b.bottom+e.top>(window.innerHeight||document.documentElement.clientHeight)&&(f=!1),null!=f&&!Dg){var g=d("div","​",null,"position: absolute;\n                         top: "+(b.top-c.viewOffset-Kb(a.display))+"px;\n                         height: "+(b.bottom-b.top+Nb(a)+c.barHeight)+"px;\n                         left: "+b.left+"px; width: "+Math.max(2,b.right-b.left)+"px;");a.display.lineSpace.appendChild(g),g.scrollIntoView(f),a.display.lineSpace.removeChild(g)}}}function Uc(a,b,c,d){null==d&&(d=0);var e;a.options.lineWrapping||b!=c||(b=b.ch?ha(b.line,"before"==b.sticky?b.ch-1:b.ch,"after"):b,c="before"==b.sticky?ha(b.line,b.ch+1,"before"):b);for(var f=0;5>f;f++){var g=!1,h=ic(a,b),i=c&&c!=b?ic(a,c):h;e={left:Math.min(h.left,i.left),top:Math.min(h.top,i.top)-d,right:Math.max(h.left,i.left),bottom:Math.max(h.bottom,i.bottom)+d};var j=Wc(a,e),k=a.doc.scrollTop,l=a.doc.scrollLeft;if(null!=j.scrollTop&&(bd(a,j.scrollTop),Math.abs(a.doc.scrollTop-k)>1&&(g=!0)),null!=j.scrollLeft&&(dd(a,j.scrollLeft),Math.abs(a.doc.scrollLeft-l)>1&&(g=!0)),!g)break}return e}function Vc(a,b){var c=Wc(a,b);null!=c.scrollTop&&bd(a,c.scrollTop),null!=c.scrollLeft&&dd(a,c.scrollLeft)}function Wc(a,b){var c=a.display,d=sc(a.display);b.top<0&&(b.top=0);var e=a.curOp&&null!=a.curOp.scrollTop?a.curOp.scrollTop:c.scroller.scrollTop,f=Pb(a),g={};b.bottom-b.top>f&&(b.bottom=b.top+f);var h=a.doc.height+Lb(c),i=b.top<d,j=b.bottom>h-d;if(b.top<e)g.scrollTop=i?0:b.top;else if(b.bottom>e+f){var k=Math.min(b.top,(j?h:b.bottom)-f);k!=e&&(g.scrollTop=k)}var l=a.curOp&&null!=a.curOp.scrollLeft?a.curOp.scrollLeft:c.scroller.scrollLeft,m=Ob(a)-(a.options.fixedGutter?c.gutters.offsetWidth:0),n=b.right-b.left>m;return n&&(b.right=b.left+m),b.left<10?g.scrollLeft=0:b.left<l?g.scrollLeft=Math.max(0,b.left-(n?0:10)):b.right>m+l-3&&(g.scrollLeft=b.right+(n?0:10)-m),g}function Xc(a,b){null!=b&&(_c(a),a.curOp.scrollTop=(null==a.curOp.scrollTop?a.doc.scrollTop:a.curOp.scrollTop)+b)}function Yc(a){_c(a);var b=a.getCursor();a.curOp.scrollToPos={from:b,to:b,margin:a.options.cursorScrollMargin}}function Zc(a,b,c){(null!=b||null!=c)&&_c(a),null!=b&&(a.curOp.scrollLeft=b),null!=c&&(a.curOp.scrollTop=c)}function $c(a,b){_c(a),a.curOp.scrollToPos=b}function _c(a){var b=a.curOp.scrollToPos;if(b){a.curOp.scrollToPos=null;var c=jc(a,b.from),d=jc(a,b.to);ad(a,c,d,b.margin)}}function ad(a,b,c,d){var e=Wc(a,{left:Math.min(b.left,c.left),top:Math.min(b.top,c.top)-d,right:Math.max(b.right,c.right),bottom:Math.max(b.bottom,c.bottom)+d});Zc(a,e.scrollLeft,e.scrollTop)}function bd(a,b){Math.abs(a.doc.scrollTop-b)<2||(rg||Bd(a,{top:b}),cd(a,b,!0),rg&&Bd(a),ud(a,100))}function cd(a,b,c){b=Math.min(a.display.scroller.scrollHeight-a.display.scroller.clientHeight,b),(a.display.scroller.scrollTop!=b||c)&&(a.doc.scrollTop=b,a.display.scrollbars.setScrollTop(b),a.display.scroller.scrollTop!=b&&(a.display.scroller.scrollTop=b))}function dd(a,b,c,d){b=Math.min(b,a.display.scroller.scrollWidth-a.display.scroller.clientWidth),(!(c?b==a.doc.scrollLeft:Math.abs(a.doc.scrollLeft-b)<2)||d)&&(a.doc.scrollLeft=b,Fd(a),a.display.scroller.scrollLeft!=b&&(a.display.scroller.scrollLeft=b),a.display.scrollbars.setScrollLeft(b))}function ed(a){var b=a.display,c=b.gutters.offsetWidth,d=Math.round(a.doc.height+Lb(a.display));return{clientHeight:b.scroller.clientHeight,viewHeight:b.wrapper.clientHeight,scrollWidth:b.scroller.scrollWidth,clientWidth:b.scroller.clientWidth,viewWidth:b.wrapper.clientWidth,barLeft:a.options.fixedGutter?c:0,docHeight:d,scrollHeight:d+Nb(a)+b.barHeight,nativeBarWidth:b.nativeBarWidth,gutterWidth:c}}function fd(a,b){b||(b=ed(a));var c=a.display.barWidth,d=a.display.barHeight;gd(a,b);for(var e=0;4>e&&c!=a.display.barWidth||d!=a.display.barHeight;e++)c!=a.display.barWidth&&a.options.lineWrapping&&Qc(a),gd(a,ed(a)),c=a.display.barWidth,d=a.display.barHeight}function gd(a,b){var c=a.display,d=c.scrollbars.update(b);c.sizer.style.paddingRight=(c.barWidth=d.right)+"px",c.sizer.style.paddingBottom=(c.barHeight=d.bottom)+"px",c.heightForcer.style.borderBottom=d.bottom+"px solid transparent",d.right&&d.bottom?(c.scrollbarFiller.style.display="block",c.scrollbarFiller.style.height=d.bottom+"px",c.scrollbarFiller.style.width=d.right+"px"):c.scrollbarFiller.style.display="",d.bottom&&a.options.coverGutterNextToScrollbar&&a.options.fixedGutter?(c.gutterFiller.style.display="block",c.gutterFiller.style.height=d.bottom+"px",c.gutterFiller.style.width=b.gutterWidth+"px"):c.gutterFiller.style.display=""}function hd(a){a.display.scrollbars&&(a.display.scrollbars.clear(),a.display.scrollbars.addClass&&Og(a.display.wrapper,a.display.scrollbars.addClass)),a.display.scrollbars=new Ah[a.options.scrollbarStyle](function(b){a.display.wrapper.insertBefore(b,a.display.scrollbarFiller),ch(b,"mousedown",function(){a.state.focused&&setTimeout(function(){return a.display.input.focus()},0)}),b.setAttribute("cm-not-content","true")},function(b,c){"horizontal"==c?dd(a,b):bd(a,b)},a),a.display.scrollbars.addClass&&h(a.display.wrapper,a.display.scrollbars.addClass)}function id(a){a.curOp={cm:a,viewChanged:!1,startHeight:a.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Bh},rb(a.curOp)}function jd(a){var b=a.curOp;b&&tb(b,function(a){for(var b=0;b<a.ops.length;b++)a.ops[b].cm.curOp=null;kd(a)})}function kd(a){for(var b=a.ops,c=0;c<b.length;c++)ld(b[c]);for(var d=0;d<b.length;d++)md(b[d]);for(var e=0;e<b.length;e++)nd(b[e]);for(var f=0;f<b.length;f++)od(b[f]);for(var g=0;g<b.length;g++)pd(b[g])}function ld(a){var b=a.cm,c=b.display;wd(b),a.updateMaxLine&&eb(b),a.mustUpdate=a.viewChanged||a.forceUpdate||null!=a.scrollTop||a.scrollToPos&&(a.scrollToPos.from.line<c.viewFrom||a.scrollToPos.to.line>=c.viewTo)||c.maxLineChanged&&b.options.lineWrapping,a.update=a.mustUpdate&&new Ch(b,a.mustUpdate&&{top:a.scrollTop,ensure:a.scrollToPos},a.forceUpdate)}function md(a){a.updatedDisplay=a.mustUpdate&&zd(a.cm,a.update)}function nd(a){var b=a.cm,c=b.display;a.updatedDisplay&&Qc(b),a.barMeasure=ed(b),c.maxLineChanged&&!b.options.lineWrapping&&(a.adjustWidthTo=Tb(b,c.maxLine,c.maxLine.text.length).left+3,b.display.sizerWidth=a.adjustWidthTo,a.barMeasure.scrollWidth=Math.max(c.scroller.clientWidth,c.sizer.offsetLeft+a.adjustWidthTo+Nb(b)+b.display.barWidth),a.maxScrollLeft=Math.max(0,c.sizer.offsetLeft+a.adjustWidthTo-Ob(b))),(a.updatedDisplay||a.selectionChanged)&&(a.preparedSelection=c.input.prepareSelection())}function od(a){var b=a.cm;null!=a.adjustWidthTo&&(b.display.sizer.style.minWidth=a.adjustWidthTo+"px",a.maxScrollLeft<b.doc.scrollLeft&&dd(b,Math.min(b.display.scroller.scrollLeft,a.maxScrollLeft),!0),b.display.maxLineChanged=!1);var c=a.focus&&a.focus==g();a.preparedSelection&&b.display.input.showSelection(a.preparedSelection,c),(a.updatedDisplay||a.startHeight!=b.doc.height)&&fd(b,a.barMeasure),a.updatedDisplay&&Ed(b,a.barMeasure),a.selectionChanged&&Lc(b),b.state.focused&&a.updateInput&&b.display.input.reset(a.typing),c&&Mc(a.cm)}function pd(a){var b=a.cm,c=b.display,d=b.doc;if(a.updatedDisplay&&Ad(b,a.update),null==c.wheelStartX||null==a.scrollTop&&null==a.scrollLeft&&!a.scrollToPos||(c.wheelStartX=c.wheelStartY=null),null!=a.scrollTop&&cd(b,a.scrollTop,a.forceScroll),null!=a.scrollLeft&&dd(b,a.scrollLeft,!0,!0),a.scrollToPos){var e=Uc(b,oa(d,a.scrollToPos.from),oa(d,a.scrollToPos.to),a.scrollToPos.margin);Tc(b,e)}var f=a.maybeHiddenMarkers,g=a.maybeUnhiddenMarkers;if(f)for(var h=0;h<f.length;++h)f[h].lines.length||F(f[h],"hide");if(g)for(var i=0;i<g.length;++i)g[i].lines.length&&F(g[i],"unhide");c.wrapper.offsetHeight&&(d.scrollTop=b.display.scroller.scrollTop),a.changeObjs&&F(b,"changes",b,a.changeObjs),a.update&&a.update.finish()}function qd(a,b){if(a.curOp)return b();id(a);try{return b()}finally{jd(a)}}function rd(a,b){return function(){if(a.curOp)return b.apply(a,arguments);id(a);try{return b.apply(a,arguments)}finally{jd(a)}}}function sd(a){return function(){if(this.curOp)return a.apply(this,arguments);id(this);try{return a.apply(this,arguments)}finally{jd(this)}}}function td(a){return function(){var b=this.cm;if(!b||b.curOp)return a.apply(this,arguments);id(b);try{return a.apply(this,arguments)}finally{jd(b)}}}function ud(a,b){a.doc.highlightFrontier<a.display.viewTo&&a.state.highlight.set(b,j(vd,a))}function vd(a){var b=a.doc;if(!(b.highlightFrontier>=a.display.viewTo)){var c=+new Date+a.options.workTime,d=ta(a,b.highlightFrontier),e=[];b.iter(d.line,Math.min(b.first+b.size,a.display.viewTo+500),function(f){if(d.line>=a.display.viewFrom){var g=f.styles,h=f.text.length>a.options.maxHighlightLength?Y(b.mode,d.state):null,i=ra(a,f,d,!0);h&&(d.state=h),f.styles=i.styles;var j=f.styleClasses,k=i.classes;k?f.styleClasses=k:j&&(f.styleClasses=null);for(var l=!g||g.length!=f.styles.length||j!=k&&(!j||!k||j.bgClass!=k.bgClass||j.textClass!=k.textClass),m=0;!l&&m<g.length;++m)l=g[m]!=f.styles[m];l&&e.push(d.line),f.stateAfter=d.save(),d.nextLine()}else f.text.length<=a.options.maxHighlightLength&&ua(a,f.text,d),f.stateAfter=d.line%5==0?d.save():null,d.nextLine();return+new Date>c?(ud(a,a.options.workDelay),!0):void 0}),b.highlightFrontier=d.line,b.modeFrontier=Math.max(b.modeFrontier,d.line),e.length&&qd(a,function(){for(var b=0;b<e.length;b++)Bc(a,e[b],"text")})}}function wd(a){var b=a.display;!b.scrollbarsClipped&&b.scroller.offsetWidth&&(b.nativeBarWidth=b.scroller.offsetWidth-b.scroller.clientWidth,b.heightForcer.style.height=Nb(a)+"px",b.sizer.style.marginBottom=-b.nativeBarWidth+"px",b.sizer.style.borderRightWidth=Nb(a)+"px",b.scrollbarsClipped=!0)}function xd(a){if(a.hasFocus())return null;var b=g();if(!b||!f(a.display.lineDiv,b))return null;var c={activeElt:b};if(window.getSelection){var d=window.getSelection();d.anchorNode&&d.extend&&f(a.display.lineDiv,d.anchorNode)&&(c.anchorNode=d.anchorNode,c.anchorOffset=d.anchorOffset,c.focusNode=d.focusNode,c.focusOffset=d.focusOffset)}return c}function yd(a){if(a&&a.activeElt&&a.activeElt!=g()&&(a.activeElt.focus(),a.anchorNode&&f(document.body,a.anchorNode)&&f(document.body,a.focusNode))){var b=window.getSelection(),c=document.createRange();c.setEnd(a.anchorNode,a.anchorOffset),c.collapse(!1),b.removeAllRanges(),b.addRange(c),b.extend(a.focusNode,a.focusOffset)}}function zd(a,c){var d=a.display,e=a.doc;if(c.editorIsHidden)return Cc(a),!1;if(!c.force&&c.visible.from>=d.viewFrom&&c.visible.to<=d.viewTo&&(null==d.updateLineNumbers||d.updateLineNumbers>=d.viewTo)&&d.renderedView==d.view&&0==Fc(a))return!1;Gd(a)&&(Cc(a),c.dims=uc(a));var f=e.first+e.size,g=Math.max(c.visible.from-a.options.viewportMargin,e.first),h=Math.min(f,c.visible.to+a.options.viewportMargin);d.viewFrom<g&&g-d.viewFrom<20&&(g=Math.max(e.first,d.viewFrom)),d.viewTo>h&&d.viewTo-h<20&&(h=Math.min(f,d.viewTo)),qh&&(g=$a(a.doc,g),h=_a(a.doc,h));var i=g!=d.viewFrom||h!=d.viewTo||d.lastWrapHeight!=c.wrapperHeight||d.lastWrapWidth!=c.wrapperWidth;Ec(a,g,h),d.viewOffset=cb(_(a.doc,d.viewFrom)),a.display.mover.style.top=d.viewOffset+"px";var j=Fc(a);if(!i&&0==j&&!c.force&&d.renderedView==d.view&&(null==d.updateLineNumbers||d.updateLineNumbers>=d.viewTo))return!1;var k=xd(a);return j>4&&(d.lineDiv.style.display="none"),Cd(a,d.updateLineNumbers,c.dims),j>4&&(d.lineDiv.style.display=""),d.renderedView=d.view,yd(k),b(d.cursorDiv),b(d.selectionDiv),d.gutters.style.height=d.sizer.style.minHeight=0,i&&(d.lastWrapHeight=c.wrapperHeight,d.lastWrapWidth=c.wrapperWidth,ud(a,400)),d.updateLineNumbers=null,!0}function Ad(a,b){for(var c=b.viewport,d=!0;(d&&a.options.lineWrapping&&b.oldDisplayWidth!=Ob(a)||(c&&null!=c.top&&(c={top:Math.min(a.doc.height+Lb(a.display)-Pb(a),c.top)}),b.visible=Sc(a.display,a.doc,c),!(b.visible.from>=a.display.viewFrom&&b.visible.to<=a.display.viewTo)))&&zd(a,b);d=!1){Qc(a);var e=ed(a);Gc(a),fd(a,e),Ed(a,e),b.force=!1}b.signal(a,"update",a),(a.display.viewFrom!=a.display.reportedViewFrom||a.display.viewTo!=a.display.reportedViewTo)&&(b.signal(a,"viewportChange",a,a.display.viewFrom,a.display.viewTo),a.display.reportedViewFrom=a.display.viewFrom,a.display.reportedViewTo=a.display.viewTo)}function Bd(a,b){var c=new Ch(a,b);if(zd(a,c)){Qc(a),Ad(a,c);var d=ed(a);Gc(a),fd(a,d),Ed(a,d),c.finish()}}function Cd(a,c,d){function e(b){var c=b.nextSibling;return xg&&Hg&&a.display.currentWheelTarget==b?b.style.display="none":b.parentNode.removeChild(b),c}for(var f=a.display,g=a.options.lineNumbers,h=f.lineDiv,i=h.firstChild,j=f.view,k=f.viewFrom,l=0;l<j.length;l++){var n=j[l];if(n.hidden);else if(n.node&&n.node.parentNode==h){for(;i!=n.node;)i=e(i);var o=g&&null!=c&&k>=c&&n.lineNumber;n.changes&&(m(n.changes,"gutter")>-1&&(o=!1),wb(a,n,k,d)),o&&(b(n.lineNumber),n.lineNumber.appendChild(document.createTextNode(ga(a.options,k)))),i=n.node.nextSibling}else{var p=Eb(a,n,k,d);h.insertBefore(p,i)}k+=n.size}for(;i;)i=e(i)}function Dd(a){var b=a.gutters.offsetWidth;a.sizer.style.marginLeft=b+"px"}function Ed(a,b){a.display.sizer.style.minHeight=b.docHeight+"px",a.display.heightForcer.style.top=b.docHeight+"px",a.display.gutters.style.height=b.docHeight+a.display.barHeight+Nb(a)+"px"}function Fd(a){var b=a.display,c=b.view;if(b.alignWidgets||b.gutters.firstChild&&a.options.fixedGutter){for(var d=vc(b)-b.scroller.scrollLeft+a.doc.scrollLeft,e=b.gutters.offsetWidth,f=d+"px",g=0;g<c.length;g++)if(!c[g].hidden){a.options.fixedGutter&&(c[g].gutter&&(c[g].gutter.style.left=f),c[g].gutterBackground&&(c[g].gutterBackground.style.left=f));var h=c[g].alignable;if(h)for(var i=0;i<h.length;i++)h[i].style.left=f}a.options.fixedGutter&&(b.gutters.style.left=d+e+"px")}}function Gd(a){if(!a.options.lineNumbers)return!1;var b=a.doc,c=ga(a.options,b.first+b.size-1),e=a.display;if(c.length!=e.lineNumChars){var f=e.measure.appendChild(d("div",[d("div",c)],"CodeMirror-linenumber CodeMirror-gutter-elt")),g=f.firstChild.offsetWidth,h=f.offsetWidth-g;return e.lineGutter.style.width="",e.lineNumInnerWidth=Math.max(g,e.lineGutter.offsetWidth-h)+1,e.lineNumWidth=e.lineNumInnerWidth+h,e.lineNumChars=e.lineNumInnerWidth?c.length:-1,e.lineGutter.style.width=e.lineNumWidth+"px",Dd(a.display),!0}return!1}function Hd(a,b){for(var c=[],d=!1,e=0;e<a.length;e++){var f=a[e],g=null;if("string"!=typeof f&&(g=f.style,f=f.className),"CodeMirror-linenumbers"==f){if(!b)continue;d=!0}c.push({className:f,style:g})}return b&&!d&&c.push({className:"CodeMirror-linenumbers",style:null}),c}function Id(a){var c=a.gutters,e=a.gutterSpecs;b(c),a.lineGutter=null;for(var f=0;f<e.length;++f){var g=e[f],h=g.className,i=g.style,j=c.appendChild(d("div",null,"CodeMirror-gutter "+h));i&&(j.style.cssText=i),"CodeMirror-linenumbers"==h&&(a.lineGutter=j,j.style.width=(a.lineNumWidth||1)+"px")}c.style.display=e.length?"":"none",Dd(a)}function Jd(a){Id(a.display),Ac(a),Fd(a)}function Kd(a,b,c,f){var g=this;this.input=c,g.scrollbarFiller=d("div",null,"CodeMirror-scrollbar-filler"),g.scrollbarFiller.setAttribute("cm-not-content","true"),g.gutterFiller=d("div",null,"CodeMirror-gutter-filler"),g.gutterFiller.setAttribute("cm-not-content","true"),g.lineDiv=e("div",null,"CodeMirror-code"),g.selectionDiv=d("div",null,null,"position: relative; z-index: 1"),g.cursorDiv=d("div",null,"CodeMirror-cursors"),g.measure=d("div",null,"CodeMirror-measure"),g.lineMeasure=d("div",null,"CodeMirror-measure"),g.lineSpace=e("div",[g.measure,g.lineMeasure,g.selectionDiv,g.cursorDiv,g.lineDiv],null,"position: relative; outline: none");var h=e("div",[g.lineSpace],"CodeMirror-lines");g.mover=d("div",[h],null,"position: relative"),g.sizer=d("div",[g.mover],"CodeMirror-sizer"),g.sizerWidth=null,g.heightForcer=d("div",null,null,"position: absolute; height: "+Tg+"px; width: 1px;"),g.gutters=d("div",null,"CodeMirror-gutters"),g.lineGutter=null,g.scroller=d("div",[g.sizer,g.heightForcer,g.gutters],"CodeMirror-scroll"),g.scroller.setAttribute("tabIndex","-1"),g.wrapper=d("div",[g.scrollbarFiller,g.gutterFiller,g.scroller],"CodeMirror"),vg&&8>wg&&(g.gutters.style.zIndex=-1,g.scroller.style.paddingRight=0),xg||rg&&Gg||(g.scroller.draggable=!0),a&&(a.appendChild?a.appendChild(g.wrapper):a(g.wrapper)),g.viewFrom=g.viewTo=b.first,g.reportedViewFrom=g.reportedViewTo=b.first,g.view=[],g.renderedView=null,g.externalMeasured=null,g.viewOffset=0,g.lastWrapHeight=g.lastWrapWidth=0,g.updateLineNumbers=null,g.nativeBarWidth=g.barHeight=g.barWidth=0,g.scrollbarsClipped=!1,g.lineNumWidth=g.lineNumInnerWidth=g.lineNumChars=null,g.alignWidgets=!1,g.cachedCharWidth=g.cachedTextHeight=g.cachedPaddingH=null,g.maxLine=null,g.maxLineLength=0,g.maxLineChanged=!1,g.wheelDX=g.wheelDY=g.wheelStartX=g.wheelStartY=null,g.shift=!1,g.selForContextMenu=null,g.activeTouch=null,g.gutterSpecs=Hd(f.gutters,f.lineNumbers),Id(g),c.init(g)}function Ld(a){var b=a.wheelDeltaX,c=a.wheelDeltaY;return null==b&&a.detail&&a.axis==a.HORIZONTAL_AXIS&&(b=a.detail),null==c&&a.detail&&a.axis==a.VERTICAL_AXIS?c=a.detail:null==c&&(c=a.wheelDelta),{x:b,y:c}}function Md(a){var b=Ld(a);return b.x*=Eh,b.y*=Eh,b}function Nd(a,b){var c=Ld(b),d=c.x,e=c.y,f=a.display,g=f.scroller,h=g.scrollWidth>g.clientWidth,i=g.scrollHeight>g.clientHeight;if(d&&h||e&&i){if(e&&Hg&&xg)a:for(var j=b.target,k=f.view;j!=g;j=j.parentNode)for(var l=0;l<k.length;l++)if(k[l].node==j){a.display.currentWheelTarget=j;break a}if(d&&!rg&&!Ag&&null!=Eh)return e&&i&&bd(a,Math.max(0,g.scrollTop+e*Eh)),dd(a,Math.max(0,g.scrollLeft+d*Eh)),(!e||e&&i)&&K(b),void(f.wheelStartX=null);if(e&&null!=Eh){var m=e*Eh,n=a.doc.scrollTop,o=n+f.wrapper.clientHeight;0>m?n=Math.max(0,n+m-50):o=Math.min(a.doc.height,o+m+50),Bd(a,{top:n,bottom:o})}20>Dh&&(null==f.wheelStartX?(f.wheelStartX=g.scrollLeft,f.wheelStartY=g.scrollTop,f.wheelDX=d,f.wheelDY=e,setTimeout(function(){if(null!=f.wheelStartX){var a=g.scrollLeft-f.wheelStartX,b=g.scrollTop-f.wheelStartY,c=b&&f.wheelDY&&b/f.wheelDY||a&&f.wheelDX&&a/f.wheelDX;f.wheelStartX=f.wheelStartY=null,c&&(Eh=(Eh*Dh+c)/(Dh+1),++Dh)}},200)):(f.wheelDX+=d,f.wheelDY+=e))}}function Od(a,b,c){var d=a&&a.options.selectionsMayTouch,e=b[c];b.sort(function(a,b){return ia(a.from(),b.from())}),c=m(b,e);for(var f=1;f<b.length;f++){var g=b[f],h=b[f-1],i=ia(h.to(),g.from());if(d&&!g.empty()?i>0:i>=0){var j=ma(h.from(),g.from()),k=la(h.to(),g.to()),l=h.empty()?g.from()==g.head:h.from()==h.head;c>=f&&--c,b.splice(--f,2,new Gh(l?k:j,l?j:k))}}return new Fh(b,c)}function Pd(a,b){return new Fh([new Gh(a,b||a)],0)}function Qd(a){return a.text?ha(a.from.line+a.text.length-1,p(a.text).length+(1==a.text.length?a.from.ch:0)):a.to}function Rd(a,b){if(ia(a,b.from)<0)return a;if(ia(a,b.to)<=0)return Qd(b);var c=a.line+b.text.length-(b.to.line-b.from.line)-1,d=a.ch;return a.line==b.to.line&&(d+=Qd(b).ch-b.to.ch),ha(c,d)}function Sd(a,b){for(var c=[],d=0;d<a.sel.ranges.length;d++){var e=a.sel.ranges[d];c.push(new Gh(Rd(e.anchor,b),Rd(e.head,b)))}return Od(a.cm,c,a.sel.primIndex)}function Td(a,b,c){return a.line==b.line?ha(c.line,a.ch-b.ch+c.ch):ha(c.line+(a.line-b.line),a.ch)}function Ud(a,b,c){for(var d=[],e=ha(a.first,0),f=e,g=0;g<b.length;g++){var h=b[g],i=Td(h.from,e,f),j=Td(Qd(h),e,f);if(e=h.to,f=j,"around"==c){var k=a.sel.ranges[g],l=ia(k.head,k.anchor)<0;d[g]=new Gh(l?j:i,l?i:j)}else d[g]=new Gh(i,i)}return new Fh(d,a.sel.primIndex)}function Vd(a){a.doc.mode=W(a.options,a.doc.modeOption),Wd(a)}function Wd(a){a.doc.iter(function(a){a.stateAfter&&(a.stateAfter=null),a.styles&&(a.styles=null)}),a.doc.modeFrontier=a.doc.highlightFrontier=a.doc.first,ud(a,100),a.state.modeGen++,a.curOp&&Ac(a)}function Xd(a,b){return 0==b.from.ch&&0==b.to.ch&&""==p(b.text)&&(!a.cm||a.cm.options.wholeLineUpdateBefore)}function Yd(a,b,c,d){function e(a){return c?c[a]:null}function f(a,c,e){fb(a,c,e,d),ub(a,"change",a,b)}function g(a,b){for(var c=[],f=a;b>f;++f)c.push(new rh(j[f],e(f),d));return c}var h=b.from,i=b.to,j=b.text,k=_(a,h.line),l=_(a,i.line),m=p(j),n=e(j.length-1),o=i.line-h.line;if(b.full)a.insert(0,g(0,j.length)),a.remove(j.length,a.size-j.length);else if(Xd(a,b)){var q=g(0,j.length-1);f(l,l.text,n),o&&a.remove(h.line,o),q.length&&a.insert(h.line,q)}else if(k==l)if(1==j.length)f(k,k.text.slice(0,h.ch)+m+k.text.slice(i.ch),n);else{var r=g(1,j.length-1);r.push(new rh(m+k.text.slice(i.ch),n,d)),f(k,k.text.slice(0,h.ch)+j[0],e(0)),a.insert(h.line+1,r)}else if(1==j.length)f(k,k.text.slice(0,h.ch)+j[0]+l.text.slice(i.ch),e(0)),a.remove(h.line+1,o);else{f(k,k.text.slice(0,h.ch)+j[0],e(0)),f(l,m+l.text.slice(i.ch),n);var s=g(1,j.length-1);o>1&&a.remove(h.line+1,o-1),a.insert(h.line+1,s)}ub(a,"change",a,b)}function Zd(a,b,c){function d(a,e,f){if(a.linked)for(var g=0;g<a.linked.length;++g){var h=a.linked[g];if(h.doc!=e){var i=f&&h.sharedHist;(!c||i)&&(b(h.doc,i),d(h.doc,a,i))}}}d(a,null,!0)}function $d(a,b){if(b.cm)throw new Error("This document is already in use.");a.doc=b,b.cm=a,xc(a),Vd(a),_d(a),a.options.lineWrapping||eb(a),a.options.mode=b.modeOption,Ac(a)}function _d(a){("rtl"==a.doc.direction?h:Og)(a.display.lineDiv,"CodeMirror-rtl")}function ae(a){qd(a,function(){_d(a),Ac(a)})}function be(a){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=a||1}function ce(a,b){var c={from:ka(b.from),to:Qd(b),text:aa(a,b.from,b.to)};return je(a,c,b.from.line,b.to.line+1),Zd(a,function(a){return je(a,c,b.from.line,b.to.line+1)},!0),c}function de(a){for(;a.length;){var b=p(a);if(!b.ranges)break;a.pop()}}function ee(a,b){return b?(de(a.done),p(a.done)):a.done.length&&!p(a.done).ranges?p(a.done):a.done.length>1&&!a.done[a.done.length-2].ranges?(a.done.pop(),p(a.done)):void 0}function fe(a,b,c,d){var e=a.history;e.undone.length=0;var f,g,h=+new Date;if((e.lastOp==d||e.lastOrigin==b.origin&&b.origin&&("+"==b.origin.charAt(0)&&e.lastModTime>h-(a.cm?a.cm.options.historyEventDelay:500)||"*"==b.origin.charAt(0)))&&(f=ee(e,e.lastOp==d)))g=p(f.changes),0==ia(b.from,b.to)&&0==ia(b.from,g.to)?g.to=Qd(b):f.changes.push(ce(a,b));else{var i=p(e.done);for(i&&i.ranges||ie(a.sel,e.done),f={changes:[ce(a,b)],generation:e.generation},e.done.push(f);e.done.length>e.undoDepth;)e.done.shift(),e.done[0].ranges||e.done.shift()}e.done.push(c),e.generation=++e.maxGeneration,e.lastModTime=e.lastSelTime=h,e.lastOp=e.lastSelOp=d,e.lastOrigin=e.lastSelOrigin=b.origin,g||F(a,"historyAdded")}function ge(a,b,c,d){var e=b.charAt(0);return"*"==e||"+"==e&&c.ranges.length==d.ranges.length&&c.somethingSelected()==d.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)}function he(a,b,c,d){var e=a.history,f=d&&d.origin;c==e.lastSelOp||f&&e.lastSelOrigin==f&&(e.lastModTime==e.lastSelTime&&e.lastOrigin==f||ge(a,f,p(e.done),b))?e.done[e.done.length-1]=b:ie(b,e.done),e.lastSelTime=+new Date,e.lastSelOrigin=f,e.lastSelOp=c,d&&d.clearRedo!==!1&&de(e.undone)}function ie(a,b){var c=p(b);c&&c.ranges&&c.equals(a)||b.push(a)}function je(a,b,c,d){var e=b["spans_"+a.id],f=0;a.iter(Math.max(a.first,c),Math.min(a.first+a.size,d),function(c){c.markedSpans&&((e||(e=b["spans_"+a.id]={}))[f]=c.markedSpans),++f})}function ke(a){if(!a)return null;for(var b,c=0;c<a.length;++c)a[c].marker.explicitlyCleared?b||(b=a.slice(0,c)):b&&b.push(a[c]);return b?b.length?b:null:a}function le(a,b){var c=b["spans_"+a.id];if(!c)return null;for(var d=[],e=0;e<b.text.length;++e)d.push(ke(c[e]));return d}function me(a,b){var c=le(a,b),d=Ka(a,b);if(!c)return d;if(!d)return c;for(var e=0;e<c.length;++e){var f=c[e],g=d[e];if(f&&g)a:for(var h=0;h<g.length;++h){for(var i=g[h],j=0;j<f.length;++j)if(f[j].marker==i.marker)continue a;f.push(i)}else g&&(c[e]=g)}return c}function ne(a,b,c){for(var d=[],e=0;e<a.length;++e){var f=a[e];if(f.ranges)d.push(c?Fh.prototype.deepCopy.call(f):f);else{var g=f.changes,h=[];d.push({changes:h});for(var i=0;i<g.length;++i){var j=g[i],k=void 0;if(h.push({from:j.from,to:j.to,text:j.text}),b)for(var l in j)(k=l.match(/^spans_(\d+)$/))&&m(b,Number(k[1]))>-1&&(p(h)[l]=j[l],delete j[l])}}}return d}function oe(a,b,c,d){if(d){var e=a.anchor;if(c){var f=ia(b,e)<0;f!=ia(c,e)<0?(e=b,b=c):f!=ia(b,c)<0&&(b=c)}return new Gh(e,b)}return new Gh(c||b,b)}function pe(a,b,c,d,e){null==e&&(e=a.cm&&(a.cm.display.shift||a.extend)),ve(a,new Fh([oe(a.sel.primary(),b,c,e)],0),d)}function qe(a,b,c){for(var d=[],e=a.cm&&(a.cm.display.shift||a.extend),f=0;f<a.sel.ranges.length;f++)d[f]=oe(a.sel.ranges[f],b[f],null,e);var g=Od(a.cm,d,a.sel.primIndex);ve(a,g,c)}function re(a,b,c,d){var e=a.sel.ranges.slice(0);e[b]=c,ve(a,Od(a.cm,e,a.sel.primIndex),d)}function se(a,b,c,d){ve(a,Pd(b,c),d)}function te(a,b,c){var d={ranges:b.ranges,update:function(b){var c=this;this.ranges=[];for(var d=0;d<b.length;d++)c.ranges[d]=new Gh(oa(a,b[d].anchor),oa(a,b[d].head))},origin:c&&c.origin};return F(a,"beforeSelectionChange",a,d),a.cm&&F(a.cm,"beforeSelectionChange",a.cm,d),d.ranges!=b.ranges?Od(a.cm,d.ranges,d.ranges.length-1):b}function ue(a,b,c){var d=a.history.done,e=p(d);e&&e.ranges?(d[d.length-1]=b,we(a,b,c)):ve(a,b,c)}function ve(a,b,c){we(a,b,c),he(a,a.sel,a.cm?a.cm.curOp.id:NaN,c)}function we(a,b,c){(I(a,"beforeSelectionChange")||a.cm&&I(a.cm,"beforeSelectionChange"))&&(b=te(a,b,c));var d=c&&c.bias||(ia(b.primary().head,a.sel.primary().head)<0?-1:1);xe(a,ze(a,b,d,!0)),c&&c.scroll===!1||!a.cm||Yc(a.cm)}function xe(a,b){b.equals(a.sel)||(a.sel=b,a.cm&&(a.cm.curOp.updateInput=1,a.cm.curOp.selectionChanged=!0,H(a.cm)),ub(a,"cursorActivity",a))}function ye(a){xe(a,ze(a,a.sel,null,!1))}function ze(a,b,c,d){for(var e,f=0;f<b.ranges.length;f++){var g=b.ranges[f],h=b.ranges.length==a.sel.ranges.length&&a.sel.ranges[f],i=Be(a,g.anchor,h&&h.anchor,c,d),j=Be(a,g.head,h&&h.head,c,d);(e||i!=g.anchor||j!=g.head)&&(e||(e=b.ranges.slice(0,f)),e[f]=new Gh(i,j))}return e?Od(a.cm,e,b.primIndex):b}function Ae(a,b,c,d,e){var f=_(a,b.line);if(f.markedSpans)for(var g=0;g<f.markedSpans.length;++g){var h=f.markedSpans[g],i=h.marker,j="selectLeft"in i?!i.selectLeft:i.inclusiveLeft,k="selectRight"in i?!i.selectRight:i.inclusiveRight;if((null==h.from||(j?h.from<=b.ch:h.from<b.ch))&&(null==h.to||(k?h.to>=b.ch:h.to>b.ch))){if(e&&(F(i,"beforeCursorEnter"),i.explicitlyCleared)){if(f.markedSpans){--g;continue}break}if(!i.atomic)continue;if(c){var l=i.find(0>d?1:-1),m=void 0;if((0>d?k:j)&&(l=Ce(a,l,-d,l&&l.line==b.line?f:null)),l&&l.line==b.line&&(m=ia(l,c))&&(0>d?0>m:m>0))return Ae(a,l,b,d,e)}var n=i.find(0>d?-1:1);return(0>d?j:k)&&(n=Ce(a,n,d,n.line==b.line?f:null)),n?Ae(a,n,b,d,e):null}}return b}function Be(a,b,c,d,e){var f=d||1,g=Ae(a,b,c,f,e)||!e&&Ae(a,b,c,f,!0)||Ae(a,b,c,-f,e)||!e&&Ae(a,b,c,-f,!0);return g?g:(a.cantEdit=!0,ha(a.first,0))}function Ce(a,b,c,d){return 0>c&&0==b.ch?b.line>a.first?oa(a,ha(b.line-1)):null:c>0&&b.ch==(d||_(a,b.line)).text.length?b.line<a.first+a.size-1?ha(b.line+1,0):null:new ha(b.line,b.ch+c)}function De(a){a.setSelection(ha(a.firstLine(),0),ha(a.lastLine()),Vg)}function Ee(a,b,c){var d={canceled:!1,from:b.from,to:b.to,text:b.text,origin:b.origin,cancel:function(){return d.canceled=!0}};return c&&(d.update=function(b,c,e,f){b&&(d.from=oa(a,b)),c&&(d.to=oa(a,c)),e&&(d.text=e),void 0!==f&&(d.origin=f)}),F(a,"beforeChange",a,d),a.cm&&F(a.cm,"beforeChange",a.cm,d),d.canceled?(a.cm&&(a.cm.curOp.updateInput=2),null):{from:d.from,to:d.to,text:d.text,origin:d.origin}}function Fe(a,b,c){if(a.cm){if(!a.cm.curOp)return rd(a.cm,Fe)(a,b,c);if(a.cm.state.suppressEdits)return}if(!(I(a,"beforeChange")||a.cm&&I(a.cm,"beforeChange"))||(b=Ee(a,b,!0))){var d=ph&&!c&&Ma(a,b.from,b.to);if(d)for(var e=d.length-1;e>=0;--e)Ge(a,{from:d[e].from,to:d[e].to,text:e?[""]:b.text,origin:b.origin});else Ge(a,b)}}function Ge(a,b){if(1!=b.text.length||""!=b.text[0]||0!=ia(b.from,b.to)){var c=Sd(a,b);fe(a,b,c,a.cm?a.cm.curOp.id:NaN),Je(a,b,c,Ka(a,b));var d=[];Zd(a,function(a,c){c||-1!=m(d,a.history)||(Oe(a.history,b),d.push(a.history)),Je(a,b,null,Ka(a,b))})}}function He(a,b,c){var d=a.cm&&a.cm.state.suppressEdits;if(!d||c){for(var e,f=a.history,g=a.sel,h="undo"==b?f.done:f.undone,i="undo"==b?f.undone:f.done,j=0;j<h.length&&(e=h[j],c?!e.ranges||e.equals(a.sel):e.ranges);j++);if(j!=h.length){for(f.lastOrigin=f.lastSelOrigin=null;;){if(e=h.pop(),!e.ranges){if(d)return void h.push(e);break}if(ie(e,i),c&&!e.equals(a.sel))return void ve(a,e,{clearRedo:!1});g=e}var k=[];ie(g,i),i.push({changes:k,generation:f.generation}),f.generation=e.generation||++f.maxGeneration;for(var l=I(a,"beforeChange")||a.cm&&I(a.cm,"beforeChange"),n=function(c){var d=e.changes[c];if(d.origin=b,l&&!Ee(a,d,!1))return h.length=0,{};k.push(ce(a,d));var f=c?Sd(a,d):p(h);Je(a,d,f,me(a,d)),!c&&a.cm&&a.cm.scrollIntoView({from:d.from,to:Qd(d)});var g=[];Zd(a,function(a,b){b||-1!=m(g,a.history)||(Oe(a.history,d),g.push(a.history)),Je(a,d,null,me(a,d))})},o=e.changes.length-1;o>=0;--o){var q=n(o);if(q)return q.v}}}}function Ie(a,b){if(0!=b&&(a.first+=b,a.sel=new Fh(q(a.sel.ranges,function(a){return new Gh(ha(a.anchor.line+b,a.anchor.ch),ha(a.head.line+b,a.head.ch))}),a.sel.primIndex),a.cm)){Ac(a.cm,a.first,a.first-b,b);for(var c=a.cm.display,d=c.viewFrom;d<c.viewTo;d++)Bc(a.cm,d,"gutter")}}function Je(a,b,c,d){if(a.cm&&!a.cm.curOp)return rd(a.cm,Je)(a,b,c,d);if(b.to.line<a.first)return void Ie(a,b.text.length-1-(b.to.line-b.from.line));if(!(b.from.line>a.lastLine())){if(b.from.line<a.first){var e=b.text.length-1-(a.first-b.from.line);Ie(a,e),b={from:ha(a.first,0),to:ha(b.to.line+e,b.to.ch),text:[p(b.text)],origin:b.origin}}var f=a.lastLine();b.to.line>f&&(b={from:b.from,to:ha(f,_(a,f).text.length),text:[b.text[0]],origin:b.origin}),b.removed=aa(a,b.from,b.to),c||(c=Sd(a,b)),a.cm?Ke(a.cm,b,d):Yd(a,b,d),we(a,c,Vg)}}function Ke(a,b,c){var d=a.doc,e=a.display,f=b.from,g=b.to,h=!1,i=f.line;a.options.lineWrapping||(i=da(Xa(_(d,f.line))),d.iter(i,g.line+1,function(a){return a==e.maxLine?(h=!0,!0):void 0})),d.sel.contains(b.from,b.to)>-1&&H(a),Yd(d,b,c,wc(a)),a.options.lineWrapping||(d.iter(i,f.line+b.text.length,function(a){var b=db(a);b>e.maxLineLength&&(e.maxLine=a,e.maxLineLength=b,e.maxLineChanged=!0,h=!1)}),h&&(a.curOp.updateMaxLine=!0)),Ba(d,f.line),ud(a,400);var j=b.text.length-(g.line-f.line)-1;b.full?Ac(a):f.line!=g.line||1!=b.text.length||Xd(a.doc,b)?Ac(a,f.line,g.line+1,j):Bc(a,f.line,"text");
var k=I(a,"changes"),l=I(a,"change");if(l||k){var m={from:f,to:g,text:b.text,removed:b.removed,origin:b.origin};l&&ub(a,"change",a,m),k&&(a.curOp.changeObjs||(a.curOp.changeObjs=[])).push(m)}a.display.selForContextMenu=null}function Le(a,b,c,d,e){var f;d||(d=c),ia(d,c)<0&&(f=[d,c],c=f[0],d=f[1]),"string"==typeof b&&(b=a.splitLines(b)),Fe(a,{from:c,to:d,text:b,origin:e})}function Me(a,b,c,d){c<a.line?a.line+=d:b<a.line&&(a.line=b,a.ch=0)}function Ne(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e],g=!0;if(f.ranges){f.copied||(f=a[e]=f.deepCopy(),f.copied=!0);for(var h=0;h<f.ranges.length;h++)Me(f.ranges[h].anchor,b,c,d),Me(f.ranges[h].head,b,c,d)}else{for(var i=0;i<f.changes.length;++i){var j=f.changes[i];if(c<j.from.line)j.from=ha(j.from.line+d,j.from.ch),j.to=ha(j.to.line+d,j.to.ch);else if(b<=j.to.line){g=!1;break}}g||(a.splice(0,e+1),e=0)}}}function Oe(a,b){var c=b.from.line,d=b.to.line,e=b.text.length-(d-c)-1;Ne(a.done,c,d,e),Ne(a.undone,c,d,e)}function Pe(a,b,c,d){var e=b,f=b;return"number"==typeof b?f=_(a,na(a,b)):e=da(b),null==e?null:(d(f,e)&&a.cm&&Bc(a.cm,e,c),f)}function Qe(a){var b=this;this.lines=a,this.parent=null;for(var c=0,d=0;d<a.length;++d)a[d].parent=b,c+=a[d].height;this.height=c}function Re(a){var b=this;this.children=a;for(var c=0,d=0,e=0;e<a.length;++e){var f=a[e];c+=f.chunkSize(),d+=f.height,f.parent=b}this.size=c,this.height=d,this.parent=null}function Se(a,b,c){cb(b)<(a.curOp&&a.curOp.scrollTop||a.doc.scrollTop)&&Xc(a,c)}function Te(a,b,c,d){var e=new Hh(a,c,d),f=a.cm;return f&&e.noHScroll&&(f.display.alignWidgets=!0),Pe(a,b,"widget",function(b){var c=b.widgets||(b.widgets=[]);if(null==e.insertAt?c.push(e):c.splice(Math.min(c.length-1,Math.max(0,e.insertAt)),0,e),e.line=b,f&&!ab(a,b)){var d=cb(b)<a.scrollTop;ca(b,b.height+Ib(e)),d&&Xc(f,e.height),f.curOp.forceUpdate=!0}return!0}),f&&ub(f,"lineWidgetAdded",f,e,"number"==typeof b?b:da(b)),e}function Ue(a,b,c,d,f){if(d&&d.shared)return Ve(a,b,c,d,f);if(a.cm&&!a.cm.curOp)return rd(a.cm,Ue)(a,b,c,d,f);var g=new Jh(a,f),h=ia(b,c);if(d&&k(d,g,!1),h>0||0==h&&g.clearWhenEmpty!==!1)return g;if(g.replacedWith&&(g.collapsed=!0,g.widgetNode=e("span",[g.replacedWith],"CodeMirror-widget"),d.handleMouseEvents||g.widgetNode.setAttribute("cm-ignore-events","true"),d.insertLeft&&(g.widgetNode.insertLeft=!0)),g.collapsed){if(Wa(a,b.line,b,c,g)||b.line!=c.line&&Wa(a,c.line,b,c,g))throw new Error("Inserting collapsed marker partially overlapping an existing one");Da()}g.addToHistory&&fe(a,{from:b,to:c,origin:"markText"},a.sel,NaN);var i,j=b.line,l=a.cm;if(a.iter(j,c.line+1,function(a){l&&g.collapsed&&!l.options.lineWrapping&&Xa(a)==l.display.maxLine&&(i=!0),g.collapsed&&j!=b.line&&ca(a,0),Ha(a,new Ea(g,j==b.line?b.ch:null,j==c.line?c.ch:null)),++j}),g.collapsed&&a.iter(b.line,c.line+1,function(b){ab(a,b)&&ca(b,0)}),g.clearOnEnter&&ch(g,"beforeCursorEnter",function(){return g.clear()}),g.readOnly&&(Ca(),(a.history.done.length||a.history.undone.length)&&a.clearHistory()),g.collapsed&&(g.id=++Ih,g.atomic=!0),l){if(i&&(l.curOp.updateMaxLine=!0),g.collapsed)Ac(l,b.line,c.line+1);else if(g.className||g.startStyle||g.endStyle||g.css||g.attributes||g.title)for(var m=b.line;m<=c.line;m++)Bc(l,m,"text");g.atomic&&ye(l.doc),ub(l,"markerAdded",l,g)}return g}function Ve(a,b,c,d,e){d=k(d),d.shared=!1;var f=[Ue(a,b,c,d,e)],g=f[0],h=d.widgetNode;return Zd(a,function(a){h&&(d.widgetNode=h.cloneNode(!0)),f.push(Ue(a,oa(a,b),oa(a,c),d,e));for(var i=0;i<a.linked.length;++i)if(a.linked[i].isParent)return;g=p(f)}),new Kh(f,g)}function We(a){return a.findMarks(ha(a.first,0),a.clipPos(ha(a.lastLine())),function(a){return a.parent})}function Xe(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=d.find(),f=a.clipPos(e.from),g=a.clipPos(e.to);if(ia(f,g)){var h=Ue(a,f,g,d.primary,d.primary.type);d.markers.push(h),h.parent=d}}}function Ye(a){for(var b=function(b){var c=a[b],d=[c.primary.doc];Zd(c.primary.doc,function(a){return d.push(a)});for(var e=0;e<c.markers.length;e++){var f=c.markers[e];-1==m(d,f.doc)&&(f.parent=null,c.markers.splice(e--,1))}},c=0;c<a.length;c++)b(c)}function Ze(a){var b=this;if(af(b),!G(b,a)&&!Jb(b.display,a)){K(a),vg&&(Nh=+new Date);var c=yc(b,a,!0),d=a.dataTransfer.files;if(c&&!b.isReadOnly())if(d&&d.length&&window.FileReader&&window.File)for(var e=d.length,f=Array(e),g=0,h=function(a,d){if(!b.options.allowDropFileTypes||-1!=m(b.options.allowDropFileTypes,a.type)){var h=new FileReader;h.onload=rd(b,function(){var a=h.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(a)&&(a=""),f[d]=a,++g==e){c=oa(b.doc,c);var i={from:c,to:c,text:b.doc.splitLines(f.join(b.doc.lineSeparator())),origin:"paste"};Fe(b.doc,i),ue(b.doc,Pd(c,Qd(i)))}}),h.readAsText(a)}},i=0;e>i;++i)h(d[i],i);else{if(b.state.draggingText&&b.doc.sel.contains(c)>-1)return b.state.draggingText(a),void setTimeout(function(){return b.display.input.focus()},20);try{var j=a.dataTransfer.getData("Text");if(j){var k;if(b.state.draggingText&&!b.state.draggingText.copy&&(k=b.listSelections()),we(b.doc,Pd(c,c)),k)for(var l=0;l<k.length;++l)Le(b.doc,"",k[l].anchor,k[l].head,"drag");b.replaceSelection(j,"around","paste"),b.display.input.focus()}}catch(a){}}}}function $e(a,b){if(vg&&(!a.state.draggingText||+new Date-Nh<100))return void N(b);if(!G(a,b)&&!Jb(a.display,b)&&(b.dataTransfer.setData("Text",a.getSelection()),b.dataTransfer.effectAllowed="copyMove",b.dataTransfer.setDragImage&&!Bg)){var c=d("img",null,null,"position: fixed; left: 0; top: 0;");c.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ag&&(c.width=c.height=1,a.display.wrapper.appendChild(c),c._top=c.offsetTop),b.dataTransfer.setDragImage(c,0,0),Ag&&c.parentNode.removeChild(c)}}function _e(a,b){var e=yc(a,b);if(e){var f=document.createDocumentFragment();Ic(a,e,f),a.display.dragCursor||(a.display.dragCursor=d("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),a.display.lineSpace.insertBefore(a.display.dragCursor,a.display.cursorDiv)),c(a.display.dragCursor,f)}}function af(a){a.display.dragCursor&&(a.display.lineSpace.removeChild(a.display.dragCursor),a.display.dragCursor=null)}function bf(a){if(document.getElementsByClassName){for(var b=document.getElementsByClassName("CodeMirror"),c=[],d=0;d<b.length;d++){var e=b[d].CodeMirror;e&&c.push(e)}c.length&&c[0].operation(function(){for(var b=0;b<c.length;b++)a(c[b])})}}function cf(){Oh||(df(),Oh=!0)}function df(){var a;ch(window,"resize",function(){null==a&&(a=setTimeout(function(){a=null,bf(ef)},100))}),ch(window,"blur",function(){return bf(Pc)})}function ef(a){var b=a.display;b.cachedCharWidth=b.cachedTextHeight=b.cachedPaddingH=null,b.scrollbarsClipped=!1,a.setSize()}function ff(a){var b=a.split(/-(?!$)/);a=b[b.length-1];for(var c,d,e,f,g=0;g<b.length-1;g++){var h=b[g];if(/^(cmd|meta|m)$/i.test(h))f=!0;else if(/^a(lt)?$/i.test(h))c=!0;else if(/^(c|ctrl|control)$/i.test(h))d=!0;else{if(!/^s(hift)?$/i.test(h))throw new Error("Unrecognized modifier name: "+h);e=!0}}return c&&(a="Alt-"+a),d&&(a="Ctrl-"+a),f&&(a="Cmd-"+a),e&&(a="Shift-"+a),a}function gf(a){var b={};for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];if(/^(name|fallthrough|(de|at)tach)$/.test(c))continue;if("..."==d){delete a[c];continue}for(var e=q(c.split(" "),ff),f=0;f<e.length;f++){var g=void 0,h=void 0;f==e.length-1?(h=e.join(" "),g=d):(h=e.slice(0,f+1).join(" "),g="...");var i=b[h];if(i){if(i!=g)throw new Error("Inconsistent bindings for "+h)}else b[h]=g}delete a[c]}for(var j in b)a[j]=b[j];return a}function hf(a,b,c,d){b=mf(b);var e=b.call?b.call(a,d):b[a];if(e===!1)return"nothing";if("..."===e)return"multi";if(null!=e&&c(e))return"handled";if(b.fallthrough){if("[object Array]"!=Object.prototype.toString.call(b.fallthrough))return hf(a,b.fallthrough,c,d);for(var f=0;f<b.fallthrough.length;f++){var g=hf(a,b.fallthrough[f],c,d);if(g)return g}}}function jf(a){var b="string"==typeof a?a:Ph[a.keyCode];return"Ctrl"==b||"Alt"==b||"Shift"==b||"Mod"==b}function kf(a,b,c){var d=a;return b.altKey&&"Alt"!=d&&(a="Alt-"+a),(Mg?b.metaKey:b.ctrlKey)&&"Ctrl"!=d&&(a="Ctrl-"+a),(Mg?b.ctrlKey:b.metaKey)&&"Cmd"!=d&&(a="Cmd-"+a),!c&&b.shiftKey&&"Shift"!=d&&(a="Shift-"+a),a}function lf(a,b){if(Ag&&34==a.keyCode&&a["char"])return!1;var c=Ph[a.keyCode];return null==c||a.altGraphKey?!1:(3==a.keyCode&&a.code&&(c=a.code),kf(c,a,b))}function mf(a){return"string"==typeof a?Th[a]:a}function nf(a,b){for(var c=a.doc.sel.ranges,d=[],e=0;e<c.length;e++){for(var f=b(c[e]);d.length&&ia(f.from,p(d).to)<=0;){var g=d.pop();if(ia(g.from,f.from)<0){f.from=g.from;break}}d.push(f)}qd(a,function(){for(var b=d.length-1;b>=0;b--)Le(a.doc,"",d[b].from,d[b].to,"+delete");Yc(a)})}function of(a,b,c){var d=y(a.text,b+c,c);return 0>d||d>a.text.length?null:d}function pf(a,b,c){var d=of(a,b.ch,c);return null==d?null:new ha(b.line,d,0>c?"after":"before")}function qf(a,b,c,d,e){if(a){var f=C(c,b.doc.direction);if(f){var g,h=0>e?p(f):f[0],i=0>e==(1==h.level),j=i?"after":"before";if(h.level>0||"rtl"==b.doc.direction){var k=Vb(b,c);g=0>e?c.text.length-1:0;var l=Wb(b,k,g).top;g=z(function(a){return Wb(b,k,a).top==l},0>e==(1==h.level)?h.from:h.to-1,g),"before"==j&&(g=of(c,g,1))}else g=0>e?h.to:h.from;return new ha(d,g,j)}}return new ha(d,0>e?c.text.length:0,0>e?"before":"after")}function rf(a,b,c,d){var e=C(b,a.doc.direction);if(!e)return pf(b,c,d);c.ch>=b.text.length?(c.ch=b.text.length,c.sticky="before"):c.ch<=0&&(c.ch=0,c.sticky="after");var f=B(e,c.ch,c.sticky),g=e[f];if("ltr"==a.doc.direction&&g.level%2==0&&(d>0?g.to>c.ch:g.from<c.ch))return pf(b,c,d);var h,i=function(a,c){return of(b,a instanceof ha?a.ch:a,c)},j=function(c){return a.options.lineWrapping?(h=h||Vb(a,b),nc(a,b,h,c)):{begin:0,end:b.text.length}},k=j("before"==c.sticky?i(c,-1):c.ch);if("rtl"==a.doc.direction||1==g.level){var l=1==g.level==0>d,m=i(c,l?1:-1);if(null!=m&&(l?m<=g.to&&m<=k.end:m>=g.from&&m>=k.begin)){var n=l?"before":"after";return new ha(c.line,m,n)}}var o=function(a,b,d){for(var f=function(a,b){return b?new ha(c.line,i(a,1),"before"):new ha(c.line,a,"after")};a>=0&&a<e.length;a+=b){var g=e[a],h=b>0==(1!=g.level),j=h?d.begin:i(d.end,-1);if(g.from<=j&&j<g.to)return f(j,h);if(j=h?g.from:i(g.to,-1),d.begin<=j&&j<d.end)return f(j,h)}},p=o(f+d,d,k);if(p)return p;var q=d>0?k.end:i(k.begin,-1);return null==q||d>0&&q==b.text.length||!(p=o(d>0?0:e.length-1,d,j(q)))?null:p}function sf(a,b){var c=_(a.doc,b),d=Xa(c);return d!=c&&(b=da(d)),qf(!0,a,d,b,1)}function tf(a,b){var c=_(a.doc,b),d=Ya(c);return d!=c&&(b=da(d)),qf(!0,a,c,b,-1)}function uf(a,b){var c=sf(a,b.line),d=_(a.doc,c.line),e=C(d,a.doc.direction);if(!e||0==e[0].level){var f=Math.max(0,d.text.search(/\S/)),g=b.line==c.line&&b.ch<=f&&b.ch;return ha(c.line,g?0:f,c.sticky)}return c}function vf(a,b,c){if("string"==typeof b&&(b=Uh[b],!b))return!1;a.display.input.ensurePolled();var d=a.display.shift,e=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),c&&(a.display.shift=!1),e=b(a)!=Ug}finally{a.display.shift=d,a.state.suppressEdits=!1}return e}function wf(a,b,c){for(var d=0;d<a.state.keyMaps.length;d++){var e=hf(b,a.state.keyMaps[d],c,a);if(e)return e}return a.options.extraKeys&&hf(b,a.options.extraKeys,c,a)||hf(b,a.options.keyMap,c,a)}function xf(a,b,c,d){var e=a.state.keySeq;if(e){if(jf(b))return"handled";if(/\'$/.test(b)?a.state.keySeq=null:Vh.set(50,function(){a.state.keySeq==e&&(a.state.keySeq=null,a.display.input.reset())}),yf(a,e+" "+b,c,d))return!0}return yf(a,b,c,d)}function yf(a,b,c,d){var e=wf(a,b,d);return"multi"==e&&(a.state.keySeq=b),"handled"==e&&ub(a,"keyHandled",a,b,c),("handled"==e||"multi"==e)&&(K(c),Lc(a)),!!e}function zf(a,b){var c=lf(b,!0);return c?b.shiftKey&&!a.state.keySeq?xf(a,"Shift-"+c,b,function(b){return vf(a,b,!0)})||xf(a,c,b,function(b){return("string"==typeof b?/^go[A-Z]/.test(b):b.motion)?vf(a,b):void 0}):xf(a,c,b,function(b){return vf(a,b)}):!1}function Af(a,b,c){return xf(a,"'"+c+"'",b,function(b){return vf(a,b,!0)})}function Bf(a){var b=this;if(b.curOp.focus=g(),!G(b,a)){vg&&11>wg&&27==a.keyCode&&(a.returnValue=!1);var c=a.keyCode;b.display.shift=16==c||a.shiftKey;var d=zf(b,a);Ag&&(Wh=d?c:null,!d&&88==c&&!gh&&(Hg?a.metaKey:a.ctrlKey)&&b.replaceSelection("",null,"cut")),18!=c||/\bCodeMirror-crosshair\b/.test(b.display.lineDiv.className)||Cf(b)}}function Cf(a){function b(a){18!=a.keyCode&&a.altKey||(Og(c,"CodeMirror-crosshair"),E(document,"keyup",b),E(document,"mouseover",b))}var c=a.display.lineDiv;h(c,"CodeMirror-crosshair"),ch(document,"keyup",b),ch(document,"mouseover",b)}function Df(a){16==a.keyCode&&(this.doc.sel.shift=!1),G(this,a)}function Ef(a){var b=this;if(!(Jb(b.display,a)||G(b,a)||a.ctrlKey&&!a.altKey||Hg&&a.metaKey)){var c=a.keyCode,d=a.charCode;if(Ag&&c==Wh)return Wh=null,void K(a);if(!Ag||a.which&&!(a.which<10)||!zf(b,a)){var e=String.fromCharCode(null==d?c:d);"\b"!=e&&(Af(b,a,e)||b.display.input.onKeyPress(a))}}}function Ff(a,b){var c=+new Date;return $h&&$h.compare(c,a,b)?(Zh=$h=null,"triple"):Zh&&Zh.compare(c,a,b)?($h=new Yh(c,a,b),Zh=null,"double"):(Zh=new Yh(c,a,b),$h=null,"single")}function Gf(a){var b=this,c=b.display;if(!(G(b,a)||c.activeTouch&&c.input.supportsTouch())){if(c.input.ensurePolled(),c.shift=a.shiftKey,Jb(c,a))return void(xg||(c.scroller.draggable=!1,setTimeout(function(){return c.scroller.draggable=!0},100)));if(!Pf(b,a)){var d=yc(b,a),e=P(a),f=d?Ff(d,e):"single";window.focus(),1==e&&b.state.selectingText&&b.state.selectingText(a),d&&Hf(b,e,d,f,a)||(1==e?d?Jf(b,d,f,a):O(a)==c.scroller&&K(a):2==e?(d&&pe(b.doc,d),setTimeout(function(){return c.input.focus()},20)):3==e&&(Ng?b.display.input.onContextMenu(a):Nc(b)))}}}function Hf(a,b,c,d,e){var f="Click";return"double"==d?f="Double"+f:"triple"==d&&(f="Triple"+f),f=(1==b?"Left":2==b?"Middle":"Right")+f,xf(a,kf(f,e),e,function(b){if("string"==typeof b&&(b=Uh[b]),!b)return!1;var d=!1;try{a.isReadOnly()&&(a.state.suppressEdits=!0),d=b(a,c)!=Ug}finally{a.state.suppressEdits=!1}return d})}function If(a,b,c){var d=a.getOption("configureMouse"),e=d?d(a,b,c):{};if(null==e.unit){var f=Ig?c.shiftKey&&c.metaKey:c.altKey;e.unit=f?"rectangle":"single"==b?"char":"double"==b?"word":"line"}return(null==e.extend||a.doc.extend)&&(e.extend=a.doc.extend||c.shiftKey),null==e.addNew&&(e.addNew=Hg?c.metaKey:c.ctrlKey),null==e.moveOnDrag&&(e.moveOnDrag=!(Hg?c.altKey:c.ctrlKey)),e}function Jf(a,b,c,d){vg?setTimeout(j(Mc,a),0):a.curOp.focus=g();var e,f=If(a,c,d),h=a.doc.sel;a.options.dragDrop&&dh&&!a.isReadOnly()&&"single"==c&&(e=h.contains(b))>-1&&(ia((e=h.ranges[e]).from(),b)<0||b.xRel>0)&&(ia(e.to(),b)>0||b.xRel<0)?Kf(a,d,b,f):Mf(a,d,b,f)}function Kf(a,b,c,d){var e=a.display,f=!1,g=rd(a,function(b){xg&&(e.scroller.draggable=!1),a.state.draggingText=!1,E(e.wrapper.ownerDocument,"mouseup",g),E(e.wrapper.ownerDocument,"mousemove",h),E(e.scroller,"dragstart",i),E(e.scroller,"drop",g),f||(K(b),d.addNew||pe(a.doc,c,null,null,d.extend),xg||vg&&9==wg?setTimeout(function(){e.wrapper.ownerDocument.body.focus(),e.input.focus()},20):e.input.focus())}),h=function(a){f=f||Math.abs(b.clientX-a.clientX)+Math.abs(b.clientY-a.clientY)>=10},i=function(){return f=!0};xg&&(e.scroller.draggable=!0),a.state.draggingText=g,g.copy=!d.moveOnDrag,e.scroller.dragDrop&&e.scroller.dragDrop(),ch(e.wrapper.ownerDocument,"mouseup",g),ch(e.wrapper.ownerDocument,"mousemove",h),ch(e.scroller,"dragstart",i),ch(e.scroller,"drop",g),Nc(a),setTimeout(function(){return e.input.focus()},20)}function Lf(a,b,c){if("char"==c)return new Gh(b,b);if("word"==c)return a.findWordAt(b);if("line"==c)return new Gh(ha(b.line,0),oa(a.doc,ha(b.line+1,0)));var d=c(a,b);return new Gh(d.from,d.to)}function Mf(a,b,c,d){function e(b){if(0!=ia(r,b))if(r=b,"rectangle"==d.unit){for(var e=[],f=a.options.tabSize,g=l(_(j,c.line).text,c.ch,f),h=l(_(j,b.line).text,b.ch,f),i=Math.min(g,h),p=Math.max(g,h),q=Math.min(c.line,b.line),s=Math.min(a.lastLine(),Math.max(c.line,b.line));s>=q;q++){var t=_(j,q).text,u=n(t,i,f);i==p?e.push(new Gh(ha(q,u),ha(q,u))):t.length>u&&e.push(new Gh(ha(q,u),ha(q,n(t,p,f))))}e.length||e.push(new Gh(c,c)),ve(j,Od(a,o.ranges.slice(0,m).concat(e),m),{origin:"*mouse",scroll:!1}),a.scrollIntoView(b)}else{var v,w=k,x=Lf(a,b,d.unit),y=w.anchor;ia(x.anchor,y)>0?(v=x.head,y=ma(w.from(),x.anchor)):(v=x.anchor,y=la(w.to(),x.head));var z=o.ranges.slice(0);z[m]=Nf(a,new Gh(oa(j,y),v)),ve(j,Od(a,z,m),Wg)}}function f(b){var c=++t,h=yc(a,b,!0,"rectangle"==d.unit);if(h)if(0!=ia(h,r)){a.curOp.focus=g(),e(h);var k=Sc(i,j);(h.line>=k.to||h.line<k.from)&&setTimeout(rd(a,function(){t==c&&f(b)}),150)}else{var l=b.clientY<s.top?-20:b.clientY>s.bottom?20:0;l&&setTimeout(rd(a,function(){t==c&&(i.scroller.scrollTop+=l,f(b))}),50)}}function h(b){a.state.selectingText=!1,t=1/0,b&&(K(b),i.input.focus()),E(i.wrapper.ownerDocument,"mousemove",u),E(i.wrapper.ownerDocument,"mouseup",v),j.history.lastSelOrigin=null}var i=a.display,j=a.doc;K(b);var k,m,o=j.sel,p=o.ranges;if(d.addNew&&!d.extend?(m=j.sel.contains(c),k=m>-1?p[m]:new Gh(c,c)):(k=j.sel.primary(),m=j.sel.primIndex),"rectangle"==d.unit)d.addNew||(k=new Gh(c,c)),c=yc(a,b,!0,!0),m=-1;else{var q=Lf(a,c,d.unit);k=d.extend?oe(k,q.anchor,q.head,d.extend):q}d.addNew?-1==m?(m=p.length,ve(j,Od(a,p.concat([k]),m),{scroll:!1,origin:"*mouse"})):p.length>1&&p[m].empty()&&"char"==d.unit&&!d.extend?(ve(j,Od(a,p.slice(0,m).concat(p.slice(m+1)),0),{scroll:!1,origin:"*mouse"}),o=j.sel):re(j,m,k,Wg):(m=0,ve(j,new Fh([k],0),Wg),o=j.sel);var r=c,s=i.wrapper.getBoundingClientRect(),t=0,u=rd(a,function(a){0!==a.buttons&&P(a)?f(a):h(a)}),v=rd(a,h);a.state.selectingText=v,ch(i.wrapper.ownerDocument,"mousemove",u),ch(i.wrapper.ownerDocument,"mouseup",v)}function Nf(a,b){var c=b.anchor,d=b.head,e=_(a.doc,c.line);if(0==ia(c,d)&&c.sticky==d.sticky)return b;var f=C(e);if(!f)return b;var g=B(f,c.ch,c.sticky),h=f[g];if(h.from!=c.ch&&h.to!=c.ch)return b;var i=g+(h.from==c.ch==(1!=h.level)?0:1);if(0==i||i==f.length)return b;var j;if(d.line!=c.line)j=(d.line-c.line)*("ltr"==a.doc.direction?1:-1)>0;else{var k=B(f,d.ch,d.sticky),l=k-g||(d.ch-c.ch)*(1==h.level?-1:1);j=k==i-1||k==i?0>l:l>0}var m=f[i+(j?-1:0)],n=j==(1==m.level),o=n?m.from:m.to,p=n?"after":"before";return c.ch==o&&c.sticky==p?b:new Gh(new ha(c.line,o,p),d)}function Of(a,b,c,d){var e,f;if(b.touches)e=b.touches[0].clientX,f=b.touches[0].clientY;else try{e=b.clientX,f=b.clientY}catch(b){return!1}if(e>=Math.floor(a.display.gutters.getBoundingClientRect().right))return!1;d&&K(b);var g=a.display,h=g.lineDiv.getBoundingClientRect();if(f>h.bottom||!I(a,c))return M(b);f-=h.top-g.viewOffset;for(var i=0;i<a.display.gutterSpecs.length;++i){var j=g.gutters.childNodes[i];if(j&&j.getBoundingClientRect().right>=e){var k=ea(a.doc,f),l=a.display.gutterSpecs[i];return F(a,c,a,k,l.className,b),M(b)}}}function Pf(a,b){return Of(a,b,"gutterClick",!0)}function Qf(a,b){Jb(a.display,b)||Rf(a,b)||G(a,b,"contextmenu")||Ng||a.display.input.onContextMenu(b)}function Rf(a,b){return I(a,"gutterContextMenu")?Of(a,b,"gutterContextMenu",!1):!1}function Sf(a){a.display.wrapper.className=a.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+a.options.theme.replace(/(^|\s)\s*/g," cm-s-"),bc(a)}function Tf(a){function b(b,d,e,f){a.defaults[b]=d,e&&(c[b]=f?function(a,b,c){c!=_h&&e(a,b,c)}:e)}var c=a.optionHandlers;a.defineOption=b,a.Init=_h,b("value","",function(a,b){return a.setValue(b)},!0),b("mode",null,function(a,b){a.doc.modeOption=b,Vd(a)},!0),b("indentUnit",2,Vd,!0),b("indentWithTabs",!1),b("smartIndent",!0),b("tabSize",4,function(a){Wd(a),bc(a),Ac(a)},!0),b("lineSeparator",null,function(a,b){if(a.doc.lineSep=b,b){var c=[],d=a.doc.first;a.doc.iter(function(a){for(var e=0;;){var f=a.text.indexOf(b,e);if(-1==f)break;e=f+b.length,c.push(ha(d,f))}d++});for(var e=c.length-1;e>=0;e--)Le(a.doc,b,c[e],ha(c[e].line,c[e].ch+b.length))}}),b("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(a,b,c){a.state.specialChars=new RegExp(b.source+(b.test("	")?"":"|	"),"g"),c!=_h&&a.refresh()}),b("specialCharPlaceholder",jb,function(a){return a.refresh()},!0),b("electricChars",!0),b("inputStyle",Gg?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),b("spellcheck",!1,function(a,b){return a.getInputField().spellcheck=b},!0),b("autocorrect",!1,function(a,b){return a.getInputField().autocorrect=b},!0),b("autocapitalize",!1,function(a,b){return a.getInputField().autocapitalize=b},!0),b("rtlMoveVisually",!Jg),b("wholeLineUpdateBefore",!0),b("theme","default",function(a){Sf(a),Jd(a)},!0),b("keyMap","default",function(a,b,c){var d=mf(b),e=c!=_h&&mf(c);e&&e.detach&&e.detach(a,d),d.attach&&d.attach(a,e||null)}),b("extraKeys",null),b("configureMouse",null),b("lineWrapping",!1,Vf,!0),b("gutters",[],function(a,b){a.display.gutterSpecs=Hd(b,a.options.lineNumbers),Jd(a)},!0),b("fixedGutter",!0,function(a,b){a.display.gutters.style.left=b?vc(a.display)+"px":"0",a.refresh()},!0),b("coverGutterNextToScrollbar",!1,function(a){return fd(a)},!0),b("scrollbarStyle","native",function(a){hd(a),fd(a),a.display.scrollbars.setScrollTop(a.doc.scrollTop),a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0),b("lineNumbers",!1,function(a,b){a.display.gutterSpecs=Hd(a.options.gutters,b),Jd(a)},!0),b("firstLineNumber",1,Jd,!0),b("lineNumberFormatter",function(a){return a},Jd,!0),b("showCursorWhenSelecting",!1,Gc,!0),b("resetSelectionOnContextMenu",!0),b("lineWiseCopyCut",!0),b("pasteLinesPerSelection",!0),b("selectionsMayTouch",!1),b("readOnly",!1,function(a,b){"nocursor"==b&&(Pc(a),a.display.input.blur()),a.display.input.readOnlyChanged(b)}),b("disableInput",!1,function(a,b){b||a.display.input.reset()},!0),b("dragDrop",!0,Uf),b("allowDropFileTypes",null),b("cursorBlinkRate",530),b("cursorScrollMargin",0),b("cursorHeight",1,Gc,!0),b("singleCursorHeightPerLine",!0,Gc,!0),b("workTime",100),b("workDelay",100),b("flattenSpans",!0,Wd,!0),b("addModeClass",!1,Wd,!0),b("pollInterval",100),b("undoDepth",200,function(a,b){return a.doc.history.undoDepth=b}),b("historyEventDelay",1250),b("viewportMargin",10,function(a){return a.refresh()},!0),b("maxHighlightLength",1e4,Wd,!0),b("moveInputWithCursor",!0,function(a,b){b||a.display.input.resetPosition()}),b("tabindex",null,function(a,b){return a.display.input.getField().tabIndex=b||""}),b("autofocus",null),b("direction","ltr",function(a,b){return a.doc.setDirection(b)},!0),b("phrases",null)}function Uf(a,b,c){var d=c&&c!=_h;if(!b!=!d){var e=a.display.dragFunctions,f=b?ch:E;f(a.display.scroller,"dragstart",e.start),f(a.display.scroller,"dragenter",e.enter),f(a.display.scroller,"dragover",e.over),f(a.display.scroller,"dragleave",e.leave),f(a.display.scroller,"drop",e.drop)}}function Vf(a){a.options.lineWrapping?(h(a.display.wrapper,"CodeMirror-wrap"),a.display.sizer.style.minWidth="",a.display.sizerWidth=null):(Og(a.display.wrapper,"CodeMirror-wrap"),eb(a)),xc(a),Ac(a),bc(a),setTimeout(function(){return fd(a)},100)}function Wf(a,b){var c=this;if(!(this instanceof Wf))return new Wf(a,b);this.options=b=b?k(b):{},k(ai,b,!1);var d=b.value;"string"==typeof d?d=new Mh(d,b.mode,null,b.lineSeparator,b.direction):b.mode&&(d.modeOption=b.mode),this.doc=d;var e=new Wf.inputStyles[b.inputStyle](this),f=this.display=new Kd(a,d,e,b);f.wrapper.CodeMirror=this,Sf(this),b.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),hd(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Qg,keySeq:null,specialChars:null},b.autofocus&&!Gg&&f.input.focus(),vg&&11>wg&&setTimeout(function(){return c.display.input.reset(!0)},20),Xf(this),cf(),id(this),this.curOp.forceUpdate=!0,$d(this,d),b.autofocus&&!Gg||this.hasFocus()?setTimeout(j(Oc,this),20):Pc(this);for(var g in bi)bi.hasOwnProperty(g)&&bi[g](c,b[g],_h);Gd(this),b.finishInit&&b.finishInit(this);for(var h=0;h<ci.length;++h)ci[h](c);jd(this),xg&&b.lineWrapping&&"optimizelegibility"==getComputedStyle(f.lineDiv).textRendering&&(f.lineDiv.style.textRendering="auto")}function Xf(a){function b(){e.activeTouch&&(f=setTimeout(function(){return e.activeTouch=null},1e3),g=e.activeTouch,g.end=+new Date)}function c(a){if(1!=a.touches.length)return!1;var b=a.touches[0];return b.radiusX<=1&&b.radiusY<=1}function d(a,b){if(null==b.left)return!0;var c=b.left-a.left,d=b.top-a.top;return c*c+d*d>400}var e=a.display;ch(e.scroller,"mousedown",rd(a,Gf)),vg&&11>wg?ch(e.scroller,"dblclick",rd(a,function(b){if(!G(a,b)){var c=yc(a,b);if(c&&!Pf(a,b)&&!Jb(a.display,b)){K(b);var d=a.findWordAt(c);pe(a.doc,d.anchor,d.head)}}})):ch(e.scroller,"dblclick",function(b){return G(a,b)||K(b)}),ch(e.scroller,"contextmenu",function(b){return Qf(a,b)});var f,g={end:0};ch(e.scroller,"touchstart",function(b){if(!G(a,b)&&!c(b)&&!Pf(a,b)){e.input.ensurePolled(),clearTimeout(f);var d=+new Date;e.activeTouch={start:d,moved:!1,prev:d-g.end<=300?g:null},1==b.touches.length&&(e.activeTouch.left=b.touches[0].pageX,e.activeTouch.top=b.touches[0].pageY)}}),ch(e.scroller,"touchmove",function(){e.activeTouch&&(e.activeTouch.moved=!0)}),ch(e.scroller,"touchend",function(c){var f=e.activeTouch;if(f&&!Jb(e,c)&&null!=f.left&&!f.moved&&new Date-f.start<300){var g,h=a.coordsChar(e.activeTouch,"page");g=!f.prev||d(f,f.prev)?new Gh(h,h):!f.prev.prev||d(f,f.prev.prev)?a.findWordAt(h):new Gh(ha(h.line,0),oa(a.doc,ha(h.line+1,0))),a.setSelection(g.anchor,g.head),a.focus(),K(c)}b()}),ch(e.scroller,"touchcancel",b),ch(e.scroller,"scroll",function(){e.scroller.clientHeight&&(bd(a,e.scroller.scrollTop),dd(a,e.scroller.scrollLeft,!0),F(a,"scroll",a))}),ch(e.scroller,"mousewheel",function(b){return Nd(a,b)}),ch(e.scroller,"DOMMouseScroll",function(b){return Nd(a,b)}),ch(e.wrapper,"scroll",function(){return e.wrapper.scrollTop=e.wrapper.scrollLeft=0}),e.dragFunctions={enter:function(b){G(a,b)||N(b)},over:function(b){G(a,b)||(_e(a,b),N(b))},start:function(b){return $e(a,b)},drop:rd(a,Ze),leave:function(b){G(a,b)||af(a)}};var h=e.input.getField();ch(h,"keyup",function(b){return Df.call(a,b)}),ch(h,"keydown",rd(a,Bf)),ch(h,"keypress",rd(a,Ef)),ch(h,"focus",function(b){return Oc(a,b)}),ch(h,"blur",function(b){return Pc(a,b)})}function Yf(a,b,c,d){var e,f=a.doc;null==c&&(c="add"),"smart"==c&&(f.mode.indent?e=ta(a,b).state:c="prev");var g=a.options.tabSize,h=_(f,b),i=l(h.text,null,g);h.stateAfter&&(h.stateAfter=null);var j,k=h.text.match(/^\s*/)[0];if(d||/\S/.test(h.text)){if("smart"==c&&(j=f.mode.indent(e,h.text.slice(k.length),h.text),j==Ug||j>150)){if(!d)return;c="prev"}}else j=0,c="not";"prev"==c?j=b>f.first?l(_(f,b-1).text,null,g):0:"add"==c?j=i+a.options.indentUnit:"subtract"==c?j=i-a.options.indentUnit:"number"==typeof c&&(j=i+c),j=Math.max(0,j);var m="",n=0;if(a.options.indentWithTabs)for(var p=Math.floor(j/g);p;--p)n+=g,m+="	";if(j>n&&(m+=o(j-n)),m!=k)return Le(f,m,ha(b,0),ha(b,k.length),"+input"),h.stateAfter=null,!0;for(var q=0;q<f.sel.ranges.length;q++){var r=f.sel.ranges[q];if(r.head.line==b&&r.head.ch<k.length){var s=ha(b,k.length);re(f,q,new Gh(s,s));break}}}function Zf(a){di=a}function $f(a,b,c,d,e){var f=a.doc;a.display.shift=!1,d||(d=f.sel);var g=+new Date-200,h="paste"==e||a.state.pasteIncoming>g,i=eh(b),j=null;if(h&&d.ranges.length>1)if(di&&di.text.join("\n")==b){if(d.ranges.length%di.text.length==0){j=[];for(var k=0;k<di.text.length;k++)j.push(f.splitLines(di.text[k]))}}else i.length==d.ranges.length&&a.options.pasteLinesPerSelection&&(j=q(i,function(a){return[a]}));for(var l=a.curOp.updateInput,m=d.ranges.length-1;m>=0;m--){var n=d.ranges[m],o=n.from(),r=n.to();n.empty()&&(c&&c>0?o=ha(o.line,o.ch-c):a.state.overwrite&&!h?r=ha(r.line,Math.min(_(f,r.line).text.length,r.ch+p(i).length)):h&&di&&di.lineWise&&di.text.join("\n")==b&&(o=r=ha(o.line,0)));var s={from:o,to:r,text:j?j[m%j.length]:i,origin:e||(h?"paste":a.state.cutIncoming>g?"cut":"+input")};Fe(a.doc,s),ub(a,"inputRead",a,s)}b&&!h&&ag(a,b),Yc(a),a.curOp.updateInput<2&&(a.curOp.updateInput=l),a.curOp.typing=!0,a.state.pasteIncoming=a.state.cutIncoming=-1}function _f(a,b){var c=a.clipboardData&&a.clipboardData.getData("Text");return c?(a.preventDefault(),b.isReadOnly()||b.options.disableInput||qd(b,function(){return $f(b,c,0,null,"paste")}),!0):void 0}function ag(a,b){if(a.options.electricChars&&a.options.smartIndent)for(var c=a.doc.sel,d=c.ranges.length-1;d>=0;d--){var e=c.ranges[d];if(!(e.head.ch>100||d&&c.ranges[d-1].head.line==e.head.line)){var f=a.getModeAt(e.head),g=!1;if(f.electricChars){for(var h=0;h<f.electricChars.length;h++)if(b.indexOf(f.electricChars.charAt(h))>-1){g=Yf(a,e.head.line,"smart");break}}else f.electricInput&&f.electricInput.test(_(a.doc,e.head.line).text.slice(0,e.head.ch))&&(g=Yf(a,e.head.line,"smart"));g&&ub(a,"electricInput",a,e.head.line)}}}function bg(a){for(var b=[],c=[],d=0;d<a.doc.sel.ranges.length;d++){var e=a.doc.sel.ranges[d].head.line,f={anchor:ha(e,0),head:ha(e+1,0)};c.push(f),b.push(a.getRange(f.anchor,f.head))}return{text:b,ranges:c}}function cg(a,b,c,d){a.setAttribute("autocorrect",c?"":"off"),a.setAttribute("autocapitalize",d?"":"off"),a.setAttribute("spellcheck",!!b)}function dg(){var a=d("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),b=d("div",[a],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return xg?a.style.width="1000px":a.setAttribute("wrap","off"),Eg&&(a.style.border="1px solid black"),cg(a),b}function eg(a){var b=a.optionHandlers,c=a.helpers={};a.prototype={constructor:a,focus:function(){window.focus(),this.display.input.focus()},setOption:function(a,c){var d=this.options,e=d[a];(d[a]!=c||"mode"==a)&&(d[a]=c,b.hasOwnProperty(a)&&rd(this,b[a])(this,c,e),F(this,"optionChange",this,a))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,b){this.state.keyMaps[b?"push":"unshift"](mf(a))},removeKeyMap:function(a){for(var b=this.state.keyMaps,c=0;c<b.length;++c)if(b[c]==a||b[c].name==a)return b.splice(c,1),!0},addOverlay:sd(function(b,c){var d=b.token?b:a.getMode(this.options,b);if(d.startState)throw new Error("Overlays may not be stateful.");r(this.state.overlays,{mode:d,modeSpec:b,opaque:c&&c.opaque,priority:c&&c.priority||0},function(a){return a.priority}),this.state.modeGen++,Ac(this)}),removeOverlay:sd(function(a){for(var b=this,c=this.state.overlays,d=0;d<c.length;++d){var e=c[d].modeSpec;if(e==a||"string"==typeof a&&e.name==a)return c.splice(d,1),b.state.modeGen++,void Ac(b)}}),indentLine:sd(function(a,b,c){"string"!=typeof b&&"number"!=typeof b&&(b=null==b?this.options.smartIndent?"smart":"prev":b?"add":"subtract"),fa(this.doc,a)&&Yf(this,a,b,c)}),indentSelection:sd(function(a){for(var b=this,c=this.doc.sel.ranges,d=-1,e=0;e<c.length;e++){var f=c[e];if(f.empty())f.head.line>d&&(Yf(b,f.head.line,a,!0),d=f.head.line,e==b.doc.sel.primIndex&&Yc(b));else{var g=f.from(),h=f.to(),i=Math.max(d,g.line);d=Math.min(b.lastLine(),h.line-(h.ch?0:1))+1;for(var j=i;d>j;++j)Yf(b,j,a);var k=b.doc.sel.ranges;0==g.ch&&c.length==k.length&&k[e].from().ch>0&&re(b.doc,e,new Gh(g,k[e].to()),Vg)}}}),getTokenAt:function(a,b){return xa(this,a,b)},getLineTokens:function(a,b){return xa(this,ha(a),b,!0)},getTokenTypeAt:function(a){a=oa(this.doc,a);var b,c=sa(this,_(this.doc,a.line)),d=0,e=(c.length-1)/2,f=a.ch;if(0==f)b=c[2];else for(;;){var g=d+e>>1;if((g?c[2*g-1]:0)>=f)e=g;else{if(!(c[2*g+1]<f)){b=c[2*g+2];break}d=g+1}}var h=b?b.indexOf("overlay "):-1;return 0>h?b:0==h?null:b.slice(0,h-1)},getModeAt:function(b){var c=this.doc.mode;return c.innerMode?a.innerMode(c,this.getTokenAt(b).state).mode:c},getHelper:function(a,b){return this.getHelpers(a,b)[0]},getHelpers:function(a,b){var d=this,e=[];if(!c.hasOwnProperty(b))return e;var f=c[b],g=this.getModeAt(a);if("string"==typeof g[b])f[g[b]]&&e.push(f[g[b]]);else if(g[b])for(var h=0;h<g[b].length;h++){var i=f[g[b][h]];i&&e.push(i)}else g.helperType&&f[g.helperType]?e.push(f[g.helperType]):f[g.name]&&e.push(f[g.name]);for(var j=0;j<f._global.length;j++){var k=f._global[j];k.pred(g,d)&&-1==m(e,k.val)&&e.push(k.val)}return e},getStateAfter:function(a,b){var c=this.doc;
return a=na(c,null==a?c.first+c.size-1:a),ta(this,a+1,b).state},cursorCoords:function(a,b){var c,d=this.doc.sel.primary();return c=null==a?d.head:"object"==typeof a?oa(this.doc,a):a?d.from():d.to(),ic(this,c,b||"page")},charCoords:function(a,b){return hc(this,oa(this.doc,a),b||"page")},coordsChar:function(a,b){return a=gc(this,a,b||"page"),lc(this,a.left,a.top)},lineAtHeight:function(a,b){return a=gc(this,{top:a,left:0},b||"page").top,ea(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,b,c){var d,e=!1;if("number"==typeof a){var f=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>f&&(a=f,e=!0),d=_(this.doc,a)}else d=a;return fc(this,d,{top:0,left:0},b||"page",c||e).top+(e?this.doc.height-cb(d):0)},defaultTextHeight:function(){return sc(this.display)},defaultCharWidth:function(){return tc(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,b,c,d,e){var f=this.display;a=ic(this,oa(this.doc,a));var g=a.bottom,h=a.left;if(b.style.position="absolute",b.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(b),f.sizer.appendChild(b),"over"==d)g=a.top;else if("above"==d||"near"==d){var i=Math.max(f.wrapper.clientHeight,this.doc.height),j=Math.max(f.sizer.clientWidth,f.lineSpace.clientWidth);("above"==d||a.bottom+b.offsetHeight>i)&&a.top>b.offsetHeight?g=a.top-b.offsetHeight:a.bottom+b.offsetHeight<=i&&(g=a.bottom),h+b.offsetWidth>j&&(h=j-b.offsetWidth)}b.style.top=g+"px",b.style.left=b.style.right="","right"==e?(h=f.sizer.clientWidth-b.offsetWidth,b.style.right="0px"):("left"==e?h=0:"middle"==e&&(h=(f.sizer.clientWidth-b.offsetWidth)/2),b.style.left=h+"px"),c&&Vc(this,{left:h,top:g,right:h+b.offsetWidth,bottom:g+b.offsetHeight})},triggerOnKeyDown:sd(Bf),triggerOnKeyPress:sd(Ef),triggerOnKeyUp:Df,triggerOnMouseDown:sd(Gf),execCommand:function(a){return Uh.hasOwnProperty(a)?Uh[a].call(null,this):void 0},triggerElectric:sd(function(a){ag(this,a)}),findPosH:function(a,b,c,d){var e=this,f=1;0>b&&(f=-1,b=-b);for(var g=oa(this.doc,a),h=0;b>h&&(g=fg(e.doc,g,f,c,d),!g.hitSide);++h);return g},moveH:sd(function(a,b){var c=this;this.extendSelectionsBy(function(d){return c.display.shift||c.doc.extend||d.empty()?fg(c.doc,d.head,a,b,c.options.rtlMoveVisually):0>a?d.from():d.to()},Xg)}),deleteH:sd(function(a,b){var c=this.doc.sel,d=this.doc;c.somethingSelected()?d.replaceSelection("",null,"+delete"):nf(this,function(c){var e=fg(d,c.head,a,b,!1);return 0>a?{from:e,to:c.head}:{from:c.head,to:e}})}),findPosV:function(a,b,c,d){var e=this,f=1,g=d;0>b&&(f=-1,b=-b);for(var h=oa(this.doc,a),i=0;b>i;++i){var j=ic(e,h,"div");if(null==g?g=j.left:j.left=g,h=gg(e,j,f,c),h.hitSide)break}return h},moveV:sd(function(a,b){var c=this,d=this.doc,e=[],f=!this.display.shift&&!d.extend&&d.sel.somethingSelected();if(d.extendSelectionsBy(function(g){if(f)return 0>a?g.from():g.to();var h=ic(c,g.head,"div");null!=g.goalColumn&&(h.left=g.goalColumn),e.push(h.left);var i=gg(c,h,a,b);return"page"==b&&g==d.sel.primary()&&Xc(c,hc(c,i,"div").top-h.top),i},Xg),e.length)for(var g=0;g<d.sel.ranges.length;g++)d.sel.ranges[g].goalColumn=e[g]}),findWordAt:function(a){var b=this.doc,c=_(b,a.line).text,d=a.ch,e=a.ch;if(c){var f=this.getHelper(a,"wordChars");"before"!=a.sticky&&e!=c.length||!d?++e:--d;for(var g=c.charAt(d),h=v(g,f)?function(a){return v(a,f)}:/\s/.test(g)?function(a){return/\s/.test(a)}:function(a){return!/\s/.test(a)&&!v(a)};d>0&&h(c.charAt(d-1));)--d;for(;e<c.length&&h(c.charAt(e));)++e}return new Gh(ha(a.line,d),ha(a.line,e))},toggleOverwrite:function(a){(null==a||a!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?h(this.display.cursorDiv,"CodeMirror-overwrite"):Og(this.display.cursorDiv,"CodeMirror-overwrite"),F(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==g()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:sd(function(a,b){Zc(this,a,b)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-Nb(this)-this.display.barHeight,width:a.scrollWidth-Nb(this)-this.display.barWidth,clientHeight:Pb(this),clientWidth:Ob(this)}},scrollIntoView:sd(function(a,b){null==a?(a={from:this.doc.sel.primary().head,to:null},null==b&&(b=this.options.cursorScrollMargin)):"number"==typeof a?a={from:ha(a,0),to:null}:null==a.from&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=b||0,null!=a.from.line?$c(this,a):ad(this,a.from,a.to,a.margin)}),setSize:sd(function(a,b){var c=this,d=function(a){return"number"==typeof a||/^\d+$/.test(String(a))?a+"px":a};null!=a&&(this.display.wrapper.style.width=d(a)),null!=b&&(this.display.wrapper.style.height=d(b)),this.options.lineWrapping&&ac(this);var e=this.display.viewFrom;this.doc.iter(e,this.display.viewTo,function(a){if(a.widgets)for(var b=0;b<a.widgets.length;b++)if(a.widgets[b].noHScroll){Bc(c,e,"widget");break}++e}),this.curOp.forceUpdate=!0,F(this,"refresh",this)}),operation:function(a){return qd(this,a)},startOperation:function(){return id(this)},endOperation:function(){return jd(this)},refresh:sd(function(){var a=this.display.cachedTextHeight;Ac(this),this.curOp.forceUpdate=!0,bc(this),Zc(this,this.doc.scrollLeft,this.doc.scrollTop),Dd(this.display),(null==a||Math.abs(a-sc(this.display))>.5)&&xc(this),F(this,"refresh",this)}),swapDoc:sd(function(a){var b=this.doc;return b.cm=null,this.state.selectingText&&this.state.selectingText(),$d(this,a),bc(this),this.display.input.reset(),Zc(this,a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,ub(this,"swapDoc",this,b),b}),phrase:function(a){var b=this.options.phrases;return b&&Object.prototype.hasOwnProperty.call(b,a)?b[a]:a},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},J(a),a.registerHelper=function(b,d,e){c.hasOwnProperty(b)||(c[b]=a[b]={_global:[]}),c[b][d]=e},a.registerGlobalHelper=function(b,d,e,f){a.registerHelper(b,d,f),c[b]._global.push({pred:e,val:f})}}function fg(a,b,c,d,e){function f(){var d=b.line+c;return d<a.first||d>=a.first+a.size?!1:(b=new ha(d,b.ch,b.sticky),j=_(a,d))}function g(d){var g;if(g=e?rf(a.cm,j,b,c):pf(j,b,c),null==g){if(d||!f())return!1;b=qf(e,a.cm,j,b.line,c)}else b=g;return!0}var h=b,i=c,j=_(a,b.line);if("char"==d)g();else if("column"==d)g(!0);else if("word"==d||"group"==d)for(var k=null,l="group"==d,m=a.cm&&a.cm.getHelper(b,"wordChars"),n=!0;!(0>c)||g(!n);n=!1){var o=j.text.charAt(b.ch)||"\n",p=v(o,m)?"w":l&&"\n"==o?"n":!l||/\s/.test(o)?null:"p";if(!l||n||p||(p="s"),k&&k!=p){0>c&&(c=1,g(),b.sticky="after");break}if(p&&(k=p),c>0&&!g(!n))break}var q=Be(a,b,h,i,!0);return ja(h,q)&&(q.hitSide=!0),q}function gg(a,b,c,d){var e,f=a.doc,g=b.left;if("page"==d){var h=Math.min(a.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),i=Math.max(h-.5*sc(a.display),3);e=(c>0?b.bottom:b.top)+c*i}else"line"==d&&(e=c>0?b.bottom+3:b.top-3);for(var j;j=lc(a,g,e),j.outside;){if(0>c?0>=e:e>=f.height){j.hitSide=!0;break}e+=5*c}return j}function hg(a,b){var c=Ub(a,b.line);if(!c||c.hidden)return null;var d=_(a.doc,b.line),e=Rb(c,d,b.line),f=C(d,a.doc.direction),g="left";if(f){var h=B(f,b.ch);g=h%2?"right":"left"}var i=Xb(e.map,b.ch,g);return i.offset="right"==i.collapse?i.end:i.start,i}function ig(a){for(var b=a;b;b=b.parentNode)if(/CodeMirror-gutter-wrapper/.test(b.className))return!0;return!1}function jg(a,b){return b&&(a.bad=!0),a}function kg(a,b,c,d,e){function f(a){return function(b){return b.id==a}}function g(){k&&(j+=l,m&&(j+=l),k=m=!1)}function h(a){a&&(g(),j+=a)}function i(b){if(1==b.nodeType){var c=b.getAttribute("cm-text");if(c)return void h(c);var j,n=b.getAttribute("cm-marker");if(n){var o=a.findMarks(ha(d,0),ha(e+1,0),f(+n));return void(o.length&&(j=o[0].find(0))&&h(aa(a.doc,j.from,j.to).join(l)))}if("false"==b.getAttribute("contenteditable"))return;var p=/^(pre|div|p|li|table|br)$/i.test(b.nodeName);if(!/^br$/i.test(b.nodeName)&&0==b.textContent.length)return;p&&g();for(var q=0;q<b.childNodes.length;q++)i(b.childNodes[q]);/^(pre|p)$/i.test(b.nodeName)&&(m=!0),p&&(k=!0)}else 3==b.nodeType&&h(b.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var j="",k=!1,l=a.doc.lineSeparator(),m=!1;i(b),b!=c;)b=b.nextSibling,m=!1;return j}function lg(a,b,c){var d;if(b==a.display.lineDiv){if(d=a.display.lineDiv.childNodes[c],!d)return jg(a.clipPos(ha(a.display.viewTo-1)),!0);b=null,c=0}else for(d=b;;d=d.parentNode){if(!d||d==a.display.lineDiv)return null;if(d.parentNode&&d.parentNode==a.display.lineDiv)break}for(var e=0;e<a.display.view.length;e++){var f=a.display.view[e];if(f.node==d)return mg(f,b,c)}}function mg(a,b,c){function d(b,c,d){for(var e=-1;e<(l?l.length:0);e++)for(var f=0>e?k.map:l[e],g=0;g<f.length;g+=3){var h=f[g+2];if(h==b||h==c){var i=da(0>e?a.line:a.rest[e]),j=f[g]+d;return(0>d||h!=b)&&(j=f[g+(d?1:0)]),ha(i,j)}}}var e=a.text.firstChild,g=!1;if(!b||!f(e,b))return jg(ha(da(a.line),0),!0);if(b==e&&(g=!0,b=e.childNodes[c],c=0,!b)){var h=a.rest?p(a.rest):a.line;return jg(ha(da(h),h.text.length),g)}var i=3==b.nodeType?b:null,j=b;for(i||1!=b.childNodes.length||3!=b.firstChild.nodeType||(i=b.firstChild,c&&(c=i.nodeValue.length));j.parentNode!=e;)j=j.parentNode;var k=a.measure,l=k.maps,m=d(i,j,c);if(m)return jg(m,g);for(var n=j.nextSibling,o=i?i.nodeValue.length-c:0;n;n=n.nextSibling){if(m=d(n,n.firstChild,0))return jg(ha(m.line,m.ch-o),g);o+=n.textContent.length}for(var q=j.previousSibling,r=c;q;q=q.previousSibling){if(m=d(q,q.firstChild,-1))return jg(ha(m.line,m.ch+r),g);r+=q.textContent.length}}function ng(a,b){function c(){a.value=j.getValue()}if(b=b?k(b):{},b.value=a.value,!b.tabindex&&a.tabIndex&&(b.tabindex=a.tabIndex),!b.placeholder&&a.placeholder&&(b.placeholder=a.placeholder),null==b.autofocus){var d=g();b.autofocus=d==a||null!=a.getAttribute("autofocus")&&d==document.body}var e;if(a.form&&(ch(a.form,"submit",c),!b.leaveSubmitMethodAlone)){var f=a.form;e=f.submit;try{var h=f.submit=function(){c(),f.submit=e,f.submit(),f.submit=h}}catch(i){}}b.finishInit=function(b){b.save=c,b.getTextArea=function(){return a},b.toTextArea=function(){b.toTextArea=isNaN,c(),a.parentNode.removeChild(b.getWrapperElement()),a.style.display="",a.form&&(E(a.form,"submit",c),"function"==typeof a.form.submit&&(a.form.submit=e))}},a.style.display="none";var j=Wf(function(b){return a.parentNode.insertBefore(b,a.nextSibling)},b);return j}function og(a){a.off=E,a.on=ch,a.wheelEventPixels=Md,a.Doc=Mh,a.splitLines=eh,a.countColumn=l,a.findColumn=n,a.isWordChar=u,a.Pass=Ug,a.signal=F,a.Line=rh,a.changeEnd=Qd,a.scrollbarModel=Ah,a.Pos=ha,a.cmpPos=ia,a.modes=ih,a.mimeModes=jh,a.resolveMode=V,a.getMode=W,a.modeExtensions=kh,a.extendMode=X,a.copyState=Y,a.startState=$,a.innerMode=Z,a.commands=Uh,a.keyMap=Th,a.keyName=lf,a.isModifierKey=jf,a.lookupKey=hf,a.normalizeKeyMap=gf,a.StringStream=lh,a.SharedTextMarker=Kh,a.TextMarker=Jh,a.LineWidget=Hh,a.e_preventDefault=K,a.e_stopPropagation=L,a.e_stop=N,a.addClass=h,a.contains=f,a.rmClass=Og,a.keyNames=Ph}var pg=navigator.userAgent,qg=navigator.platform,rg=/gecko\/\d/i.test(pg),sg=/MSIE \d/.test(pg),tg=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pg),ug=/Edge\/(\d+)/.exec(pg),vg=sg||tg||ug,wg=vg&&(sg?document.documentMode||6:+(ug||tg)[1]),xg=!ug&&/WebKit\//.test(pg),yg=xg&&/Qt\/\d+\.\d+/.test(pg),zg=!ug&&/Chrome\//.test(pg),Ag=/Opera\//.test(pg),Bg=/Apple Computer/.test(navigator.vendor),Cg=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(pg),Dg=/PhantomJS/.test(pg),Eg=!ug&&/AppleWebKit/.test(pg)&&/Mobile\/\w+/.test(pg),Fg=/Android/.test(pg),Gg=Eg||Fg||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(pg),Hg=Eg||/Mac/.test(qg),Ig=/\bCrOS\b/.test(pg),Jg=/win/i.test(qg),Kg=Ag&&pg.match(/Version\/(\d*\.\d*)/);Kg&&(Kg=Number(Kg[1])),Kg&&Kg>=15&&(Ag=!1,xg=!0);var Lg,Mg=Hg&&(yg||Ag&&(null==Kg||12.11>Kg)),Ng=rg||vg&&wg>=9,Og=function(b,c){var d=b.className,e=a(c).exec(d);if(e){var f=d.slice(e.index+e[0].length);b.className=d.slice(0,e.index)+(f?e[1]+f:"")}};Lg=document.createRange?function(a,b,c,d){var e=document.createRange();return e.setEnd(d||a,c),e.setStart(a,b),e}:function(a,b,c){var d=document.body.createTextRange();try{d.moveToElementText(a.parentNode)}catch(e){return d}return d.collapse(!0),d.moveEnd("character",c),d.moveStart("character",b),d};var Pg=function(a){a.select()};Eg?Pg=function(a){a.selectionStart=0,a.selectionEnd=a.value.length}:vg&&(Pg=function(a){try{a.select()}catch(b){}});var Qg=function(){this.id=null};Qg.prototype.set=function(a,b){clearTimeout(this.id),this.id=setTimeout(b,a)};var Rg,Sg,Tg=30,Ug={toString:function(){return"CodeMirror.Pass"}},Vg={scroll:!1},Wg={origin:"*mouse"},Xg={origin:"+move"},Yg=[""],Zg=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,$g=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,_g=null,ah=function(){function a(a){return 247>=a?c.charAt(a):a>=1424&&1524>=a?"R":a>=1536&&1785>=a?d.charAt(a-1536):a>=1774&&2220>=a?"r":a>=8192&&8203>=a?"w":8204==a?"b":"L"}function b(a,b,c){this.level=a,this.from=b,this.to=c}var c="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",e=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,f=/[stwN]/,g=/[LRr]/,h=/[Lb1n]/,i=/[1n]/;return function(c,d){var j="ltr"==d?"L":"R";if(0==c.length||"ltr"==d&&!e.test(c))return!1;for(var k=c.length,l=[],m=0;k>m;++m)l.push(a(c.charCodeAt(m)));for(var n=0,o=j;k>n;++n){var q=l[n];"m"==q?l[n]=o:o=q}for(var r=0,s=j;k>r;++r){var t=l[r];"1"==t&&"r"==s?l[r]="n":g.test(t)&&(s=t,"r"==t&&(l[r]="R"))}for(var u=1,v=l[0];k-1>u;++u){var w=l[u];"+"==w&&"1"==v&&"1"==l[u+1]?l[u]="1":","!=w||v!=l[u+1]||"1"!=v&&"n"!=v||(l[u]=v),v=w}for(var x=0;k>x;++x){var y=l[x];if(","==y)l[x]="N";else if("%"==y){var z=void 0;for(z=x+1;k>z&&"%"==l[z];++z);for(var A=x&&"!"==l[x-1]||k>z&&"1"==l[z]?"1":"N",B=x;z>B;++B)l[B]=A;x=z-1}}for(var C=0,D=j;k>C;++C){var E=l[C];"L"==D&&"1"==E?l[C]="L":g.test(E)&&(D=E)}for(var F=0;k>F;++F)if(f.test(l[F])){var G=void 0;for(G=F+1;k>G&&f.test(l[G]);++G);for(var H="L"==(F?l[F-1]:j),I="L"==(k>G?l[G]:j),J=H==I?H?"L":"R":j,K=F;G>K;++K)l[K]=J;F=G-1}for(var L,M=[],N=0;k>N;)if(h.test(l[N])){var O=N;for(++N;k>N&&h.test(l[N]);++N);M.push(new b(0,O,N))}else{var P=N,Q=M.length;for(++N;k>N&&"L"!=l[N];++N);for(var R=P;N>R;)if(i.test(l[R])){R>P&&M.splice(Q,0,new b(1,P,R));var S=R;for(++R;N>R&&i.test(l[R]);++R);M.splice(Q,0,new b(2,S,R)),P=R}else++R;N>P&&M.splice(Q,0,new b(1,P,N))}return"ltr"==d&&(1==M[0].level&&(L=c.match(/^\s+/))&&(M[0].from=L[0].length,M.unshift(new b(0,0,L[0].length))),1==p(M).level&&(L=c.match(/\s+$/))&&(p(M).to-=L[0].length,M.push(new b(0,k-L[0].length,k)))),"rtl"==d?M.reverse():M}}(),bh=[],ch=function(a,b,c){if(a.addEventListener)a.addEventListener(b,c,!1);else if(a.attachEvent)a.attachEvent("on"+b,c);else{var d=a._handlers||(a._handlers={});d[b]=(d[b]||bh).concat(c)}},dh=function(){if(vg&&9>wg)return!1;var a=d("div");return"draggable"in a||"dragDrop"in a}(),eh=3!="\n\nb".split(/\n/).length?function(a){for(var b=0,c=[],d=a.length;d>=b;){var e=a.indexOf("\n",b);-1==e&&(e=a.length);var f=a.slice(b,"\r"==a.charAt(e-1)?e-1:e),g=f.indexOf("\r");-1!=g?(c.push(f.slice(0,g)),b+=g+1):(c.push(f),b=e+1)}return c}:function(a){return a.split(/\r\n?|\n/)},fh=window.getSelection?function(a){try{return a.selectionStart!=a.selectionEnd}catch(b){return!1}}:function(a){var b;try{b=a.ownerDocument.selection.createRange()}catch(c){}return b&&b.parentElement()==a?0!=b.compareEndPoints("StartToEnd",b):!1},gh=function(){var a=d("div");return"oncopy"in a?!0:(a.setAttribute("oncopy","return;"),"function"==typeof a.oncopy)}(),hh=null,ih={},jh={},kh={},lh=function(a,b,c){this.pos=this.start=0,this.string=a,this.tabSize=b||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=c};lh.prototype.eol=function(){return this.pos>=this.string.length},lh.prototype.sol=function(){return this.pos==this.lineStart},lh.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},lh.prototype.next=function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},lh.prototype.eat=function(a){var b,c=this.string.charAt(this.pos);return b="string"==typeof a?c==a:c&&(a.test?a.test(c):a(c)),b?(++this.pos,c):void 0},lh.prototype.eatWhile=function(a){for(var b=this.pos;this.eat(a););return this.pos>b},lh.prototype.eatSpace=function(){for(var a=this,b=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++a.pos;return this.pos>b},lh.prototype.skipToEnd=function(){this.pos=this.string.length},lh.prototype.skipTo=function(a){var b=this.string.indexOf(a,this.pos);return b>-1?(this.pos=b,!0):void 0},lh.prototype.backUp=function(a){this.pos-=a},lh.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=l(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?l(this.string,this.lineStart,this.tabSize):0)},lh.prototype.indentation=function(){return l(this.string,null,this.tabSize)-(this.lineStart?l(this.string,this.lineStart,this.tabSize):0)},lh.prototype.match=function(a,b,c){if("string"!=typeof a){var d=this.string.slice(this.pos).match(a);return d&&d.index>0?null:(d&&b!==!1&&(this.pos+=d[0].length),d)}var e=function(a){return c?a.toLowerCase():a},f=this.string.substr(this.pos,a.length);return e(f)==e(a)?(b!==!1&&(this.pos+=a.length),!0):void 0},lh.prototype.current=function(){return this.string.slice(this.start,this.pos)},lh.prototype.hideFirstChars=function(a,b){this.lineStart+=a;try{return b()}finally{this.lineStart-=a}},lh.prototype.lookAhead=function(a){var b=this.lineOracle;return b&&b.lookAhead(a)},lh.prototype.baseToken=function(){var a=this.lineOracle;return a&&a.baseToken(this.pos)};var mh=function(a,b){this.state=a,this.lookAhead=b},nh=function(a,b,c,d){this.state=b,this.doc=a,this.line=c,this.maxLookAhead=d||0,this.baseTokens=null,this.baseTokenPos=1};nh.prototype.lookAhead=function(a){var b=this.doc.getLine(this.line+a);return null!=b&&a>this.maxLookAhead&&(this.maxLookAhead=a),b},nh.prototype.baseToken=function(a){var b=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=a;)b.baseTokenPos+=2;var c=this.baseTokens[this.baseTokenPos+1];return{type:c&&c.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-a}},nh.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},nh.fromSaved=function(a,b,c){return b instanceof mh?new nh(a,Y(a.mode,b.state),c,b.lookAhead):new nh(a,Y(a.mode,b),c)},nh.prototype.save=function(a){var b=a!==!1?Y(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new mh(b,this.maxLookAhead):b};var oh=function(a,b,c){this.start=a.start,this.end=a.pos,this.string=a.current(),this.type=b||null,this.state=c},ph=!1,qh=!1,rh=function(a,b,c){this.text=a,Oa(this,b),this.height=c?c(this):1};rh.prototype.lineNo=function(){return da(this)},J(rh);var sh,th={},uh={},vh=null,wh=null,xh={left:0,right:0,top:0,bottom:0},yh=function(a,b,c){this.cm=c;var e=this.vert=d("div",[d("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),f=this.horiz=d("div",[d("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e.tabIndex=f.tabIndex=-1,a(e),a(f),ch(e,"scroll",function(){e.clientHeight&&b(e.scrollTop,"vertical")}),ch(f,"scroll",function(){f.clientWidth&&b(f.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,vg&&8>wg&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};yh.prototype.update=function(a){var b=a.scrollWidth>a.clientWidth+1,c=a.scrollHeight>a.clientHeight+1,d=a.nativeBarWidth;if(c){this.vert.style.display="block",this.vert.style.bottom=b?d+"px":"0";var e=a.viewHeight-(b?d:0);this.vert.firstChild.style.height=Math.max(0,a.scrollHeight-a.clientHeight+e)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(b){this.horiz.style.display="block",this.horiz.style.right=c?d+"px":"0",this.horiz.style.left=a.barLeft+"px";var f=a.viewWidth-a.barLeft-(c?d:0);this.horiz.firstChild.style.width=Math.max(0,a.scrollWidth-a.clientWidth+f)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&a.clientHeight>0&&(0==d&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:c?d:0,bottom:b?d:0}},yh.prototype.setScrollLeft=function(a){this.horiz.scrollLeft!=a&&(this.horiz.scrollLeft=a),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},yh.prototype.setScrollTop=function(a){this.vert.scrollTop!=a&&(this.vert.scrollTop=a),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},yh.prototype.zeroWidthHack=function(){var a=Hg&&!Cg?"12px":"18px";this.horiz.style.height=this.vert.style.width=a,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Qg,this.disableVert=new Qg},yh.prototype.enableZeroWidthBar=function(a,b,c){function d(){var e=a.getBoundingClientRect(),f="vert"==c?document.elementFromPoint(e.right-1,(e.top+e.bottom)/2):document.elementFromPoint((e.right+e.left)/2,e.bottom-1);f!=a?a.style.pointerEvents="none":b.set(1e3,d)}a.style.pointerEvents="auto",b.set(1e3,d)},yh.prototype.clear=function(){var a=this.horiz.parentNode;a.removeChild(this.horiz),a.removeChild(this.vert)};var zh=function(){};zh.prototype.update=function(){return{bottom:0,right:0}},zh.prototype.setScrollLeft=function(){},zh.prototype.setScrollTop=function(){},zh.prototype.clear=function(){};var Ah={"native":yh,"null":zh},Bh=0,Ch=function(a,b,c){var d=a.display;this.viewport=b,this.visible=Sc(d,a.doc,b),this.editorIsHidden=!d.wrapper.offsetWidth,this.wrapperHeight=d.wrapper.clientHeight,this.wrapperWidth=d.wrapper.clientWidth,this.oldDisplayWidth=Ob(a),this.force=c,this.dims=uc(a),this.events=[]};Ch.prototype.signal=function(a,b){I(a,b)&&this.events.push(arguments)},Ch.prototype.finish=function(){for(var a=this,b=0;b<this.events.length;b++)F.apply(null,a.events[b])};var Dh=0,Eh=null;vg?Eh=-.53:rg?Eh=15:zg?Eh=-.7:Bg&&(Eh=-1/3);var Fh=function(a,b){this.ranges=a,this.primIndex=b};Fh.prototype.primary=function(){return this.ranges[this.primIndex]},Fh.prototype.equals=function(a){var b=this;if(a==this)return!0;if(a.primIndex!=this.primIndex||a.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var d=b.ranges[c],e=a.ranges[c];if(!ja(d.anchor,e.anchor)||!ja(d.head,e.head))return!1}return!0},Fh.prototype.deepCopy=function(){for(var a=this,b=[],c=0;c<this.ranges.length;c++)b[c]=new Gh(ka(a.ranges[c].anchor),ka(a.ranges[c].head));return new Fh(b,this.primIndex)},Fh.prototype.somethingSelected=function(){for(var a=this,b=0;b<this.ranges.length;b++)if(!a.ranges[b].empty())return!0;return!1},Fh.prototype.contains=function(a,b){var c=this;b||(b=a);for(var d=0;d<this.ranges.length;d++){var e=c.ranges[d];if(ia(b,e.from())>=0&&ia(a,e.to())<=0)return d}return-1};var Gh=function(a,b){this.anchor=a,this.head=b};Gh.prototype.from=function(){return ma(this.anchor,this.head)},Gh.prototype.to=function(){return la(this.anchor,this.head)},Gh.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Qe.prototype={chunkSize:function(){return this.lines.length},removeInner:function(a,b){for(var c=this,d=a,e=a+b;e>d;++d){var f=c.lines[d];c.height-=f.height,gb(f),ub(f,"delete")}this.lines.splice(a,b)},collapse:function(a){a.push.apply(a,this.lines)},insertInner:function(a,b,c){var d=this;this.height+=c,this.lines=this.lines.slice(0,a).concat(b).concat(this.lines.slice(a));for(var e=0;e<b.length;++e)b[e].parent=d},iterN:function(a,b,c){for(var d=this,e=a+b;e>a;++a)if(c(d.lines[a]))return!0}},Re.prototype={chunkSize:function(){return this.size},removeInner:function(a,b){var c=this;this.size-=b;for(var d=0;d<this.children.length;++d){var e=c.children[d],f=e.chunkSize();if(f>a){var g=Math.min(b,f-a),h=e.height;if(e.removeInner(a,g),c.height-=h-e.height,f==g&&(c.children.splice(d--,1),e.parent=null),0==(b-=g))break;a=0}else a-=f}if(this.size-b<25&&(this.children.length>1||!(this.children[0]instanceof Qe))){var i=[];this.collapse(i),this.children=[new Qe(i)],this.children[0].parent=this}},collapse:function(a){for(var b=this,c=0;c<this.children.length;++c)b.children[c].collapse(a)},insertInner:function(a,b,c){var d=this;this.size+=b.length,this.height+=c;for(var e=0;e<this.children.length;++e){var f=d.children[e],g=f.chunkSize();if(g>=a){if(f.insertInner(a,b,c),f.lines&&f.lines.length>50){for(var h=f.lines.length%25+25,i=h;i<f.lines.length;){var j=new Qe(f.lines.slice(i,i+=25));f.height-=j.height,d.children.splice(++e,0,j),j.parent=d}f.lines=f.lines.slice(0,h),d.maybeSpill()}break}a-=g}},maybeSpill:function(){if(!(this.children.length<=10)){var a=this;do{var b=a.children.splice(a.children.length-5,5),c=new Re(b);if(a.parent){a.size-=c.size,a.height-=c.height;var d=m(a.parent.children,a);a.parent.children.splice(d+1,0,c)}else{var e=new Re(a.children);e.parent=a,a.children=[e,c],a=e}c.parent=a.parent}while(a.children.length>10);a.parent.maybeSpill()}},iterN:function(a,b,c){for(var d=this,e=0;e<this.children.length;++e){var f=d.children[e],g=f.chunkSize();if(g>a){var h=Math.min(b,g-a);if(f.iterN(a,h,c))return!0;if(0==(b-=h))break;a=0}else a-=g}}};var Hh=function(a,b,c){var d=this;if(c)for(var e in c)c.hasOwnProperty(e)&&(d[e]=c[e]);this.doc=a,this.node=b};Hh.prototype.clear=function(){var a=this,b=this.doc.cm,c=this.line.widgets,d=this.line,e=da(d);if(null!=e&&c){for(var f=0;f<c.length;++f)c[f]==a&&c.splice(f--,1);c.length||(d.widgets=null);var g=Ib(this);ca(d,Math.max(0,d.height-g)),b&&(qd(b,function(){Se(b,d,-g),Bc(b,e,"widget")}),ub(b,"lineWidgetCleared",b,this,e))}},Hh.prototype.changed=function(){var a=this,b=this.height,c=this.doc.cm,d=this.line;this.height=null;var e=Ib(this)-b;e&&(ab(this.doc,d)||ca(d,d.height+e),c&&qd(c,function(){c.curOp.forceUpdate=!0,Se(c,d,e),ub(c,"lineWidgetChanged",c,a,da(d))}))},J(Hh);var Ih=0,Jh=function(a,b){this.lines=[],this.type=b,this.doc=a,this.id=++Ih};Jh.prototype.clear=function(){var a=this;if(!this.explicitlyCleared){var b=this.doc.cm,c=b&&!b.curOp;if(c&&id(b),I(this,"clear")){var d=this.find();d&&ub(this,"clear",d.from,d.to)}for(var e=null,f=null,g=0;g<this.lines.length;++g){var h=a.lines[g],i=Fa(h.markedSpans,a);b&&!a.collapsed?Bc(b,da(h),"text"):b&&(null!=i.to&&(f=da(h)),null!=i.from&&(e=da(h))),h.markedSpans=Ga(h.markedSpans,i),null==i.from&&a.collapsed&&!ab(a.doc,h)&&b&&ca(h,sc(b.display))}if(b&&this.collapsed&&!b.options.lineWrapping)for(var j=0;j<this.lines.length;++j){var k=Xa(a.lines[j]),l=db(k);l>b.display.maxLineLength&&(b.display.maxLine=k,b.display.maxLineLength=l,b.display.maxLineChanged=!0)}null!=e&&b&&this.collapsed&&Ac(b,e,f+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,b&&ye(b.doc)),b&&ub(b,"markerCleared",b,this,e,f),c&&jd(b),this.parent&&this.parent.clear()}},Jh.prototype.find=function(a,b){var c=this;null==a&&"bookmark"==this.type&&(a=1);for(var d,e,f=0;f<this.lines.length;++f){var g=c.lines[f],h=Fa(g.markedSpans,c);if(null!=h.from&&(d=ha(b?g:da(g),h.from),-1==a))return d;if(null!=h.to&&(e=ha(b?g:da(g),h.to),1==a))return e}return d&&{from:d,to:e}},Jh.prototype.changed=function(){var a=this,b=this.find(-1,!0),c=this,d=this.doc.cm;b&&d&&qd(d,function(){var e=b.line,f=da(b.line),g=Ub(d,f);if(g&&(_b(g),d.curOp.selectionChanged=d.curOp.forceUpdate=!0),d.curOp.updateMaxLine=!0,!ab(c.doc,e)&&null!=c.height){var h=c.height;c.height=null;var i=Ib(c)-h;i&&ca(e,e.height+i)}ub(d,"markerChanged",d,a)})},Jh.prototype.attachLine=function(a){if(!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;b.maybeHiddenMarkers&&-1!=m(b.maybeHiddenMarkers,this)||(b.maybeUnhiddenMarkers||(b.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(a)},Jh.prototype.detachLine=function(a){if(this.lines.splice(m(this.lines,a),1),!this.lines.length&&this.doc.cm){var b=this.doc.cm.curOp;(b.maybeHiddenMarkers||(b.maybeHiddenMarkers=[])).push(this)}},J(Jh);var Kh=function(a,b){var c=this;this.markers=a,this.primary=b;for(var d=0;d<a.length;++d)a[d].parent=c};Kh.prototype.clear=function(){var a=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var b=0;b<this.markers.length;++b)a.markers[b].clear();ub(this,"clear")}},Kh.prototype.find=function(a,b){return this.primary.find(a,b)},J(Kh);var Lh=0,Mh=function(a,b,c,d,e){if(!(this instanceof Mh))return new Mh(a,b,c,d,e);null==c&&(c=0),Re.call(this,[new Qe([new rh("",null)])]),this.first=c,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=c;var f=ha(c,0);this.sel=Pd(f),this.history=new be(null),this.id=++Lh,this.modeOption=b,this.lineSep=d,this.direction="rtl"==e?"rtl":"ltr",this.extend=!1,"string"==typeof a&&(a=this.splitLines(a)),Yd(this,{from:f,to:f,text:a}),ve(this,Pd(f),Vg)};Mh.prototype=t(Re.prototype,{constructor:Mh,iter:function(a,b,c){c?this.iterN(a-this.first,b-a,c):this.iterN(this.first,this.first+this.size,a)},insert:function(a,b){for(var c=0,d=0;d<b.length;++d)c+=b[d].height;this.insertInner(a-this.first,b,c)},remove:function(a,b){this.removeInner(a-this.first,b)},getValue:function(a){var b=ba(this,this.first,this.first+this.size);return a===!1?b:b.join(a||this.lineSeparator())},setValue:td(function(a){var b=ha(this.first,0),c=this.first+this.size-1;Fe(this,{from:b,to:ha(c,_(this,c).text.length),text:this.splitLines(a),origin:"setValue",full:!0},!0),this.cm&&Zc(this.cm,0,0),ve(this,Pd(b),Vg)}),replaceRange:function(a,b,c,d){b=oa(this,b),c=c?oa(this,c):b,
Le(this,a,b,c,d)},getRange:function(a,b,c){var d=aa(this,oa(this,a),oa(this,b));return c===!1?d:d.join(c||this.lineSeparator())},getLine:function(a){var b=this.getLineHandle(a);return b&&b.text},getLineHandle:function(a){return fa(this,a)?_(this,a):void 0},getLineNumber:function(a){return da(a)},getLineHandleVisualStart:function(a){return"number"==typeof a&&(a=_(this,a)),Xa(a)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(a){return oa(this,a)},getCursor:function(a){var b,c=this.sel.primary();return b=null==a||"head"==a?c.head:"anchor"==a?c.anchor:"end"==a||"to"==a||a===!1?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:td(function(a,b,c){se(this,oa(this,"number"==typeof a?ha(a,b||0):a),null,c)}),setSelection:td(function(a,b,c){se(this,oa(this,a),oa(this,b||a),c)}),extendSelection:td(function(a,b,c){pe(this,oa(this,a),b&&oa(this,b),c)}),extendSelections:td(function(a,b){qe(this,qa(this,a),b)}),extendSelectionsBy:td(function(a,b){var c=q(this.sel.ranges,a);qe(this,qa(this,c),b)}),setSelections:td(function(a,b,c){var d=this;if(a.length){for(var e=[],f=0;f<a.length;f++)e[f]=new Gh(oa(d,a[f].anchor),oa(d,a[f].head));null==b&&(b=Math.min(a.length-1,this.sel.primIndex)),ve(this,Od(this.cm,e,b),c)}}),addSelection:td(function(a,b,c){var d=this.sel.ranges.slice(0);d.push(new Gh(oa(this,a),oa(this,b||a))),ve(this,Od(this.cm,d,d.length-1),c)}),getSelection:function(a){for(var b,c=this,d=this.sel.ranges,e=0;e<d.length;e++){var f=aa(c,d[e].from(),d[e].to());b=b?b.concat(f):f}return a===!1?b:b.join(a||this.lineSeparator())},getSelections:function(a){for(var b=this,c=[],d=this.sel.ranges,e=0;e<d.length;e++){var f=aa(b,d[e].from(),d[e].to());a!==!1&&(f=f.join(a||b.lineSeparator())),c[e]=f}return c},replaceSelection:function(a,b,c){for(var d=[],e=0;e<this.sel.ranges.length;e++)d[e]=a;this.replaceSelections(d,b,c||"+input")},replaceSelections:td(function(a,b,c){for(var d=this,e=[],f=this.sel,g=0;g<f.ranges.length;g++){var h=f.ranges[g];e[g]={from:h.from(),to:h.to(),text:d.splitLines(a[g]),origin:c}}for(var i=b&&"end"!=b&&Ud(this,e,b),j=e.length-1;j>=0;j--)Fe(d,e[j]);i?ue(this,i):this.cm&&Yc(this.cm)}),undo:td(function(){He(this,"undo")}),redo:td(function(){He(this,"redo")}),undoSelection:td(function(){He(this,"undo",!0)}),redoSelection:td(function(){He(this,"redo",!0)}),setExtending:function(a){this.extend=a},getExtending:function(){return this.extend},historySize:function(){for(var a=this.history,b=0,c=0,d=0;d<a.done.length;d++)a.done[d].ranges||++b;for(var e=0;e<a.undone.length;e++)a.undone[e].ranges||++c;return{undo:b,redo:c}},clearHistory:function(){this.history=new be(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(a){return a&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(a){return this.history.generation==(a||this.cleanGeneration)},getHistory:function(){return{done:ne(this.history.done),undone:ne(this.history.undone)}},setHistory:function(a){var b=this.history=new be(this.history.maxGeneration);b.done=ne(a.done.slice(0),null,!0),b.undone=ne(a.undone.slice(0),null,!0)},setGutterMarker:td(function(a,b,c){return Pe(this,a,"gutter",function(a){var d=a.gutterMarkers||(a.gutterMarkers={});return d[b]=c,!c&&w(d)&&(a.gutterMarkers=null),!0})}),clearGutter:td(function(a){var b=this;this.iter(function(c){c.gutterMarkers&&c.gutterMarkers[a]&&Pe(b,c,"gutter",function(){return c.gutterMarkers[a]=null,w(c.gutterMarkers)&&(c.gutterMarkers=null),!0})})}),lineInfo:function(a){var b;if("number"==typeof a){if(!fa(this,a))return null;if(b=a,a=_(this,a),!a)return null}else if(b=da(a),null==b)return null;return{line:b,handle:a,text:a.text,gutterMarkers:a.gutterMarkers,textClass:a.textClass,bgClass:a.bgClass,wrapClass:a.wrapClass,widgets:a.widgets}},addLineClass:td(function(b,c,d){return Pe(this,b,"gutter"==c?"gutter":"class",function(b){var e="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass";if(b[e]){if(a(d).test(b[e]))return!1;b[e]+=" "+d}else b[e]=d;return!0})}),removeLineClass:td(function(b,c,d){return Pe(this,b,"gutter"==c?"gutter":"class",function(b){var e="text"==c?"textClass":"background"==c?"bgClass":"gutter"==c?"gutterClass":"wrapClass",f=b[e];if(!f)return!1;if(null==d)b[e]=null;else{var g=f.match(a(d));if(!g)return!1;var h=g.index+g[0].length;b[e]=f.slice(0,g.index)+(g.index&&h!=f.length?" ":"")+f.slice(h)||null}return!0})}),addLineWidget:td(function(a,b,c){return Te(this,a,b,c)}),removeLineWidget:function(a){a.clear()},markText:function(a,b,c){return Ue(this,oa(this,a),oa(this,b),c,c&&c.type||"range")},setBookmark:function(a,b){var c={replacedWith:b&&(null==b.nodeType?b.widget:b),insertLeft:b&&b.insertLeft,clearWhenEmpty:!1,shared:b&&b.shared,handleMouseEvents:b&&b.handleMouseEvents};return a=oa(this,a),Ue(this,a,a,c,"bookmark")},findMarksAt:function(a){a=oa(this,a);var b=[],c=_(this,a.line).markedSpans;if(c)for(var d=0;d<c.length;++d){var e=c[d];(null==e.from||e.from<=a.ch)&&(null==e.to||e.to>=a.ch)&&b.push(e.marker.parent||e.marker)}return b},findMarks:function(a,b,c){a=oa(this,a),b=oa(this,b);var d=[],e=a.line;return this.iter(a.line,b.line+1,function(f){var g=f.markedSpans;if(g)for(var h=0;h<g.length;h++){var i=g[h];null!=i.to&&e==a.line&&a.ch>=i.to||null==i.from&&e!=a.line||null!=i.from&&e==b.line&&i.from>=b.ch||c&&!c(i.marker)||d.push(i.marker.parent||i.marker)}++e}),d},getAllMarks:function(){var a=[];return this.iter(function(b){var c=b.markedSpans;if(c)for(var d=0;d<c.length;++d)null!=c[d].from&&a.push(c[d].marker)}),a},posFromIndex:function(a){var b,c=this.first,d=this.lineSeparator().length;return this.iter(function(e){var f=e.text.length+d;return f>a?(b=a,!0):(a-=f,void++c)}),oa(this,ha(c,b))},indexFromPos:function(a){a=oa(this,a);var b=a.ch;if(a.line<this.first||a.ch<0)return 0;var c=this.lineSeparator().length;return this.iter(this.first,a.line,function(a){b+=a.text.length+c}),b},copy:function(a){var b=new Mh(ba(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return b.scrollTop=this.scrollTop,b.scrollLeft=this.scrollLeft,b.sel=this.sel,b.extend=!1,a&&(b.history.undoDepth=this.history.undoDepth,b.setHistory(this.getHistory())),b},linkedDoc:function(a){a||(a={});var b=this.first,c=this.first+this.size;null!=a.from&&a.from>b&&(b=a.from),null!=a.to&&a.to<c&&(c=a.to);var d=new Mh(ba(this,b,c),a.mode||this.modeOption,b,this.lineSep,this.direction);return a.sharedHist&&(d.history=this.history),(this.linked||(this.linked=[])).push({doc:d,sharedHist:a.sharedHist}),d.linked=[{doc:this,isParent:!0,sharedHist:a.sharedHist}],Xe(d,We(this)),d},unlinkDoc:function(a){var b=this;if(a instanceof Wf&&(a=a.doc),this.linked)for(var c=0;c<this.linked.length;++c){var d=b.linked[c];if(d.doc==a){b.linked.splice(c,1),a.unlinkDoc(b),Ye(We(b));break}}if(a.history==this.history){var e=[a.id];Zd(a,function(a){return e.push(a.id)},!0),a.history=new be(null),a.history.done=ne(this.history.done,e),a.history.undone=ne(this.history.undone,e)}},iterLinkedDocs:function(a){Zd(this,a)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(a){return this.lineSep?a.split(this.lineSep):eh(a)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:td(function(a){"rtl"!=a&&(a="ltr"),a!=this.direction&&(this.direction=a,this.iter(function(a){return a.order=null}),this.cm&&ae(this.cm))})}),Mh.prototype.eachLine=Mh.prototype.iter;for(var Nh=0,Oh=!1,Ph={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Qh=0;10>Qh;Qh++)Ph[Qh+48]=Ph[Qh+96]=String(Qh);for(var Rh=65;90>=Rh;Rh++)Ph[Rh]=String.fromCharCode(Rh);for(var Sh=1;12>=Sh;Sh++)Ph[Sh+111]=Ph[Sh+63235]="F"+Sh;var Th={};Th.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Th.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Th.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Th.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Th["default"]=Hg?Th.macDefault:Th.pcDefault;var Uh={selectAll:De,singleSelection:function(a){return a.setSelection(a.getCursor("anchor"),a.getCursor("head"),Vg)},killLine:function(a){return nf(a,function(b){if(b.empty()){var c=_(a.doc,b.head.line).text.length;return b.head.ch==c&&b.head.line<a.lastLine()?{from:b.head,to:ha(b.head.line+1,0)}:{from:b.head,to:ha(b.head.line,c)}}return{from:b.from(),to:b.to()}})},deleteLine:function(a){return nf(a,function(b){return{from:ha(b.from().line,0),to:oa(a.doc,ha(b.to().line+1,0))}})},delLineLeft:function(a){return nf(a,function(a){return{from:ha(a.from().line,0),to:a.from()}})},delWrappedLineLeft:function(a){return nf(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return{from:d,to:b.from()}})},delWrappedLineRight:function(a){return nf(a,function(b){var c=a.charCoords(b.head,"div").top+5,d=a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div");return{from:b.from(),to:d}})},undo:function(a){return a.undo()},redo:function(a){return a.redo()},undoSelection:function(a){return a.undoSelection()},redoSelection:function(a){return a.redoSelection()},goDocStart:function(a){return a.extendSelection(ha(a.firstLine(),0))},goDocEnd:function(a){return a.extendSelection(ha(a.lastLine()))},goLineStart:function(a){return a.extendSelectionsBy(function(b){return sf(a,b.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(a){return a.extendSelectionsBy(function(b){return uf(a,b.head)},{origin:"+move",bias:1})},goLineEnd:function(a){return a.extendSelectionsBy(function(b){return tf(a,b.head.line)},{origin:"+move",bias:-1})},goLineRight:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,"div").top+5;return a.coordsChar({left:a.display.lineDiv.offsetWidth+100,top:c},"div")},Xg)},goLineLeft:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,"div").top+5;return a.coordsChar({left:0,top:c},"div")},Xg)},goLineLeftSmart:function(a){return a.extendSelectionsBy(function(b){var c=a.cursorCoords(b.head,"div").top+5,d=a.coordsChar({left:0,top:c},"div");return d.ch<a.getLine(d.line).search(/\S/)?uf(a,b.head):d},Xg)},goLineUp:function(a){return a.moveV(-1,"line")},goLineDown:function(a){return a.moveV(1,"line")},goPageUp:function(a){return a.moveV(-1,"page")},goPageDown:function(a){return a.moveV(1,"page")},goCharLeft:function(a){return a.moveH(-1,"char")},goCharRight:function(a){return a.moveH(1,"char")},goColumnLeft:function(a){return a.moveH(-1,"column")},goColumnRight:function(a){return a.moveH(1,"column")},goWordLeft:function(a){return a.moveH(-1,"word")},goGroupRight:function(a){return a.moveH(1,"group")},goGroupLeft:function(a){return a.moveH(-1,"group")},goWordRight:function(a){return a.moveH(1,"word")},delCharBefore:function(a){return a.deleteH(-1,"char")},delCharAfter:function(a){return a.deleteH(1,"char")},delWordBefore:function(a){return a.deleteH(-1,"word")},delWordAfter:function(a){return a.deleteH(1,"word")},delGroupBefore:function(a){return a.deleteH(-1,"group")},delGroupAfter:function(a){return a.deleteH(1,"group")},indentAuto:function(a){return a.indentSelection("smart")},indentMore:function(a){return a.indentSelection("add")},indentLess:function(a){return a.indentSelection("subtract")},insertTab:function(a){return a.replaceSelection("	")},insertSoftTab:function(a){for(var b=[],c=a.listSelections(),d=a.options.tabSize,e=0;e<c.length;e++){var f=c[e].from(),g=l(a.getLine(f.line),f.ch,d);b.push(o(d-g%d))}a.replaceSelections(b)},defaultTab:function(a){a.somethingSelected()?a.indentSelection("add"):a.execCommand("insertTab")},transposeChars:function(a){return qd(a,function(){for(var b=a.listSelections(),c=[],d=0;d<b.length;d++)if(b[d].empty()){var e=b[d].head,f=_(a.doc,e.line).text;if(f)if(e.ch==f.length&&(e=new ha(e.line,e.ch-1)),e.ch>0)e=new ha(e.line,e.ch+1),a.replaceRange(f.charAt(e.ch-1)+f.charAt(e.ch-2),ha(e.line,e.ch-2),e,"+transpose");else if(e.line>a.doc.first){var g=_(a.doc,e.line-1).text;g&&(e=new ha(e.line,1),a.replaceRange(f.charAt(0)+a.doc.lineSeparator()+g.charAt(g.length-1),ha(e.line-1,g.length-1),e,"+transpose"))}c.push(new Gh(e,e))}a.setSelections(c)})},newlineAndIndent:function(a){return qd(a,function(){for(var b=a.listSelections(),c=b.length-1;c>=0;c--)a.replaceRange(a.doc.lineSeparator(),b[c].anchor,b[c].head,"+input");b=a.listSelections();for(var d=0;d<b.length;d++)a.indentLine(b[d].from().line,null,!0);Yc(a)})},openLine:function(a){return a.replaceSelection("\n","start")},toggleOverwrite:function(a){return a.toggleOverwrite()}},Vh=new Qg,Wh=null,Xh=400,Yh=function(a,b,c){this.time=a,this.pos=b,this.button=c};Yh.prototype.compare=function(a,b,c){return this.time+Xh>a&&0==ia(b,this.pos)&&c==this.button};var Zh,$h,_h={toString:function(){return"CodeMirror.Init"}},ai={},bi={};Wf.defaults=ai,Wf.optionHandlers=bi;var ci=[];Wf.defineInitHook=function(a){return ci.push(a)};var di=null,ei=function(a){this.cm=a,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Qg,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};ei.prototype.init=function(a){function b(a){if(!G(e,a)){if(e.somethingSelected())Zf({lineWise:!1,text:e.getSelections()}),"cut"==a.type&&e.replaceSelection("",null,"cut");else{if(!e.options.lineWiseCopyCut)return;var b=bg(e);Zf({lineWise:!0,text:b.text}),"cut"==a.type&&e.operation(function(){e.setSelections(b.ranges,0,Vg),e.replaceSelection("",null,"cut")})}if(a.clipboardData){a.clipboardData.clearData();var c=di.text.join("\n");if(a.clipboardData.setData("Text",c),a.clipboardData.getData("Text")==c)return void a.preventDefault()}var g=dg(),h=g.firstChild;e.display.lineSpace.insertBefore(g,e.display.lineSpace.firstChild),h.value=di.text.join("\n");var i=document.activeElement;Pg(h),setTimeout(function(){e.display.lineSpace.removeChild(g),i.focus(),i==f&&d.showPrimarySelection()},50)}}var c=this,d=this,e=d.cm,f=d.div=a.lineDiv;cg(f,e.options.spellcheck,e.options.autocorrect,e.options.autocapitalize),ch(f,"paste",function(a){G(e,a)||_f(a,e)||11>=wg&&setTimeout(rd(e,function(){return c.updateFromDOM()}),20)}),ch(f,"compositionstart",function(a){c.composing={data:a.data,done:!1}}),ch(f,"compositionupdate",function(a){c.composing||(c.composing={data:a.data,done:!1})}),ch(f,"compositionend",function(a){c.composing&&(a.data!=c.composing.data&&c.readFromDOMSoon(),c.composing.done=!0)}),ch(f,"touchstart",function(){return d.forceCompositionEnd()}),ch(f,"input",function(){c.composing||c.readFromDOMSoon()}),ch(f,"copy",b),ch(f,"cut",b)},ei.prototype.prepareSelection=function(){var a=Hc(this.cm,!1);return a.focus=this.cm.state.focused,a},ei.prototype.showSelection=function(a,b){a&&this.cm.display.view.length&&((a.focus||b)&&this.showPrimarySelection(),this.showMultipleSelections(a))},ei.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},ei.prototype.showPrimarySelection=function(){var a=this.getSelection(),b=this.cm,c=b.doc.sel.primary(),d=c.from(),e=c.to();if(b.display.viewTo==b.display.viewFrom||d.line>=b.display.viewTo||e.line<b.display.viewFrom)return void a.removeAllRanges();var f=lg(b,a.anchorNode,a.anchorOffset),g=lg(b,a.focusNode,a.focusOffset);if(!f||f.bad||!g||g.bad||0!=ia(ma(f,g),d)||0!=ia(la(f,g),e)){var h=b.display.view,i=d.line>=b.display.viewFrom&&hg(b,d)||{node:h[0].measure.map[2],offset:0},j=e.line<b.display.viewTo&&hg(b,e);if(!j){var k=h[h.length-1].measure,l=k.maps?k.maps[k.maps.length-1]:k.map;j={node:l[l.length-1],offset:l[l.length-2]-l[l.length-3]}}if(!i||!j)return void a.removeAllRanges();var m,n=a.rangeCount&&a.getRangeAt(0);try{m=Lg(i.node,i.offset,j.offset,j.node)}catch(o){}m&&(!rg&&b.state.focused?(a.collapse(i.node,i.offset),m.collapsed||(a.removeAllRanges(),a.addRange(m))):(a.removeAllRanges(),a.addRange(m)),n&&null==a.anchorNode?a.addRange(n):rg&&this.startGracePeriod()),this.rememberSelection()}},ei.prototype.startGracePeriod=function(){var a=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){a.gracePeriod=!1,a.selectionChanged()&&a.cm.operation(function(){return a.cm.curOp.selectionChanged=!0})},20)},ei.prototype.showMultipleSelections=function(a){c(this.cm.display.cursorDiv,a.cursors),c(this.cm.display.selectionDiv,a.selection)},ei.prototype.rememberSelection=function(){var a=this.getSelection();this.lastAnchorNode=a.anchorNode,this.lastAnchorOffset=a.anchorOffset,this.lastFocusNode=a.focusNode,this.lastFocusOffset=a.focusOffset},ei.prototype.selectionInEditor=function(){var a=this.getSelection();if(!a.rangeCount)return!1;var b=a.getRangeAt(0).commonAncestorContainer;return f(this.div,b)},ei.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},ei.prototype.blur=function(){this.div.blur()},ei.prototype.getField=function(){return this.div},ei.prototype.supportsTouch=function(){return!0},ei.prototype.receivedFocus=function(){function a(){b.cm.state.focused&&(b.pollSelection(),b.polling.set(b.cm.options.pollInterval,a))}var b=this;this.selectionInEditor()?this.pollSelection():qd(this.cm,function(){return b.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,a)},ei.prototype.selectionChanged=function(){var a=this.getSelection();return a.anchorNode!=this.lastAnchorNode||a.anchorOffset!=this.lastAnchorOffset||a.focusNode!=this.lastFocusNode||a.focusOffset!=this.lastFocusOffset},ei.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var a=this.getSelection(),b=this.cm;if(Fg&&zg&&this.cm.display.gutterSpecs.length&&ig(a.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var c=lg(b,a.anchorNode,a.anchorOffset),d=lg(b,a.focusNode,a.focusOffset);c&&d&&qd(b,function(){ve(b.doc,Pd(c,d),Vg),(c.bad||d.bad)&&(b.curOp.selectionChanged=!0)})}}},ei.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var a=this.cm,b=a.display,c=a.doc.sel.primary(),d=c.from(),e=c.to();if(0==d.ch&&d.line>a.firstLine()&&(d=ha(d.line-1,_(a.doc,d.line-1).length)),e.ch==_(a.doc,e.line).text.length&&e.line<a.lastLine()&&(e=ha(e.line+1,0)),d.line<b.viewFrom||e.line>b.viewTo-1)return!1;var f,g,h;d.line==b.viewFrom||0==(f=zc(a,d.line))?(g=da(b.view[0].line),h=b.view[0].node):(g=da(b.view[f].line),h=b.view[f-1].node.nextSibling);var i,j,k=zc(a,e.line);if(k==b.view.length-1?(i=b.viewTo-1,j=b.lineDiv.lastChild):(i=da(b.view[k+1].line)-1,j=b.view[k+1].node.previousSibling),!h)return!1;for(var l=a.doc.splitLines(kg(a,h,j,g,i)),m=aa(a.doc,ha(g,0),ha(i,_(a.doc,i).text.length));l.length>1&&m.length>1;)if(p(l)==p(m))l.pop(),m.pop(),i--;else{if(l[0]!=m[0])break;l.shift(),m.shift(),g++}for(var n=0,o=0,q=l[0],r=m[0],s=Math.min(q.length,r.length);s>n&&q.charCodeAt(n)==r.charCodeAt(n);)++n;for(var t=p(l),u=p(m),v=Math.min(t.length-(1==l.length?n:0),u.length-(1==m.length?n:0));v>o&&t.charCodeAt(t.length-o-1)==u.charCodeAt(u.length-o-1);)++o;if(1==l.length&&1==m.length&&g==d.line)for(;n&&n>d.ch&&t.charCodeAt(t.length-o-1)==u.charCodeAt(u.length-o-1);)n--,o++;l[l.length-1]=t.slice(0,t.length-o).replace(/^\u200b+/,""),l[0]=l[0].slice(n).replace(/\u200b+$/,"");var w=ha(g,n),x=ha(i,m.length?p(m).length-o:0);return l.length>1||l[0]||ia(w,x)?(Le(a.doc,l,w,x,"+input"),!0):void 0},ei.prototype.ensurePolled=function(){this.forceCompositionEnd()},ei.prototype.reset=function(){this.forceCompositionEnd()},ei.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},ei.prototype.readFromDOMSoon=function(){var a=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(a.readDOMTimeout=null,a.composing){if(!a.composing.done)return;a.composing=null}a.updateFromDOM()},80))},ei.prototype.updateFromDOM=function(){var a=this;(this.cm.isReadOnly()||!this.pollContent())&&qd(this.cm,function(){return Ac(a.cm)})},ei.prototype.setUneditable=function(a){a.contentEditable="false"},ei.prototype.onKeyPress=function(a){0==a.charCode||this.composing||(a.preventDefault(),this.cm.isReadOnly()||rd(this.cm,$f)(this.cm,String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),0))},ei.prototype.readOnlyChanged=function(a){this.div.contentEditable=String("nocursor"!=a)},ei.prototype.onContextMenu=function(){},ei.prototype.resetPosition=function(){},ei.prototype.needsContentAttribute=!0;var fi=function(a){this.cm=a,this.prevInput="",this.pollingFast=!1,this.polling=new Qg,this.hasSelection=!1,this.composing=null};fi.prototype.init=function(a){function b(a){if(!G(e,a)){if(e.somethingSelected())Zf({lineWise:!1,text:e.getSelections()});else{if(!e.options.lineWiseCopyCut)return;var b=bg(e);Zf({lineWise:!0,text:b.text}),"cut"==a.type?e.setSelections(b.ranges,null,Vg):(d.prevInput="",f.value=b.text.join("\n"),Pg(f))}"cut"==a.type&&(e.state.cutIncoming=+new Date)}}var c=this,d=this,e=this.cm;this.createField(a);var f=this.textarea;a.wrapper.insertBefore(this.wrapper,a.wrapper.firstChild),Eg&&(f.style.width="0px"),ch(f,"input",function(){vg&&wg>=9&&c.hasSelection&&(c.hasSelection=null),d.poll()}),ch(f,"paste",function(a){G(e,a)||_f(a,e)||(e.state.pasteIncoming=+new Date,d.fastPoll())}),ch(f,"cut",b),ch(f,"copy",b),ch(a.scroller,"paste",function(b){if(!Jb(a,b)&&!G(e,b)){if(!f.dispatchEvent)return e.state.pasteIncoming=+new Date,void d.focus();var c=new Event("paste");c.clipboardData=b.clipboardData,f.dispatchEvent(c)}}),ch(a.lineSpace,"selectstart",function(b){Jb(a,b)||K(b)}),ch(f,"compositionstart",function(){var a=e.getCursor("from");d.composing&&d.composing.range.clear(),d.composing={start:a,range:e.markText(a,e.getCursor("to"),{className:"CodeMirror-composing"})}}),ch(f,"compositionend",function(){d.composing&&(d.poll(),d.composing.range.clear(),d.composing=null)})},fi.prototype.createField=function(a){this.wrapper=dg(),this.textarea=this.wrapper.firstChild},fi.prototype.prepareSelection=function(){var a=this.cm,b=a.display,c=a.doc,d=Hc(a);if(a.options.moveInputWithCursor){var e=ic(a,c.sel.primary().head,"div"),f=b.wrapper.getBoundingClientRect(),g=b.lineDiv.getBoundingClientRect();d.teTop=Math.max(0,Math.min(b.wrapper.clientHeight-10,e.top+g.top-f.top)),d.teLeft=Math.max(0,Math.min(b.wrapper.clientWidth-10,e.left+g.left-f.left))}return d},fi.prototype.showSelection=function(a){var b=this.cm,d=b.display;c(d.cursorDiv,a.cursors),c(d.selectionDiv,a.selection),null!=a.teTop&&(this.wrapper.style.top=a.teTop+"px",this.wrapper.style.left=a.teLeft+"px")},fi.prototype.reset=function(a){if(!this.contextMenuPending&&!this.composing){var b=this.cm;if(b.somethingSelected()){this.prevInput="";var c=b.getSelection();this.textarea.value=c,b.state.focused&&Pg(this.textarea),vg&&wg>=9&&(this.hasSelection=c)}else a||(this.prevInput=this.textarea.value="",vg&&wg>=9&&(this.hasSelection=null))}},fi.prototype.getField=function(){return this.textarea},fi.prototype.supportsTouch=function(){return!1},fi.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Gg||g()!=this.textarea))try{this.textarea.focus()}catch(a){}},fi.prototype.blur=function(){this.textarea.blur()},fi.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},fi.prototype.receivedFocus=function(){this.slowPoll()},fi.prototype.slowPoll=function(){var a=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){a.poll(),a.cm.state.focused&&a.slowPoll()})},fi.prototype.fastPoll=function(){function a(){var d=c.poll();d||b?(c.pollingFast=!1,c.slowPoll()):(b=!0,c.polling.set(60,a))}var b=!1,c=this;c.pollingFast=!0,c.polling.set(20,a)},fi.prototype.poll=function(){var a=this,b=this.cm,c=this.textarea,d=this.prevInput;if(this.contextMenuPending||!b.state.focused||fh(c)&&!d&&!this.composing||b.isReadOnly()||b.options.disableInput||b.state.keySeq)return!1;var e=c.value;if(e==d&&!b.somethingSelected())return!1;if(vg&&wg>=9&&this.hasSelection===e||Hg&&/[\uf700-\uf7ff]/.test(e))return b.display.input.reset(),!1;if(b.doc.sel==b.display.selForContextMenu){var f=e.charCodeAt(0);if(8203!=f||d||(d="​"),8666==f)return this.reset(),this.cm.execCommand("undo")}for(var g=0,h=Math.min(d.length,e.length);h>g&&d.charCodeAt(g)==e.charCodeAt(g);)++g;return qd(b,function(){$f(b,e.slice(g),d.length-g,null,a.composing?"*compose":null),e.length>1e3||e.indexOf("\n")>-1?c.value=a.prevInput="":a.prevInput=e,a.composing&&(a.composing.range.clear(),a.composing.range=b.markText(a.composing.start,b.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},fi.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},fi.prototype.onKeyPress=function(){vg&&wg>=9&&(this.hasSelection=null),this.fastPoll()},fi.prototype.onContextMenu=function(a){function b(){if(null!=g.selectionStart){var a=e.somethingSelected(),b="​"+(a?g.value:"");g.value="⇚",g.value=b,d.prevInput=a?"":"​",g.selectionStart=1,g.selectionEnd=b.length,f.selForContextMenu=e.doc.sel}}function c(){if(d.contextMenuPending==c&&(d.contextMenuPending=!1,d.wrapper.style.cssText=l,g.style.cssText=k,vg&&9>wg&&f.scrollbars.setScrollTop(f.scroller.scrollTop=i),null!=g.selectionStart)){(!vg||vg&&9>wg)&&b();var a=0,h=function(){f.selForContextMenu==e.doc.sel&&0==g.selectionStart&&g.selectionEnd>0&&"​"==d.prevInput?rd(e,De)(e):a++<10?f.detectingSelectAll=setTimeout(h,500):(f.selForContextMenu=null,f.input.reset())};f.detectingSelectAll=setTimeout(h,200)}}var d=this,e=d.cm,f=e.display,g=d.textarea;d.contextMenuPending&&d.contextMenuPending();var h=yc(e,a),i=f.scroller.scrollTop;if(h&&!Ag){var j=e.options.resetSelectionOnContextMenu;j&&-1==e.doc.sel.contains(h)&&rd(e,ve)(e.doc,Pd(h),Vg);var k=g.style.cssText,l=d.wrapper.style.cssText,m=d.wrapper.offsetParent.getBoundingClientRect();d.wrapper.style.cssText="position: static",g.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(a.clientY-m.top-5)+"px; left: "+(a.clientX-m.left-5)+"px;\n      z-index: 1000; background: "+(vg?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var n;if(xg&&(n=window.scrollY),f.input.focus(),xg&&window.scrollTo(null,n),f.input.reset(),e.somethingSelected()||(g.value=d.prevInput=" "),d.contextMenuPending=c,f.selForContextMenu=e.doc.sel,clearTimeout(f.detectingSelectAll),vg&&wg>=9&&b(),Ng){N(a);var o=function(){E(window,"mouseup",o),setTimeout(c,20)};ch(window,"mouseup",o)}else setTimeout(c,50)}},fi.prototype.readOnlyChanged=function(a){a||this.reset(),this.textarea.disabled="nocursor"==a},fi.prototype.setUneditable=function(){},fi.prototype.needsContentAttribute=!1,Tf(Wf),eg(Wf);var gi="iter insert remove copy getEditor constructor".split(" ");for(var hi in Mh.prototype)Mh.prototype.hasOwnProperty(hi)&&m(gi,hi)<0&&(Wf.prototype[hi]=function(a){return function(){return a.apply(this.doc,arguments)}}(Mh.prototype[hi]));return J(Mh),Wf.inputStyles={textarea:fi,contenteditable:ei},Wf.defineMode=function(a){Wf.defaults.mode||"null"==a||(Wf.defaults.mode=a),T.apply(this,arguments)},Wf.defineMIME=U,Wf.defineMode("null",function(){return{token:function(a){return a.skipToEnd()}}}),Wf.defineMIME("text/plain","null"),Wf.defineExtension=function(a,b){Wf.prototype[a]=b},Wf.defineDocExtension=function(a,b){Mh.prototype[a]=b},Wf.fromTextArea=ng,og(Wf),Wf.version="5.48.2",Wf})},{}],60:[function(a,b,c){!function(d){"object"==typeof c&&"object"==typeof b?d(a("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],d):d(CodeMirror)}(function(a){"use strict";var b={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},c={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};a.defineMode("xml",function(d,e){function f(a,b){function c(c){return b.tokenize=c,c(a,b)}var d=a.next();if("<"==d)return a.eat("!")?a.eat("[")?a.match("CDATA[")?c(i("atom","]]>")):null:a.match("--")?c(i("comment","-->")):a.match("DOCTYPE",!0,!0)?(a.eatWhile(/[\w\._\-]/),c(j(1))):null:a.eat("?")?(a.eatWhile(/[\w\._\-]/),b.tokenize=i("meta","?>"),"meta"):(A=a.eat("/")?"closeTag":"openTag",b.tokenize=g,"tag bracket");if("&"==d){var e;return e=a.eat("#")?a.eat("x")?a.eatWhile(/[a-fA-F\d]/)&&a.eat(";"):a.eatWhile(/[\d]/)&&a.eat(";"):a.eatWhile(/[\w\.\-:]/)&&a.eat(";"),e?"atom":"error";
}return a.eatWhile(/[^&<]/),null}function g(a,b){var c=a.next();if(">"==c||"/"==c&&a.eat(">"))return b.tokenize=f,A=">"==c?"endTag":"selfcloseTag","tag bracket";if("="==c)return A="equals",null;if("<"==c){b.tokenize=f,b.state=n,b.tagName=b.tagStart=null;var d=b.tokenize(a,b);return d?d+" tag error":"tag error"}return/[\'\"]/.test(c)?(b.tokenize=h(c),b.stringStartCol=a.column(),b.tokenize(a,b)):(a.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function h(a){var b=function(b,c){for(;!b.eol();)if(b.next()==a){c.tokenize=g;break}return"string"};return b.isInAttribute=!0,b}function i(a,b){return function(c,d){for(;!c.eol();){if(c.match(b)){d.tokenize=f;break}c.next()}return a}}function j(a){return function(b,c){for(var d;null!=(d=b.next());){if("<"==d)return c.tokenize=j(a+1),c.tokenize(b,c);if(">"==d){if(1==a){c.tokenize=f;break}return c.tokenize=j(a-1),c.tokenize(b,c)}}return"meta"}}function k(a,b,c){this.prev=a.context,this.tagName=b,this.indent=a.indented,this.startOfLine=c,(x.doNotIndent.hasOwnProperty(b)||a.context&&a.context.noIndent)&&(this.noIndent=!0)}function l(a){a.context&&(a.context=a.context.prev)}function m(a,b){for(var c;;){if(!a.context)return;if(c=a.context.tagName,!x.contextGrabbers.hasOwnProperty(c)||!x.contextGrabbers[c].hasOwnProperty(b))return;l(a)}}function n(a,b,c){return"openTag"==a?(c.tagStart=b.column(),o):"closeTag"==a?p:n}function o(a,b,c){return"word"==a?(c.tagName=b.current(),B="tag",s):x.allowMissingTagName&&"endTag"==a?(B="tag bracket",s(a,b,c)):(B="error",o)}function p(a,b,c){if("word"==a){var d=b.current();return c.context&&c.context.tagName!=d&&x.implicitlyClosed.hasOwnProperty(c.context.tagName)&&l(c),c.context&&c.context.tagName==d||x.matchClosing===!1?(B="tag",q):(B="tag error",r)}return x.allowMissingTagName&&"endTag"==a?(B="tag bracket",q(a,b,c)):(B="error",r)}function q(a,b,c){return"endTag"!=a?(B="error",q):(l(c),n)}function r(a,b,c){return B="error",q(a,b,c)}function s(a,b,c){if("word"==a)return B="attribute",t;if("endTag"==a||"selfcloseTag"==a){var d=c.tagName,e=c.tagStart;return c.tagName=c.tagStart=null,"selfcloseTag"==a||x.autoSelfClosers.hasOwnProperty(d)?m(c,d):(m(c,d),c.context=new k(c,d,e==c.indented)),n}return B="error",s}function t(a,b,c){return"equals"==a?u:(x.allowMissing||(B="error"),s(a,b,c))}function u(a,b,c){return"string"==a?v:"word"==a&&x.allowUnquoted?(B="string",s):(B="error",s(a,b,c))}function v(a,b,c){return"string"==a?v:s(a,b,c)}var w=d.indentUnit,x={},y=e.htmlMode?b:c;for(var z in y)x[z]=y[z];for(var z in e)x[z]=e[z];var A,B;return f.isInText=!0,{startState:function(a){var b={tokenize:f,state:n,indented:a||0,tagName:null,tagStart:null,context:null};return null!=a&&(b.baseIndent=a),b},token:function(a,b){if(!b.tagName&&a.sol()&&(b.indented=a.indentation()),a.eatSpace())return null;A=null;var c=b.tokenize(a,b);return(c||A)&&"comment"!=c&&(B=null,b.state=b.state(A||c,a,b),B&&(c="error"==B?c+" error":B)),c},indent:function(b,c,d){var e=b.context;if(b.tokenize.isInAttribute)return b.tagStart==b.indented?b.stringStartCol+1:b.indented+w;if(e&&e.noIndent)return a.Pass;if(b.tokenize!=g&&b.tokenize!=f)return d?d.match(/^(\s*)/)[0].length:0;if(b.tagName)return x.multilineTagIndentPastTag!==!1?b.tagStart+b.tagName.length+2:b.tagStart+w*(x.multilineTagIndentFactor||1);if(x.alignCDATA&&/<!\[CDATA\[/.test(c))return 0;var h=c&&/^<(\/)?([\w_:\.-]*)/.exec(c);if(h&&h[1])for(;e;){if(e.tagName==h[2]){e=e.prev;break}if(!x.implicitlyClosed.hasOwnProperty(e.tagName))break;e=e.prev}else if(h)for(;e;){var i=x.contextGrabbers[e.tagName];if(!i||!i.hasOwnProperty(h[2]))break;e=e.prev}for(;e&&e.prev&&!e.startOfLine;)e=e.prev;return e?e.indent+w:b.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:x.htmlMode?"html":"xml",helperType:x.htmlMode?"html":"xml",skipAttribute:function(a){a.state==u&&(a.state=s)}}}),a.defineMIME("text/xml","xml"),a.defineMIME("application/xml","xml"),a.mimeModes.hasOwnProperty("text/html")||a.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":59}],61:[function(a,b,c){(function(a){!function(a,d){"object"==typeof c?b.exports=d(a):"function"==typeof define&&define.amd?define([],d.bind(a,a)):d(a)}("undefined"!=typeof a?a:this,function(a){if(a.CSS&&a.CSS.escape)return a.CSS.escape;var b=function(a){if(0==arguments.length)throw new TypeError("`CSS.escape` requires an argument.");for(var b,c=String(a),d=c.length,e=-1,f="",g=c.charCodeAt(0);++e<d;)b=c.charCodeAt(e),f+=0!=b?b>=1&&31>=b||127==b||0==e&&b>=48&&57>=b||1==e&&b>=48&&57>=b&&45==g?"\\"+b.toString(16)+" ":(0!=e||1!=d||45!=b)&&(b>=128||45==b||95==b||b>=48&&57>=b||b>=65&&90>=b||b>=97&&122>=b)?c.charAt(e):"\\"+c.charAt(e):"�";return f};return a.CSS||(a.CSS={}),a.CSS.escape=b,b})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],62:[function(a,b,c){"use strict";function d(a,b){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=b,this._eventBus=a,this._uid=1,a.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["eventBus","injector"],d.prototype.execute=function(a,b){if(!a)throw new Error("command required");var c={command:a,context:b};this._pushAction(c),this._internalExecute(c),this._popAction(c)},d.prototype.canExecute=function(a,b){var c={command:a,context:b},d=this._getHandler(a),e=this._fire(a,"canExecute",c);if(void 0===e){if(!d)return!1;d.canExecute&&(e=d.canExecute(b))}return e},d.prototype.clear=function(a){this._stack.length=0,this._stackIdx=-1,a!==!1&&this._fire("changed")},d.prototype.undo=function(){var a,b=this._getUndoAction();if(b){for(this._pushAction(b);b&&(this._internalUndo(b),a=this._getUndoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.redo=function(){var a,b=this._getRedoAction();if(b){for(this._pushAction(b);b&&(this._internalExecute(b,!0),a=this._getRedoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.register=function(a,b){this._setHandler(a,b)},d.prototype.registerHandler=function(a,b){if(!a||!b)throw new Error("command and handlerCls must be defined");var c=this._injector.instantiate(b);this.register(a,c)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(a){var b=this,c=a.command,d=a.context,e=this._getHandler(c);this._atomicDo(function(){b._fire(c,"revert",a),e.revert&&b._markDirty(e.revert(d)),b._revertedAction(a),b._fire(c,"reverted",a)})},d.prototype._fire=function(a,b,c){arguments.length<3&&(c=b,b=null);var d,e,f,g=b?[a+"."+b,b]:[a];for(c=this._eventBus.createEvent(c),d=0;(e=g[d])&&(f=this._eventBus.fire("commandStack."+e,c),!c.cancelBubble);d++);return f},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(a){var b=this._currentExecution;b.atomic=!0;try{a()}finally{b.atomic=!1}},d.prototype._internalExecute=function(a,b){var c=this,d=a.command,e=a.context,f=this._getHandler(d);if(!f)throw new Error("no command handler registered for <"+d+">");this._pushAction(a),b||(this._fire(d,"preExecute",a),f.preExecute&&f.preExecute(e),this._fire(d,"preExecuted",a)),this._atomicDo(function(){c._fire(d,"execute",a),f.execute&&c._markDirty(f.execute(e)),c._executedAction(a,b),c._fire(d,"executed",a)}),b||(this._fire(d,"postExecute",a),f.postExecute&&f.postExecute(e),this._fire(d,"postExecuted",a)),this._popAction(a)},d.prototype._pushAction=function(a){var b=this._currentExecution,c=b.actions,d=c[0];if(b.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+a.command+")");a.id||(a.id=d&&d.id||this._createId()),c.push(a)},d.prototype._popAction=function(){var a=this._currentExecution,b=a.actions,c=a.dirty;b.pop(),b.length||(this._eventBus.fire("elements.changed",{elements:e.uniqueBy("id",c)}),c.length=0,this._fire("changed"))},d.prototype._markDirty=function(a){var b=this._currentExecution;a&&(a=e.isArray(a)?a:[a],b.dirty=b.dirty.concat(a))},d.prototype._executedAction=function(a,b){var c=++this._stackIdx;b||this._stack.splice(c,this._stack.length,a)},d.prototype._revertedAction=function(a){this._stackIdx--},d.prototype._getHandler=function(a){return this._handlerMap[a]},d.prototype._setHandler=function(a,b){if(!a||!b)throw new Error("command and handler required");if(this._handlerMap[a])throw new Error("overriding handler for command <"+a+">");this._handlerMap[a]=b}},{"min-dash":734}],63:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./CommandStack")),f={commandStack:["type",e["default"]]};c["default"]=f},{"./CommandStack":62}],64:[function(a,b,c){"use strict";function d(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function e(){}function f(a,b){return a.apply(null,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("min-dash"),h="__fn",i=1e3,j=Array.prototype.slice;d.prototype.on=function(a,b,c,d){if(a=g.isArray(a)?a:[a],g.isFunction(b)&&(d=c,c=b,b=i),!g.isNumber(b))throw new Error("priority must be a number");var e=c;d&&(e=g.bind(c,d),e[h]=c[h]||c);var f=this;a.forEach(function(a){f._addListener(a,{priority:b,callback:e,next:null})})},d.prototype.once=function(a,b,c,d){function e(){var b=c.apply(d,arguments);return f.off(a,e),b}var f=this;if(g.isFunction(b)&&(d=c,c=b,b=i),!g.isNumber(b))throw new Error("priority must be a number");e[h]=c,this.on(a,b,e)},d.prototype.off=function(a,b){a=g.isArray(a)?a:[a];var c=this;a.forEach(function(a){c._removeListener(a,b)})},d.prototype.createEvent=function(a){var b=new e;return b.init(a),b},d.prototype.fire=function(a,b){var c,d,f,g;if(g=j.call(arguments),"object"==typeof a&&(c=a,a=c.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){c=b instanceof e?b:this.createEvent(b),g[0]=c;var h=c.type;a!==h&&(c.type=a);try{f=this._invokeListeners(c,g,d)}finally{a!==h&&(c.type=h)}return void 0===f&&c.defaultPrevented&&(f=!1),f}},d.prototype.handleError=function(a){return this.fire("error",{error:a})===!1},d.prototype._destroy=function(){this._listeners={}},d.prototype._invokeListeners=function(a,b,c){for(var d;c&&!a.cancelBubble;)d=this._invokeListener(a,b,c),c=c.next;return d},d.prototype._invokeListener=function(a,b,c){var d;try{d=f(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),d===!1&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},d.prototype._addListener=function(a,b){var c,d=this._getListeners(a);if(!d)return void this._setListeners(a,b);for(;d;){if(d.priority<b.priority)return b.next=d,void(c?c.next=b:this._setListeners(a,b));c=d,d=d.next}c.next=b},d.prototype._getListeners=function(a){return this._listeners[a]},d.prototype._setListeners=function(a,b){this._listeners[a]=b},d.prototype._removeListener=function(a,b){var c,d,e,f=this._getListeners(a);if(!b)return void this._setListeners(a,null);for(;f;)c=f.next,e=f.callback,(e===b||e[h]===b)&&(d?d.next=c:this._setListeners(a,c)),d=f,f=c},e.prototype.stopPropagation=function(){this.cancelBubble=!0},e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.init=function(a){g.assign(this,a||{})}},{"min-dash":734}],65:[function(a,b,c){"use strict";function d(a){this._commandStack=a.get("commandStack",!1)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,d.$inject=["injector"],d.prototype.allowed=function(a,b){var c=!0,d=this._commandStack;return d&&(c=d.canExecute(a,b)),void 0===c?!0:c}},{}],66:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Rules")),f={__init__:["rules"],rules:["type",e["default"]]};c["default"]=f},{"./Rules":65}],67:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./translate")),f={translate:["value",e["default"]]};c["default"]=f},{"./translate":68}],68:[function(a,b,c){"use strict";function d(a,b){return b=b||{},a.replace(/{([^}]+)}/g,function(a,c){return b[c]||"{"+c+"}"})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d},{}],69:[function(a,b,c){"use strict";function d(a){return l.test(a.toString())}function e(a){return"[object Array]"===Object.prototype.toString.call(a)}function f(){var a=Array.prototype.slice.call(arguments);1===a.length&&e(a[0])&&(a=a[0]);var b=a.pop();return b.$inject=a,b}function g(a){if("function"!=typeof a)throw new Error('Cannot annotate "'+a+'". Expected a function!');var b=a.toString().match(d(a)?m:n);return b?b[1]&&b[1].split(",").map(function(a){return b=a.match(o),b?b[1].trim():a.trim()})||[]:[]}function h(){var a=[];this.factory=function(b,c){return a.push([b,"factory",c]),this},this.value=function(b,c){return a.push([b,"value",c]),this},this.type=function(b,c){return a.push([b,"type",c]),this},this.forEach=function(b){a.forEach(b)}}function i(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function j(a,b){b=b||{get:function(a,b){if(c.push(a),b===!1)return null;throw n('No provider for "'+a+'"!')}};var c=[],d=this._providers=Object.create(b._providers||null),l=this._instances=Object.create(null),m=l.injector=this,n=function(a){var b=c.join(" -> ");return c.length=0,new Error(b?a+" (Resolving: "+b+")":a)},o=function w(a,e){if(!d[a]&&-1!==a.indexOf(".")){for(var f=a.split("."),g=w(f.shift());f.length;)g=g[f.shift()];return g}if(k(l,a))return l[a];if(k(d,a)){if(-1!==c.indexOf(a))throw c.push(a),n("Cannot resolve circular dependency!");return c.push(a),l[a]=d[a][0](d[a][1]),c.pop(),l[a]}return b.get(a,e)},q=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("function"!=typeof a){if(!e(a))throw new Error('Cannot invoke "'+a+'". Expected a function!');a=f(a.slice())}var c=a.$inject||g(a),d=c.map(function(a){return k(b,a)?b[a]:o(a)});return{fn:a,dependencies:d}},r=function(a){var b=q(a),c=b.dependencies,d=b.fn;return new(Function.prototype.bind.apply(d,[null].concat(i(c))))},s=function(a,b,c){var d=q(a,c),e=d.dependencies,f=d.fn;return f.call.apply(f,[b].concat(i(e)))},t=function(a){return f(function(b){return a.get(b)})},u=function(a,b){if(b&&b.length){var c,e,f,g,h=Object.create(null),i=Object.create(null),k=[],l=[],n=[];for(var o in d)c=d[o],-1!==b.indexOf(o)&&("private"===c[2]?(e=k.indexOf(c[3]),-1===e?(f=c[3].createChild([],b),g=t(f),k.push(c[3]),l.push(f),n.push(g),h[o]=[g,o,"private",f]):h[o]=[n[e],o,"private",l[e]]):h[o]=[c[2],c[1]],i[o]=!0),"factory"!==c[2]&&"type"!==c[2]||!c[1].$scope||b.forEach(function(a){-1!==c[1].$scope.indexOf(a)&&(h[o]=[c[2],c[1]],i[a]=!0)});b.forEach(function(a){if(!i[a])throw new Error('No provider for "'+a+'". Cannot use provider from the parent!')}),a.unshift(h)}return new j(a,m)},v={factory:s,type:r,value:function(a){return a}};a.forEach(function(a){function b(a,b){return"value"!==a&&e(b)&&(b=f(b.slice())),b}if(a instanceof h)a.forEach(function(a){var c=a[0],e=a[1],f=a[2];d[c]=[v[e],b(e,f),e]});else if("object"===("undefined"==typeof a?"undefined":p(a)))if(a.__exports__){var c=Object.keys(a).reduce(function(b,c){return"__"!==c.substring(0,2)&&(b[c]=a[c]),b},Object.create(null)),g=new j((a.__modules__||[]).concat([c]),m),i=f(function(a){return g.get(a)});a.__exports__.forEach(function(a){d[a]=[i,a,"private",g]})}else Object.keys(a).forEach(function(c){if("private"===a[c][2])return void(d[c]=a[c]);var e=a[c][0],f=a[c][1];d[c]=[v[e],b(e,f),e]})}),this.get=o,this.invoke=s,this.instantiate=r,this.createChild=u}function k(a,b){return Object.hasOwnProperty.call(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c.annotate=f,c.Module=h,c.Injector=j;var l=/^class /,m=/constructor\s*[^(]*\(\s*([^)]*)\)/m,n=/^function\s*[^(]*\(\s*([^)]*)\)/m,o=/\/\*([^*]*)\*\//m,p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}},{}],70:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a){return i(a)||h(a)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function i(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?n(a):b}function n(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function o(a){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&q(a,b)}function q(a,b){return(q=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var r=d(a("./Viewer")),s=d(a("./features/add-rule")),t=d(a("./features/annotations/editor")),u=d(a("table-js/lib/features/context-menu")),v=d(a("./features/copy-cut-paste")),w=d(a("./features/copy-cut-paste/key-bindings")),x=d(a("./features/create-inputs")),y=d(a("./features/context-menu")),z=d(a("./features/editor-actions")),A=d(a("./features/decision-table-head/editor")),B=d(a("./features/drag-and-drop")),C=d(a("./features/description")),D=d(a("./features/expression-language")),E=d(a("dmn-js-shared/lib/features/expression-languages")),F=d(a("./features/decision-table-properties/editor")),G=d(a("table-js/lib/features/editor-actions")),H=d(a("./features/hit-policy/editor")),I=d(a("table-js/lib/features/interaction-events")),J=d(a("./features/keyboard")),K=d(a("./features/modeling")),L=d(a("./features/decision-rules/editor")),M=d(a("table-js/lib/features/selection")),N=d(a("./features/simple-mode")),O=d(a("./features/simple-boolean-edit")),P=d(a("./features/simple-date-edit")),Q=d(a("./features/simple-number-edit")),R=d(a("./features/simple-string-edit")),S=d(a("./features/cell-selection")),T=function(a){function b(){return j(this,b),m(this,o(b).apply(this,arguments))}return p(b,a),l(b,[{key:"getModules",value:function(){return[].concat(f(r["default"]._getModules()),f(b._getModules()))}}],[{key:"_getModules",value:function(){return[s["default"],t["default"],S["default"],u["default"],v["default"],w["default"],x["default"],y["default"],z["default"],A["default"],B["default"],C["default"],D["default"],E["default"],J["default"],F["default"],G["default"],H["default"],I["default"],K["default"],L["default"],M["default"],N["default"],O["default"],P["default"],Q["default"],R["default"]]}}]),b}(r["default"]);c["default"]=T},{"./Viewer":71,"./features/add-rule":79,"./features/annotations/editor":90,"./features/cell-selection":94,"./features/context-menu":97,"./features/copy-cut-paste":102,"./features/copy-cut-paste/key-bindings":104,"./features/create-inputs":108,"./features/decision-rules/editor":118,"./features/decision-table-head/editor":130,"./features/decision-table-properties/editor":136,"./features/description":140,"./features/drag-and-drop":142,"./features/editor-actions":144,"./features/expression-language":146,"./features/hit-policy/editor":152,"./features/keyboard":156,"./features/modeling":166,"./features/simple-boolean-edit":176,"./features/simple-date-edit":181,"./features/simple-mode":184,"./features/simple-number-edit":189,"./features/simple-string-edit":193,"dmn-js-shared/lib/features/expression-languages":510,"table-js/lib/features/context-menu":768,"table-js/lib/features/editor-actions":772,"table-js/lib/features/interaction-events":774,"table-js/lib/features/selection":786}],71:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a){return i(a)||h(a)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function i(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function j(a,b){if(null==a)return{};var c,d,e=k(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function k(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function n(a,b,c){return b&&m(a.prototype,b),c&&m(a,c),a}function o(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?p(a):b}function p(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function q(a,b,c){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=r(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function r(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=s(a),null!==a););return a}function s(a){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function t(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&u(a,b)}function u(a,b){return(u=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var v=d(a("table-js")),w=a("./import/Importer"),x=a("min-dash"),y=a("min-dom"),z=d(a("diagram-js/lib/i18n/translate")),A=d(a("./features/annotations")),B=d(a("./core")),C=d(a("./features/decision-table-head")),D=d(a("./features/decision-table-properties")),E=d(a("./features/decision-rule-indices")),F=d(a("./features/decision-rules")),G=d(a("./features/hit-policy")),H=d(a("./features/view-drd")),I=d(a("./features/powered-by")),J=function(a){function b(){var a,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,b);var d=b._createContainer();return a=o(this,s(b).call(this,x.assign(c,{renderer:{container:d}}))),a._container=d,a}return t(b,a),n(b,[{key:"open",value:function(a,b){var c;try{return this._decision&&this.clear(),this._decision=a,w.importDecision(this,a,b)}catch(d){c=d}return b(c)}},{key:"_init",value:function(a){var b=a.modules,c=a.additionalModules,d=j(a,["modules","additionalModules"]),e=b||this.getModules(),g=c||[],h=[{decisionTable:["value",this]}],i=[I["default"]].concat(f(e),f(g),h);return{modules:i,config:d}}},{key:"on",value:function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)}},{key:"off",value:function(a,b){this.get("eventBus").off(a,b)}},{key:"_emit",value:function(a,b){return this.get("eventBus").fire(a,b)}},{key:"attachTo",value:function(a){if(!a)throw new Error("parentNode required");this.detach();var b=this._container;a.appendChild(b),this._emit("attach",{})}},{key:"detach",value:function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),y.remove(a))}},{key:"destroy",value:function(){q(s(b.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return b._getModules()}}],[{key:"_getModules",value:function(){return[A["default"],B["default"],z["default"],C["default"],D["default"],E["default"],F["default"],G["default"],H["default"]]}},{key:"_createContainer",value:function(){return y.domify('<div class="dmn-decision-table-container"></div>')}}]),b}(v["default"]);c["default"]=J},{"./core":72,"./features/annotations":91,"./features/decision-rule-indices":111,"./features/decision-rules":119,"./features/decision-table-head":131,"./features/decision-table-properties":137,"./features/hit-policy":153,"./features/powered-by":170,"./features/view-drd":200,"./import/Importer":201,"diagram-js/lib/i18n/translate":210,"min-dash":734,"min-dom":735,"table-js":787}],72:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../import")),f=d(a("table-js/lib/render")),g={__depends__:[e["default"],f["default"]]};c["default"]=g},{"../import":205,"table-js/lib/render":793}],73:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){a.onGetComponent("cell",function(a){var b=a.cellType;return"input-label"===b?f["default"]:"output-label"===b?g["default"]:void 0}),c.on("addInput",function(){b.trigger("addInput")}),c.on("addOutput",function(){b.trigger("addOutput")})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("./components/AddInput")),g=d(a("./components/AddOutput"));e.$inject=["components","editorActions","eventBus"]},{"./components/AddInput":74,"./components/AddOutput":75}],74:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onElementsChanged",function(){d.forceUpdate()}),m(j(d),"handleClick",function(a){a.stopPropagation(),d.add()}),m(j(d),"add",function(){d._eventBus.fire("addInput")}),d._sheet=c.injector.get("sheet"),d._eventBus=c.injector.get("eventBus"),d._changeSupport=c.changeSupport,d._translate=c.injector.get("translate"),d}return k(b,a),g(b,[{key:"componentWillMount",value:function(){var a=this.getRoot();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getRoot();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getRoot",value:function(){return this._sheet.getRoot()}},{key:"render",value:function(){var a=this.getRoot(),b=a.businessObject,c=b.input;if(!c||!c.length)return null;var d=c.length;return n.createVNode(1,"th","input-cell inputs-label actionable add-input header",[this._translate("Input"),n.createTextVNode(" "),n.createVNode(1,"span","add-input dmn-icon-plus action-icon",null,1,{title:this._translate("Add Input")})],0,{onClick:this.handleClick,colspan:d})}}]),b}(n.Component);c["default"]=o},{inferno:526}],75:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onElementsChanged",function(){d.forceUpdate()}),m(j(d),"handleClick",function(a){a.stopPropagation(),d.add()}),m(j(d),"add",function(){d._eventBus.fire("addOutput")}),d._sheet=c.injector.get("sheet"),d._eventBus=c.injector.get("eventBus"),d._changeSupport=c.changeSupport,d._translate=c.injector.get("translate"),d}return k(b,a),g(b,[{key:"componentWillMount",value:function(){var a=this.getRoot();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getRoot();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getRoot",value:function(){return this._sheet.getRoot()}},{key:"render",value:function(){var a=this.getRoot(),b=a.businessObject,c=b.output.length;return n.createVNode(1,"th","output-cell outputs-label add-output actionable header",[this._translate("Output"),n.createTextVNode(" "),n.createVNode(1,"span","add-output dmn-icon-plus action-icon",null,1,{title:this._translate("Add Output")})],0,{onClick:this.handleClick,colspan:c})}}]),b}(n.Component);c["default"]=o},{inferno:526}],76:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./AddInputOutputProvider")),f=d(a("../editor-actions")),g={
__depends__:[f["default"]],__init__:["addInputOutputProvider"],addInputOutputProvider:["type",e["default"]]};c["default"]=g},{"../editor-actions":144,"./AddInputOutputProvider":73}],77:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/AddRuleFootComponent")),g=function h(a,b,c){e(this,h),a.onGetComponent("table.foot",function(){return f["default"]}),c.on("addRule",function(){b.trigger("addRule")})};c["default"]=g,g.$inject=["components","editorActions","eventBus"]},{"./components/AddRuleFootComponent":78}],78:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=a("table-js/lib/components"),p=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"handleClick",function(a){a.stopPropagation(),d.addRule()}),o.inject(j(d)),d.addRule=d.addRule.bind(j(d)),d}return k(b,a),g(b,[{key:"componentWillMount",value:function(){this._eventBus=this.context.injector.get("eventBus")}},{key:"addRule",value:function(){this._eventBus.fire("addRule")}},{key:"render",value:function(){var a=this.props.cols,b=[n.createVNode(1,"td","add-rule-add",n.createVNode(1,"span","dmn-icon-plus action-icon",null,1,{title:"Add Rule"}),2)],c=this.sheet.getRoot(),d=c.businessObject;d.input&&d.input.length||b.push(n.createVNode(1,"td","input-cell",n.createTextVNode("-"),2));for(var e=0;e<a.length+1;e++){var f="add-rule",g=a[e]&&a[e].businessObject,h="";g&&(g.$instanceOf("dmn:InputClause")&&(f+=" input-cell",h="-"),g.$instanceOf("dmn:OutputClause")&&(f+=" output-cell")),b.push(n.createVNode(1,"td",f,h,0))}return n.createVNode(1,"tfoot","actionable add-rule",n.createVNode(1,"tr",null,b,0),2,{onClick:this.handleClick})}}]),b}(n.Component);c["default"]=p,p.$inject=["sheet"]},{inferno:526,"table-js/lib/components":754}],79:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./AddRule")),f=d(a("../editor-actions")),g={__depends__:[f["default"]],__init__:["addRule"],addRule:["type",e["default"]]};c["default"]=g},{"../editor-actions":144,"./AddRule":77}],80:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/AllowedValuesEditing")),g=500,h=function i(a){e(this,i),a.onGetComponent("context-menu",g,function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.contextMenuType&&"type-ref-edit"===a.contextMenuType?f["default"]:void 0})};c["default"]=h,h.$inject=["components"]},{"./components/AllowedValuesEditing":83}],81:[function(a,b,c){"use strict";function d(a){if(!a||e(a.trim()))return{values:[]};var b=a.split(","),c={values:[]},d="";return b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim()),d=""):d+=","}),d?void 0:c}function e(a){return""===a}function f(a){return a.map(function(a){return a.value})}Object.defineProperty(c,"__esModule",{value:!0}),c.parseString=d,c.getValuesArray=f},{}],82:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?h(a):b}function h(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&k(a,b)}function k(a,b){return(k=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var l=d(a("diagram-js/lib/command/CommandInterceptor")),m=a("dmn-js-shared/lib/util/ModelUtil"),n=function(a){function b(a,c){var d;return f(this,b),d=g(this,i(b).call(this,a)),d.postExecuted("element.updateProperties",function(a){var b=a.context,d=b.element,e=b.properties,f=m.isInput(d)?e.inputExpression:e;if(f&&f.typeRef&&"string"!==f.typeRef){var g=m.is(d,"dmn:LiteralExpression")?d.$parent:d;c.editAllowedValues(g,null)}}),d}return j(b,a),b}(l["default"]);c["default"]=n,n.$inject=["eventBus","modeling"]},{"diagram-js/lib/command/CommandInterceptor":206,"dmn-js-shared/lib/util/ModelUtil":515}],83:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){return 13===a}function p(a){return null===a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var q=a("inferno"),r=a("dmn-js-shared/lib/util/ModelUtil"),s=d(a("dmn-js-shared/lib/components/List")),t=d(a("dmn-js-shared/lib/components/ValidatedInput")),u=a("../Utils"),v=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),n(k(d),"onElementsChanged",function(){d.forceUpdate()}),n(k(d),"setPredefinedValues",function(a){var b=d.getAllowedValuesTarget();d.setState({values:a}),d._modeling.editAllowedValues(b,a&&u.getValuesArray(a))}),n(k(d),"onListChange",function(a){d.setPredefinedValues(a)}),n(k(d),"onInput",function(a){var b=(a.isValid,a.value);d.setState({inputValue:b})}),n(k(d),"onKeyDown",function(a){var b=a.isValid,c=a.event;if(o(c.keyCode)&&(c.stopPropagation(),c.preventDefault(),b)){var e=d.state,f=e.inputValue,g=e.values,h=u.parseString(f);d.onListChange((g||[]).concat(h.values.map(function(a){return{value:a,isCheckable:!1,isRemovable:!0,group:"Predefined Values"}}))),d.setState({inputValue:""})}}),n(k(d),"handleRemovePredifinedValuesClick",function(a){a.stopPropagation(),d.removePredefinedValues()}),n(k(d),"removePredefinedValues",function(){d.setPredefinedValues(null)}),d._translate=c.injector.get("translate"),d._modeling=c.injector.get("modeling"),d._changeSupport=c.changeSupport;var e=d.getAllowedValuesTarget(),g=u.parseString(e.inputValues&&e.inputValues.text||e.outputValues&&e.outputValues.text||"");return g?d.state={values:g.values.map(function(a){return{value:a,isCheckable:!1,isRemovable:!0,group:"Predefined Values"}}),inputValue:""}:d.state={values:null,inputValue:""},d}return l(b,a),h(b,[{key:"componentWillMount",value:function(){var a=this.getAllowedValuesTarget();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getAllowedValuesTarget();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getAllowedValuesTarget",value:function(){var a=this.props.context.element;return r.is(a,"dmn:LiteralExpression")?a.$parent:a}},{key:"render",value:function(){var a=this,b=this.props.context.element,c=this.state,d=c.inputValue,e=c.values;return"string"===b.typeRef?q.createVNode(1,"div","context-menu-container allowed-values-edit",[q.createVNode(1,"hr","dms-hrule"),!p(e)&&e.length>0&&q.createComponentVNode(2,s["default"],{items:e,onChange:this.onListChange}),!p(e)&&!e.length&&q.createVNode(1,"div",null,[q.createVNode(1,"h4","dms-heading",this._translate("Predefined Values"),0),q.createVNode(1,"span","placeholder",this._translate("No values"),0)],4),!p(e)&&q.createVNode(1,"p","dms-hint",q.createVNode(1,"button","del-values",this._translate("Clear predefined values."),0,{type:"button",onClick:this.handleRemovePredifinedValuesClick}),2),q.createVNode(1,"h4","dms-heading",this._translate("Add Predefined Values"),0),q.createComponentVNode(2,t["default"],{onInput:this.onInput,onKeyDown:this.onKeyDown,placeholder:'"value", "value", ...',type:"text",validate:function(b){return u.parseString(b)?void 0:a._translate("Strings must be in double quotes.")},value:d})],0):null}}]),b}(q.Component);c["default"]=v},{"../Utils":81,"dmn-js-shared/lib/components/List":503,"dmn-js-shared/lib/components/ValidatedInput":504,"dmn-js-shared/lib/util/ModelUtil":515,inferno:526}],84:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./behavior/AllowedValuesUpdateBehavior")),f=d(a("./AllowedValuesEditingProvider")),g={__init__:["allowedValuesUpdateBehavior","allowedValuesEditingProvider"],allowedValuesUpdateBehavior:["type",e["default"]],allowedValuesEditingProvider:["type",f["default"]]};c["default"]=g},{"./AllowedValuesEditingProvider":80,"./behavior/AllowedValuesUpdateBehavior":82}],85:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.onGetComponent("cell",function(a){var b=a.cellType;return"after-label-cells"===b?f["default"]:"after-rule-cells"===b?g["default"]:void 0})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("./components/AnnotationHeader")),g=d(a("./components/AnnotationCell"));e.$inject=["components"]},{"./components/AnnotationCell":86,"./components/AnnotationHeader":87}],86:[function(a,b,c){"use strict";function d(a){var b=a.row,c=b.businessObject,d=c.id,g=c.description;return e.createComponentVNode(2,f.Cell,{className:"annotation",elementId:d+"__annotation",children:g||"-"})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("inferno"),f=a("table-js/lib/components")},{inferno:526,"table-js/lib/components":754}],87:[function(a,b,c){"use strict";function d(a,b){var c=b.injector.get("translate");return e.createVNode(1,"th","annotation header",c("Annotation"),0,{rowspan:"3"})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("inferno")},{inferno:526}],88:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.onGetComponent("cell",function(a){var b=a.cellType;return"after-label-cells"===b?f["default"]:"after-rule-cells"===b?g["default"]:void 0})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("../components/AnnotationHeader")),g=d(a("./components/AnnotationCell"));e.$inject=["components"]},{"../components/AnnotationHeader":87,"./components/AnnotationCell":89}],89:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=d(a("dmn-js-shared/lib/components/EditableComponent")),q=a("table-js/lib/components"),r=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),n(k(d),"onElementsChanged",function(){d.forceUpdate()}),n(k(d),"setAnnotationValue",function(a){var b=d.props.row;d.modeling.editAnnotation(b.businessObject,a)}),q.inject(k(d)),d}return l(b,a),h(b,[{key:"componentWillMount",value:function(){var a=this.props.row;this.changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.props.row;this.changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.props,b=a.row,c=a.rowIndex,d=b.businessObject,e=d.description,f=d.id;return o.createComponentVNode(2,q.Cell,{className:"annotation",onChange:this.setAnnotationValue,coords:"".concat(c,":annotation"),value:e,elementId:f+"__annotation","data-row-id":b.id,children:o.createComponentVNode(2,s,{ctrlForNewline:!0,className:"annotation-editor",onChange:this.setAnnotationValue,value:e})})}}]),b}(o.Component);c["default"]=r,r.$inject=["changeSupport","modeling"];var s=function(a){function b(){return f(this,b),i(this,j(b).apply(this,arguments))}return l(b,a),h(b,[{key:"render",value:function(){return o.createVNode(1,"div",this.getClassName(),this.getEditor(),0)}}]),b}(p["default"])},{"dmn-js-shared/lib/components/EditableComponent":500,inferno:526,"table-js/lib/components":754}],90:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./AnnotationsEditingProvider")),f=d(a("dmn-js-shared/lib/features/debounce-input")),g={__depends__:[f["default"]],__init__:["annotationsProvider"],annotationsProvider:["type",e["default"]]};c["default"]=g},{"./AnnotationsEditingProvider":88,"dmn-js-shared/lib/features/debounce-input":508}],91:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./AnnotationsProvider")),f={__init__:["annotationsProvider"],annotationsProvider:["type",e["default"]]};c["default"]=f},{"./AnnotationsProvider":85}],92:[function(a,b,c){"use strict";function d(a,b,c,d,i){function j(a,c){b.fire("selection."+a+".changed",c),b.fire("cellSelection.changed",{elementId:a,selection:c})}function k(a){var b=a.target;if(!f.isUnselectableNode(b)){var c=f.findSelectableAncestor(b),d=c&&f.getElementId(c),e=!a.defaultPrevented;n(d,e),a.stopPropagation()}}function l(a){var b=f.getElementId(a.target),c=!a.defaultPrevented;return a.stopPropagation(),n(b,c)}function m(a){var b=f.getElementId(a.target);j(b,{focussed:!1})}function n(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:!0;p!==a&&j(p,{selected:!1,focussed:!1}),p=a,a&&j(a,{selected:!0,focussed:b}),a?d.select(a):d.deselect()}var o=a.container,p=null;b.on("cell.click",g,k),b.on("cell.focusin",g,l),b.on("cell.focusout",g,m),b.on("cellSelection.changed",function(a){var b=a.elementId,c=a.selection,d=f.getNodeById(b,o);c.focussed&&d&&f.ensureFocus(d)}),b.on("selection.changed",function(a){var b=a.selection,c=a.oldSelection,d=b&&b.id,e=c&&c.id;d&&d!==p?n(b.id):e&&e===p&&n()}),this.isCellSelected=function(){return!!p},this.getCellSelection=function(){return p},this.selectCell=function(a){if(p){if(!(a in h))throw new Error("direction must be any of { above, below, left, right }");var b=f.getNodeById(p,o),c=f.getElementCoords(b);if(!c)return!1;var d=e(c,a),g=f.getNodeByCoords(d,o);if(!g)return!1;var i=f.getElementId(g);return i&&n(i,{focussed:!0,selected:!0}),!0}},b.on("contextMenu.close",function(){return p?n(p):void 0})}function e(a,b){var c=a.row,d=a.col;if("above"===b||"below"===b){var e=parseInt(c,10);if(isNaN(e))return a;var f="above"===b?e-1:e+1;return{col:d,row:f}}if("left"===b||"right"===b){var g=parseInt(d,10);if(isNaN(g))return a;var h="left"===b?g-1:g+1;return{row:c,col:h}}throw new Error("invalid direction <"+b+">")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./CellSelectionUtil"),g=500,h={above:!0,below:!0,right:!0,left:!0};d.$inject=["config.renderer","eventBus","sheet","selection","elementRegistry"]},{"./CellSelectionUtil":93}],93:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){return h(a)||g(a,b)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function g(a,b){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}}function h(a){return Array.isArray(a)?a:void 0}function i(a){return a.getAttribute("data-element-id")}function j(a){var b=a.getAttribute("data-coords");if(!b)return null;var c=b.split(":"),d=e(c,2),f=d[0],g=d[1];return{row:f,col:g}}function k(a,b){var c="".concat(a.row,":").concat(a.col);return q.query('[data-coords="'.concat(r["default"](c),'"]'),b)}function l(a,b){return q.query('[data-element-id="'.concat(r["default"](a),'"]'),b)}function m(a){return q.closest(a,".no-deselect",!0)}function n(a){return q.closest(a,u,!0)}function o(a){var b=t;return q.matches(a,b)?a:q.query(b,a)}function p(a){var b=o(a);if(b&&document.body.contains(b)&&document.activeElement!==b){b.focus();var c=s.getRange(b);c&&0!==c.end||s.setRange(b,{start:5e3,end:5e3})}}Object.defineProperty(c,"__esModule",{value:!0}),c.getElementId=i,c.getElementCoords=j,c.getNodeByCoords=k,c.getNodeById=l,c.isUnselectableNode=m,c.findSelectableAncestor=n,c.getFocusableNode=o,c.ensureFocus=p,c.ELEMENT_SELECTOR=c.SELECTABLE_SELECTOR=void 0;var q=a("min-dom"),r=d(a("css.escape")),s=a("selection-ranges"),t="[contenteditable]";c.SELECTABLE_SELECTOR=t;var u="[data-element-id]";c.ELEMENT_SELECTOR=u},{"css.escape":61,"min-dom":735,"selection-ranges":745}],94:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/features/selection")),f=d(a("table-js/lib/features/interaction-events")),g=d(a("./CellSelection")),h={__depends__:[f["default"],e["default"]],__init__:["cellSelection"],cellSelection:["type",g["default"]]};c["default"]=h},{"./CellSelection":92,"table-js/lib/features/interaction-events":774,"table-js/lib/features/selection":786}],95:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a){return a instanceof j.Cell}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("inferno"),i=a("dmn-js-shared/lib/util/ModelUtil"),j=a("table-js/lib/model"),k=function(){function a(b,c,e,f,i,j,k,l,m,n){var o=this;d(this,a),this._contextMenu=c,this._clipboard=e,this._editorActions=f,this._elementRegistry=j,this._eventBus=i,this._modeling=k,this._sheet=l,this._rules=m,this._translate=n,this._getEntries=this._getEntries.bind(this),b.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"context-menu"===a.contextMenuType){var c=o._getEntries(a),d=o._elementRegistry.get(a.id),e=g(d)&&b.getComponents("context-menu-cell-additional",a);if(e&&e.length){var f=h.createVNode(1,"div","context-menu-group context-menu-group-cell",[h.createVNode(1,"h4","context-menu-group-title",o._translate("Cell"),0),e],0);return function(){return h.createVNode(1,"div","context-menu-flex",(c||[]).concat([f]),0)}}return function(){return h.createVNode(1,"div","context-menu-flex",c||[],0)}}}),i.on("cell.contextmenu",function(a){var b=a.event,d=a.id;a.node;b.preventDefault(),c.open({x:b.pageX,y:b.pageY},{contextMenuType:"context-menu",id:d})})}return f(a,[{key:"_getEntries",value:function(a){var b=this,c={addRuleAbove:function(a){b._editorActions.trigger("addRuleAbove",{rule:a}),b._contextMenu.close()},addRuleBelow:function(a){b._editorActions.trigger("addRuleBelow",{rule:a}),b._contextMenu.close()},removeRule:function(a){b._editorActions.trigger("removeRule",{rule:a}),b._contextMenu.close()},addInputLeft:function(a){b._editorActions.trigger("addInputLeft",{input:a}),b._contextMenu.close()},addInputRight:function(a){b._editorActions.trigger("addInputRight",{input:a}),b._contextMenu.close()},removeInput:function(a){b._editorActions.trigger("removeInput",{input:a}),b._contextMenu.close()},addOutputLeft:function(a){b._editorActions.trigger("addOutputLeft",{output:a}),b._contextMenu.close()},addOutputRight:function(a){b._editorActions.trigger("addOutputRight",{output:a}),b._contextMenu.close()},removeOutput:function(a){b._editorActions.trigger("removeOutput",{output:a}),b._contextMenu.close()},copy:function(a){b._editorActions.trigger("copy",{element:a}),b._contextMenu.close()},cut:function(a){b._editorActions.trigger("cut",{element:a}),b._contextMenu.close()},pasteBefore:function(a){b._editorActions.trigger("pasteBefore",{element:a}),b._contextMenu.close()},pasteAfter:function(a){b._editorActions.trigger("pasteAfter",{element:a}),b._contextMenu.close()}},d=a&&a.id;if(!d)return null;var e=this._elementRegistry.get(d);if(!e)return null;var f=this._clipboard.get()||{},g=[];if(i.is(e.row,"dmn:DecisionRule")){var j=this._rules.allowed("paste",{data:f.elements,target:e.row});g.push(h.createVNode(1,"div","context-menu-group context-menu-group-rule",[h.createVNode(1,"h4","context-menu-group-title",this._translate("Rule"),0),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-add-rule-above",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-up"),this._translate("Add Above")],0,{onClick:function(){return c.addRuleAbove(e.row)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-add-rule-below",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-down"),this._translate("Add Below")],0,{onClick:function(){return c.addRuleBelow(e.row)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-remove-rule",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-clear"),this._translate("Remove")],0,{onClick:function(){return c.removeRule(e.row)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-copy-rule",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-copy"),this._translate("Copy")],0,{onClick:function(){return c.copy(e.row)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-cut-rule",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-cut"),this._translate("Cut")],0,{onClick:function(){return c.cut(e.row)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(j?"":"disabled"," context-menu-entry-paste-rule-above"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-paste"),this._translate("Paste Above")],0,{onClick:function(){return c.pasteBefore(e.row)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(j?"":"disabled"," context-menu-entry-paste-rule-below"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-paste"),this._translate("Paste Below")],0,{onClick:function(){return c.pasteAfter(e.row)}})],4))}if(i.is(e,"dmn:InputClause")||i.is(e.col,"dmn:InputClause")){var k=i.is(e,"dmn:InputClause")?e:e.col,l=this._rules.allowed("col.remove",{col:e.col||e}),m=this._rules.allowed("paste",{data:f.elements,target:e.col||e});g.push(h.createVNode(1,"div","context-menu-group context-menu-group-input",[h.createVNode(1,"h4","context-menu-group-title",this._translate("Input"),0),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-add-input-left",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-left"),this._translate("Add Left")],0,{onClick:function(){return c.addInputLeft(k)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-add-input-right",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-right"),this._translate("Add Right")],0,{onClick:function(){return c.addInputRight(k)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(l?"":"disabled"," context-menu-entry-remove-input"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-clear"),this._translate("Remove")],0,{onClick:function(){return c.removeInput(k)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-copy-input",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-copy"),this._translate("Copy")],0,{onClick:function(){return c.copy(k)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(l?"":"disabled"," context-menu-entry-cut-input"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-cut"),this._translate("Cut")],0,{onClick:function(){return c.cut(k)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(m?"":"disabled"," context-menu-entry-paste-input-left"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-paste"),this._translate("Paste Left")],0,{onClick:function(){return c.pasteBefore(k)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(m?"":"disabled"," context-menu-entry-paste-input-right"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-paste"),this._translate("Paste Right")],0,{onClick:function(){return c.pasteAfter(k)}})],4))}else if(i.is(e,"dmn:OutputClause")||i.is(e.col,"dmn:OutputClause")){var n=i.is(e,"dmn:OutputClause")?e:e.col,o=this._rules.allowed("col.remove",{col:e.col||e}),p=this._rules.allowed("paste",{data:f.elements,target:e.col||e});g.push(h.createVNode(1,"div","context-menu-group context-menu-group-output",[h.createVNode(1,"h4","context-menu-group-title",this._translate("Output"),0),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-add-output-left",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-left"),this._translate("Add Left")],0,{onClick:function(){return c.addOutputLeft(n)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-add-output-right",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-right"),this._translate("Add Right")],0,{onClick:function(){return c.addOutputRight(n)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(o?"":"disabled"," context-menu-entry-remove-output"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-clear"),this._translate("Remove")],0,{onClick:function(){return c.removeOutput(n)}}),h.createVNode(1,"div","context-menu-group-entry context-menu-entry-copy-output",[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-copy"),this._translate("Copy")],0,{onClick:function(){return c.copy(n)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(o?"":"disabled"," context-menu-entry-cut-output"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-cut"),this._translate("Cut")],0,{onClick:function(){return c.cut(n)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(p?"":"disabled"," context-menu-entry-paste-output-left"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-paste"),this._translate("Paste Left")],0,{onClick:function(){return c.pasteBefore(n)}}),h.createVNode(1,"div","context-menu-group-entry ".concat(p?"":"disabled"," context-menu-entry-paste-output-right"),[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-paste"),this._translate("Paste Right")],0,{onClick:function(){return c.pasteAfter(n)}})],4))}return g}}]),a}();c["default"]=k,k.$inject=["components","contextMenu","clipboard","editorActions","eventBus","elementRegistry","modeling","sheet","rules","translate"]},{"dmn-js-shared/lib/util/ModelUtil":515,inferno:526,"table-js/lib/model":788}],96:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=["row.add","row.remove","col.add","col.remove"],f=function g(a,b){d(this,g),b.on("commandStack.executed",function(b){var c=b.command;-1!==e.indexOf(c)&&a.close()}),b.on("commandStack.reverted",function(){a.close()})};c["default"]=f,f.$inject=["contextMenu","eventBus"]},{}],97:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ContextMenu")),f=d(a("../editor-actions")),g=d(a("table-js/lib/features/context-menu")),h=d(a("../rules")),i=d(a("./ContextMenuCloseBehavior")),j={__depends__:[f["default"],g["default"],h["default"]],__init__:["decisionTableContextMenu","contextMenuCloseBehavior"],decisionTableContextMenu:["type",e["default"]],contextMenuCloseBehavior:["type",i["default"]]};c["default"]=j},{"../editor-actions":144,"../rules":172,"./ContextMenu":95,"./ContextMenuCloseBehavior":96,"table-js/lib/features/context-menu":768}],98:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){
var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e(c,!0).forEach(function(b){g(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var k=a("min-dash"),l=d(a("./cmd/CutHandler")),m=d(a("./cmd/PasteHandler")),n=a("./DescriptorUtil"),o=function(){function a(b,c,d,e,f,g){h(this,a),this._clipboard=b,this._commandStack=c,this._eventBus=d,this._modeling=e,this._sheet=f,this._rules=g,c.registerHandler("cut",l["default"]),c.registerHandler("paste",m["default"])}return j(a,[{key:"copy",value:function(a){k.isArray(a)||(a=[a]);var b={elements:n.createDescriptor(a)};this._eventBus.fire("copyCutPaste.copy",{data:b}),this._clipboard.set(b)}},{key:"cut",value:function(a){k.isArray(a)||(a=[a]);var b={elements:n.createDescriptor(a),keepIds:!0},c={elements:a,data:b};this._eventBus.fire("copyCutPaste.cut",{data:b}),this._commandStack.execute("cut",c)}},{key:"pasteBefore",value:function(a){return this._paste(a,{before:!0})}},{key:"pasteAfter",value:function(a){return this._paste(a,{after:!0})}},{key:"_paste",value:function(a,b){var c=this._clipboard.get();if(!c)return void 0;var d=this._rules.allowed("paste",{data:c.elements,target:a});return d?(this._commandStack.execute("paste",f({element:a},b)),!0):!1}},{key:"pasteAt",value:function(a){}}]),a}();c["default"]=o,o.$inject=["clipboard","commandStack","eventBus","modeling","sheet","rules"]},{"./DescriptorUtil":99,"./cmd/CutHandler":100,"./cmd/PasteHandler":101,"min-dash":734}],99:[function(a,b,c){"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(c,!0).forEach(function(b){f(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a){return j(a)||i(a)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function j(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function k(a,b,c){return c=c||C,b=b||{},A.isArray(a)?l(a,b,c):m(a,b,c)}function l(a,b,c){return A.reduce(a,function(a,b){var d=a.descriptorCache,f=a.root,h=m(b,d,c),i=h.root,j=h.descriptorCache;return{root:[].concat(g(f),[i]),descriptorCache:e({},d,{},j)}},{root:[],descriptorCache:b})}function m(a,b,c){var d=a.id,g={id:d},h=b.elements||{},i=h[d];if(i)return{root:i,descriptorCache:b};var j=n(a,g,c,e({},b,{elements:h}));return{root:j.root,descriptorCache:e({},j.descriptorCache,{elements:e({},j.descriptorCache.elements,f({},d,j.root))})}}function n(a,b,c,d){function e(a,b){return k(a,b,c)}return A.reduce(c,function(b,c){return c(a,b.root,b.descriptorCache,e)},{root:b,descriptorCache:d})}function o(a,b,c,d){var f=c,g=e({},b,{type:q(a)});if(a instanceof B.Row||a instanceof B.Col){var h=d(a.cells,f);g.cells=h.root,f=h.descriptorCache}return{root:g,descriptorCache:f}}function p(a,b,c){var d=a.businessObject;if(!d)return{root:b,descriptorCache:c};var f=r(d,c);return{root:e({},b,{businessObject:f.root}),descriptorCache:f.descriptorCache}}function q(a){if(a instanceof B.Row)return"row";if(a instanceof B.Col)return"col";if(a instanceof B.Cell)return"cell";throw new Error("cannot deduce element type: #"+a.id)}function r(a,b){var c,d,g=a.id;if(g&&(c=b.boCache||{},d=c[g]))return{root:d,descriptorCache:b};var h={$type:a.$type};return g&&(h.id=g,c=e({},c,f({},g,h)),b=e({},b,{boCache:c})),a.$descriptor.properties.forEach(function(c){var d=a[c.name];if(d){if(A.isArray(d)&&(d=d.map(function(a){var c=r(a,b);return b=c.descriptorCache,c.root})),d.$type){var e=r(d,b);b=e.descriptorCache,d=e.root}h[c.name]=d}}),{root:h,descriptorCache:b}}function s(a,b,c){return c=c||D,b=b||{},A.isArray(a.root)?t(a,b,c):u(a,b,c)}function t(a,b,c){var d=a.root,e=a.descriptorCache;return A.reduce(d,function(a,b){var d=a.reviveCache,f=a.root,h=u({root:b,descriptorCache:e},d,c),i=h.root,j=h.reviveCache;return{root:[].concat(g(f),[i]),reviveCache:j}},{root:[],reviveCache:b})}function u(a,b,c){var d=a.root,g=d.id,h=b.elements||{},i=h[g];if(i)return{root:i,reviveCache:b};var j={id:g},k=v(a,j,c,e({},b,{elements:h}));return{root:k.root,reviveCache:e({},k.reviveCache,{elements:e({},k.reviveCache.elements,f({},g,k.root))})}}function v(a,b,c,d){function e(a,b){return s(a,b,c)}return A.reduce(c,function(b,c){return c(a,b.root,b.reviveCache,e)},{root:b,reviveCache:d})}function w(a,b,c,d){var f=a.root,g=a.descriptorCache,h=e({},b);if(b.businessObject&&b.businessObject.id&&(h.id=b.businessObject.id),"row"===f.type||"col"===f.type){var i=d({root:f.cells,descriptorCache:g},c);h.cells=i.root,c=i.reviveCache}var j=y(f),k=new j(h);return k instanceof B.Row?k.cells.forEach(function(a){a.row=k}):k instanceof B.Col&&k.cells.forEach(function(a){a.col=k}),{root:k,reviveCache:c}}function x(a,b,c){var d=a.root.businessObject;if(!d)return{root:b,reviveCache:c};var f=z({root:d,descriptorCache:a.descriptorCache},c);return{root:e({},b,{businessObject:f.root}),reviveCache:f.reviveCache}}function y(a){switch(a.type){case"row":return B.Row;case"cell":return B.Cell;case"col":return B.Col;default:throw new Error("unknown element type: #"+a.type)}}function z(a,b){var c,d,g=a.root,h=g.id;if(h&&(c=b.boCache||{},d=c[h]))return{root:d,reviveCache:b};var i={};A.keys(g).forEach(function(a){var d,e;g[a].$type?(e=z({root:g[a]},b),d=e.root,b=e.reviveCache,c=b.boCache||{}):d=A.isArray(g[a])?g[a].map(function(a){return e=z({root:a},b),b=e.reviveCache,c=b.boCache||{},e.root}):g[a],i[a]=d});var j=i.$type;delete i.$type,(!b._keepIds||b._model.ids.assigned(i.id))&&delete i.id;var k=b._dmnFactory.create(j,i);return A.forEach(i,function(a){a.$type&&(a.$parent=k),A.isArray(a)&&a.forEach(function(a){return a.$parent=k})}),h&&(c=e({},c,f({},h,k)),b=e({},b,{boCache:c})),{root:k,reviveCache:b}}Object.defineProperty(c,"__esModule",{value:!0}),c.createDescriptor=k,c.reviveDescriptor=s;var A=a("min-dash"),B=a("table-js/lib/model"),C=[o,p],D=[x,w]},{"min-dash":734,"table-js/lib/model":788}],100:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("table-js/lib/model"),h=function(){function a(b,c,e){d(this,a),this._clipboard=b,this._modeling=c,this._sheet=e}return f(a,[{key:"execute",value:function(a){var b=a.data;return a.oldData=this._clipboard.get(),this._clipboard.set(b),this._sheet.getRoot()}},{key:"postExecute",value:function(a){var b=this,c=a.elements;c.forEach(function(a){a instanceof g.Row?b._modeling.removeRow(a):a instanceof g.Col&&b._modeling.removeCol(a)})}},{key:"revert",value:function(a){var b=a.oldData;return this._clipboard.set(b),this._sheet.getRoot()}}]),a}();c["default"]=h,h.$inject=["clipboard","modeling","sheet"]},{"table-js/lib/model":788}],101:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("table-js/lib/model"),h=a("../DescriptorUtil"),i=function(){function a(b,c,e,f,g,h,i,j){d(this,a),this._clipboard=b,this._dmnFactory=c,this._elementFactory=e,this._elementRegistry=f,this._eventBus=g,this._model=h,this._modeling=i,this._sheet=j}return f(a,[{key:"postExecute",value:function(a){var b=this,c=a.element,d=a.after,e=this._clipboard.get();if(!e)throw new Error("missing clipboard data");var f=this._sheet.getRoot(),i=h.reviveDescriptor(e.elements,{_dmnFactory:this._dmnFactory,_keepIds:e.keepIds,_model:this._model}).root;if(c instanceof g.Row){var j=f.rows.indexOf(c);if(-1===j)return;i.forEach(function(a){d&&j++,b._modeling.addRow(a,j)})}else if(c instanceof g.Col){var k=f.cols.indexOf(c);if(-1===k)return;i.forEach(function(a){d&&k++,b._modeling.addCol(a,k)})}return a.oldElements=this._clipboard.get(),this._sheet.getRoot()}},{key:"revert",value:function(a){}}]),a}();c["default"]=i,i.$inject=["clipboard","dmnFactory","elementFactory","elementRegistry","eventBus","moddle","modeling","sheet"]},{"../DescriptorUtil":99,"table-js/lib/model":788}],102:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/clipboard")),f=d(a("../rules")),g=d(a("./CopyCutPaste")),h={__depends__:[e["default"],f["default"]],__init__:["copyCutPaste"],copyCutPaste:["type",g["default"]]};c["default"]=h},{"../rules":172,"./CopyCutPaste":98,"diagram-js/lib/features/clipboard":208}],103:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("selection-ranges"),i=a("min-dom"),j=a("../../cell-selection/CellSelectionUtil"),k=a("../../keyboard/KeyboardUtil"),l=function(){function a(b,c,e,f,h,j,l){var m=this;d(this,a),g(this,"_clearClipboard",function(){m._clipboard.clear()}),g(this,"_registerBindings",function(){var a=function(a,b){if(k.isCmd(b)&&67===a){var c=m._getSelectedCell();if(!c)return;return k.isShift(b)?m._editorActions.trigger("copy",{element:c.col}):m._editorActions.trigger("copy",{element:c.row}),!0}},b=function(a,b){if(k.isCmd(b)&&88===a){var c=m._getSelectedCell();if(!c)return;return k.isShift(b)?m._editorActions.trigger("cut",{element:c.col}):m._editorActions.trigger("cut",{element:c.row}),!0}},c=function(a,b){var c;if(k.isCmd(b)&&86===a){var d=m._getSelectedCell();if(!d)return;k.isShift(b)?(c=m._editorActions.trigger("pasteAfter",{element:d.col}),c&&m._cellSelection.selectCell("right")):(c=m._editorActions.trigger("pasteAfter",{element:d.row}),c&&m._cellSelection.selectCell("below"))}return"undefined"!=typeof c};[a,b,c].forEach(function(a){m._keyboard.addListener(a)})}),this._clipboard=e,this._cellSelection=f,this._elementRegistry=h,this._editorActions=j,this._keyboard=b.get("keyboard",!1),this._renderer=l,this._keyboard&&(c.on("keyboard.init",this._registerBindings),c.on("keyboard.bind",function(){i.event.bind(document,"copy",m._clearClipboard,!0),i.event.bind(document,"cut",m._clearClipboard,!0)}),c.on("keyboard.unbind",function(){i.event.unbind(document,"copy",m._clearClipboard,!0),i.event.unbind(document,"cut",m._clearClipboard,!0)}))}return f(a,[{key:"_getSelectedCell",value:function(){var a=this._cellSelection.getCellSelection();if(a){var b=this._elementRegistry.get(a);if(b){var c=this._renderer.getContainer(),d=j.getNodeById(a,c),e=j.getFocusableNode(d);if(document.activeElement===e){var f=h.getRange(d);if(!f||f.start===f.end)return b}}}}}]),a}();c["default"]=l,l.$inject=["injector","eventBus","clipboard","cellSelection","elementRegistry","editorActions","renderer"]},{"../../cell-selection/CellSelectionUtil":93,"../../keyboard/KeyboardUtil":155,"min-dom":735,"selection-ranges":745}],104:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/clipboard")),f=d(a("../../cell-selection")),g=d(a("./CopyCutPasteKeyBindings")),h={__depends__:[e["default"],f["default"]],__init__:["copyCutPasteKeyBindings"],copyCutPasteKeyBindings:["type",g["default"]]};c["default"]=h},{"../../cell-selection":94,"./CopyCutPasteKeyBindings":103,"diagram-js/lib/features/clipboard":208}],105:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/CreateInputHeaderCell")),g=d(a("./components/CreateInputCell")),h=500,i=function j(a,b){e(this,j),a.onGetComponent("cell",h,function(a){var c=a.cellType,d=b.getRoot(),e=d.businessObject;return e.input&&e.input.length?void 0:"before-label-cells"===c?f["default"]:"before-rule-cells"===c?g["default"]:void 0})};c["default"]=i,i.$inject=["components","sheet"]},{"./components/CreateInputCell":106,"./components/CreateInputHeaderCell":107}],106:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=a("table-js/lib/components"),p=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(a){d.editorActions.trigger("addInput")}),o.inject(j(d)),d}return k(b,a),g(b,[{key:"render",value:function(){return n.createVNode(1,"td","input-cell create-inputs",n.createTextVNode("-"),2,{onClick:this.onClick,title:this.translate("Add Input")})}}]),b}(n.Component);c["default"]=p,p.$inject=["editorActions","translate"]},{inferno:526,"table-js/lib/components":754}],107:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=a("table-js/lib/components"),p=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(a){d.editorActions.trigger("addInput")}),o.inject(j(d)),d}return k(b,a),g(b,[{key:"render",value:function(){return n.createVNode(1,"th","input-cell create-inputs header actionable",[this.translate("Input"),n.createTextVNode(" "),n.createVNode(1,"span","add-input dmn-icon-plus action-icon",null,1,{title:this.translate("Add Input")})],0,{onClick:this.onClick,rowspan:"3",title:this.translate("Add Input")})}}]),b}(n.Component);c["default"]=p,p.$inject=["editorActions","translate"]},{inferno:526,"table-js/lib/components":754}],108:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./CreateInputsProvider")),f=d(a("../editor-actions")),g={__depends__:[f["default"]],__init__:["createInputsProvider"],createInputsProvider:["type",e["default"]]};c["default"]=g},{"../editor-actions":144,"./CreateInputsProvider":105}],109:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/DecisionRuleIndexCellComponent")),g=function h(a){e(this,h),a.onGetComponent("cell",function(a){var b=a.cellType;return"before-rule-cells"===b?f["default"]:void 0})};c["default"]=g,g.$inject=["components"]},{"./components/DecisionRuleIndexCellComponent":110}],110:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(){return e(this,b),h(this,j(b).apply(this,arguments))}return k(b,a),g(b,[{key:"render",value:function(){var a=this.props,b=a.row,c=a.rowIndex,d=this.context.components,e=d.getComponents("cell-inner",{cellType:"rule-index",row:b,rowIndex:c});return m.createVNode(1,"td","rule-index",[e&&e.map(function(a){return m.createComponentVNode(2,a,{row:b,rowIndex:c})}),c+1],0,{"data-row-id":b.id})}}]),b}(m.Component);c["default"]=n},{inferno:526}],111:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DecisionRuleIndices")),f={__init__:["decisionRuleIndices"],decisionRuleIndices:["type",e["default"]]};c["default"]=f},{"./DecisionRuleIndices":109}],112:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/DecisionRulesBodyComponent")),g=d(a("./components/DecisionRulesRowComponent")),h=d(a("./components/DecisionRulesCellComponent")),i=function j(a){e(this,j),a.onGetComponent("table.body",function(){return f["default"]}),a.onGetComponent("row",function(a){var b=a.rowType;return"rule"===b?g["default"]:void 0}),a.onGetComponent("cell",function(a){var b=a.cellType;return"rule"===b?h["default"]:void 0})};c["default"]=i,i.$inject=["components"]},{"./components/DecisionRulesBodyComponent":114,"./components/DecisionRulesCellComponent":115,"./components/DecisionRulesRowComponent":117}],113:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/DecisionRulesCellEditorComponent")),g=1500,h=function i(a){e(this,i),a.onGetComponent("cell",g,function(a){var b=a.cellType;return"rule"===b?f["default"]:void 0})};c["default"]=h,h.$inject=["components"]},{"./components/DecisionRulesCellEditorComponent":116}],114:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(){return e(this,b),h(this,j(b).apply(this,arguments))}return k(b,a),g(b,[{key:"render",value:function(a){var b=a.rows,c=a.cols,d=this.context.components;return m.createVNode(1,"tbody",null,b.map(function(a,b){var e=d.getComponent("row",{rowType:"rule"});return e&&m.createComponentVNode(2,e,{row:a,rowIndex:b,cols:c},a.id)}),0)}}]),b}(m.Component);c["default"]=n},{inferno:526}],115:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=a("table-js/lib/components"),o=a("dmn-js-shared/lib/util/ModelUtil"),p=function(a){function b(){return e(this,b),h(this,j(b).apply(this,arguments))}return k(b,a),g(b,[{key:"render",value:function(){var a=this.props,b=a.cell,c=a.row,d=a.col;return o.is(b,"dmn:UnaryTests")?m.createComponentVNode(2,n.Cell,{className:"input-cell",elementId:b.id,"data-row-id":c.id,"data-col-id":d.id,children:b.businessObject.text}):m.createComponentVNode(2,n.Cell,{className:"output-cell",elementId:b.id,"data-row-id":c.id,"data-col-id":d.id,children:b.businessObject.text})}}]),b}(m.Component);c["default"]=p},{"dmn-js-shared/lib/util/ModelUtil":515,inferno:526,"table-js/lib/components":754}],116:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=a("min-dash"),p=a("dmn-js-shared/lib/util/ModelUtil"),q=d(a("dmn-js-shared/lib/components/EditableComponent")),r=a("table-js/lib/components"),s=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),d.state={isFocussed:!1},d.changeCellValue=d.changeCellValue.bind(k(d)),d.onFocus=d.onFocus.bind(k(d)),d.onBlur=d.onBlur.bind(k(d)),d.onElementsChanged=d.onElementsChanged.bind(k(d)),d}return l(b,a),h(b,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){var a=this.context.injector,b=this.props.cell,c=this._changeSupport=this.context.changeSupport;this._modeling=a.get("modeling"),c.onElementsChanged(b.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.props.cell;this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"changeCellValue",value:function(a){var b=this.props.cell;this._modeling.editCell(b.businessObject,a)}},{key:"onFocus",value:function(){this.setState({isFocussed:!0})}},{key:"onBlur",value:function(){this.setState({isFocussed:!1})}},{key:"render",value:function(){var a=this.props,b=a.cell,c=a.rowIndex,d=a.row,e=a.col,f=a.colIndex,g=this.state.isFocussed,h=p.is(b,"dmn:UnaryTests"),i=b.businessObject;return n.createComponentVNode(2,r.Cell,{className:h?"input-cell":"output-cell",elementId:b.id,coords:"".concat(c,":").concat(f),"data-row-id":d.id,"data-col-id":e.id,children:n.createComponentVNode(2,t,{className:"cell-editor",placeholder:h?"-":"",ctrlForNewline:!0,onFocus:this.onFocus,onBlur:this.onBlur,isFocussed:g,onChange:this.changeCellValue,value:i.text,businessObject:i})})}}]),b}(n.Component);c["default"]=s;var t=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),d._expressionLanguages=c.injector.get("expressionLanguages"),d._translate=c.injector.get("translate"),d}return l(b,a),h(b,[{key:"isDefaultExpressionLanguage",value:function(a){var b=a.expressionLanguage,c=this.getDefaultExpressionLanguage(a).value;return!b||b===c}},{key:"getDescription",value:function(a){return a.description}},{key:"getExpressionLanguageLabel",value:function(a){var b=a.expressionLanguage,c=this.getDefaultExpressionLanguage(a);return this._expressionLanguages.getLabel(b)||c.label}},{key:"isScript",value:function(a){var b=this.getDefaultExpressionLanguage(a),c=p.is(a,"dmn:UnaryTests");return c?-1!==a.text.indexOf("\n")?!0:a.expressionLanguage&&a.expressionLanguage!==b:!1}},{key:"getDefaultExpressionLanguage",value:function(a){var b=p.is(a,"dmn:UnaryTests")?"inputCell":"outputCell";return this._expressionLanguages.getDefault(b)}},{key:"render",value:function(){var a=this.props,b=a.businessObject,c=a.isFocussed,d=this.getDescription(b),e=this.isDefaultExpressionLanguage(b),f=this.getExpressionLanguageLabel(b),g=this.isScript(b);return n.createVNode(1,"div",this.getClassName(),[o.isString(d)&&!c&&n.createVNode(1,"div","description-indicator"),this.getEditor({className:g?"script-editor":null}),!e&&!c&&n.createVNode(1,"span","dms-badge dmn-expression-language",[n.createVNode(1,"span","dms-badge-icon dmn-icon-file-code"),n.createVNode(1,"span","dms-badge-label",f,0)],4,{title:this._translate("Expression Language = {expressionLanguageLabel}",{expressionLanguageLabel:f})})],0)}}]),b}(q["default"])},{"dmn-js-shared/lib/components/EditableComponent":500,"dmn-js-shared/lib/util/ModelUtil":515,inferno:526,"min-dash":734,"table-js/lib/components":754}],117:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=a("table-js/lib/components"),o=a("dmn-js-shared/lib/components/mixins"),p=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),n.mixin(j(d),o.ComponentWithSlots),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this,b=this.props,c=b.row,d=b.rowIndex,e=b.cols,f=c.cells;return m.createVNode(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-rule-cells",row:c,rowIndex:d}}),f.map(function(b,f){return a.slotFill({type:"cell",context:{cellType:"rule",cell:b,rowIndex:d,colIndex:f},key:b.id,row:c,col:e[f]})}),this.slotFills({type:"cell",context:{cellType:"after-rule-cells",row:c,rowIndex:d}})],0)}}]),b}(m.Component);c["default"]=p},{"dmn-js-shared/lib/components/mixins":506,inferno:526,"table-js/lib/components":754}],118:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("dmn-js-shared/lib/features/debounce-input")),f=d(a("./DecisionRulesEditor")),g=d(a("./index")),h={__depends__:[e["default"],g["default"]],__init__:["decisionRulesEditor"],decisionRulesEditor:["type",f["default"]]};c["default"]=h},{"./DecisionRulesEditor":113,"./index":119,"dmn-js-shared/lib/features/debounce-input":508}],119:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("dmn-js-shared/lib/features/expression-languages")),f=d(a("./DecisionRules")),g={__depends__:[e["default"]],__init__:["decisionRules"],decisionRules:["type",f["default"]]};c["default"]=g},{"./DecisionRules":112,"dmn-js-shared/lib/features/expression-languages":510}],120:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.onGetComponent("table.head",function(){return f["default"]})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("./components/DecisionTableHead"));e.$inject=["components"]},{"./components/DecisionTableHead":121}],121:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a,b){var c=a.input,d=a.className,e=c.label,f=c.inputExpression,g=b.injector.get("translate"),h=(d||"")+" input-cell";return q.createVNode(1,"th",h,e?q.createVNode(1,"span","input-label",e,0,{title:g("Input Label")}):q.createVNode(1,"span","input-expression",f.text||"-",0,{title:g("Input Expression")}),0,{"data-col-id":c.id},c.id)}function o(a,b){var c=a.output,d=a.className,e=c.label,f=c.name,g=b.injector.get("translate"),h=(d||"")+" output-cell";return q.createVNode(1,"th",h,e?q.createVNode(1,"span","output-label",e,0,{title:g("Output Label")}):q.createVNode(1,"span","output-name",f||"-",0,{title:g("Output Name")}),0,null,c.id)}function p(a,b){var c=a.className,d=a.element,e=b.injector.get("translate"),f=c+" type-ref";return q.createVNode(1,"th",f,d.typeRef,0,{title:e("Data Type")})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var q=a("inferno"),r=a("dmn-js-shared/lib/util/ModelUtil"),s=a("table-js/lib/components"),t=a("dmn-js-shared/lib/components/mixins"),u=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onElementsChanged",function(){d.forceUpdate()}),s.mixin(j(d),t.ComponentWithSlots),d._sheet=c.injector.get("sheet"),d._changeSupport=c.changeSupport,d}return k(b,a),g(b,[{key:"componentWillMount",value:function(){var a=this._sheet.getRoot();this._changeSupport.onElementsChanged(a.id,this.onElementsChanged)}},{key:"componentWillUnmout",value:function(){var a=this._sheet.getRoot();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(a){var b=this,c=this._sheet.getRoot();if(!r.is(c,"dmn:DMNElement"))return null;var d=r.getBusinessObject(c),e=d.input,f=d.output;return q.createVNode(1,"thead",null,[q.createVNode(1,"tr",null,[this.slotFills({type:"cell",context:{cellType:"before-label-cells"}}),this.slotFill({type:"cell",context:{cellType:"input-label"}},v),this.slotFill({type:"cell",context:{cellType:"output-label"}},w),this.slotFills({type:"cell",context:{cellType:"after-label-cells"}})],0),q.createVNode(1,"tr",null,[e&&e.map(function(a){return b.slotFill({type:"cell",context:{cellType:"input-header",input:a},key:a.id},n)}),f.map(function(a){return b.slotFill({type:"cell",context:{cellType:"output-header",output:a},key:a.id},o)})],0),q.createVNode(1,"tr",null,[e&&e.map(function(a,c){var d=a.inputExpression;return b.slotFill({type:"cell",context:{cellType:"input-header-type-ref",element:d},className:"input-cell",key:a.id},p)}),f.map(function(a){return b.slotFill({type:"cell",context:{cellType:"output-header-type-ref",element:a},className:"output-cell",key:a.id},p)})],0)],4)}}]),b}(q.Component);c["default"]=u;var v=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),d._sheet=c.injector.get("sheet"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.input;if(!c||!c.length)return null;var d=b.input.length;return q.createVNode(1,"th","input-cell inputs-label header",q.createTextVNode("Input"),2,{colspan:d})}}]),b}(q.Component),w=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),d._sheet=c.injector.get("sheet"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.output.length;return q.createVNode(1,"th","output-cell outputs-label header",q.createTextVNode("Output"),2,{colspan:c})}}]),b}(q.Component)},{"dmn-js-shared/lib/components/mixins":506,"dmn-js-shared/lib/util/ModelUtil":515,inferno:526,"table-js/lib/components":754}],122:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=a("min-dom"),g=d(a("./components/InputCell")),h=d(a("./components/InputCellContextMenu")),i=function j(a,b,c,d){e(this,j),a.onGetComponent("cell",function(a){var b=a.cellType;return"input-header"===b?g["default"]:void 0}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"input-edit"===a.contextMenuType?h["default"]:void 0}),c.on("input.edit",function(a){var c=a.event,e=a.input,g=c.target,h=f.closest(g,"th",!0),i=h.getBoundingClientRect(),j=i.left,k=i.top,l=i.width,m=i.height,n=d.getContainer();b.open({x:j+n.parentNode.scrollLeft,y:k+n.parentNode.scrollTop,width:l,height:m},{contextMenuType:"input-edit",input:e,offset:{x:4,y:4}})})};c["default"]=i,i.$inject=["components","contextMenu","eventBus","renderer"]},{"./components/InputCell":124,"./components/InputCellContextMenu":125,"min-dom":735}],123:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=a("min-dom"),g=d(a("./components/OutputCell")),h=d(a("./components/OutputCellContextMenu")),i=function j(a,b,c,d){e(this,j),a.onGetComponent("cell",function(a){var b=a.cellType;return"output-header"===b?g["default"]:void 0}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"output-edit"===a.contextMenuType?h["default"]:void 0}),c.on("output.edit",function(a){var c=a.event,e=a.output,g=c.target,h=f.closest(g,"th",!0),i=h.getBoundingClientRect(),j=i.left,k=i.top,l=i.width,m=i.height,n=d.getContainer();b.open({x:j+n.parentNode.scrollLeft,y:k+n.parentNode.scrollTop,width:l,height:m},{contextMenuType:"output-edit",output:e,offset:{x:4,y:4}})})};c["default"]=i,i.$inject=["components","contextMenu","eventBus","renderer"]},{"./components/OutputCell":127,"./components/OutputCellContextMenu":128,"min-dom":735}],124:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=a("table-js/lib/components"),p=a("dmn-js-shared/lib/components/mixins"),q=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(a){var b=d.props.input;d._eventBus.fire("input.edit",{event:a,input:b})}),m(j(d),"onContextmenu",function(a){var b=d.props.input.id;d._eventBus.fire("cell.contextmenu",{event:a,id:b})}),m(j(d),"onElementsChanged",function(){d.forceUpdate()}),o.mixin(j(d),p.ComponentWithSlots),d._translate=c.injector.get("translate"),d}return k(b,a),g(b,[{key:"isDefaultExpressionLanguage",value:function(a){var b=this.context.injector.get("expressionLanguages"),c=b.getDefault("inputCell").value;return a===c}},{key:"componentWillMount",value:function(){var a=this.context.injector;this._changeSupport=this.context.changeSupport,this._sheet=a.get("sheet"),this._eventBus=a.get("eventBus"),this._elementRegistry=a.get("elementRegistry");var b=this._sheet.getRoot(),c=this.props.input;this._changeSupport.onElementsChanged(b.id,this.onElementsChanged),this._changeSupport.onElementsChanged(c.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this._sheet.getRoot(),b=this.props.input;this._changeSupport.offElementsChanged(a.id,this.onElementsChanged),this._changeSupport.offElementsChanged(b.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.props.input,b=a.inputExpression,c=a.get("label"),d=a.get("inputVariable"),e=b.get("expressionLanguage"),f=!c&&e&&this.isDefaultExpressionLanguage(e);return n.createVNode(1,"th","input-cell input-editor",[this.slotFills({type:"cell-inner",context:{cellType:"input-cell",col:this._elementRegistry.get(a.id)},col:a}),c?n.createVNode(1,"span","input-label",c,0,{title:this._translate("Input Label")}):n.createVNode(1,"span","input-expression",b.text||"-",0,{title:this._translate("Input Expression")}),d&&n.createVNode(1,"span","dms-badge dmn-variable-name input-variable",d,0,{title:"Input Variable"}),f&&n.createVNode(1,"span","dms-badge dmn-expression-language input-expression-language",[n.createVNode(1,"span","dms-badge-icon dmn-icon-file-code"),n.createVNode(1,"span","dms-badge-label",e,0)],4,{title:this._translate("Input Expression Language = {expressionLanguage}",{expressionLanguage:e})})],0,{"data-col-id":a.id,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),b}(n.Component);c["default"]=q},{"dmn-js-shared/lib/components/mixins":506,inferno:526,"table-js/lib/components":754}],125:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(c,!0).forEach(function(b){r(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function h(a,b){if(null==a)return{};var c,d,e=i(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function i(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?o(a):b}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&q(a,b)}function q(a,b){return(q=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function r(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function s(a){return Object.keys(a).length}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var t=a("inferno"),u=d(a("./InputEditor")),v=a("table-js/lib/components"),w=function(a){function b(a,c){var d;return j(this,b),d=m(this,n(b).call(this,a,c)),r(o(d),"persistChanges",function(){var a=d.props.context.input,b=d.state.unsaved;if(b){var c=b.inputVariable,e=b.label,f=h(b,["inputVariable","label"]),g={};"inputVariable"in b&&(g.inputVariable=c),"label"in b&&(g.label=e),s(f)&&(g.inputExpression=f),d.modeling.updateProperties(a,g),d.setState({unsaved:!1})}}),r(o(d),"handleChange",function(a){d.setState({unsaved:g({},d.state.unsaved,{},a)},d.persistChanges)}),d.state={},v.inject(o(d)),d.persistChanges=d.debounceInput(d.persistChanges),d._expressionLanguages=c.injector.get("expressionLanguages"),d}return p(b,a),l(b,[{key:"getValue",value:function(a){var b=this.props.context.input,c=this.state.unsaved,d=b;return("expressionLanguage"===a||"text"===a)&&(d=d.inputExpression),c&&a in c?c[a]:d.get(a)}},{key:"render",value:function(){var a=this._expressionLanguages.getDefault("inputHeadCell"),b=this._expressionLanguages.getAll();return t.createVNode(1,"div","context-menu-container input-edit",t.createComponentVNode(2,u["default"],{expressionLanguage:this.getValue("expressionLanguage"),expressionLanguages:b,defaultExpressionLanguage:a,inputVariable:this.getValue("inputVariable"),label:this.getValue("label"),text:this.getValue("text"),onChange:this.handleChange}),2)}}]),b}(t.Component);c["default"]=w,w.$inject=["debounceInput","modeling","injector"]},{"./InputEditor":126,inferno:526,"table-js/lib/components":754}],126:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a){return a&&a.split(/\n/).length>1}function o(a){return a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var p=a("inferno"),q=d(a("dmn-js-shared/lib/components/ContentEditable")),r=d(a("dmn-js-shared/lib/components/Input")),s=d(a("dmn-js-shared/lib/components/InputSelect")),t=function(a){function b(a,c){var d;f(this,b),d=i(this,k(b).call(this,a,c)),d.translate=c.injector?c.injector.get("translate"):o;var e=a.defaultExpressionLanguage.value;return d.setExpressionLanguage=function(a){d.handleChange({expressionLanguage:a})},d.makeScript=function(a){a.preventDefault(),a.stopPropagation(),d.setExpressionLanguage(e)},d.handleValue=function(a){var b=d.props.expressionLanguage,c={text:a};n(a)&&!b&&(c.expressionLanguage=e),n(a)||b!==e||(c.expressionLanguage=void 0),d.handleChange(c)},d.handleLanguageChange=function(a){d.setExpressionLanguage(a)},d.handleLabelChange=function(a){var b=a||void 0;d.handleChange({label:b})},d.handleInputVariableChange=function(a){var b=a||void 0;d.handleChange({inputVariable:b})},d}return l(b,a),h(b,[{key:"handleChange",value:function(a){var b=this.props.onChange;"function"==typeof b&&b(a)}},{key:"render",value:function(){var a=this.props,b=a.defaultExpressionLanguage,c=a.expressionLanguage,d=a.expressionLanguages,e=a.inputVariable,f=a.label,g=a.text,h=c||n(g);return p.createVNode(1,"div","dms-container ref-input-editor",[p.createVNode(1,"p","dms-fill-row",[p.createVNode(1,"label","dms-label",this.translate("Input Label"),0),p.createComponentVNode(2,r["default"],{className:"ref-input-label",value:f||"",onInput:this.handleLabelChange})],4),p.createVNode(1,"hr","dms-hrule"),p.createVNode(1,"h4","dms-heading",this.translate("Input Expression"),0),p.createComponentVNode(2,q["default"],{placeholder:"enter expression",ctrlForNewline:!0,className:["ref-text","dms-input",h?"dms-script-input script-editor":"","dms-fit-row"].join(" "),onInput:this.handleValue,value:g||""}),!h&&p.createVNode(1,"p","dms-hint",[this.translate("Enter simple"),p.createVNode(1,"code",null,b.label,0),this.translate("expression or"),p.createVNode(1,"button","ref-make-script",this.translate("change to script."),0,{type:"button",onClick:this.makeScript}),p.createTextVNode(".")],0),h&&p.createVNode(1,"p","dms-hint",this.translate("Enter script."),0),h&&p.createVNode(1,"p",null,[p.createVNode(1,"label","dms-label",this.translate("Expression Language"),0),p.createComponentVNode(2,s["default"],{className:"ref-language",value:c||"",onChange:this.handleLanguageChange,options:d})],4),p.createVNode(1,"p","dms-fill-row",[p.createVNode(1,"label","dms-label",this.translate("Input Variable"),0),p.createComponentVNode(2,r["default"],{className:"ref-input-variable",value:e||"",onInput:this.handleInputVariableChange,placeholder:this.translate("cellInput")})],4)],0)}}]),b}(p.Component);c["default"]=t},{"dmn-js-shared/lib/components/ContentEditable":499,"dmn-js-shared/lib/components/Input":501,"dmn-js-shared/lib/components/InputSelect":502,inferno:526}],127:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=a("table-js/lib/components"),p=a("dmn-js-shared/lib/components/mixins"),q=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(a){var b=d.props.output;d._eventBus.fire("output.edit",{event:a,output:b})}),m(j(d),"onContextmenu",function(a){var b=d.props.output.id;d._eventBus.fire("cell.contextmenu",{event:a,id:b})}),m(j(d),"onElementsChanged",function(){d.forceUpdate()}),o.mixin(j(d),p.ComponentWithSlots),d._translate=c.injector.get("translate"),d}return k(b,a),g(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._changeSupport=this.context.changeSupport,this._eventBus=a.get("eventBus"),this._elementRegistry=a.get("elementRegistry");var b=this.props.output;this._changeSupport.onElementsChanged(b.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.props.output;this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.props.output,b=a.get("label"),c=a.get("name");return n.createVNode(1,"th","output-cell output-editor",[this.slotFills({type:"cell-inner",context:{cellType:"output-cell",col:this._elementRegistry.get(a.id)},col:a}),b?n.createVNode(1,"span","output-label",b,0,{title:this._translate("Output Label")}):n.createVNode(1,"span","output-name",c||"-",0,{title:this._translate("Output Expression")})],0,{"data-col-id":a.id,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),b}(n.Component);c["default"]=q},{"dmn-js-shared/lib/components/mixins":506,inferno:526,"table-js/lib/components":754}],128:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(c,!0).forEach(function(b){p(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?m(a):b}function l(a){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function m(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function p(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var q=a("inferno"),r=d(a("./OutputEditor")),s=a("table-js/lib/components"),t=function(a){function b(a,c){var d;return h(this,b),d=k(this,l(b).call(this,a,c)),p(m(d),"persistChanges",function(){var a=d.props.context.output,b=d.state.unsaved;b&&(d.modeling.updateProperties(a,b),d.setState({unsaved:!1}))}),p(m(d),"handleChange",function(a){d.setState({unsaved:g({},d.state.unsaved,{},a)},d.persistChanges)}),d.state={},s.inject(m(d)),d.persistChanges=d.debounceInput(d.persistChanges),d}return n(b,a),j(b,[{key:"getValue",value:function(a){var b=this.props.context.output,c=this.state.unsaved;return c&&a in c?c[a]:b.get(a)}},{key:"render",value:function(){return q.createVNode(1,"div","context-menu-container output-edit",q.createComponentVNode(2,r["default"],{name:this.getValue("name"),label:this.getValue("label"),onChange:this.handleChange}),2)}}]),b}(q.Component);c["default"]=t,t.$inject=["debounceInput","modeling"]},{"./OutputEditor":129,inferno:526,"table-js/lib/components":754}],129:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a){return a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=d(a("dmn-js-shared/lib/components/Input")),q=function(a){function b(a,c){var d;return f(this,b),d=i(this,k(b).call(this,a,c)),d.translate=c.injector?c.injector.get("translate"):n,d.setName=function(a){a=a||void 0,d.handleChange({name:a})},d.setLabel=function(a){a=a||void 0,d.handleChange({label:a})},d}return l(b,a),h(b,[{key:"handleChange",value:function(a){var b=this.props.onChange;"function"==typeof b&&b(a)}},{key:"render",value:function(){var a=this.props,b=a.name,c=a.label;return o.createVNode(1,"div","dms-container ref-output-editor",[o.createVNode(1,"p","dms-fill-row",[o.createVNode(1,"label","dms-label",this.translate("Output Label"),0),o.createComponentVNode(2,p["default"],{className:"ref-output-label",value:c||"",onInput:this.setLabel})],4),o.createVNode(1,"p","dms-fill-row",[o.createVNode(1,"label","dms-label",this.translate("Output Name"),0),o.createComponentVNode(2,p["default"],{className:"ref-output-name",value:b||"",onInput:this.setName})],4)],4)}}]),b}(o.Component);c["default"]=q},{"dmn-js-shared/lib/components/Input":501,inferno:526}],130:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/features/context-menu")),f=d(a("dmn-js-shared/lib/features/debounce-input")),g=d(a("dmn-js-shared/lib/features/expression-languages")),h=d(a("./OutputEditingProvider")),i=d(a("./InputEditingProvider")),j=d(a("../../type-ref")),k=d(a("../../allowed-values")),l=d(a("../../add-input-output")),m={__depends__:[l["default"],k["default"],e["default"],f["default"],g["default"],j["default"]],__init__:["inputEditingProvider","outputEditingProvider"],inputEditingProvider:["type",i["default"]],outputEditingProvider:["type",h["default"]]};c["default"]=m},{"../../add-input-output":76,"../../allowed-values":84,"../../type-ref":197,"./InputEditingProvider":122,"./OutputEditingProvider":123,"dmn-js-shared/lib/features/debounce-input":508,"dmn-js-shared/lib/features/expression-languages":510,"table-js/lib/features/context-menu":768}],131:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DecisionTableHeadProvider")),f={__init__:["decisionTableHeadProvider"],decisionTableHeadProvider:["type",e["default"]]};c["default"]=f},{"./DecisionTableHeadProvider":120}],132:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/DecisionTablePropertiesComponent")),g=function h(a){e(this,h),a.onGetComponent("table.before",function(){return f["default"]})};c["default"]=g,
g.$inject=["components"]},{"./components/DecisionTablePropertiesComponent":134}],133:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/DecisionTablePropertiesEditorComponent")),g=function h(a){e(this,h),a.onGetComponent("table.before",function(){return f["default"]})};c["default"]=g,g.$inject=["components"]},{"./components/DecisionTablePropertiesEditorComponent":135}],134:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=a("dmn-js-shared/lib/util/ModelUtil"),o=function(a){function b(){return e(this,b),h(this,j(b).apply(this,arguments))}return k(b,a),g(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._sheet=a.get("sheet")}},{key:"render",value:function(){var a=this._sheet.getRoot();if(!n.is(a,"dmn:DMNElement"))return null;var b=a.businessObject.$parent,c=b.id,d=b.name;return m.createVNode(1,"header","decision-table-properties",[m.createVNode(1,"h3","decision-table-name",d,0,{title:"Decision Name"}),m.createVNode(1,"h5","decision-table-id",c,0,{title:"Decision Id"})],4)}}]),b}(m.Component);c["default"]=o},{"dmn-js-shared/lib/util/ModelUtil":515,inferno:526}],135:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=a("dmn-js-shared/lib/util/IdsUtil"),q=d(a("dmn-js-shared/lib/components/EditableComponent")),r=a("table-js/lib/components"),s=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),n(k(d),"onElementsChanged",function(){d.forceUpdate()}),n(k(d),"setDecisionTableName",function(a){d.modeling.editDecisionTableName(a)}),n(k(d),"setDecisionTableId",function(a){var b=d.getBusinessObject().id;b!==a&&d.modeling.editDecisionTableId(a)}),n(k(d),"validateId",function(a){var b=d.getBusinessObject();return p.validateId(b,a)}),r.inject(k(d)),d}return l(b,a),h(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this.sheet=a.get("sheet"),this.modeling=a.get("modeling"),this.setupChangeListeners({bind:this.getBusinessObject().id})}},{key:"componentWillUnmount",value:function(){this.setupChangeListeners({unbind:this.getBusinessObject().id})}},{key:"setupChangeListeners",value:function(a){var b=a.bind,c=a.unbind;"string"==typeof c&&this.changeSupport.offElementsChanged(c,this.onElementsChanged),"string"==typeof b&&this.changeSupport.onElementsChanged(b,this.onElementsChanged)}},{key:"getBusinessObject",value:function(){return this.sheet.getRoot().businessObject.$parent}},{key:"render",value:function(){var a=this.getBusinessObject(),b=a.id,c=a.name;return o.createVNode(1,"header","decision-table-properties",[o.createComponentVNode(2,t,{className:"decision-table-name",value:c,ctrlForNewline:!0,onChange:this.setDecisionTableName,elementId:"__decisionProperties_name",coords:"0:__decisionProperties"}),o.createComponentVNode(2,u,{className:"decision-table-id",value:b,ctrlForNewline:!0,validate:this.validateId,onChange:this.setDecisionTableId,elementId:"__decisionProperties_id",coords:"1:__decisionProperties"})],4)}}]),b}(o.Component);c["default"]=s,s.$inject=["sheet","modeling","changeSupport"];var t=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),r.mixin(k(d),r.SelectionAware),d}return l(b,a),h(b,[{key:"render",value:function(){var a=r.classNames(this.getSelectionClasses(),this.getClassName());return o.createVNode(1,"h3",a,this.getEditor(),0,{"data-element-id":this.props.elementId,"data-coords":this.props.coords,title:"Decision Name"})}}]),b}(q["default"]),u=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),r.mixin(k(d),r.SelectionAware),d}return l(b,a),h(b,[{key:"render",value:function(){var a=r.classNames(this.getSelectionClasses(),this.getClassName());return o.createVNode(1,"h5",a,this.getEditor(),0,{title:"Decision Id","data-element-id":this.props.elementId,"data-coords":this.props.coords})}}]),b}(q["default"])},{"dmn-js-shared/lib/components/EditableComponent":500,"dmn-js-shared/lib/util/IdsUtil":514,inferno:526,"table-js/lib/components":754}],136:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DecisionTablePropertiesEditor")),f=d(a("dmn-js-shared/lib/features/debounce-input")),g={__depends__:[f["default"]],__init__:["decisionTableProperties"],decisionTableProperties:["type",e["default"]]};c["default"]=g},{"./DecisionTablePropertiesEditor":133,"dmn-js-shared/lib/features/debounce-input":508}],137:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DecisionTableProperties")),f={__init__:["decisionTableProperties"],decisionTableProperties:["type",e["default"]]};c["default"]=f},{"./DecisionTableProperties":132}],138:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a,b){var c=b.top,d=b.left,e=b.width,f=b.height;return{x:d+a.parentNode.scrollLeft-o,y:c+a.parentNode.scrollTop,width:e+2*o,height:f}}function h(a){return a&&a.businessObject&&a.businessObject.description}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=a("inferno"),j=a("min-dash"),k=a("../cell-selection/CellSelectionUtil"),l=d(a("./components/DescriptionEditor")),m=500,n=750,o=26,p=function q(a,b,c,d,o,p,r){var s=this;e(this,q),f(this,"addDescription",function(a){s._modeling.updateProperties(a,{description:""});var b=s._renderer.getContainer(),c=k.getNodeById(a.id,b),d=c.getBoundingClientRect(),e=g(b,d);s._contextMenu.open(e,{contextMenuType:"cell-description",id:a.id,autoFocus:!0,offset:{x:4,y:4}})}),f(this,"removeDescription",function(a){s._modeling.updateProperties(a,{description:null}),s._contextMenu.close()}),this._contextMenu=b,this._modeling=o,this._renderer=p,this._translate=r,d.on("cell.click",n,function(a){if(!a.defaultPrevented){var d=a.target,e=a.id,f=c.get(e);if(f){var i=h(f);i||a.preventDefault();var j=p.getContainer(),k=d.getBoundingClientRect(),l=g(j,k);b.open(l,{contextMenuType:"cell-description",autoFocus:!1,id:e,offset:{x:4,y:4}})}}}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"cell-description"===a.contextMenuType){var b=c.get(a.id),d=h(b);if(j.isString(d))return l["default"]}}),a.onGetComponent("context-menu-cell-additional",m,function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"context-menu"===a.contextMenuType){var b=a.id;if(!b)return;var d=c.get(b);if(!d)return;var e=d.businessObject,f=e.description,g=j.isString(f),h=g?"remove-description":"add-description",k=g?function(){return s.removeDescription(d)}:function(){return s.addDescription(d)},l=g?"dmn-icon-clear":"dmn-icon-plus";return i.createVNode(1,"div","context-menu-group-entry ".concat(h),[i.createVNode(1,"span","context-menu-group-entry-icon ".concat(l)),j.isString(f)?s._translate("Remove"):s._translate("Add"),s._translate("Description")],0,{onClick:k})}})};c["default"]=p,p.$inject=["components","contextMenu","elementRegistry","eventBus","modeling","renderer","translate"]},{"../cell-selection/CellSelectionUtil":93,"./components/DescriptionEditor":139,inferno:526,"min-dash":734}],139:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(a){return r.query(".content-editable",a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var p=a("inferno"),q=a("min-dash"),r=a("min-dom"),s=d(a("dmn-js-shared/lib/components/EditableComponent")),t=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),n(k(d),"onElementsChanged",function(){d.forceUpdate()}),n(k(d),"changeDescription",function(a){d._modeling.updateProperties(d._element,{description:a})}),d._elementRegistry=c.injector.get("elementRegistry"),d._modeling=c.injector.get("modeling"),d._changeSupport=d.context.changeSupport;var e=d.props.context.id;return d._element=d._elementRegistry.get(e),d}return l(b,a),h(b,[{key:"componentWillMount",value:function(){this._element&&this._changeSupport.onElementsChanged(this._element.id,this.onElementsChanged)}},{key:"componentDidMount",value:function(){var a=this.props.context.autoFocus;if(a&&this.node){var b=o(this.node);b.focus()}}},{key:"componentWillUnmount",value:function(){if(this._element){this._changeSupport.offElementsChanged(this._element.id,this.onElementsChanged);var a=this._element.businessObject,b=a.description;q.isString(b)&&!b.length&&this.changeDescription(null)}}},{key:"render",value:function(){var a=this;if(this._element){var b=this._element.businessObject,c=b.description;if(q.isString(c))return p.createVNode(1,"div","context-menu-container description-editor",p.createComponentVNode(2,u,{className:"dms-input",onChange:this.changeDescription,value:c}),2,null,null,function(b){return a.node=b})}}}]),b}(p.Component);c["default"]=t;var u=function(a){function b(){return f(this,b),i(this,j(b).apply(this,arguments))}return l(b,a),h(b,[{key:"render",value:function(){return p.createVNode(1,"div",this.getClassName(),this.getEditor(),0)}}]),b}(s["default"])},{"dmn-js-shared/lib/components/EditableComponent":500,inferno:526,"min-dash":734,"min-dom":735}],140:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/features/interaction-events")),f=d(a("table-js/lib/features/context-menu")),g=d(a("./Description")),h={__depends__:[f["default"],e["default"]],__init__:["description"],description:["type",g["default"]]};c["default"]=h},{"./Description":138,"table-js/lib/features/context-menu":768,"table-js/lib/features/interaction-events":774}],141:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b,c){var d=b.get(a.dataset.colId);if(!d)return-1;var e=c.getRoot(),f=e.cols;return f.indexOf(d)}function i(a,b,c){var d=a.dataset.rowId;if(d){var e=y.queryAll("[data-row-id=".concat(d,"]"),b);B.forEach(e,function(a){w(a)&&(y.classes(a).add("dragover"),y.classes(a).add(c))})}}function j(a,b,c){var d=a.dataset.colId;if(d){var e=y.queryAll("[data-col-id=".concat(d,"]"),b);B.forEach(e,function(a){w(a)&&(y.classes(a).add("dragover"),y.classes(a).add(c))})}}function k(a){var b=y.queryAll(".dragover",a);B.forEach(b,function(a){w(a)&&(y.classes(a).remove("dragover"),y.classes(a).remove("top"),y.classes(a).remove("right"),y.classes(a).remove("bottom"),y.classes(a).remove("left"))})}function l(a,b){var c=y.queryAll("[data-row-id=".concat(a.id,"]"),b);B.forEach(c,function(a){w(a)&&y.classes(a).add("dragged")})}function m(a,b){var c=y.queryAll("[data-col-id=".concat(a.id,"]"),b);B.forEach(c,function(a){w(a)&&y.classes(a).add("dragged")})}function n(a){var b=y.queryAll(".dragged",a);B.forEach(b,function(a){w(a)&&y.classes(a).remove("dragged")})}function o(a,b){var c=b.getBoundingClientRect();return a.clientX<c.left+c.width/2?F:D}function p(a,b){var c=b.getBoundingClientRect();return a.clientY<c.top+c.height/2?C:E}function q(a,b,c,d){return d.indexOf(a)>d.indexOf(b)&&(b=t(b,d)),c===C?s(b,d):b}function r(a,b,c,d){return d.indexOf(a)>d.indexOf(b)&&(b=v(b,d)),c===F?u(b,d):b}function s(a,b){var c=b.indexOf(a);return b[Math.max(0,c-1)]}function t(a,b){var c=b.indexOf(a);return b[Math.min(b.length-1,c+1)]}function u(a,b){var c=b.indexOf(a);if(z.isOutput(a)){var d=b.filter(function(a){return z.isOutput(a)})[0],e=b.indexOf(d);return b[Math.max(e,c-1)]}return b[Math.max(0,c-1)]}function v(a,b){var c=b.indexOf(a);if(z.isInput(a)){var d=b.filter(function(a){return z.isInput(a)}),e=d[d.length-1],f=b.indexOf(e);return b[Math.min(f,c+1)]}return b[Math.min(b.length-1,c+1)]}function w(a){return a&&(1===a.nodeType||11==a.nodeType)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var x=a("inferno"),y=a("min-dom"),z=a("dmn-js-shared/lib/util/ModelUtil"),A=a("table-js/lib/model"),B=a("min-dash"),C="top",D="right",E="bottom",F="left",G=function(){function a(b,c,e,f,l,m,s){var t=this;d(this,a),g(this,"_cleanup",function(){var a=t._renderer.getContainer();k(a),n(a),t._dragImage&&(y.remove(t._dragImage),t._dragImage=null)}),this._elementRegistry=c,this._dragAndDrop=f,this._renderer=l,this._rules=m,this._sheet=s,b.onGetComponent("cell-inner",function(a){var b=a.cellType,c=a.col,d=a.row;if("rule-index"===b)return function(){return x.createVNode(1,"span","dmn-icon-drag vertical",x.createTextVNode(" "),2,{draggable:"true",onDragStart:function(a){return t.startDrag(d,a)},title:"Move rule"})};if("input-cell"===b||"output-cell"===b){var e="Move ".concat(z.isInput(c)?"Input":"Output");return function(){return x.createVNode(1,"span","dmn-icon-drag horizontal",null,1,{draggable:"true",onDragStart:function(a){return t.startDrag(c,a)},title:e})}}}),e.on("dragAndDrop.dragEnter",function(a){var b=a.dragContext,c=b.draggedElement,d=b.hoverEl;if(c instanceof A.Row)return!0;if(c instanceof A.Col){var e=h(d,t._elementRegistry,t._sheet);if(-1===e)return!1;var f=t._rules.allowed("col.move",{col:c,index:e});return f}return!1}),e.on("dragAndDrop.dragLeave",function(a){var b=a.dragContext,c=b.targetEl;if(c){var d=t._renderer.getContainer();k(d)}}),e.on("dragAndDrop.dragOver",function(a){var b=a.dragContext,c=a.originalEvent,d=b.draggedElement,e=b.lastPosition,f=b.targetEl,g=t._renderer.getContainer();if(!f)return!1;var h;return d instanceof A.Row&&(h=p(c,f)),d instanceof A.Col&&(h=o(c,f)),e===h?!0:(k(g),d instanceof A.Row&&(h===C?i(f,g,"top"):i(f,g,"bottom")),d instanceof A.Col&&(h===F?j(f,g,"left"):j(f,g,"right")),b.lastPosition=h,!0)}),e.on("dragAndDrop.drop",function(a){var b=a.dragContext,c=a.originalEvent,d=b.draggedElement,e=b.targetEl;if(!e)return!1;if(d instanceof A.Row){var f=p(c,e),g=e.dataset.rowId,h=t._elementRegistry.get(g);if(!h||h===d)return;var i=q(d,h,f,t._sheet.getRoot().rows);if(i===d)return;return i}if(d instanceof A.Col){var j=o(c,e),k=e.dataset.colId,l=t._elementRegistry.get(k);if(!l||l===d)return;var m=r(d,l,j,t._sheet.getRoot().cols);if(m===d)return;return m}}),e.on("dragAndDrop.dragEnd",this._cleanup)}return f(a,[{key:"startDrag",value:function(a,b){var c=this._renderer.getContainer();this._dragImage=y.domify('<span style="\n          visibility: hidden;\n          position: fixed;\n          top: -10000px\n      "></span>'),document.body.appendChild(this._dragImage),b.dataTransfer.setDragImage&&b.dataTransfer.setDragImage(this._dragImage,0,0),a instanceof A.Row?l(a,c):a instanceof A.Col&&m(a,c),this._dragAndDrop.startDrag(a,b)}}]),a}();c["default"]=G,G.$inject=["components","elementRegistry","eventBus","dragAndDrop","renderer","rules","sheet"]},{"dmn-js-shared/lib/util/ModelUtil":515,inferno:526,"min-dash":734,"min-dom":735,"table-js/lib/model":788}],142:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/features/drag-and-drop")),f=d(a("./DragAndDrop")),g=d(a("../rules")),h={__depends__:[e["default"],g["default"]],__init__:["dmnDragAndDrop"],dmnDragAndDrop:["type",f["default"]]};c["default"]=h},{"../rules":172,"./DragAndDrop":141,"table-js/lib/features/drag-and-drop":770}],143:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("dmn-js-shared/lib/util/ModelUtil"),f=function g(a,b,c,f,h,i){d(this,g);var j={addRule:function(){return c.addRow({type:"dmn:DecisionRule"})},addRuleAbove:function(a){var b=a&&a.rule;if(b||f.hasSelection()){b=b||f.get().row;var d=i.getRoot(),e=d.rows.indexOf(b);if(-1!==e)return c.addRow({type:"dmn:DecisionRule"},e)}},addRuleBelow:function(a){var b=a&&a.rule;if(b||f.hasSelection()){b=b||f.get().row;var d=i.getRoot(),e=d.rows.indexOf(b);if(-1!==e)return c.addRow({type:"dmn:DecisionRule"},e+1)}},removeRule:function(a){var b=a&&a.rule;(b||f.hasSelection())&&(b=b||f.get().row,c.removeRow(b))},addInput:function(){var a=i.getRoot(),b=a.businessObject,d=b.input;return c.addCol({type:"dmn:InputClause"},d?d.length:0)},addInputLeft:function(a){var b=a&&a.input;if(b||f.hasSelection()){b=b||f.get().col;var d=i.getRoot(),e=d.cols.indexOf(b);if(-1!==e)return c.addCol({type:"dmn:InputClause"},e)}},addInputRight:function(a){var b=a&&a.input;if(b||f.hasSelection()){b=b||f.get().col;var d=i.getRoot(),e=d.cols.indexOf(b);if(-1!==e)return c.addCol({type:"dmn:InputClause"},e+1)}},removeInput:function(a){var b=a&&a.input;(b||f.hasSelection())&&(b=b||f.get().col,c.removeCol(b))},addOutput:function(){var a=i.getRoot(),b=a.businessObject,d=b.input,e=b.output;return c.addCol({type:"dmn:OutputClause"},d.length+e.length)},addOutputLeft:function(a){var b=a&&a.output;if(b||f.hasSelection()){b=b||f.get().col;var d=i.getRoot(),e=d.cols.indexOf(b);if(-1!==e)return c.addCol({type:"dmn:OutputClause"},e)}},addOutputRight:function(a){var b=a&&a.output;if(b||f.hasSelection()){b=b||f.get().col;var d=i.getRoot(),e=d.cols.indexOf(b);if(-1!==e)return c.addCol({type:"dmn:OutputClause"},e+1)}},removeOutput:function(a){var b=a&&a.output;(b||f.hasSelection())&&(b=b||f.get().col,c.removeCol(b))},addClause:function(){if(f.hasSelection()){var a=f.get().col;return e.is(a,"dmn:InputClause")?j.addInput({input:a}):e.is(a,"dmn:OutputClause")?j.addOutput({output:a}):void 0}},addClauseLeft:function(){if(f.hasSelection()){var a=f.get().col;return e.is(a,"dmn:InputClause")?j.addInputLeft({input:a}):e.is(a,"dmn:OutputClause")?j.addOutputLeft({output:a}):void 0}},addClauseRight:function(){if(f.hasSelection()){var a=f.get().col;return e.is(a,"dmn:InputClause")?j.addInputRight({input:a}):e.is(a,"dmn:OutputClause")?j.addOutputRight({output:a}):void 0}},removeClause:function(){if(f.hasSelection()){var a=f.get().col;return e.is(a,"dmn:InputClause")?j.removeInput({input:a}):e.is(a,"dmn:OutputClause")?j.removeOutput({output:a}):void 0}},selectCellAbove:function(){return h.selectCell("above")},selectCellBelow:function(){return h.selectCell("below")},copy:function(b){var c=b.element;a.copy(c)},cut:function(b){var c=b.element;a.cut(c)},pasteBefore:function(b){var c=b.element;return a.pasteBefore(c)},pasteAfter:function(b){var c=b.element;return a.pasteAfter(c)}};b.register(j)};c["default"]=f,f.$inject=["copyCutPaste","editorActions","modeling","selection","cellSelection","sheet"]},{"dmn-js-shared/lib/util/ModelUtil":515}],144:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../cell-selection")),f=d(a("../copy-cut-paste")),g=d(a("./DecisionTableEditorActions")),h=d(a("table-js/lib/features/editor-actions")),i=d(a("table-js/lib/features/selection")),j={__depends__:[e["default"],f["default"],h["default"],i["default"]],__init__:["decisionTableEditorActions"],decisionTableEditorActions:["type",g["default"]]};c["default"]=j},{"../cell-selection":94,"../copy-cut-paste":102,"./DecisionTableEditorActions":143,"table-js/lib/features/editor-actions":772,"table-js/lib/features/selection":786}],145:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("inferno"),i=d(a("dmn-js-shared/lib/components/InputSelect")),j=a("dmn-js-shared/lib/util/ModelUtil"),k=function(){function a(b,c,d,f,g){var k=this;e(this,a),this._modeling=d,this._translate=g,b.onGetComponent("context-menu-cell-additional",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"context-menu"===a.contextMenuType){var b=a.id;if(!b)return;var d=c.get(b);if(!d)return;var e=d.businessObject.expressionLanguage||f.getDefault(j.isInput(d.col)?"inputCell":"outputCell").value,g=f.getAll();return h.createVNode(1,"div","context-menu-group-entry context-menu-entry-set-expression-language",[h.createVNode(1,"div",null,[h.createVNode(1,"span","context-menu-group-entry-icon dmn-icon-file-code"),k._translate("Expression Language")],0),h.createComponentVNode(2,i["default"],{className:"expression-language",onChange:function(a){return k.onChange(d,a)},options:g,value:e})],4)}})}return g(a,[{key:"onChange",value:function(a,b){this._modeling.editExpressionLanguage(a.businessObject,b)}}]),a}();c["default"]=k,k.$inject=["components","elementRegistry","modeling","expressionLanguages","translate"]},{"dmn-js-shared/lib/components/InputSelect":502,"dmn-js-shared/lib/util/ModelUtil":515,inferno:526}],146:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("dmn-js-shared/lib/features/expression-languages")),f=d(a("./ExpressionLanguage")),g={__depends__:[e["default"]],__init__:["expressionLanguage"],expressionLanguage:["type",f["default"]]};c["default"]=g},{"./ExpressionLanguage":145,"dmn-js-shared/lib/features/expression-languages":510}],147:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.onGetComponent("cell",function(a){var b=a.cellType;return"before-label-cells"===b?f["default"]:void 0})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("./components/HitPolicyCell"));e.$inject=["components"]},{"./components/HitPolicyCell":148}],148:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a){switch(a){case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#";default:return""}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=function(a){function b(){return e(this,b),h(this,j(b).apply(this,arguments))}return k(b,a),g(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._sheet=a.get("sheet")}},{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.hitPolicy,d=c.charAt(0),e=b.aggregation,f=m(e);return n.createVNode(1,"th","hit-policy header",[d,f],0,{rowspan:"3",title:"Hit Policy = "+c})}}]),b}(n.Component);c["default"]=o},{inferno:526}],149:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d){a.onGetComponent("cell",function(a){var b=a.cellType;return"before-label-cells"===b?g["default"]:void 0}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.contextMenuType&&"hit-policy-edit"===a.contextMenuType?h["default"]:void 0}),c.on("hitPolicy.edit",function(a){var c=a.event,e=f.closest(c.target,"th",!0),g=e.getBoundingClientRect(),h=g.left,i=g.top,j=g.width,k=g.height,l=d.getContainer();b.open({x:h+l.parentNode.scrollLeft,y:i+l.parentNode.scrollTop,width:j,height:k},{contextMenuType:"hit-policy-edit",offset:{x:4,y:4}})})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dom"),g=d(a("./components/EditableHitPolicyCell")),h=d(a("./components/HitPolicyCellContextMenu"));e.$inject=["components","contextMenu","eventBus","renderer"]},{"./components/EditableHitPolicyCell":150,"./components/HitPolicyCellContextMenu":151,"min-dom":735}],150:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){switch(a){case"SUM":return"+";case"MIN":return"<";case"MAX":return">";case"COUNT":return"#";default:return""}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=a("table-js/lib/components"),q=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(a){d.eventBus.fire("hitPolicy.edit",{event:a})}),m(j(d),"onElementsChanged",function(){d.forceUpdate()}),p.inject(j(d)),d}return k(b,a),g(b,[{key:"getRoot",value:function(){return this.sheet.getRoot()}},{key:"componentWillMount",value:function(){this.changeSupport.onElementsChanged(this.getRoot().id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){this.changeSupport.offElementsChanged(this.getRoot().id,this.onElementsChanged)}},{key:"render",value:function(){var a=this.getRoot(),b=a.businessObject,c=b.hitPolicy,d=c.charAt(0),e=b.aggregation,f=n(e);return o.createVNode(1,"th","hit-policy header",[d,f],0,{"data-hit-policy":"true",title:"Hit Policy = "+c,onClick:this.onClick,rowspan:"3"})}}]),b}(o.Component);c["default"]=q,q.$inject=["changeSupport","sheet","eventBus"]},{inferno:526,"table-js/lib/components":754}],151:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{
"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("dmn-js-shared/lib/components/InputSelect")),p=["UNIQUE","FIRST","PRIORITY","ANY","COLLECT","RULE ORDER","OUTPUT ORDER"],q="NO LIST AGGREGATION",r=[q,"SUM","MIN","MAX","COUNT"],s=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),d.onHitPolicyChange=d.onHitPolicyChange.bind(k(d)),d.onAggregationChange=d.onAggregationChange.bind(k(d)),d.onElementsChanged=d.onElementsChanged.bind(k(d)),d}return l(b,a),h(b,[{key:"onHitPolicyChange",value:function(a){var b=this._sheet.getRoot(),c=b.businessObject,d="COLLECT"===a?c.aggregation:void 0;this._modeling.editHitPolicy(a,d)}},{key:"onAggregationChange",value:function(a){this._modeling.editHitPolicy("COLLECT",a)}},{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"componentWillMount",value:function(){var a=this.context.injector,b=this._changeSupport=this.context.changeSupport;this._sheet=a.get("sheet"),this._modeling=a.get("modeling");var c=this._sheet.getRoot(),d=c.businessObject,e=d.hitPolicy,f=d.aggregation;b.onElementsChanged(c.id,this.onElementsChanged),this.state={hitPolicy:e,aggregation:f}}},{key:"componentWillUnmount",value:function(){var a=this._sheet.getRoot();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.businessObject,c=b.hitPolicy,d=b.aggregation,e=p.map(function(a){return{label:a,value:a}}),f=r.map(function(a){return{label:a,value:a===q?void 0:a}});return n.createVNode(1,"div","context-menu-container hit-policy-edit",[n.createVNode(1,"p","hit-policy-edit-policy",[n.createVNode(1,"label","dms-label",n.createTextVNode("Hit Policy:"),2),n.createComponentVNode(2,o["default"],{noInput:!0,className:"hit-policy-edit-policy-select",onChange:this.onHitPolicyChange,options:e,value:c})],4),"COLLECT"===c&&n.createVNode(1,"p","hit-policy-edit-operator",[n.createVNode(1,"label","dms-label",n.createTextVNode("Aggregation:"),2),n.createComponentVNode(2,o["default"],{noInput:!0,className:"hit-policy-edit-operator-select",onChange:this.onAggregationChange,options:f,value:d})],4)],0)}}]),b}(n.Component);c["default"]=s},{"dmn-js-shared/lib/components/InputSelect":502,inferno:526}],152:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/features/context-menu")),f=d(a("./HitPolicyEditingProvider")),g={__depends__:[e["default"]],__init__:["hitPolicyProvider"],hitPolicyProvider:["type",f["default"]]};c["default"]=g},{"./HitPolicyEditingProvider":149,"table-js/lib/features/context-menu":768}],153:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./HitPolicyProvider")),f={__init__:["hitPolicyProvider"],hitPolicyProvider:["type",e["default"]]};c["default"]=f},{"./HitPolicyProvider":147}],154:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a){return"__decisionProperties_id"===a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=a("min-dom"),j=a("../cell-selection/CellSelectionUtil"),k=a("./KeyboardUtil"),l=function(){function a(b,c,e,f){var h=this;d(this,a),g(this,"_init",function(){h._registerDefaultBindings(),h._fire("init")}),g(this,"_destroy",function(){h._fire("destroy"),h.unbind(),h._listeners=null}),g(this,"_keyHandler",function(a){var b,c,d=h._listeners,e=a.keyCode||a.charCode||-1;for(b=0;c=d[b];b++)if(c(e,a))return a.preventDefault(),void a.stopPropagation()}),g(this,"unbind",function(){var a=h._node;a&&(h._fire("unbind"),i.event.unbind(a,"keydown",h._keyHandler,!0)),h._node=null}),this._config=b||{},this._editorActions=e,this._eventBus=c,this._cellSelection=f,this._listeners=[],c.on("table.destroy",this._destroy),c.on("table.init",this._init),c.on("attach",function(){h._config.bindTo&&h.bind(b.bindTo)}),c.on("detach",this.unbind)}return f(a,[{key:"bind",value:function(a){this.unbind(),this._node=a,i.event.bind(a,"keydown",this._keyHandler,!0),this._fire("bind")}},{key:"getBinding",value:function(){return this._node}},{key:"_fire",value:function(a){this._eventBus.fire("keyboard."+a,{node:this._node,listeners:this._listeners})}},{key:"_registerDefaultBindings",value:function(){function a(a,b){return k.isCmd(b)&&!k.isShift(b)&&90===a?(f.trigger("undo"),!0):void 0}function b(a,b){return k.isCmd(b)&&(89===a||90===a&&k.isShift(b))?(f.trigger("redo"),!0):void 0}function c(a,b){return 13===a&&!k.isCmd(b)&&k.isShift(b)&&j.findSelectableAncestor(b.target)?(f.trigger("selectCellAbove"),!0):void 0}function d(a,b){if(13===a&&!k.isCmd(b)&&!k.isShift(b)&&j.findSelectableAncestor(b.target)){var c=f.trigger("selectCellBelow"),d=g.getCellSelection();if(!c&&d&&!h(d)){var e=f.trigger("addRule");return f.trigger("selectCellBelow"),e}return!0}}var e=this._listeners,f=this._editorActions,g=this._cellSelection;e.push(a),e.push(b),e.push(c),e.push(d)}},{key:"addListener",value:function(a){this._listeners.unshift(a)}},{key:"removeListener",value:function(a){this._listeners=this._listeners.filter(function(b){return b!==a})}}]),a}();c["default"]=l,l.$inject=["config.keyboard","eventBus","editorActions","cellSelection"]},{"../cell-selection/CellSelectionUtil":93,"./KeyboardUtil":155,"min-dom":735}],155:[function(a,b,c){"use strict";function d(a){return a.ctrlKey||a.metaKey||a.shiftKey||a.altKey}function e(a){return a.altKey?!1:a.ctrlKey||a.metaKey}function f(a){return a.shiftKey}Object.defineProperty(c,"__esModule",{value:!0}),c.hasModifier=d,c.isCmd=e,c.isShift=f},{}],156:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../editor-actions")),f=d(a("./Keyboard")),g={__depends__:[e["default"]],__init__:["keyboard"],keyboard:["type",f["default"]]};c["default"]=g},{"../editor-actions":144,"./Keyboard":154}],157:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("dmn-js-shared/lib/util/ModelUtil"),h=function(){function a(b){d(this,a),this._model=b}return f(a,[{key:"create",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=this._model.create(a,b||{});return g.is(c,"dmn:InputClause")&&(b.inputExpression?c.inputExpression=b.inputExpression:(c.inputExpression=this.create("dmn:LiteralExpression",{typeRef:"string"}),c.inputExpression.$parent=c)),g.is(c,"dmn:OutputClause")&&(c.typeRef=b.typeRef||"string"),(g.is(c,"dmn:UnaryTests")||g.is(c,"dmn:LiteralExpression"))&&(c.text=b.text||""),this._ensureId(c),c}},{key:"_needsId",value:function(a){return g.is(a,"dmn:DMNElement")}},{key:"_ensureId",value:function(a){var b=(a.$type||"").replace(/^[^:]*:/g,"")+"_";!a.id&&this._needsId(a)&&(a.id=this._model.ids.nextPrefixed(b,a))}}]),a}();c["default"]=h,h.$inject=["moddle"]},{"dmn-js-shared/lib/util/ModelUtil":515}],158:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a){return function(b){var c=b.context,d=c.row||c.col;o.is(d,"dmn:DMNElement")&&a(b)}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("dmn-js-shared/lib/util/ModelUtil"),p=d(a("diagram-js/lib/command/CommandInterceptor")),q=function(a){function b(a,c){var d;return f(this,b),d=i(this,k(b).call(this,a)),d.executed(["row.add","row.remove","col.add","col.remove"],n(function(a){var b=a.context,c=b.row||b.col;d.updateRoot(c,b.oldRoot)})),d.reverted(["row.add","row.remove","col.add","col.remove"],n(function(a){var b=a.context,c=b.row||b.col;d.updateRoot(c,b.newRoot)})),d}return l(b,a),h(b,[{key:"updateRoot",value:function(a,b){var c=this,d=a.root,e=a.businessObject;if(o.is(a,"dmn:DecisionRule")){if(b){var f=b.businessObject,g=f.get("rule"),h=g.indexOf(e);g.splice(h,1),e.$parent=null}if(d){var i=d.businessObject,j=d.rows.indexOf(a);i.get("rule").splice(j,0,e),e.$parent=i,a.cells.forEach(function(b,d){c.wireCell(b,a,d)})}}if(o.is(a,"dmn:InputClause")||o.is(a,"dmn:OutputClause")){var k,l;if(b){var m=b.businessObject,n=m.get("input"),p=m.get("output");if(o.is(a,"dmn:InputClause")&&(k=n,l=n.indexOf(e)),o.is(a,"dmn:OutputClause")&&(k=p,l=p.indexOf(e)),-1===l)throw new Error("inconsistent model: clause not in table");k.splice(l,1),e.$parent=null,a.cells.forEach(function(a,d){c.unwireCell(a,b.rows[d])})}if(d){var q,r,s=d.businessObject,t=s.get("input"),u=s.get("output"),v=d.cols.indexOf(a);o.is(a,"dmn:InputClause")&&(r=t,q=v),o.is(a,"dmn:OutputClause")&&(r=u,q=v-t.length),r.splice(q,0,e),e.$parent=s,a.cells.forEach(function(a,b){c.wireCell(a,d.rows[b],v)})}}}},{key:"unwireCell",value:function(a,b){var c,d,e=a.businessObject,f=b.businessObject,g=f.get("inputEntry"),h=f.get("outputEntry");if(o.is(a,"dmn:UnaryTests")&&(c=g),o.is(a,"dmn:LiteralExpression")&&(c=h),d=c.indexOf(e),-1===d)throw new Error("cell not in row");c.splice(d,1),e.$parent=null}},{key:"wireCell",value:function(a,b,c){var d,e,f=a.businessObject,g=b.businessObject,h=g.get("inputEntry"),i=g.get("outputEntry");f.$parent!==g&&(o.is(a,"dmn:UnaryTests")&&(d=h,e=c),o.is(a,"dmn:LiteralExpression")&&(d=i,e=c-h.length),d.splice(e,0,f),f.$parent=g)}}]),b}(p["default"]);c["default"]=q,q.$inject=["eventBus","sheet"]},{"diagram-js/lib/command/CommandInterceptor":206,"dmn-js-shared/lib/util/ModelUtil":515}],159:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(c,!0).forEach(function(b){h(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function i(a,b){if(null==a)return{};var c,d,e=j(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function j(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function m(a,b,c){return b&&l(a.prototype,b),c&&l(a,c),a}function n(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?o(a):b}function o(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function p(a,b,c){return(p="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=q(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function q(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=r(a),null!==a););return a}function r(a){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function s(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&t(a,b)}function t(a,b){return(t=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var u=a("dmn-js-shared/lib/util/ModelUtil"),v=d(a("table-js/lib/core/ElementFactory")),w=function(a){function b(a){var c;return k(this,b),c=n(this,r(b).call(this)),c._dmnFactory=a,c}return s(b,a),m(b,[{key:"create",value:function(a,c){var d=this._dmnFactory,e=c.businessObject,f=c.type,h=i(c,["businessObject","type"]);if(!e){if(!f){if("root"===a)f="dmn:DecisionTable";else if("cell"===a){var j=h.col;u.is(j,"dmn:OutputClause")&&(f="dmn:LiteralExpression"),u.is(j,"dmn:InputClause")&&(f="dmn:UnaryTests")}if(!f)throw new Error("cannot guess <type>")}e=d.create(f)}return p(r(b.prototype),"create",this).call(this,a,g({businessObject:e,id:e.id},h))}}]),b}(v["default"]);c["default"]=w,w.$inject=["dmnFactory"]},{"dmn-js-shared/lib/util/ModelUtil":515,"table-js/lib/core/ElementFactory":762}],160:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b,c){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=l(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function l(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=m(a),null!==a););return a}function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var p=a("min-dash"),q=d(a("table-js/lib/features/modeling/Modeling")),r=d(a("./cmd/UpdateAllowedValuesHandler")),s=d(a("dmn-js-shared/lib/features/modeling/cmd/UpdatePropertiesHandler")),t=d(a("./cmd/IdClaimHandler")),u=function(a){function b(a,c,d,e){var g;return f(this,b),g=i(this,m(b).call(this,a,c,d)),g._eventBus=a,g._elementFactory=c,g._commandStack=d,g._sheet=e,g}return n(b,a),h(b,[{key:"getHandlers",value:function(){return b._getHandlers()}},{key:"editDecisionTableName",value:function(a){var b=this._sheet.getRoot(),c=b.businessObject,d=c.$parent,e={element:d,properties:{name:a}};this._commandStack.execute("element.updateProperties",e)}},{key:"editDecisionTableId",value:function(a){var b=this._sheet.getRoot(),c=b.businessObject,d=c.$parent,e={element:d,properties:{id:a}};this._commandStack.execute("element.updateProperties",e)}},{key:"editHitPolicy",value:function(a,b){var c=this._sheet.getRoot(),d=c.businessObject,e={element:d,properties:{hitPolicy:a,aggregation:b}};this._commandStack.execute("element.updateProperties",e)}},{key:"updateProperties",value:function(a,b){var c={element:a,properties:b};this._commandStack.execute("element.updateProperties",c)}},{key:"editInputExpression",value:function(a,b){var c={element:a,properties:b};this._commandStack.execute("element.updateProperties",c)}},{key:"editOutputName",value:function(a,b){var c={element:a,properties:{name:b}};this._commandStack.execute("element.updateProperties",c)}},{key:"editInputExpressionTypeRef",value:function(a,b){var c={element:a,properties:{typeRef:b}};this._commandStack.execute("element.updateProperties",c)}},{key:"editOutputTypeRef",value:function(a,b){var c={element:a,properties:{typeRef:b}};this._commandStack.execute("element.updateProperties",c)}},{key:"editCell",value:function(a,b){var c={element:a,properties:{text:b}};this._commandStack.execute("element.updateProperties",c)}},{key:"editAnnotation",value:function(a,b){var c={element:a,properties:{description:b}};this._commandStack.execute("element.updateProperties",c)}},{key:"editAllowedValues",value:function(a,b){var c={element:a,allowedValues:b};this._commandStack.execute("editAllowedValues",c)}},{key:"editExpressionLanguage",value:function(a,b){var c={element:a,properties:{expressionLanguage:b}};this._commandStack.execute("element.updateProperties",c)}},{key:"claimId",value:function(a,b){var c={id:a,element:b,claiming:!0};this._commandStack.execute("id.updateClaim",c)}},{key:"unclaimId",value:function(a,b){var c={id:a,element:b};this._commandStack.execute("id.updateClaim",c)}}],[{key:"_getHandlers",value:function(){return p.assign({},k(m(b),"_getHandlers",this).call(this),{editAllowedValues:r["default"],"element.updateProperties":s["default"],"id.updateClaim":t["default"]})}}]),b}(q["default"]);c["default"]=u,u.$inject=["eventBus","elementFactory","commandStack","sheet"]},{"./cmd/IdClaimHandler":164,"./cmd/UpdateAllowedValuesHandler":165,"dmn-js-shared/lib/features/modeling/cmd/UpdatePropertiesHandler":512,"min-dash":734,"table-js/lib/features/modeling/Modeling":775}],161:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=d(a("diagram-js/lib/command/CommandInterceptor")),o=a("min-dash"),p=function(a){function b(a,c,d){var e;return f(this,b),e=i(this,k(b).call(this,a)),e._ids=c.ids,e._modeling=d,e.preExecute(["row.add","col.add"],function(a){var b=a.context,c=b.row||b.col;e.claimId(c.businessObject),c.cells&&c.cells.forEach(function(a){return e.claimId(a.businessObject)})}),e}return l(b,a),h(b,[{key:"claimId",value:function(a){var b=this;a.id&&!this._ids.assigned(a.id)&&this._modeling.claimId(a.id,a),a.$descriptor.properties.forEach(function(c){var d=a[c.name];d&&(o.isArray(d)&&d.forEach(function(a){return b.claimId(a)}),d.$type&&b.claimId(d))})}}]),b}(n["default"]);c["default"]=p,p.$inject=["eventBus","moddle","modeling"]},{"diagram-js/lib/command/CommandInterceptor":206,"min-dash":734}],162:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=d(a("diagram-js/lib/command/CommandInterceptor")),o=a("min-dash"),p=function(a){function b(a,c){var d;return f(this,b),d=i(this,k(b).call(this,a)),d._modeling=c,d.preExecute(["row.remove","col.remove"],function(a){var b=a.context,c=b.row||b.col;d.unclaimId(c.businessObject),c.cells&&c.cells.forEach(function(a){return d.unclaimId(a.businessObject)})}),d}return l(b,a),h(b,[{key:"unclaimId",value:function(a){var b=this;a.id&&this._modeling.unclaimId(a.id,a),a.$descriptor.properties.forEach(function(c){var d=a[c.name];d&&(o.isArray(d)&&d.forEach(function(a){return b.unclaimId(a)}),d.$type&&b.unclaimId(d))})}}]),b}(n["default"]);c["default"]=p,p.$inject=["eventBus","modeling"]},{"diagram-js/lib/command/CommandInterceptor":206,"min-dash":734}],163:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./IdClaimBehavior")),f=d(a("./IdUnclaimBehavior")),g={__init__:["idClaimBehavior","idUnclaimBehavior"],idClaimBehavior:["type",e["default"]],idUnclaimBehavior:["type",f["default"]]};c["default"]=g},{"./IdClaimBehavior":161,"./IdUnclaimBehavior":162}],164:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b){d(this,a),this._moddle=b}return f(a,[{key:"execute",value:function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.claim(c,d):b.unclaim(c)}},{key:"revert",value:function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.unclaim(c):b.claim(c,d)}}]),a}();c["default"]=g,g.$inject=["moddle"]},{}],165:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a){return null===a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("dmn-js-shared/lib/util/ModelUtil"),i=function(){function a(b,c,e){d(this,a),this._dmnFactory=b,this._moddle=c,this._modeling=e}return f(a,[{key:"execute",value:function(a){var b=a.element,c=a.allowedValues,d=h.is(b,"dmn:InputClause");return d?(b.inputValues?a.oldAllowedValues=b.inputValues.text:g(c)||(b.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),g(c)?b.inputValues&&delete b.inputValues:b.inputValues.text=c.join(",")):(b.outputValues&&b?a.oldAllowedValues=b.outputValues.text:g(c)||(b.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),g(c)?b.outputValues&&delete b.outputValues:b.outputValues.text=c.join(",")),b}},{key:"revert",value:function(a){var b=a.element,c=a.oldAllowedValues,d=h.is(b,"dmn:InputClause");return d?c?(b.inputValues||(b.inputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),b.inputValues.text=c):delete b.inputValues:c?(b.outputValues||(b.outputValues=this._dmnFactory.create("dmn:UnaryTests",{text:""})),b.outputValues.text=c):delete b.outputValues,b}}]),a}();c["default"]=i,i.$inject=["dmnFactory","moddle","modeling"]},{"dmn-js-shared/lib/util/ModelUtil":515}],166:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/command")),f=d(a("./DmnUpdater")),g=d(a("./DmnFactory")),h=d(a("./ElementFactory")),i=d(a("dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior")),j=d(a("./Modeling")),k=d(a("./behavior")),l={__init__:["dmnUpdater","idChangeBehavior","modeling"],__depends__:[k["default"],e["default"]],dmnUpdater:["type",f["default"]],dmnFactory:["type",g["default"]],elementFactory:["type",h["default"]],idChangeBehavior:["type",i["default"]],modeling:["type",j["default"]]};c["default"]=l},{"./DmnFactory":157,"./DmnUpdater":158,"./ElementFactory":159,"./Modeling":160,"./behavior":163,"dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior":511,"table-js/lib/command":749}],167:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/PoweredByLogoComponent")),g=d(a("./components/PoweredByOverlayComponent")),h=function i(a,b){e(this,i),a.onGetComponent("table.before",function(){return f["default"]}),a.onGetComponent("table.before",function(){return g["default"]})};c["default"]=h,h.$inject=["components","eventBus"]},{"./components/PoweredByLogoComponent":168,"./components/PoweredByOverlayComponent":169}],168:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){a=unescape(a);for(var b=String.fromCharCode(a.charCodeAt(0)-a.length),c=1;c<a.length;c++)b+=String.fromCharCode(a.charCodeAt(c)-b.charCodeAt(c-1));return b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=function(a){function b(a,c){var d;e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(){d._eventBus.fire("poweredBy.show")});var f=c.injector;return d._eventBus=f.get("eventBus"),d}return k(b,a),g(b,[{key:"render",value:function(){var a="%9A%DC%E8%E4%AAi%5E%A6%EE%EE%A5%9E%D1%CF%D5%DC%D7%D2%DD%9B%91%D2%DC%9C%A2%E7%D5%D5%DD%CC%D6%A2%95%D8%E1%DD%E2%A3%98%D6%D4%96%9B%DB%D6%D6%9D%9E%DE%D5",b=n(a),c=this;return o.createVNode(1,"div","powered-by-logo",o.createVNode(1,"img","logo",null,1,{src:b}),2,{onClick:this.onClick,title:"版权方:盘古BPM工作台"},null,function(a){return c.node=a})}}]),b}(o.Component);c["default"]=p},{inferno:526}],169:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d);
}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(a){var c;return e(this,b),c=h(this,i(b).call(this,a)),c.state={show:!1},c.onClick=c.onClick.bind(j(c)),c.onShow=c.onShow.bind(j(c)),c}return k(b,a),g(b,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){var a=this._eventBus=this.context.injector.get("eventBus");a.on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){}}]),b}(m.Component);c["default"]=n},{inferno:526}],170:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./PoweredBy")),f={__init__:["poweredBy"],poweredBy:["type",e["default"]]};c["default"]=f},{"./PoweredBy":167}],171:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("min-dash"),o=a("table-js/lib/model"),p=a("dmn-js-shared/lib/util/ModelUtil"),q=d(a("diagram-js/lib/features/rules/RuleProvider")),r=2e3,s=function(a){function b(a,c){var d;return f(this,b),d=i(this,k(b).call(this,a)),d._sheet=c,d}return l(b,a),h(b,[{key:"init",value:function(){var a=this;this.addRule("col.move",r,function(b){var c=b.col,d=b.index,e=a._sheet.getRoot(),f=e.businessObject,g=f.input;return p.isInput(c)?d<g.length:d>=g.length}),this.addRule("col.remove",r,function(b){var c=b.col,d=a._sheet.getRoot(),e=d.cols;return p.isOutput(c)?e.filter(function(a){return p.isOutput(a)}).length>1:!0}),this.addRule("paste",r,function(b){var c=b.data,d=b.target;if(!c||!d)return!1;var e=c.root;return d instanceof o.Row?a.canPasteRows(e):d instanceof o.Col?a.canPasteCols(e,d):!1})}},{key:"canPasteRows",value:function(a){var b=this._sheet.getRoot(),c=b.cols;return n.every(a,function(a){return"row"!==a.type?!1:a.cells.length!==c.length?!1:n.every(a.cells,function(a,b){return p.isInput(c[b])?"dmn:UnaryTests"===a.businessObject.$type:"dmn:LiteralExpression"===a.businessObject.$type})})}},{key:"canPasteCols",value:function(a,b){var c=this._sheet.getRoot(),d=c.rows;return n.every(a,function(a){return"col"!==a.type?!1:a.cells.length!==d.length?!1:p.isInput(b)?"dmn:InputClause"===a.businessObject.$type:"dmn:OutputClause"===a.businessObject.$type})}}]),b}(q["default"]);c["default"]=s,s.$inject=["eventBus","sheet"]},{"diagram-js/lib/features/rules/RuleProvider":209,"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734,"table-js/lib/model":788}],172:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DecisionTableModelingRules")),f=d(a("table-js/lib/features/rules")),g={__depends__:[f["default"]],__init__:["decisionTableModelingRules"],decisionTableModelingRules:["type",e["default"]]};c["default"]=g},{"./DecisionTableModelingRules":171,"table-js/lib/features/rules":783}],173:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){return h.isInput(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=d(a("./components/BooleanEdit")),h=a("dmn-js-shared/lib/util/ModelUtil"),i=function j(a,b){e(this,j),b.registerProvider(function(a){return(h.isInput(a.col)||h.isOutput(a.col))&&"boolean"===f(a)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=f(a.element);if("boolean"===b)return g["default"]}})};c["default"]=i,i.$inject=["components","simpleMode"]},{"./components/BooleanEdit":175,"dmn-js-shared/lib/util/ModelUtil":515}],174:[function(a,b,c){"use strict";function d(a){return!a||e(a)?"none":"true"===a.trim()?"true":"false"===a.trim()?"false":void 0}function e(a){return""===a}Object.defineProperty(c,"__esModule",{value:!0}),c.parseString=d},{}],175:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("dmn-js-shared/lib/components/InputSelect")),p=a("../Utils"),q="true",r="false",s="none",t=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._modeling=c.injector.get("modeling");var e=d.props.context.element,g=p.parseString(e.businessObject.text);return d.state={value:g||s},d.editCell=d.editCell.bind(k(d)),d.onChange=d.onChange.bind(k(d)),d}return l(b,a),h(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onChange",value:function(a){var b=this.props.context.element;this.editCell(b.businessObject,a===s?"":a),this.setState({value:a})}},{key:"render",value:function(){var a=this.state.value,b=[{label:"-",value:s},{label:"Yes",value:q},{label:"No",value:r}];return n.createVNode(1,"div","simple-boolean-edit context-menu-container",[n.createVNode(1,"h3","dms-heading",n.createTextVNode("Edit Boolean"),2),n.createVNode(1,"h4","dms-heading",n.createTextVNode("Set Value"),2),n.createComponentVNode(2,o["default"],{noInput:!0,className:"dms-block",onChange:this.onChange,options:b,value:a})],4)}}]),b}(n.Component);c["default"]=t},{"../Utils":174,"dmn-js-shared/lib/components/InputSelect":502,inferno:526}],176:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../simple-mode")),f=d(a("./SimpleBooleanEdit")),g=d(a("../keyboard")),h={__depends__:[g["default"],e["default"]],__init__:["simpleBooleanEdit"],simpleBooleanEdit:["type",f["default"]]};c["default"]=h},{"../keyboard":156,"../simple-mode":184,"./SimpleBooleanEdit":173}],177:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){return j.isInput(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}function g(a){return"date"===a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=d(a("./components/InputDateEdit")),i=d(a("./components/OutputDateEdit")),j=a("dmn-js-shared/lib/util/ModelUtil"),k=function l(a,b){e(this,l),b.registerProvider(function(a){var b=f(a);return(j.isInput(a.col)||j.isOutput(a.col))&&g(b)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=f(a.element);if(g(b)){if(j.isInput(a.element.col))return h["default"];if(j.isOutput(a.element.col))return i["default"]}}})};c["default"]=k,k.$inject=["components","simpleMode"]},{"./components/InputDateEdit":179,"./components/OutputDateEdit":180,"dmn-js-shared/lib/util/ModelUtil":515}],178:[function(a,b,c){"use strict";function d(a){return h.test(a.trim())?void 0:"Date must match pattern yyyy-MM-ddTHH:mm:ss."}function e(a,b){return a===l?'date and time("'.concat(b[0],'")'):a===m?'< date and time("'.concat(b[0],'")'):a===n?'> date and time("'.concat(b[0],'")'):a===o?'[date and time("'.concat(b[0],'")..date and time("').concat(b[1],'")]'):void 0}function f(){var a=new Date;return a.setUTCHours(0,0,0,0),a.toISOString().slice(0,-5)}function g(a){if(!a||""===a.trim())return{type:"exact",date:""};var b=a.match(i);return b?{type:"between",dates:[b[1],b[2]]}:(b=a.match(j))?{type:"<"===b[1]?"before":"after",date:b[2]}:(b=a.match(k),b?{type:"exact",date:b[1]}:void 0)}Object.defineProperty(c,"__esModule",{value:!0}),c.validateISOString=d,c.getDateString=e,c.getSampleDate=f,c.parseString=g;var h=/^\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d$/,i=/^\[date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)..date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"/,j=/^(<|>)\s*date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)/,k=/^date and time\("(\d{4}(?:-\d\d){2}T(?:\d\d:){2}\d\d)"\)$/,l="exact",m="before",n="after",o="between"},{}],179:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("dmn-js-shared/lib/components/ValidatedInput")),p=d(a("dmn-js-shared/lib/components/InputSelect")),q=a("../Utils"),r="exact",s="before",t="after",u="between",v=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._modeling=c.injector.get("modeling");var e=d.props.context.element,g=q.parseString(e.businessObject.text);if(g){var h;h=g.date?[g.date,""]:g.dates?g.dates:["",""],d.state={type:g.type,dates:h}}else d.state={type:r,dates:["",""]};var l=c.injector.get("debounceInput");return d.debouncedEditCell=l(d.editCell.bind(k(d))),d.editCell=d.editCell.bind(k(d)),d.onTypeChange=d.onTypeChange.bind(k(d)),d.onSetStartDateTodayClick=d.onSetStartDateTodayClick.bind(k(d)),d.onSetEndDateTodayClick=d.onSetEndDateTodayClick.bind(k(d)),d.onStartDateInput=d.onStartDateInput.bind(k(d)),d.onEndDateInput=d.onEndDateInput.bind(k(d)),d}return l(b,a),h(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onTypeChange",value:function(a){var b=this.props.context.element,c=this.state.dates;this.setState({type:a}),q.parseString(q.getDateString(a,c))&&this.editCell(b.businessObject,q.getDateString(a,c))}},{key:"onSetStartDateTodayClick",value:function(){var a=this.props.context.element,b=this.state,c=b.dates,d=b.type,e=q.getSampleDate();this.setState({dates:[e,c[1]]}),q.parseString(q.getDateString(d,[e,c[1]]))&&this.editCell(a.businessObject,q.getDateString(d,[e,c[1]]))}},{key:"onSetEndDateTodayClick",value:function(){var a=this.props.context.element,b=this.state,c=b.dates,d=b.type,e=q.getSampleDate();this.setState({dates:[c[0],e]}),q.parseString(q.getDateString(d,[c[0],e]))&&this.editCell(a.businessObject,q.getDateString(d,[c[0],e]))}},{key:"onStartDateInput",value:function(a){var b=a.isValid,c=a.value;if(b){var d=this.props.context.element,e=this.state,f=e.dates,g=e.type;this.setState({dates:[c,f[1]]}),this.debouncedEditCell(d.businessObject,q.getDateString(g,[c,f[1]]))}}},{key:"onEndDateInput",value:function(a){var b=a.isValid,c=a.value;if(b){var d=this.props.context.element,e=this.state,f=e.dates,g=e.type;this.setState({dates:[f[0],c]}),this.debouncedEditCell(d.businessObject,q.getDateString(g,[f[0],c]))}}},{key:"render",value:function(){var a=this.state,b=a.dates,c=a.type,d=[{label:"Exactly",value:r},{label:"Before",value:s},{label:"After",value:t},{label:"Between",value:u}];return n.createVNode(1,"div","context-menu-container simple-date-edit",[n.createVNode(1,"h3","dms-heading",n.createTextVNode("Edit Date"),2),n.createVNode(1,"div","dms-fill-row",n.createComponentVNode(2,p["default"],{noInput:!0,onChange:this.onTypeChange,options:d,value:c}),2),n.createVNode(1,"h4","dms-heading",c===u?"Edit Start Date":"Set Date",0),n.createVNode(1,"div",null,[n.createComponentVNode(2,o["default"],{className:"start-date-input dms-block",onInput:this.onStartDateInput,placeholder:"e.g. ".concat(q.getSampleDate()),validate:q.validateISOString,value:b[0]}),n.createVNode(1,"p","dms-hint",[n.createVNode(1,"button","use-today",n.createTextVNode("Use today"),2,{type:"button",onClick:this.onSetStartDateTodayClick}),n.createTextVNode(".")],4)],4),c===u&&n.createVNode(1,"h4","dms-heading",n.createTextVNode("Edit End Date"),2),c===u&&n.createVNode(1,"div",null,[n.createComponentVNode(2,o["default"],{className:"end-date-input dms-block",onInput:this.onEndDateInput,placeholder:"e.g. ".concat(q.getSampleDate()),validate:q.validateISOString,value:b[1]}),n.createVNode(1,"p","dms-hint",[n.createVNode(1,"button","use-today",n.createTextVNode("Use today"),2,{type:"button",onClick:this.onSetEndDateTodayClick}),n.createTextVNode(".")],4)],4)],0)}}]),b}(n.Component);c["default"]=v},{"../Utils":178,"dmn-js-shared/lib/components/InputSelect":502,"dmn-js-shared/lib/components/ValidatedInput":504,inferno:526}],180:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("dmn-js-shared/lib/components/ValidatedInput")),p=a("../Utils"),q=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._modeling=c.injector.get("modeling");var e=d.props.context.element,g=p.parseString(e.businessObject.text);d.state={date:g?g.date:""};var h=c.injector.get("debounceInput");return d.debouncedEditCell=h(d.editCell.bind(k(d))),d.editCell=d.editCell.bind(k(d)),d.onClick=d.onClick.bind(k(d)),d.onInput=d.onInput.bind(k(d)),d}return l(b,a),h(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onClick",value:function(){var a=this.props.context.element,b=p.getSampleDate();this.setState({date:b}),this.editCell(a.businessObject,'date and time("'.concat(b,'")'))}},{key:"onInput",value:function(a){var b=a.isValid,c=a.value;if(b){var d=this.props.context.element;this.setState({date:c}),this.debouncedEditCell(d.businessObject,'date and time("'.concat(c,'")'))}}},{key:"render",value:function(){var a=this.state.date;return n.createVNode(1,"div","context-menu-container simple-date-edit",[n.createVNode(1,"h3","dms-heading",n.createTextVNode("Edit Date"),2),n.createVNode(1,"h4","dms-heading",n.createTextVNode("Set Date"),2),n.createVNode(1,"div",null,[n.createComponentVNode(2,o["default"],{onInput:this.onInput,placeholder:"e.g. ".concat(p.getSampleDate()),validate:p.validateISOString,value:a,className:"dms-block"}),n.createVNode(1,"p","dms-hint",[n.createTextVNode("Set date "),n.createVNode(1,"button","use-today",n.createTextVNode("to today"),2,{type:"button",onClick:this.onClick}),n.createTextVNode(".")],4)],4)],4)}}]),b}(n.Component);c["default"]=q},{"../Utils":178,"dmn-js-shared/lib/components/ValidatedInput":504,inferno:526}],181:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../simple-mode")),f=d(a("./SimpleDateEdit")),g=d(a("../keyboard")),h={__depends__:[g["default"],e["default"]],__init__:["simpleDateEdit"],simpleDateEdit:["type",f["default"]]};c["default"]=h},{"../keyboard":156,"../simple-mode":184,"./SimpleDateEdit":177}],182:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a){return a.altKey?!1:a.ctrlKey||a.metaKey}Object.defineProperty(c,"__esModule",{value:!0}),c.isCmd=h,c["default"]=void 0;var i=d(a("./components/SimpleModeButtonComponent")),j=function(){function a(b,c,d,f,g){e(this,a),this._providers=[],b.onGetComponent("table.before",function(){return i["default"]}),f.on("simpleMode.open",function(a){var b=a.element,d=a.node,e=d.getBoundingClientRect(),f=e.left,h=e.top,i=e.width,j=e.height,k=g.getContainer();c.open({x:f+k.parentNode.scrollLeft,y:h+k.parentNode.scrollTop,width:i,height:j},{contextMenuType:"simple-mode-edit",element:b,offset:{x:4,y:4}})}),f.on("cell.click",function(a){var b=a.event,c=a.node,e=a.id;if(h(b)){var g=d.get(e);g&&f.fire("simpleMode.open",{node:c,element:g}),a.preventDefault()}})}return g(a,[{key:"registerProvider",value:function(a){this._providers.push(a)}},{key:"canSimpleEdit",value:function(a){return this._providers.reduce(function(b,c){return b||c(a)},!1)}}]),a}();c["default"]=j,j.$inject=["components","contextMenu","elementRegistry","eventBus","renderer"]},{"./components/SimpleModeButtonComponent":183}],183:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a){return a.businessObject.expressionLanguage}function n(a,b,c){return!b||b===o(a,c)}function o(a,b){return s.isInput(a.col)?b.getDefault("inputCell").value:s.isOutput(a.col)?b.getDefault("outputCell").value:void 0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var p=a("inferno"),q=a("min-dash"),r=a("../../cell-selection/CellSelectionUtil"),s=a("dmn-js-shared/lib/util/ModelUtil"),t=4,u=function(a){function b(a,c){var d;e(this,b),d=h(this,i(b).call(this,a,c)),d.state={top:0,left:0,isVisible:!1,isDisabled:!0};var f=c.injector,g=d._eventBus=f.get("eventBus"),k=f.get("simpleMode"),l=c.injector.get("elementRegistry"),o=c.injector.get("expressionLanguages");return d._renderer=f.get("renderer"),d._selection=c.injector.get("selection"),d.updatePosition=d.updatePosition.bind(j(d)),g.on("cellSelection.changed",function(a){var b=a.elementId,c=l.get(b);if(!c||!k.canSimpleEdit(c))return void d.setState({isVisible:!1});d.setState({isVisible:!0,selection:c},d.updatePosition);var e=m(c),f=!n(c,e,o);d.setState({isVisible:!0,selection:c,isDisabled:f},d.updatePosition)}),d.onClick=d.onClick.bind(j(d)),d}return k(b,a),g(b,[{key:"updatePosition",value:function(){var a=this.state.selection;if(a&&this.node){var b=this._container=this._renderer.getContainer(),c=r.getNodeById(a.id,b),d=c.getBoundingClientRect(),e=this.node.getBoundingClientRect(),f=b.getBoundingClientRect(),g=b.scrollLeft,h=b.scrollTop,i={};d.left+d.width/2>f.width/2?i.left=window.scrollX-f.left+d.left-e.width+t+g+"px":i.left=window.scrollX-f.left+d.left+d.width-t+g+"px",d.top+d.height/2>f.height/2?i.top=window.scrollY-f.top+d.top-e.height+t+h+"px":i.top=window.scrollY-f.top+d.top-t+h+"px",q.assign(this.node.style,i)}}},{key:"onClick",value:function(){var a=this.state.isDisabled;if(!a){var b=this._selection.get();b&&(this._eventBus.fire("simpleMode.open",{element:b,node:r.getNodeById(b.id,this._container)}),this.setState({isVisible:!1}))}}},{key:"render",value:function(){var a=this,b=this.state,c=b.isDisabled,d=b.isVisible,e=b.top,f=b.left,g=["simple-mode-button","no-deselect"];return c&&g.push("disabled"),d?p.createVNode(1,"div",g.join(" "),p.createVNode(1,"span","dmn-icon-edit"),2,{onClick:this.onClick,style:{top:e,left:f},title:c?"Editing not supported for set expression language":"Edit"},null,function(b){return a.node=b}):null}}]),b}(p.Component);c["default"]=u},{"../../cell-selection/CellSelectionUtil":93,"dmn-js-shared/lib/util/ModelUtil":515,inferno:526,"min-dash":734}],184:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/features/context-menu")),f=d(a("../cell-selection")),g=d(a("dmn-js-shared/lib/features/expression-languages")),h=d(a("./SimpleMode")),i={__depends__:[e["default"],f["default"],g["default"]],__init__:["simpleMode"],simpleMode:["type",h["default"]]};c["default"]=i},{"../cell-selection":94,"./SimpleMode":182,"dmn-js-shared/lib/features/expression-languages":510,"table-js/lib/features/context-menu":768}],185:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){return j.isInput(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}function g(a){return"integer"===a||"long"===a||"double"===a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=d(a("./components/InputNumberEdit")),i=d(a("./components/OutputNumberEdit")),j=a("dmn-js-shared/lib/util/ModelUtil"),k=function l(a,b){e(this,l),b.registerProvider(function(a){var b=f(a);return(j.isInput(a.col)||j.isOutput(a.col))&&("integer"===b||"long"===b||"double"===b)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=f(a.element);if(g(b)){if(j.isInput(a.element.col))return h["default"];if(j.isOutput(a.element.col))return i["default"]}}})};c["default"]=k,k.$inject=["components","simpleMode"]},{"./components/InputNumberEdit":187,"./components/OutputNumberEdit":188,"dmn-js-shared/lib/util/ModelUtil":515}],186:[function(a,b,c){"use strict";function d(a){return k.keys(n).filter(function(b){return a===n[b]})[0]}function e(a){if(!a||f(a.trim()))return{type:"comparison"};var b=a.match(l),c=a.match(m);if(b){if(g(b))return{type:"comparison",value:parseFloat(b[1]),operator:"equals"};if(h(b))return{type:"comparison",value:parseFloat(b[3]),operator:d(b[2])}}else if(c)return{type:"range",values:[c[2],c[3]].map(function(a){return parseFloat(a)}),start:"]"===c[1]?"exclude":"include",end:"["===c[4]?"exclude":"include"}}function f(a){return""===a}function g(a){return a[0]&&a[1]&&!a[2]&&!a[3]}function h(a){return a[0]&&!a[1]&&a[2]&&a[3]}function i(a,b){return"equals"===a?"".concat(b):"".concat(n[a]," ").concat(b)}function j(a,b,c,d){var e="exclude"===c?"]":"[",f="exclude"===d?"[":"]";return"".concat(e).concat(a,"..").concat(b).concat(f)}Object.defineProperty(c,"__esModule",{value:!0}),c.parseString=e,c.isEmptyString=f,c.getComparisonString=i,c.getRangeString=j,c.operators=void 0;var k=a("min-dash"),l=/^(-?(?:[0-9]|\.[0-9])+)$|^((?:<|>|=){0,2})\s*(-?(?:[0-9]|\.[0-9])+)$/,m=/^(\[|\]){1}(-?(?:[0-9]|\.[0-9])+){1,}\.\.(-?(?:[0-9]|\.[0-9])+){1,}(\[|\]){1}$/,n={equals:"=",less:"<",lessEquals:"<=",greater:">",greaterEquals:">="};c.operators=n},{"min-dash":734}],187:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("dmn-js-shared/lib/components/Input")),p=d(a("dmn-js-shared/lib/components/InputSelect")),q=a("../Utils"),r="comparison",s="range",t=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._modeling=c.injector.get("modeling");var e=d.props.context.element,g=q.parseString(e.businessObject.text);g?d.state={type:g.type,comparisonOperator:g.operator||"equals",comparisonValue:g.value||0,rangeStartValue:g.values?g.values[0]:0,rangeEndValue:g.values?g.values[1]:0,rangeStartType:g.start||"include",rangeEndType:g.end||"include"}:d.state={type:r,comparisonOperator:"equals",comparisonValue:0,rangeStartValue:0,rangeEndValue:0,rangeStartType:"include",rangeEndType:"include"};var h=c.injector.get("debounceInput");return d.debouncedEditCell=h(d.editCell.bind(k(d))),d.editCell=d.editCell.bind(k(d)),d.onComparisonOperatorChange=d.onComparisonOperatorChange.bind(k(d)),d.onComparisonValueChange=d.onComparisonValueChange.bind(k(d)),d.onTypeChange=d.onTypeChange.bind(k(d)),d.onRangeStartTypeChange=d.onRangeStartTypeChange.bind(k(d)),d.onRangeStartValueChange=d.onRangeStartValueChange.bind(k(d)),d.onRangeEndTypeChange=d.onRangeEndTypeChange.bind(k(d)),d.onRangeEndValueChange=d.onRangeEndValueChange.bind(k(d)),d}return l(b,a),h(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onTypeChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.comparisonOperator,e=c.comparisonValue,f=c.rangeStartValue,g=c.rangeEndValue,h=c.rangeStartType,i=c.rangeEndType;a===r?this.editCell(b.businessObject,q.getComparisonString(d,e)):this.editCell(b.businessObject,q.getRangeString(f,g,h,i)),this.setState({type:a})}},{key:"onComparisonOperatorChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.comparisonValue;d===r&&(this.editCell(b.businessObject,q.getComparisonString(a,e)),this.setState({comparisonOperator:a}))}},{key:"onComparisonValueChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.comparisonOperator;d===r&&(this.debouncedEditCell(b.businessObject,q.getComparisonString(e,a)),this.setState({comparisonValue:a}))}},{key:"onRangeStartTypeChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeStartValue,f=c.rangeEndValue,g=c.rangeEndType;
d===s&&(this.editCell(b.businessObject,q.getRangeString(e,f,a,g)),this.setState({rangeStartType:a}))}},{key:"onRangeStartValueChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeEndValue,f=c.rangeStartType,g=c.rangeEndType;d===s&&(this.editCell(b.businessObject,q.getRangeString(a,e,f,g)),this.setState({rangeStartValue:a}))}},{key:"onRangeEndTypeChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeStartValue,f=c.rangeEndValue,g=c.rangeStartType;d===s&&(this.editCell(b.businessObject,q.getRangeString(e,f,g,a)),this.setState({rangeEndType:a}))}},{key:"onRangeEndValueChange",value:function(a){var b=this.props.context.element,c=this.state,d=c.type,e=c.rangeStartValue,f=c.rangeStartType,g=c.rangeEndType;d===s&&(this.editCell(b.businessObject,q.getRangeString(e,a,f,g)),this.setState({rangeEndValue:a}))}},{key:"renderComparison",value:function(a,b){var c=[{label:"Equals",value:"equals"},{label:"Less",value:"less"},{label:"Less or equals",value:"lessEquals"},{label:"Greater",value:"greater"},{label:"Greater or equals",value:"greaterEquals"}];return n.createVNode(1,"div","comparison",[n.createVNode(1,"h4","dms-heading",n.createTextVNode("Value"),2),n.createVNode(1,"div","dms-fill-row",[n.createComponentVNode(2,p["default"],{noInput:!0,onChange:this.onComparisonOperatorChange,options:c,value:a}),n.createTextVNode(" "),n.createComponentVNode(2,o["default"],{className:"comparison-number-input",onInput:this.onComparisonValueChange,type:"number",value:b})],4)],4)}},{key:"renderRange",value:function(a,b,c,d){var e=[{label:"Include",value:"include"},{label:"Exclude",value:"exclude"}];return n.createVNode(1,"div","range",[n.createVNode(1,"h4","dms-heading",n.createTextVNode("Start Value"),2),n.createVNode(1,"div","dms-fill-row",[n.createComponentVNode(2,p["default"],{noInput:!0,onChange:this.onRangeStartTypeChange,options:e,value:c}),n.createTextVNode(" "),n.createComponentVNode(2,o["default"],{className:"range-start-number-input",onInput:this.onRangeStartValueChange,type:"number",value:a})],4),n.createVNode(1,"h4","dms-heading",n.createTextVNode("End Value"),2),n.createVNode(1,"div","dms-fill-row",[n.createComponentVNode(2,p["default"],{noInput:!0,onChange:this.onRangeEndTypeChange,options:e,value:d}),n.createTextVNode(" "),n.createComponentVNode(2,o["default"],{className:"range-end-number-input",onInput:this.onRangeEndValueChange,type:"number",value:b})],4)],4)}},{key:"render",value:function(){var a=this.state,b=a.type,c=a.comparisonOperator,d=a.comparisonValue,e=a.rangeStartValue,f=a.rangeEndValue,g=a.rangeStartType,h=a.rangeEndType,i=[{label:"Comparison",value:r},{label:"Range",value:s}];return n.createVNode(1,"div","context-menu-container simple-number-edit",[n.createVNode(1,"h3","dms-heading",n.createTextVNode("Edit Number"),2),n.createVNode(1,"div","dms-fill-row",n.createComponentVNode(2,p["default"],{noInput:!0,onChange:this.onTypeChange,options:i,value:b}),2),b===r&&this.renderComparison(c,d),b===s&&this.renderRange(e,f,g,h)],0)}}]),b}(n.Component);c["default"]=t},{"../Utils":186,"dmn-js-shared/lib/components/Input":501,"dmn-js-shared/lib/components/InputSelect":502,inferno:526}],188:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("dmn-js-shared/lib/components/Input")),p=a("../Utils"),q=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._modeling=c.injector.get("modeling");var e=d.props.context.element,g=p.parseString(e.businessObject.text);g?d.state={value:g.value}:d.state={value:""};var h=c.injector.get("debounceInput");return d.debouncedEditCell=h(d.editCell.bind(k(d))),d.editCell=d.editCell.bind(k(d)),d.onInput=d.onInput.bind(k(d)),d}return l(b,a),h(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onInput",value:function(a){var b=this.props.context.element;this.debouncedEditCell(b.businessObject,a),this.setState({value:a})}},{key:"render",value:function(){var a=this.state.value;return n.createVNode(1,"div","context-menu-container simple-number-edit",[n.createVNode(1,"h3","dms-heading",n.createTextVNode("Edit Number"),2),n.createVNode(1,"h4","dms-heading",n.createTextVNode("Set Value"),2),n.createComponentVNode(2,o["default"],{onInput:this.onInput,type:"number",value:a})],4)}}]),b}(n.Component);c["default"]=q},{"../Utils":186,"dmn-js-shared/lib/components/Input":501,inferno:526}],189:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../simple-mode")),f=d(a("./SimpleNumberEdit")),g=d(a("../keyboard")),h={__depends__:[g["default"],e["default"]],__init__:["simpleNumberEdit"],simpleNumberEdit:["type",f["default"]]};c["default"]=h},{"../keyboard":156,"../simple-mode":184,"./SimpleNumberEdit":185}],190:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a){return h.isInput(a.col)?a.col&&a.col.businessObject.inputExpression.typeRef:a.col&&a.col.businessObject.typeRef}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=d(a("./components/SimpleStringEditContextMenuComponent")),h=a("dmn-js-shared/lib/util/ModelUtil"),i=function j(a,b){e(this,j),b.registerProvider(function(a){return(h.isInput(a.col)||h.isOutput(a.col))&&"string"===f(a)}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(a.contextMenuType&&"simple-mode-edit"===a.contextMenuType){if(!a.element)return;var b=f(a.element);if("string"===b)return g["default"]}})};c["default"]=i,i.$inject=["components","simpleMode"]},{"./components/SimpleStringEditContextMenuComponent":192,"dmn-js-shared/lib/util/ModelUtil":515}],191:[function(a,b,c){"use strict";function d(a){if(!a||f(a.trim()))return{type:"disjunction",values:[]};var b=a.split(","),c={type:"disjunction",values:[]},d="";if(b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim()),d=""):d+=","}),!d)return c;c.type="negation",c.values=[],d="";var e=a.match(/^\s*not\((.*)\)\s*$/);return e&&(b=e[1].split(","),b.forEach(function(a){d+=a,/^"[^"]*"$/.test(d.trim())?(c.values.push(d.trim()),d=""):d+=","}),!d)?c:void 0}function e(a){var b=g.isInput(a)?a.inputValues:a.outputValues;return!b||f(b.text)?[]:b.text.split(",").map(function(a){return a.trim()})}function f(a){return""===a}Object.defineProperty(c,"__esModule",{value:!0}),c.parseString=d,c.getInputOrOutputValues=e;var g=a("dmn-js-shared/lib/util/ModelUtil")},{"dmn-js-shared/lib/util/ModelUtil":515}],192:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a){return 13===a}function o(a){return a.filter(function(a){return a.isChecked}).map(function(a){return a.value})}function p(a,b){return-1!==a.indexOf(b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var q=a("inferno"),r=d(a("dmn-js-shared/lib/components/InputSelect")),s=d(a("dmn-js-shared/lib/components/List")),t=d(a("dmn-js-shared/lib/components/ValidatedInput")),u=a("dmn-js-shared/lib/util/ModelUtil"),v=a("../Utils"),w="disjunction",x="negation",y="Predefined Values",z="Predefined Values",A="Custom Values",B=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._translate=c.injector.get("translate"),d._modeling=c.injector.get("modeling");var e=v.parseString(a.context.element.businessObject.text);e||(e={values:[],type:w});var g=v.getInputOrOutputValues(a.context.element.col.businessObject),h=e.values.filter(function(a){return!p(g,a)}),l=u.isInput(a.context.element.col),m=g.map(function(a){return{value:a,isChecked:p(e.values,a),isRemovable:!1,group:l?y:z}});l&&(m=m.concat(h.map(function(a){return{value:a,isChecked:!0,isRemovable:!0,group:A}})));var n="";l||!e.values.length||p(g,e.values[0])||(n=e.values[0]),d.state={items:m,unaryTestsType:e.type,inputValue:n,isOutputValueInputChecked:""!==n};var o=c.injector.get("debounceInput");return d.debouncedEditCell=o(d.editCell.bind(k(d))),d.editCell=d.editCell.bind(k(d)),d.addUnaryTestsListItem=d.addUnaryTestsListItem.bind(k(d)),d.onInput=d.onInput.bind(k(d)),d.onKeyDown=d.onKeyDown.bind(k(d)),d.onOutputValueInputClick=d.onOutputValueInputClick.bind(k(d)),d.onUnaryTestsListChanged=d.onUnaryTestsListChanged.bind(k(d)),d.onUnaryTestsTypeChange=d.onUnaryTestsTypeChange.bind(k(d)),d}return l(b,a),h(b,[{key:"editCell",value:function(a,b){this._modeling.editCell(a,b)}},{key:"onUnaryTestsTypeChange",value:function(a){var b=this.state.items,c=o(b),d=this.props.context.element;a===w?(this.editCell(d.businessObject,c.join(",")),this.setState({unaryTestsType:w})):(this.editCell(d.businessObject,"not(".concat(c.join(","),")")),this.setState({unaryTestsType:x}))}},{key:"onUnaryTestsListChanged",value:function(a){var b=o(a),c=this.props.context.element,d=this.state.unaryTestsType;d===w?this.editCell(c.businessObject,b.join(",")):this.editCell(c.businessObject,"not(".concat(b.join(","),")")),this.setState({items:a,isOutputValueInputChecked:!1})}},{key:"onOutputValueInputClick",value:function(){var a=this.props.context.element,b=this.state,c=b.inputValue,d=b.items,e=v.parseString(c);!e||e.values.length>1||(this.editCell(a.businessObject,"".concat(e.values.join(""))),this.setState({items:d.map(function(a){return a.isChecked=!1,a}),isOutputValueInputChecked:!0}))}},{key:"onInput",value:function(a){var b=a.isValid,c=a.value,d=this.state.isOutputValueInputChecked;this.setState({inputValue:c});var e=this.props.context.element;!u.isInput(e)&&b&&d&&this.debouncedEditCell(e.businessObject,c)}},{key:"onKeyDown",value:function(a){var b=a.isValid,c=a.event;if(n(c.keyCode)){var d=this.props.context.element,e=u.isInput(d.col);(e||!b)&&(c.stopPropagation(),c.preventDefault()),b&&(e?this.addUnaryTestsListItem():this.onOutputValueInputClick())}}},{key:"addUnaryTestsListItem",value:function(){var a=this.state,b=a.inputValue,c=a.items,d=a.unaryTestsType,e=v.parseString(b);if(e){var f=this.props.context.element,g=o(c),h=[].concat(g,e.values);d===w?this.editCell(f.businessObject,h.join(",")):this.editCell(f.businessObject,"not(".concat(h.join(","),")"));var i=c.concat(e.values.map(function(a){return{value:a,isChecked:!0,isRemovable:!0,group:"Custom Values"}}));this.setState({items:i,inputValue:""})}}},{key:"render",value:function(){var a=this,b=this.props.context.element,c=this.state,d=c.inputValue,e=c.isOutputValueInputChecked,f=c.items,g=c.unaryTestsType,h=[{label:"Match one",value:w},{label:"Match none",value:x}],i=u.isInput(b.col),j=g===x,k=!i&&f.length>0;return q.createVNode(1,"div","simple-string-edit context-menu-container",[q.createVNode(1,"h3","dms-heading",this._translate("Edit String"),0),i&&q.createVNode(1,"p",null,q.createComponentVNode(2,r["default"],{noInput:!0,onChange:this.onUnaryTestsTypeChange,options:h,value:j?x:w},null,function(b){return a.selectNode=b}),2),q.createComponentVNode(2,s["default"],{onChange:this.onUnaryTestsListChanged,items:f,type:i?"checkbox":"radio"}),i?q.createVNode(1,"h4","dms-heading",this._translate("Add Values"),0):q.createVNode(1,"h4","dms-heading",this._translate("Set Value"),0),q.createVNode(1,"div","dms-fill-row",[k&&q.createVNode(64,"input","cursor-pointer",null,1,{checked:e,onClick:this.onOutputValueInputClick,type:"radio",style:{marginRight:"8px"}}),q.createComponentVNode(2,t["default"],{className:"dms-block",onKeyDown:this.onKeyDown,onInput:this.onInput,placeholder:i?'"value", "value", ...':'"value"',type:"text",validate:function(b){return v.parseString(b)?void 0:a._translate("Strings must be in double quotes.")},value:d})],0)],0)}}]),b}(q.Component);c["default"]=B},{"../Utils":191,"dmn-js-shared/lib/components/InputSelect":502,"dmn-js-shared/lib/components/List":503,"dmn-js-shared/lib/components/ValidatedInput":504,"dmn-js-shared/lib/util/ModelUtil":515,inferno:526}],193:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../simple-mode")),f=d(a("./SimpleStringEdit")),g=d(a("../keyboard")),h={__depends__:[g["default"],e["default"]],__init__:["simpleStringEdit"],simpleStringEdit:["type",f["default"]]};c["default"]=h},{"../keyboard":156,"../simple-mode":184,"./SimpleStringEdit":190}],194:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=a("min-dom"),g=d(a("./components/TypeRefCell")),h=d(a("./components/TypeRefCellContextMenu")),i=function j(a,b,c,d){e(this,j),a.onGetComponent("cell",function(a){var b=a.cellType;return"input-header-type-ref"===b||"output-header-type-ref"===b?g["default"]:void 0}),a.onGetComponent("context-menu",function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return a.contextMenuType&&"type-ref-edit"===a.contextMenuType?h["default"]:void 0}),c.on("typeRef.edit",function(a){var c=a.event,e=a.element,g=c.target,h=f.closest(g,"th",!0),i=h.getBoundingClientRect(),j=i.left,k=i.top,l=i.width,m=i.height,n=d.getContainer();b.open({x:j+n.parentNode.scrollLeft,y:k+n.parentNode.scrollTop,width:l,height:m},{contextMenuType:"type-ref-edit",element:e,offset:{x:4,y:4}})})};c["default"]=i,i.$inject=["components","contextMenu","eventBus","renderer"]},{"./components/TypeRefCell":195,"./components/TypeRefCellContextMenu":196,"min-dom":735}],195:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=a("dmn-js-shared/lib/util/ModelUtil"),p=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a)),m(j(d),"onClick",function(a){var b=d.getTypeRefTarget();d._eventBus.fire("typeRef.edit",{event:a,element:b})}),m(j(d),"onContextmenu",function(a){var b=d.props.element,c=b;o.is(b,"dmn:LiteralExpression")&&(c=b.$parent),d._eventBus.fire("cell.contextmenu",{event:a,node:a.node,id:c.id})}),m(j(d),"onElementsChanged",function(){d.forceUpdate()}),d._translate=c.injector.get("translate"),d}return k(b,a),g(b,[{key:"componentWillMount",value:function(){var a=this.context.injector;this._changeSupport=this.context.changeSupport,this._sheet=a.get("sheet"),this._eventBus=a.get("eventBus");var b=this.getTypeRefTarget();this._changeSupport.onElementsChanged(b.id,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this.getTypeRefTarget();this._changeSupport.offElementsChanged(a.id,this.onElementsChanged)}},{key:"getTypeRefTarget",value:function(){var a=this.props.element;return o.is(a,"dmn:InputClause")?a.inputExpression:a}},{key:"render",value:function(){var a=this.props,b=a.element,c=a.className,d=(c||"")+" type-ref",e=o.is(b,"dmn:LiteralExpression")?b.$parent.id:b.id;return n.createVNode(1,"th",d,b.typeRef,0,{title:this._translate("Data Type"),"data-col-id":e,onClick:this.onClick,onContextmenu:this.onContextmenu})}}]),b}(n.Component);c["default"]=p},{"dmn-js-shared/lib/util/ModelUtil":515,inferno:526}],196:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=a("dmn-js-shared/lib/util/ModelUtil"),q=d(a("dmn-js-shared/lib/components/InputSelect")),r=["string","boolean","integer","long","double","date"],s=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a)),n(k(d),"onTypeChange",function(a){var b,c=d.props.context.element,e=p.is(c,"dmn:LiteralExpression")?c.$parent:c;p.isInput(e)?b={inputExpression:{typeRef:a}}:p.isOutput(e)&&(b={typeRef:a}),d._modeling.updateProperties(e,b)}),d._translate=c.injector.get("translate"),d._modeling=c.injector.get("modeling"),d}return l(b,a),h(b,[{key:"render",value:function(){var a=this.props.context.element,b=(p.is(a,"dmn:InputClause")?a.inputExpression:a).typeRef,c=r.map(function(a){return{label:a,value:a}});return o.createVNode(1,"div","type-ref-edit context-menu-container",[o.createVNode(1,"label","dms-label",[this._translate("Type"),o.createTextVNode(":")],0),o.createComponentVNode(2,q["default"],{className:"type-ref-edit-select",onChange:this.onTypeChange,options:c,value:b})],4)}}]),b}(o.Component);c["default"]=s},{"dmn-js-shared/lib/components/InputSelect":502,"dmn-js-shared/lib/util/ModelUtil":515,inferno:526}],197:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("table-js/lib/features/context-menu")),f=d(a("./TypeRefEditingProvider")),g={__depends__:[e["default"]],__init__:["typeRefEditingProvider"],typeRefEditingProvider:["type",f["default"]]};c["default"]=g},{"./TypeRefEditingProvider":194,"table-js/lib/features/context-menu":768}],198:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a){var b=a.businessObject;if(b){var c=b.$parent,d=c.$parent;return d}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=d(a("./components/ViewDrdComponent")),j=function(){function a(b,c,d,f){var g=this;e(this,a),this._injector=d,this._sheet=f,b.onGetComponent("table.before",function(){return g.canViewDrd()?i["default"]:void 0}),c.on("showDrd",function(){var a=d.get("_parent",!1),b=f.getRoot(),c=h(b);if(c){var e=a.getView(c);a.open(e)}})}return g(a,[{key:"canViewDrd",value:function(){var a=this._injector.get("_parent",!1);if(!a)return!1;var b=this._sheet.getRoot(),c=h(b);return!!a.getView(c)}}]),a}();c["default"]=j,j.$inject=["components","eventBus","injector","sheet"]},{"./components/ViewDrdComponent":199}],199:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=function(a){function b(a,c){var d;e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(){d._eventBus.fire("showDrd")});var f=c.injector;return d._eventBus=f.get("eventBus"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this;return n.createVNode(1,"div","view-drd",n.createVNode(1,"button","view-drd-button",n.createTextVNode("查看DRD"),2,{onClick:this.onClick}),2,null,null,function(b){return a.node=b})}}]),b}(n.Component);c["default"]=o},{inferno:526}],200:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ViewDrd")),f={__init__:["viewDrd"],viewDrd:["type",e["default"]]};c["default"]=f},{"./ViewDrd":198}],201:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){function d(a){var b={create:function(a,b,c,d){return g.create(a,b,c,d)},table:function(a){return g.add(a)},element:function(a,b,c){return g.add(a,b,c)},error:function(a,b){k.push({message:a,context:b})}},c=new f["default"](b,{canAddMissingEntries:j});c.handleDecision(a)}var e,g=a.get("tableImporter"),h=a.get("eventBus"),i=a.get("sheet"),j=a.get("modeling",!1),k=[];h.fire("import.render.start",{decision:b});try{d(b)}catch(l){e=l}h.fire("import.render.complete",{error:e,warnings:k}),h.fire("elements.changed",{elements:[i.getRoot()]}),c(e,k)}Object.defineProperty(c,"__esModule",{value:!0}),c.importDecision=e;var f=d(a("./TableTreeWalker"))},{"./TableTreeWalker":203}],202:[function(a,b,c){"use strict";function d(a){return g(a)||f(a)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function g(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a,b){return l.assign({id:a.id,type:a.$type,businessObject:a},b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var l=a("min-dash"),m=a("dmn-js-shared/lib/util/ModelUtil"),n=function(){function a(b,c,d){h(this,a),this._elementFactory=b,this._eventBus=c,this._sheet=d}return j(a,[{key:"add",value:function(a){var b,c=this;if(m.is(a,"dmn:DecisionTable"))b=this._elementFactory.createRoot(k(a)),this._sheet.setRoot(b);else if(m.is(a,"dmn:InputClause"))b=this._elementFactory.createCol(k(a)),this._sheet.addCol(b);else if(m.is(a,"dmn:OutputClause"))b=this._elementFactory.createCol(k(a)),this._sheet.addCol(b);else if(m.is(a,"dmn:DecisionRule")){a.inputEntry||(a.inputEntry=[]),a.outputEntry||(a.outputEntry=[]);var e=[].concat(d(a.inputEntry),d(a.outputEntry)).map(function(a){return c._elementFactory.createCell(k(a))});b=this._elementFactory.createRow(l.assign(k(a),{cells:e})),this._sheet.addRow(b)}return this._eventBus.fire("dmnElement.added",{element:b}),b}}]),a}();c["default"]=n,n.$inject=["elementFactory","eventBus","sheet"]},{"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],203:[function(a,b,c){"use strict";function d(a,b){function c(b,c,d){var e=b.gfx;if(e)throw new Error("already rendered ".concat(f.elementToString(b)));return a.element(b,c,d)}function d(b){return a.table(b)}function g(a){a.id||(a.id="decision");var b=a.decisionLogic;if(!b)throw new Error("no table for ".concat(f.elementToString(a)));if(!b.output)throw new Error("missing output for ".concat(f.elementToString(b)));var c=d(b);b.input&&h(b.input,c,b),h(b.output,c,b),i(b.rule,c,b)}function h(a,b,d){e.forEach(a,function(a){c(a,b,d)})}function i(a,b,d){e.forEach(a,function(a){c(a,b,d),j(a.inputEntry,a),j(a.outputEntry,a)})}function j(a,b,d){e.forEach(a,function(a){c(a,b,d)})}return{handleDecision:g}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("./Util")},{"./Util":204,"min-dash":734}],204:[function(a,b,c){"use strict";function d(a){if(!a)return"<null>";var b=a.id?' id="'.concat(a.id,'"'):"";return"<".concat(a.$type).concat(b," />")}Object.defineProperty(c,"__esModule",{value:!0}),c.elementToString=d},{}],205:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./TableImporter")),f=d(a("diagram-js/lib/i18n/translate")),g={__depends__:[f["default"]],tableImporter:["type",e["default"]]};c["default"]=g},{"./TableImporter":202,"diagram-js/lib/i18n/translate":210}],206:[function(a,b,c){"use strict";function d(a){this._eventBus=a}function e(a,b){return function(c){return a.call(b||null,c.context,c.command,c)}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=1e3;d.$inject=["eventBus"],d.prototype.on=function(a,b,c,d,h,i){if((f.isFunction(b)||f.isNumber(b))&&(i=h,h=d,d=c,c=b,b=null),f.isFunction(c)&&(i=h,h=d,d=c,c=g),f.isObject(h)&&(i=h,h=!1),!f.isFunction(d))throw new Error("handlerFn must be a function");f.isArray(a)||(a=[a]);var j=this._eventBus;f.forEach(a,function(a){var f=["commandStack",a,b].filter(function(a){return a}).join(".");j.on(f,c,h?e(d,i):d,i)})};var h=["canExecute","preExecute","preExecuted","execute","executed","postExecute","postExecuted","revert","reverted"];f.forEach(h,function(a){d.prototype[a]=function(b,c,d,e,g){(f.isFunction(b)||f.isNumber(b))&&(g=e,e=d,d=c,c=b,b=null),this.on(b,a,c,d,e,g)}})},{"min-dash":734}],207:[function(a,b,c){"use strict";function d(){}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,d.prototype.get=function(){return this._data},d.prototype.set=function(a){this._data=a},d.prototype.clear=function(){var a=this._data;return delete this._data,a},d.prototype.isEmpty=function(){return!this._data}},{}],208:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Clipboard")),f={clipboard:["type",e["default"]]};c["default"]=f},{"./Clipboard":207}],209:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"].call(this,a),this.init()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("../../command/CommandInterceptor"));e.$inject=["eventBus"],f["default"](e,g["default"]),e.prototype.addRule=function(a,b,c){var d=this;"string"==typeof a&&(a=[a]),a.forEach(function(a){d.canExecute(a,b,function(a,b,d){return c(a)},!0)})},e.prototype.init=function(){}},{"../../command/CommandInterceptor":206,inherits:527}],210:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{"./translate":211,dup:67}],211:[function(a,b,c){arguments[4][68][0].apply(c,arguments)},{dup:68}],212:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"].call(this,a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("./NavigatedViewer")),h=d(a("diagram-js/lib/features/align-elements")),i=d(a("diagram-js/lib/features/auto-scroll")),j=d(a("diagram-js/lib/features/bendpoints")),k=d(a("./features/context-pad")),l=d(a("diagram-js/lib/features/connection-preview")),m=d(a("./features/definition-properties/modeler")),n=d(a("./features/distribute-elements")),o=d(a("./features/editor-actions")),p=d(a("./features/generate-di")),q=d(a("diagram-js/lib/features/grid-snapping")),r=d(a("./features/keyboard")),s=d(a("diagram-js/lib/navigation/keyboard-move")),t=d(a("diagram-js/lib/features/keyboard-move-selection")),u=d(a("./features/label-editing")),v=d(a("./features/modeling")),w=d(a("diagram-js/lib/features/move")),x=d(a("./features/palette")),y=d(a("diagram-js/lib/features/resize")),z=d(a("diagram-js/lib/features/snapping"));
f["default"](e,g["default"]),e.prototype._modelingModules=[h["default"],i["default"],j["default"],k["default"],l["default"],m["default"],n["default"],o["default"],p["default"],q["default"],r["default"],s["default"],t["default"],u["default"],v["default"],w["default"],x["default"],y["default"],z["default"]],e.prototype._modules=[].concat(e.prototype._modules,e.prototype._modelingModules)},{"./NavigatedViewer":213,"./features/context-pad":221,"./features/definition-properties/modeler":225,"./features/distribute-elements":228,"./features/editor-actions":232,"./features/generate-di":234,"./features/keyboard":236,"./features/label-editing":240,"./features/modeling":252,"./features/palette":254,"diagram-js/lib/features/align-elements":286,"diagram-js/lib/features/auto-scroll":288,"diagram-js/lib/features/bendpoints":295,"diagram-js/lib/features/connection-preview":302,"diagram-js/lib/features/grid-snapping":320,"diagram-js/lib/features/keyboard-move-selection":324,"diagram-js/lib/features/move":358,"diagram-js/lib/features/resize":375,"diagram-js/lib/features/snapping":388,"diagram-js/lib/navigation/keyboard-move":402,inherits:527}],213:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){g["default"].call(this,a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("./Viewer")),h=d(a("diagram-js/lib/navigation/zoomscroll")),i=d(a("diagram-js/lib/navigation/movecanvas")),j=d(a("diagram-js/lib/navigation/touch"));f["default"](e,g["default"]),e.prototype._navigationModules=[h["default"],i["default"],j["default"]],e.prototype._modules=[].concat(e.prototype._modules,e.prototype._navigationModules)},{"./Viewer":214,"diagram-js/lib/navigation/movecanvas":404,"diagram-js/lib/navigation/touch":405,"diagram-js/lib/navigation/zoomscroll":408,inherits:527}],214:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e(c,!0).forEach(function(b){g(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a){return k(a)||j(a)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function j(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function k(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function l(a,b){if(null==a)return{};var c,d,e=m(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function m(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function n(a){this._container=this._createContainer(),o(this._container),this._init(this._container,a)}function o(a){var b=A.BPMNIO_IMG,c='<a href="http://www.pangubpm.com/" target="_blank" class="bjs-powered-by" title="版权方:盘古BPM工作流" style="position: absolute; bottom: 15px; right: 15px; z-index: 100">'+b+"</a>",d=p.domify(c);a.appendChild(d),p.event.bind(d,"click",function(a){A.open(),a.preventDefault()})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=n;var p=a("min-dom"),q=d(a("diagram-js")),r=d(a("inherits")),s=a("./import/Importer"),t=a("tiny-svg"),u=d(a("./core")),v=d(a("diagram-js/lib/i18n/translate")),w=d(a("diagram-js/lib/features/selection")),x=d(a("diagram-js/lib/features/overlays")),y=d(a("./features/definition-properties/viewer")),z=d(a("./features/drill-down")),A=a("./util/PoweredByUtil");r["default"](n,q["default"]),n.prototype.saveSVG=function(a,b){b||(b=a,a={});var c=this.get("canvas"),d=c.getDefaultLayer(),e=p.query("defs",c._svg),f=t.innerSVG(d),g=e&&e.outerHTML||"",h=d.getBBox(),i='<?xml version="1.0" encoding="utf-8"?>\n<!-- created with dmn-js / http://bpmn.io -->\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+h.width+'" height="'+h.height+'" viewBox="'+h.x+" "+h.y+" "+h.width+" "+h.height+'" version="1.1">'+g+f+"</svg>";b(null,i)},n.prototype.getModules=function(){return this._modules},n.prototype.destroy=function(){q["default"].prototype.destroy.call(this),p.remove(this._container)},n.prototype.on=function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)},n.prototype.off=function(a,b){this.get("eventBus").off(a,b)},n.prototype._init=function(a,b){var c=b.additionalModules,d=b.canvas,e=l(b,["additionalModules","canvas"]),g=b.modules||this.getModules(),i=[{drd:["value",this]}],j=[].concat(i,h(g),h(c||[])),k=f({},e,{canvas:f({},d,{container:a}),modules:j});q["default"].call(this,k),b&&b.container&&this.attachTo(b.container)},n.prototype._emit=function(a,b){return this.get("eventBus").fire(a,b)},n.prototype._createContainer=function(){return p.domify('<div class="dmn-drd-container"></div>')},n.prototype.open=function(a,b){var c;try{return this._definitions&&this.clear(),this._definitions=a,s.importDRD(this,a,b)}catch(d){c=d}return b(c)},n.prototype.attachTo=function(a){if(!a)throw new Error("parentNode required");this.detach();var b=this._container;a.appendChild(b),this._emit("attach",{}),this.get("canvas").resized()},n.prototype.detach=function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),b.removeChild(a))},n.prototype._modules=[u["default"],v["default"],w["default"],x["default"],y["default"],z["default"]]},{"./core":215,"./features/definition-properties/viewer":226,"./features/drill-down":230,"./import/Importer":264,"./util/PoweredByUtil":266,"diagram-js":270,"diagram-js/lib/features/overlays":362,"diagram-js/lib/features/selection":382,"diagram-js/lib/i18n/translate":395,inherits:527,"min-dom":735,"tiny-svg":794}],215:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../draw")),f=d(a("../import")),g={__depends__:[e["default"],f["default"]]};c["default"]=g},{"../draw":219,"../import":265}],216:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d){function e(a,b){w[a]=b}function g(a){var b=w[a];return"url(#"+b.id+")"}function n(a){function b(b,c){var d=h.assign({strokeWidth:1,strokeLinecap:"round",strokeDasharray:"none"},c.attrs),f=c.ref||{x:0,y:0},g=c.scale||1;"none"===d.strokeDasharray&&(d.strokeDasharray=[1e4,1]);var k=j.create("marker");j.attr(c.element,d),j.append(k,c.element),j.attr(k,{id:b,viewBox:"0 0 20 20",refX:f.x,refY:f.y,markerWidth:20*g,markerHeight:20*g,orient:"auto"});var l=i.query("defs",a);return l||(l=j.create("defs"),j.append(a,l)),j.append(l,k),e(b,k)}var c=j.create("path");j.attr(c,{d:"M 11 5 L 1 10 L 11 15"}),b("association-start",{element:c,attrs:{fill:"none",stroke:"black",strokeWidth:1.5},ref:{x:1,y:10},scale:.5});var d=j.create("path");j.attr(d,{d:"M 1 5 L 11 10 L 1 15"}),b("association-end",{element:d,attrs:{fill:"none",stroke:"black",strokeWidth:1},ref:{x:12,y:10},scale:.5});var f=j.create("path");j.attr(f,{d:"M 1 5 L 11 10 L 1 15 Z"}),b("information-requirement-end",{element:f,ref:{x:11,y:10},scale:1});var g=j.create("path");j.attr(g,{d:"M 1 3 L 11 10 L 1 17"}),b("knowledge-requirement-end",{element:g,attrs:{fill:"none",stroke:"black",strokeWidth:1},ref:{x:11,y:10},scale:.8});var k=j.create("circle");j.attr(k,{cx:3,cy:3,r:3}),b("authority-requirement-end",{element:k,ref:{x:3,y:3},scale:.9})}function o(a,b,d){return h.isArray(b)||(d=b,b=[]),c.style(b||[],h.assign(d,a||{}))}function p(a,b,c,d,e,f){h.isObject(e)&&(f=e,e=0),e=e||0,f=o(f,{stroke:"black",strokeWidth:1,fill:"white"});var g=j.create("rect");return j.attr(g,{x:e,y:e,width:b-2*e,height:c-2*e,rx:d,ry:d}),j.attr(g,f),j.append(a,g),g}function q(a,b,c){var e=d.createText(b||"",c);return i.attr(e,"class","djs-label"),j.append(a,e),e}function r(a,b,c){var d=m.getName(b);return q(a,d,{box:b,align:c,padding:5})}function s(a,b,c){c=o(c,["no-fill"],{strokeWidth:1,stroke:"black"});var d=j.create("path");return j.attr(d,{d:b}),j.attr(d,c),j.append(a,d),d}function t(a,b){var c=x[b.type];return c?c(a,b):k["default"].prototype.drawShape.apply(this,[a,b])}function u(a,b){var c=b.type,d=x[c];return d?d(a,b):k["default"].prototype.drawConnection.apply(this,[a,b])}function v(a,b,c){c=o(c,["no-fill"],{stroke:"black",strokeWidth:1,fill:"none"});var d=l.createLine(b,c);return j.append(a,d),d}k["default"].call(this,a);var w={},x={"dmn:Decision":function(a,b,c){var d=p(a,b.width,b.height,0,c);return r(a,b,"center-middle"),d},"dmn:KnowledgeSource":function(a,c,d){var e=b.getScaledPath("KNOWLEDGE_SOURCE",{xScaleFactor:1.021,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.075}}),f=s(a,e,{strokeWidth:1,fill:"white",stroke:"black"});return r(a,c,"center-middle"),f},"dmn:BusinessKnowledgeModel":function(a,c,d){var e=b.getScaledPath("BUSINESS_KNOWLEDGE_MODEL",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:.3}}),f=s(a,e,{strokeWidth:1,fill:"white",stroke:"black"});return r(a,c,"center-middle"),f},"dmn:InputData":function(a,b,c){var d=p(a,b.width,b.height,22,c);return r(a,b,"center-middle"),d},"dmn:TextAnnotation":function(a,c,d){var e={fill:"none",stroke:"none"},g=p(a,c.width,c.height,0,0,e),h=b.getScaledPath("TEXT_ANNOTATION",{xScaleFactor:1,yScaleFactor:1,containerWidth:c.width,containerHeight:c.height,position:{mx:0,my:0}});s(a,h);var i=f(c).text||"";return q(a,i,{box:c,align:"left-top",padding:5}),g},"dmn:Association":function(a,b,c){var d=f(b);return c=h.assign({strokeDasharray:"0.5, 5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"},c||{}),("One"===d.associationDirection||"Both"===d.associationDirection)&&(c.markerEnd=g("association-end")),"Both"===d.associationDirection&&(c.markerStart=g("association-start")),v(a,b.waypoints,c)},"dmn:InformationRequirement":function(a,b,c){return c=h.assign({strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:g("information-requirement-end")},c||{}),v(a,b.waypoints,c)},"dmn:KnowledgeRequirement":function(a,b,c){return c=h.assign({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:g("knowledge-requirement-end")},c||{}),v(a,b.waypoints,c)},"dmn:AuthorityRequirement":function(a,b,c){return c=h.assign({strokeWidth:1,strokeDasharray:5,strokeLinecap:"round",strokeLinejoin:"round",markerEnd:g("authority-requirement-end")},c||{}),v(a,b.waypoints,c)}};this.canRender=function(a){return m.is(a,"dmn:DMNElement")||m.is(a,"dmn:InformationRequirement")||m.is(a,"dmn:KnowledgeRequirement")||m.is(a,"dmn:AuthorityRequirement")},this.drawShape=t,this.drawConnection=u,a.on("canvas.init",function(a){n(a.svg)})}function f(a){return a.businessObject}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var g=d(a("inherits")),h=a("min-dash"),i=a("min-dom"),j=a("tiny-svg"),k=d(a("diagram-js/lib/draw/BaseRenderer")),l=a("diagram-js/lib/util/RenderUtil"),m=a("dmn-js-shared/lib/util/ModelUtil");g["default"](e,k["default"]),e.$inject=["eventBus","pathMap","styles","textRenderer"]},{"diagram-js/lib/draw/BaseRenderer":281,"diagram-js/lib/util/RenderUtil":425,"dmn-js-shared/lib/util/ModelUtil":515,inherits:527,"min-dash":734,"min-dom":735,"tiny-svg":794}],217:[function(a,b,c){"use strict";function d(){this.pathMap={KNOWLEDGE_SOURCE:{d:"m {mx},{my} l 0,{e.y0} c {e.x0},{e.y1} {e.x1},-{e.y2} {e.x2},-{e.y3} c {e.x3},-{e.y4} {e.x4},{e.y5} {e.x5},{e.y6} l 0,-{e.y7}z",width:100,height:65,widthElements:[29.8,48.4,67.2,12.2,19.8,30.8],heightElements:[55.3,19.7,4.2,6.7,2.3,1.6,6.2,54.6]},BUSINESS_KNOWLEDGE_MODEL:{d:"m {mx},{my} l {e.x0},-{e.y0} l {e.x1},0 l 0,{e.y1} l -{e.x2},{e.y2} l -{e.x3},0z",width:125,height:45,widthElements:[13.8,109.2,13.8,109.1],heightElements:[13.2,29.8,13.2]},TEXT_ANNOTATION:{d:"m {mx}, {my} m 10,0 l -10,0 l 0,{e.y0} l 10,0",width:10,height:30,widthElements:[10],heightElements:[30]}},this.getRawPath=function(a){return this.pathMap[a].d},this.getScaledPath=function(a,b){var c,d,e=this.pathMap[a];b.abspos?(c=b.abspos.x,d=b.abspos.y):(c=b.containerWidth*b.position.mx,d=b.containerHeight*b.position.my);var g={};if(b.position){for(var h=b.containerHeight/e.height*b.yScaleFactor,i=b.containerWidth/e.width*b.xScaleFactor,j=0;j<e.heightElements.length;j++)g["y"+j]=e.heightElements[j]*h;for(var k=0;k<e.widthElements.length;k++)g["x"+k]=e.widthElements[k]*i}var l=f(e.d,{mx:c,my:d,e:g});return l}}function e(a,b,c){var d=c;return b.replace(h,function(a,b,c,e,f){b=b||e,d&&(b in d&&(d=d[b]),"function"==typeof d&&f&&(d=d()))}),d=(null==d||d==c?a:d)+""}function f(a,b){return String(a).replace(g,function(a,c){return e(a,c,b)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=/\{([^}]+)\}/g,h=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g},{}],218:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=f.assign({fontFamily:"Arial, sans-serif",fontSize:h,fontWeight:"normal",lineHeight:i},a&&a.defaultStyle||{}),c=parseInt(b.fontSize,10)-1,d=f.assign({},b,{fontSize:c},a&&a.externalStyle||{}),e=new g["default"]({style:b});this.getExternalLabelBounds=function(a,b){var c=e.getDimensions(b,{box:{width:90,height:30,x:a.width/2+a.x,y:a.height/2+a.y},style:d});return{x:Math.round(a.x+a.width/2-c.width/2),y:Math.round(a.y),width:Math.ceil(c.width),height:Math.ceil(c.height)}},this.getTextAnnotationBounds=function(a,c){var d=e.getDimensions(c,{box:a,style:b,align:"left-top",padding:5});return{x:a.x,y:a.y,width:a.width,height:Math.max(j,Math.round(d.height))}},this.createText=function(a,b){return e.createText(a,b||{})},this.getDefaultStyle=function(){return b},this.getExternalStyle=function(){return d}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=d(a("diagram-js/lib/util/Text")),h=12,i=1.2,j=30;e.$inject=["config.textRenderer"]},{"diagram-js/lib/util/Text":427,"min-dash":734}],219:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DrdRenderer")),f=d(a("./TextRenderer")),g=d(a("./PathMap")),h={__init__:["drdRenderer"],drdRenderer:["type",e["default"]],textRenderer:["type",f["default"]],pathMap:["type",g["default"]]};c["default"]=h},{"./DrdRenderer":216,"./PathMap":217,"./TextRenderer":218}],220:[function(a,b,c){"use strict";function d(a,b,c,d,e,f,h,i,j,k){b.registerProvider(this),this._contextPad=b,this._modeling=c,this._elementFactory=d,this._connect=e,this._create=f,this._rules=h,this._popupMenu=i,this._canvas=j,this._translate=k,a.on("create.end",250,function(a){var c=a.context.shape;if(g.hasPrimaryModifier(a)){var d=b.getEntries(c);d.replace&&d.replace.action.click(a,c)}})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("dmn-js-shared/lib/util/ModelUtil"),g=a("diagram-js/lib/util/Mouse");d.$inject=["eventBus","contextPad","modeling","elementFactory","connect","create","rules","popupMenu","canvas","translate"],d.prototype.getContextPadEntries=function(a){function b(a,b,c){j.start(a,b,c)}function c(b){h.removeElements([a])}function d(a){var b=5,c=m.getContainer(),d=n.getPad(a).html,e=c.getBoundingClientRect(),f=d.getBoundingClientRect(),g=f.top-e.top,h=f.left-e.left,i={x:h,y:g+f.height+b};return i}function g(a,b,c,d){function f(b,c){var f=i.createShape(e.assign({type:a},d));k.start(b,f,{source:c})}return"string"!=typeof c&&(d=c,c=p("Append {type}",{type:a.replace(/^dmn:/,"")})),{group:"model",className:b,title:c,action:{dragstart:f,click:f}}}var h=this._modeling,i=this._elementFactory,j=this._connect,k=this._create,l=this._popupMenu,m=this._canvas,n=this._contextPad,o=this._rules,p=this._translate,q={};if("label"===a.type)return q;var r=a.businessObject;f.isAny(r,["dmn:InputData","dmn:BusinessKnowledgeModel","dmn:KnowledgeSource","dmn:Decision"])&&e.assign(q,{"append.decision":g("dmn:Decision","dmn-icon-decision")}),f.isAny(r,["dmn:InputData","dmn:Decision","dmn:KnowledgeSource"])&&e.assign(q,{"append.knowledge-source":g("dmn:KnowledgeSource","dmn-icon-knowledge-source")}),f.isAny(r,["dmn:BusinessKnowledgeModel","dmn:KnowledgeSource"])&&e.assign(q,{"append.business-knowledge-model":g("dmn:BusinessKnowledgeModel","dmn-icon-business-knowledge")}),f.isAny(r,["dmn:Decision"])&&e.assign(q,{"append.input-data":g("dmn:InputData","dmn-icon-input-data")}),f.is(r,"dmn:DRGElement")&&e.assign(q,{"append.text-annotation":g("dmn:TextAnnotation","dmn-icon-text-annotation"),connect:{group:"connect",className:"dmn-icon-connection-multi",title:p("Connect using Information/Knowledge/Authority Requirement or Association"),action:{click:b,dragstart:b}}}),l.isEmpty(a,"dmn-replace")||e.assign(q,{replace:{group:"edit",className:"dmn-icon-screw-wrench",title:p("Change type"),action:{click:function(a,b){var c=e.assign(d(b),{cursor:{x:a.x,y:a.y}});l.open(b,"dmn-replace",c)}}}});var s=o.allowed("elements.delete",{elements:[a]});return e.isArray(s)&&(s=s[0]===a),s&&e.assign(q,{"delete":{group:"edit",className:"dmn-icon-trash",title:p("Remove"),action:{click:c}}}),q}},{"diagram-js/lib/util/Mouse":421,"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],221:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/i18n/translate")),f=d(a("diagram-js/lib/features/context-pad")),g=d(a("diagram-js/lib/features/selection")),h=d(a("diagram-js/lib/features/connect")),i=d(a("diagram-js/lib/features/create")),j=d(a("../popup-menu")),k=d(a("./ContextPadProvider")),l={__depends__:[e["default"],f["default"],g["default"],h["default"],i["default"],j["default"]],__init__:["contextPadProvider"],contextPadProvider:["type",k["default"]]};c["default"]=l},{"../popup-menu":256,"./ContextPadProvider":220,"diagram-js/lib/features/connect":300,"diagram-js/lib/features/context-pad":304,"diagram-js/lib/features/create":307,"diagram-js/lib/features/selection":382,"diagram-js/lib/i18n/translate":395}],222:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=a,this._modeling=b,this._canvas=c,a.on("definitionIdView.create",function(a){var b=a.html,c=f.query(".dmn-definitions-name",b),d=f.query(".dmn-definitions-id",b);this._setup(c,"name"),this._setup(d,"id")},this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("min-dom"),g=300;d.$inject=["eventBus","modeling","canvas"],d.prototype.update=function(a,b){var c={};c[a]=b,this._modeling.updateProperties(this._canvas.getRootElement(),c)},d.prototype._setup=function(a,b){var c=this;a.setAttribute("contenteditable",!0),a.addEventListener("input",e.debounce(function(a){var d=a.target.value||a.target.textContent;c.update(b,d.trim())},g)),a.addEventListener("keydown",function(b){13===b.keyCode&&(a.blur(),window.getSelection().removeAllRanges())})}},{"min-dash":734,"min-dom":735}],223:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._canvas=b,a.on("diagram.init",function(){this._init()},this),a.on("import.done",function(a){a.error||this.update()},this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dom");d.$inject=["eventBus","canvas"],d.prototype._init=function(){var a=this._canvas,b=this._eventBus,c=a.getContainer(),f=this._container=e.domify(d.HTML_MARKUP);c.appendChild(f),this.nameElement=e.query(".dmn-definitions-name",this._container),this.idElement=e.query(".dmn-definitions-id",this._container),e.delegate.bind(f,".dmn-definitions-name, .dmn-definitions-id","mousedown",function(a){a.stopPropagation()}),b.fire("definitionIdView.create",{html:f})},d.prototype.update=function(){var a=this._canvas.getRootElement().businessObject;this.nameElement.textContent=a.name,this.idElement.textContent=a.id},d.HTML_MARKUP='<div class="dmn-definitions"><div class="dmn-definitions-name" title="Definition Name"></div><div class="dmn-definitions-id" title="Definition ID"></div></div>'},{"min-dom":735}],224:[function(a,b,c){"use strict";function d(a,b){function c(a,c){var d=b.getContainer();e.classes(d).toggle(a,c)}a.on("palette.create",function(){c("with-palette",!0)}),a.on("palette.changed",function(a){c("with-palette-two-column",a.twoColumn)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dom");d.$inject=["eventBus","canvas"]},{"min-dom":735}],225:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DefinitionPropertiesEdit")),f=d(a("./PaletteAdapter")),g={__init__:["definitionPropertiesEdit","definitionPropertiesPaletteAdapter"],definitionPropertiesEdit:["type",e["default"]],definitionPropertiesPaletteAdapter:["type",f["default"]]};c["default"]=g},{"./DefinitionPropertiesEdit":222,"./PaletteAdapter":224}],226:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DefinitionPropertiesView")),f=d(a("./PaletteAdapter")),g={__init__:["definitionPropertiesView","definitionPropertiesPaletteAdapter"],definitionPropertiesView:["type",e["default"]],definitionPropertiesPaletteAdapter:["type",f["default"]]};c["default"]=g},{"./DefinitionPropertiesView":223,"./PaletteAdapter":224}],227:[function(a,b,c){"use strict";function d(a){a.registerFilter(function(a){return e.filter(a,function(a){var b=f.isAny(a,["dmn:AuthorityRequirement","dmn:InformationRequirement","dmn:KnowledgeRequirement","dmn:Association","dmn:TextAnnotation"]);return!(a.labelTarget||b)})})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("dmn-js-shared/lib/util/ModelUtil");d.$inject=["distributeElements"]},{"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],228:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/distribute-elements")),f=d(a("./DrdDistributeElements")),g={__depends__:[e["default"]],__init__:["drdDistributeElements"],drdDistributeElements:["type",f["default"]]};c["default"]=g},{"./DrdDistributeElements":227,"diagram-js/lib/features/distribute-elements":309}],229:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("dmn-js-shared/lib/util/ModelUtil"),h=a("min-dom"),i=[{className:"dmn-icon-decision-table",matches:function(a){var b=a.businessObject;return g.is(b,"dmn:Decision")&&g.is(b.decisionLogic,"dmn:DecisionTable")}},{className:"dmn-icon-literal-expression",matches:function(a){var b=a.businessObject;return g.is(b,"dmn:Decision")&&g.is(b.decisionLogic,"dmn:LiteralExpression")}}],j=function(){function a(b,c,e,f){var g=this;d(this,a),this._injector=b,this._eventBus=c,this._overlays=e,this._config=f||{enabled:!0},c.on(["shape.added"],function(a){for(var b=a.element,c=0;c<i.length;c++){var d=i[c],e=d.matches,f=d.className,h=e&&e(b);h&&g.addOverlay(b,f)}})}return f(a,[{key:"addOverlay",value:function(a,b){var c=h.domify('\n      <div class="drill-down-overlay">\n        <span class="'.concat(b,'"></span>\n      </div>\n    ')),d=this._overlays.add(a,{position:{top:2,left:2},html:c});this._config.enabled!==!1&&(h.classes(c).add("interactive"),this.bindEventListener(a,c,d))}},{key:"bindEventListener",value:function(a,b,c){var d=this,e=this._overlays,f=this._eventBus,g=e._overlayRoot;h.delegate.bind(g,'[data-overlay-id="'+c+'"]',"click",function(){var b=f.fire("drillDown.click",{element:a});b!==!1&&d.drillDown(a)})}},{key:"drillDown",value:function(a){var b=this._injector.get("_parent",!1);if(!b)return!1;var c=b.getView(a.businessObject);return c?(b.open(c),!0):!1}}]),a}();c["default"]=j,j.$inject=["injector","eventBus","overlays","config.drillDown"]},{"dmn-js-shared/lib/util/ModelUtil":515,"min-dom":735}],230:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/overlays")),f=d(a("./DrillDown")),g={__depends__:[e["default"]],__init__:["drillDown"],drillDown:["type",f["default"]]};c["default"]=g},{"./DrillDown":229,"diagram-js/lib/features/overlays":362}],231:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.invoke(g["default"],this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("diagram-js/lib/features/editor-actions/EditorActions"));f["default"](e,g["default"]),e.$inject=["injector"],e.prototype._registerDefaultActions=function(a){g["default"].prototype._registerDefaultActions.call(this,a);var b=a.get("canvas",!1),c=a.get("elementRegistry",!1),d=a.get("selection",!1),e=a.get("lassoTool",!1),f=a.get("directEditing",!1),h=a.get("distributeElements",!1),i=a.get("alignElements",!1);b&&c&&d&&this._registerAction("selectElements",function(){var a=b.getRootElement(),e=c.filter(function(b){return b!==a});return d.select(e),e}),d&&h&&this._registerAction("distributeElements",function(a){var b=d.get(),c=a.type;b.length>2&&h.trigger(b,c)}),d&&i&&this._registerAction("alignElements",function(a){var b=d.get(),c=a.type;b.length>1&&i.trigger(b,c)}),e&&this._registerAction("lassoTool",function(){e.toggle()}),d&&f&&this._registerAction("directEditing",function(){var a=d.get();a.length&&f.activate(a[0])})}},{"diagram-js/lib/features/editor-actions/EditorActions":313,inherits:527}],232:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/editor-actions")),f=d(a("./DrdEditorActions")),g={__depends__:[e["default"]],editorActions:["type",f["default"]]};c["default"]=g},{"./DrdEditorActions":231,"diagram-js/lib/features/editor-actions":314}],233:[function(a,b,c){"use strict";function d(a,b,c,d){function h(c){var f=c.dmnDI;f||(f=a.create("dmndi:DMNDI"),c.set("dmnDI",f));var h=a.create("dmndi:DMNDiagram");f.set("diagrams",[h]);var i=0;e.forEach(c.get("drgElement"),function(c){if(g.is(c,"dmn:Decision")){var e=b._getDefaultSize(c),f=a.createDiShape(c,{x:150+30*i,y:150+30*i,width:e.width,height:e.height});d.updateDiParent(f,h),i++}})}c.on("import.start",function(a){var b=a.definitions;f.containsDi(b)||h(b)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("dmn-js-shared/lib/util/DiUtil"),g=a("dmn-js-shared/lib/util/ModelUtil");d.$inject=["drdFactory","elementFactory","eventBus","drdUpdater"]},{"dmn-js-shared/lib/util/DiUtil":513,"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],234:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DiGenerator")),f={__init__:["diGenerator"],diGenerator:["type",e["default"]]};c["default"]=f},{"./DiGenerator":233}],235:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.invoke(g["default"],this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("diagram-js/lib/features/keyboard/KeyboardBindings"));f["default"](e,g["default"]),e.$inject=["injector"],e.prototype.registerBindings=function(a,b){function c(c,d){b.isRegistered(c)&&a.addListener(d)}g["default"].prototype.registerBindings.call(this,a,b),c("selectElements",function(c){var d=c.keyEvent;return a.isKey(["a","A"],d)&&a.isCmd(d)?(b.trigger("selectElements"),!0):void 0}),c("lassoTool",function(c){var d=c.keyEvent;if(!a.hasModifier(d))return a.isKey(["l","L"],d)?(b.trigger("lassoTool"),!0):void 0}),c("directEditing",function(c){var d=c.keyEvent;if(!a.hasModifier(d))return a.isKey(["e","E"],d)?(b.trigger("directEditing"),!0):void 0})}},{"diagram-js/lib/features/keyboard/KeyboardBindings":326,inherits:527}],236:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/keyboard")),f=d(a("./DrdKeyboardBindings")),g={__depends__:[e["default"]],__init__:["keyboardBindings"],keyboardBindings:["type",f["default"]]};c["default"]=g},{"./DrdKeyboardBindings":235,"diagram-js/lib/features/keyboard":328}],237:[function(a,b,c){"use strict";function d(a,b,c,d,e){this._canvas=a,this._modeling=d,this._textRenderer=e,b.registerProvider(this),c.on("element.dblclick",function(a){b.activate(a.element)}),c.on(["autoPlace.start","canvas.viewbox.changing","drag.init","element.mousedown","popupMenu.open"],function(){b.complete()}),c.on(["commandStack.changed"],function(){b.cancel()}),c.on("create.end",500,function(a){var c=a.shape;(g.is(c,"dmn:Decision")||g.is(c,"dmn:InputData")||g.is(c,"dmn:BusinessKnowledgeModel")||g.is(c,"dmn:KnowledgeSource")||g.is(c,"dmn:TextAnnotation"))&&b.activate(c)})}function e(a){return!a||!a.trim()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("./LabelUtil"),g=a("dmn-js-shared/lib/util/ModelUtil"),h=a("min-dash");d.$inject=["canvas","directEditing","eventBus","modeling","textRenderer"],d.prototype.activate=function(a){var b=f.getLabel(a);if(h.isDefined(b)){var c={text:b},d=this.getEditingBBox(a);h.assign(c,d);var e={};return g.is(a,"dmn:DRGElement")&&h.assign(e,{centerVertically:!0}),g.is(a,"dmn:TextAnnotation")&&h.assign(e,{resizable:!0}),h.assign(c,{options:e}),c}},d.prototype.getEditingBBox=function(a){var b=this._canvas,c=a.label||a,d=b.getAbsoluteBBox(c),e={x:d.x,y:d.y},f=b.zoom(),i=this._textRenderer.getDefaultStyle(),j=i.fontSize*f,k=i.lineHeight,l={fontFamily:this._textRenderer.getDefaultStyle().fontFamily,fontWeight:this._textRenderer.getDefaultStyle().fontWeight};return g.is(a,"dmn:DRGElement")&&(h.assign(e,{width:d.width,height:d.height}),h.assign(l,{fontSize:j+"px",lineHeight:k,paddingTop:7*f+"px",paddingBottom:7*f+"px",paddingLeft:5*f+"px",paddingRight:5*f+"px"})),g.is(a,"dmn:TextAnnotation")&&(h.assign(e,{width:d.width,height:d.height,minWidth:30*f,minHeight:10*f}),h.assign(l,{textAlign:"left",paddingTop:5*f+"px",paddingBottom:7*f+"px",paddingLeft:7*f+"px",paddingRight:5*f+"px",fontSize:j+"px",lineHeight:k})),{bounds:e,style:l}},d.prototype.update=function(a,b,c,d){var f,h;g.is(a,"dmn:TextAnnotation")&&(h=this._canvas.getAbsoluteBBox(a),f={x:a.x,y:a.y,width:a.width/h.width*d.width,height:a.height/h.height*d.height}),e(b)&&(b=null),this._modeling.updateLabel(a,b,f)}},{"./LabelUtil":238,"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],238:[function(a,b,c){"use strict";function d(a){return g.is(a,"dmn:Decision")||g.is(a,"dmn:BusinessKnowledgeModel")||g.is(a,"dmn:InputData")||g.is(a,"dmn:KnowledgeSource")?"name":g.is(a,"dmn:TextAnnotation")?"text":void 0}function e(a){var b=a.businessObject,c=d(b);return c?b[c]||"":void 0}function f(a,b,c){var e=a.businessObject,f=d(e);return f&&(e[f]=b),c&&(a.hidden=!b),
a}Object.defineProperty(c,"__esModule",{value:!0}),c.getLabel=e,c.setLabel=f;var g=a("dmn-js-shared/lib/util/ModelUtil")},{"dmn-js-shared/lib/util/ModelUtil":515}],239:[function(a,b,c){"use strict";function d(){function a(a,b){var c=a.label||a,d=a.labelTarget||a;return e.setLabel(c,b,d!==c),[c,d]}function b(b){return b.oldLabel=e.getLabel(b.element),a(b.element,b.newLabel)}function c(b){return a(b.element,b.oldLabel)}this.execute=b,this.revert=c}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("../LabelUtil")},{"../LabelUtil":238}],240:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/command")),f=d(a("diagram-js/lib/features/change-support")),g=d(a("diagram-js-direct-editing")),h=d(a("./LabelEditingProvider")),i={__depends__:[e["default"],f["default"],g["default"]],__init__:["labelEditingProvider"],labelEditingProvider:["type",h["default"]]};c["default"]=i},{"./LabelEditingProvider":237,"diagram-js-direct-editing":267,"diagram-js/lib/command":274,"diagram-js/lib/features/change-support":297}],241:[function(a,b,c){"use strict";function d(a){this._model=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("dmn-js-shared/lib/util/ModelUtil");d.$inject=["moddle"],d.prototype._needsId=function(a){return f.isAny(a,["dmn:Artifact","dmn:DMNElement","dmn:DRGElement","dmndi:DMNDiagram","dmndi:DMNDiagramElement"])},d.prototype._ensureId=function(a){var b=(a.$type||"").replace(/^[^:]*:/g,"")+"_";!a.id&&this._needsId(a)&&(a.id=this._model.ids.nextPrefixed(b,a))},d.prototype.create=function(a,b){var c=this._model.create(a,b||{});return this._ensureId(c),c},d.prototype.createDiShape=function(a,b,c){return this.create("dmndi:DMNShape",e.assign({dmnElementRef:a,bounds:this.createDiBounds(b)},c))},d.prototype.createDiBounds=function(a){return this.create("dc:Bounds",a)},d.prototype.createDiEdge=function(a,b,c){return this.create("dmndi:DMNEdge",{dmnElementRef:a,waypoint:this.createDiWaypoints(b)},c)},d.prototype.createDiWaypoints=function(a){var b=this;return a.map(function(a){return b.createDiWaypoint(a)})},d.prototype.createDiWaypoint=function(a){return this.create("dc:Point",e.pick(a,["x","y"]))},d.prototype.createExtensionElements=function(){return this.create("dmn:ExtensionElements",{values:[]})}},{"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],242:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){}function f(a,b){return a?a.original||a:i.getMid(b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var g=d(a("inherits")),h=d(a("diagram-js/lib/layout/BaseLayouter")),i=a("diagram-js/lib/layout/LayoutUtil");g["default"](e,h["default"]),e.prototype.layoutConnection=function(a,b){b=b||{};var c,d=b.source||a.source,e=b.target||a.target,g=b.waypoints||a.waypoints,h=b.connectionStart,i=b.connectionEnd;return g=g||[],c=g.slice(1,g.length-1),h||(h=f(g&&g[0],d)),i||(i=f(g&&g[g.length-1],e)),[h].concat(c,[i])}},{"diagram-js/lib/layout/BaseLayouter":397,"diagram-js/lib/layout/LayoutUtil":399,inherits:527}],243:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d,e){function g(b){var c=b.connection,d=b.cropped;d||(c.waypoints=a.getCroppedWaypoints(c),b.cropped=!0)}function h(a){var b=a.connection,c=a.parent,d=a.shape;b&&!i.is(b,"dmn:Association")&&(c=b.target),n.updateParent(d||b,c)}function k(a){var b=a.connection,c=a.shape,d=a.parent||a.newParent;b&&!i.is(b,"dmn:Association")&&(d=b.target),n.updateParent(c||b,d)}function l(a){var b=a.shape;(i.is(b,"dmn:DRGElement")||i.is(b,"dmn:TextAnnotation"))&&n.updateBounds(b)}function m(a){n.updateConnectionWaypoints(a)}e.invoke(j["default"],this),this._definitionPropertiesView=b,this._drdFactory=c,this._drdRules=d;var n=this;this.executed(["connection.create","connection.layout"],g,!0),this.reverted(["connection.layout"],function(a){delete a.cropped},!0),this.executed(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],h,!0),this.reverted(["connection.create","connection.delete","connection.move","shape.create","shape.delete"],k,!0),this.executed(["shape.create","shape.move"],l,!0),this.reverted(["shape.create","shape.move"],l,!0),this.executed(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],m,!0),this.reverted(["connection.create","connection.layout","connection.move","connection.updateWaypoints"],m,!0),this.executed("connection.create",function(a){var b=a.connection,c=b.businessObject,d=c.di,e=a.target,g=e.businessObject;i.is(b,"dmn:Association")?h(a):(n.updateSemanticParent(c,g),f.forEach(d.waypoint,function(a,c){a.x=b.waypoints[c].x,a.y=b.waypoints[c].y}))},!0),this.reverted("connection.create",function(a){k(a)},!0),this.executed("connection.reconnect",function(a){var b=a.connection,c=b.businessObject,d=a.newTarget,e=d.businessObject;n.updateSemanticParent(c,e)},!0),this.reverted("connection.reconnect",function(a){var b=a.connection,c=b.businessObject,d=a.oldTarget,e=d.businessObject;n.updateSemanticParent(c,e)},!0),this.executed("element.updateProperties",function(a){b.update()},!0),this.reverted("element.updateProperties",function(a){b.update()},!0)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=d(a("inherits")),h=a("diagram-js/lib/util/Collections"),i=a("dmn-js-shared/lib/util/ModelUtil"),j=d(a("diagram-js/lib/command/CommandInterceptor"));g["default"](e,j["default"]),e.$inject=["connectionDocking","definitionPropertiesView","drdFactory","drdRules","injector"],e.prototype.updateBounds=function(a){var b=a.businessObject,c=b.di.bounds;f.assign(c,{x:a.x,y:a.y,width:a.width,height:a.height})},e.prototype.updateConnectionWaypoints=function(a){var b=this._drdFactory,c=a.connection,d=c.businessObject,e=d.di;e.waypoint=b.createDiWaypoints(c.waypoints).map(function(a){return a.$parent=e,a})},e.prototype.updateParent=function(a,b){var c=a.parent;i.is(a,"dmn:DRGElement")||i.is(a,"dmn:Artifact")||(c=b);var d=a.businessObject,e=c&&c.businessObject;this.updateSemanticParent(d,e),this.updateDiParent(d.di,e&&e.di)},e.prototype.updateSemanticParent=function(a,b){var c,d;a.$parent!==b&&(i.is(a,"dmn:DRGElement")?d="drgElement":i.is(a,"dmn:Artifact")?d="artifact":i.is(a,"dmn:InformationRequirement")?d="informationRequirement":i.is(a,"dmn:AuthorityRequirement")?d="authorityRequirement":i.is(a,"dmn:KnowledgeRequirement")&&(d="knowledgeRequirement"),a.$parent&&(c=a.$parent.get(d),h.remove(c,a)),b?(c=b.get(d),c&&(c.push(a),a.$parent=b)):a.$parent=null)},e.prototype.updateDiParent=function(a,b){if(a.$parent!==b){if(!i.isAny(a,["dmndi:DMNEdge","dmndi:DMNShape"]))throw new Error("unsupported");for(var c=b||a;!i.is(c,"dmndi:DMNDiagram");)c=c.$parent;var d=c.get("diagramElements");b?(a.$parent=c,h.add(d,a)):(a.$parent=null,h.remove(d,a))}}},{"diagram-js/lib/command/CommandInterceptor":272,"diagram-js/lib/util/Collections":411,"dmn-js-shared/lib/util/ModelUtil":515,inherits:527,"min-dash":734}],244:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){i["default"].call(this),this._drdFactory=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=d(a("inherits")),h=a("dmn-js-shared/lib/util/ModelUtil"),i=d(a("diagram-js/lib/core/ElementFactory"));g["default"](e,i["default"]),e.$inject=["drdFactory"],e.prototype.baseCreate=i["default"].prototype.create,e.prototype.create=function(a,b){return this.createDrdElement(a,b)},e.prototype.createDrdElement=function(a,b){var c,d=this._drdFactory;b=b||{};var e=b.businessObject;if(!e){if(!b.type)throw new Error("no shape type specified");e=d.create(b.type)}return e.di||("connection"===a?e.di=d.createDiEdge(e,[]):"shape"===a&&(e.di=d.createDiShape(e,{}))),c=this._getDefaultSize(e),b=f.assign({businessObject:e,id:e.id},c,b),this.baseCreate(a,b)},e.prototype._getDefaultSize=function(a){return h.is(a,"dmn:Decision")?{width:180,height:80}:h.is(a,"dmn:InputData")?{width:125,height:45}:h.is(a,"dmn:KnowledgeSource")?{width:100,height:63}:h.is(a,"dmn:BusinessKnowledgeModel")?{width:135,height:46}:{width:100,height:80}}},{"diagram-js/lib/core/ElementFactory":276,"dmn-js-shared/lib/util/ModelUtil":515,inherits:527,"min-dash":734}],245:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){this._canvas=a,this._drdRules=b,c.invoke(g["default"],this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("diagram-js/lib/features/modeling/Modeling")),h=d(a("./cmd/IdClaimHandler.js")),i=d(a("../label-editing/cmd/UpdateLabelHandler.js")),j=d(a("./cmd/UpdatePropertiesHandler.js"));f["default"](e,g["default"]),e.$inject=["canvas","drdRules","injector"],e.prototype.claimId=function(a,b){this._commandStack.execute("id.updateClaim",{id:a,element:b,claiming:!0})},e.prototype.connect=function(a,b,c,d){var e=this._drdRules,f=this._canvas.getRootElement();return c||(c=e.canConnect(a,b)||{type:"dmn:Association"}),this.createConnection(a,b,c,f,d)},e.prototype.getHandlers=function(){var a=g["default"].prototype.getHandlers.call(this);return a["id.updateClaim"]=h["default"],a["element.updateLabel"]=i["default"],a["element.updateProperties"]=j["default"],a},e.prototype.unclaimId=function(a,b){this._commandStack.execute("id.updateClaim",{id:a,element:b})},e.prototype.updateProperties=function(a,b){this._commandStack.execute("element.updateProperties",{element:a,properties:b})},e.prototype.updateLabel=function(a,b,c,d){this._commandStack.execute("element.updateLabel",{element:a,newLabel:b,newBounds:c,hints:d||{}})}},{"../label-editing/cmd/UpdateLabelHandler.js":239,"./cmd/IdClaimHandler.js":250,"./cmd/UpdatePropertiesHandler.js":251,"diagram-js/lib/features/modeling/Modeling":331,inherits:527}],246:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){b.invoke(h["default"],this),this.preExecute("connection.create",function(b){var c,d,e,g=b.connection,h=g.businessObject,j=b.source,k=b.target;i.is(g,"dmn:Association")?(d=h.sourceRef=a.create("dmn:DMNElementReference",{href:"#"+j.id}),d.$parent=h,e=h.targetRef=a.create("dmn:DMNElementReference",{href:"#"+k.id}),e.$parent=h):(c=h["required"+f(j)]=a.create("dmn:DMNElementReference",{href:"#"+j.id}),c.$parent=h)},!0)}function f(a){return i.is(a,"dmn:BusinessKnowledgeModel")?"Knowledge":i.is(a,"dmn:Decision")?"Decision":i.is(a,"dmn:InputData")?"Input":i.is(a,"dmn:KnowledgeSource")?"Authority":void 0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var g=d(a("inherits")),h=d(a("diagram-js/lib/command/CommandInterceptor")),i=a("dmn-js-shared/lib/util/ModelUtil");e.$inject=["drdFactory","injector"],g["default"](e,h["default"])},{"diagram-js/lib/command/CommandInterceptor":272,"dmn-js-shared/lib/util/ModelUtil":515,inherits:527}],247:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){a.invoke(g["default"],this),this.preExecute("connection.reconnect",function(a){var d=a.connection,e=a.newSource||d.source,f=a.newTarget||d.target,g=d.waypoints.slice(),h=c.allowed("connection.reconnect",{connection:d,source:e,target:f});h&&h.type!==d.type&&(a.connection=b.connect(e,f,{type:h.type,waypoints:g}),b.removeConnection(d))},!0)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("diagram-js/lib/command/CommandInterceptor"));f["default"](e,g["default"]),e.$inject=["injector","modeling","rules"]},{"diagram-js/lib/command/CommandInterceptor":272,inherits:527}],248:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"].call(this,a),this._modeling=b,this.postExecuted(["shape.replace"],1500,function(a){var c=a.context,d=c.oldShape,e=c.newShape;b.unclaimId(d.businessObject.id,d.businessObject),b.updateProperties(e,{id:d.id})})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("diagram-js/lib/command/CommandInterceptor"));f["default"](e,g["default"]),e.$inject=["eventBus","modeling"]},{"diagram-js/lib/command/CommandInterceptor":272,inherits:527}],249:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./CreateConnectionBehavior")),f=d(a("./ReplaceConnectionBehavior")),g=d(a("./ReplaceElementBehavior")),h=d(a("dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior")),i={__init__:["createConnectionBehavior","idChangeBehavior","replaceConnectionBehavior","replaceElementBehavior"],createConnectionBehavior:["type",e["default"]],idChangeBehavior:["type",h["default"]],replaceConnectionBehavior:["type",f["default"]],replaceElementBehavior:["type",g["default"]]};c["default"]=i},{"./CreateConnectionBehavior":246,"./ReplaceConnectionBehavior":247,"./ReplaceElementBehavior":248,"dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior":511}],250:[function(a,b,c){"use strict";function d(a){this._moddle=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,d.$inject=["moddle"],d.prototype.execute=function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.claim(c,d):b.unclaim(c)},d.prototype.revert=function(a){var b=this._moddle.ids,c=a.id,d=a.element,e=a.claiming;e?b.unclaim(c):b.claim(c,d)}},{}],251:[function(a,b,c){"use strict";function d(a,b){this._elementRegistry=a,this._moddle=b}function e(a,b){return j in a&&a[j]!==b[j]}function f(a,b){return h.reduce(b,function(b,c){return b[c]=a.get(c),b},{})}function g(a,b){h.forEach(b,function(b,c){a.set(c,b)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var h=a("min-dash"),i="name",j="id";d.$inject=["elementRegistry","moddle"],d.prototype.execute=function(a){var b=a.element,c=[b];if(!b)throw new Error("element required");var d=this._elementRegistry,k=this._moddle.ids,l=b.businessObject,m=a.properties,n=a.oldProperties||f(l,h.keys(m));return e(m,l)&&(k.unclaim(l[j]),d.updateId(b,m[j]),k.claim(m[j],l)),i in m&&b.label&&c.push(b.label),g(l,m),a.oldProperties=n,a.changed=c,c},d.prototype.revert=function(a){var b=a.element,c=a.properties,d=a.oldProperties,f=b.businessObject,h=this._elementRegistry,i=this._moddle.ids;return g(f,d),e(c,f)&&(i.unclaim(c[j]),h.updateId(b,d[j]),i.claim(d[j],f)),a.changed}},{"min-dash":734}],252:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./behavior")),f=d(a("../rules")),g=d(a("../definition-properties/viewer")),h=d(a("diagram-js/lib/command")),i=d(a("diagram-js/lib/features/selection")),j=d(a("diagram-js/lib/features/change-support")),k=d(a("./DrdFactory")),l=d(a("./DrdUpdater")),m=d(a("./ElementFactory")),n=d(a("./Modeling")),o=d(a("./DrdLayouter")),p=d(a("diagram-js/lib/layout/CroppingConnectionDocking")),q={__init__:["modeling","drdUpdater"],__depends__:[e["default"],f["default"],g["default"],h["default"],i["default"],j["default"]],drdFactory:["type",k["default"]],drdUpdater:["type",l["default"]],elementFactory:["type",m["default"]],modeling:["type",n["default"]],layouter:["type",o["default"]],connectionDocking:["type",p["default"]]};c["default"]=q},{"../definition-properties/viewer":226,"../rules":261,"./DrdFactory":241,"./DrdLayouter":242,"./DrdUpdater":243,"./ElementFactory":244,"./Modeling":245,"./behavior":249,"diagram-js/lib/command":274,"diagram-js/lib/features/change-support":297,"diagram-js/lib/features/selection":382,"diagram-js/lib/layout/CroppingConnectionDocking":398}],253:[function(a,b,c){"use strict";function d(a,b,c,d,e){this._palette=a,this._create=b,this._elementFactory=c,this._lassoTool=d,this._translate=e,a.registerProvider(this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["palette","create","elementFactory","lassoTool","translate"],d.prototype.getPaletteEntries=function(a){function b(a,b,c,g,h){function i(b){var c=f.createShape(e.assign({type:a},h));d.start(b,c)}return{group:b,className:c,title:g,action:{dragstart:i,click:i}}}var c={},d=this._create,f=this._elementFactory,g=this._lassoTool,h=this._translate;return e.assign(c,{"lasso-tool":{group:"tools",className:"dmn-icon-lasso-tool",title:h("Activate the lasso tool"),action:{click:function(a){g.activateSelection(a)}}},"tool-separator":{group:"tools",separator:!0},"create.decision":b("dmn:Decision","drd","dmn-icon-decision",h("Create Decision")),"create.input-data":b("dmn:InputData","drd","dmn-icon-input-data",h("Create Input Data")),"create.knowledge-source":b("dmn:KnowledgeSource","drd","dmn-icon-knowledge-source",h("Create Knowledge Source")),"create.business-knowledge-model":b("dmn:BusinessKnowledgeModel","drd","dmn-icon-business-knowledge",h("Create Knowledge Model"))}),c}},{"min-dash":734}],254:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/i18n/translate")),f=d(a("diagram-js/lib/features/palette")),g=d(a("diagram-js/lib/features/create")),h=d(a("diagram-js/lib/features/lasso-tool")),i=d(a("./PaletteProvider")),j={__depends__:[e["default"],f["default"],g["default"],h["default"]],__init__:["paletteProvider"],paletteProvider:["type",i["default"]]};c["default"]=j},{"./PaletteProvider":253,"diagram-js/lib/features/create":307,"diagram-js/lib/features/lasso-tool":330,"diagram-js/lib/features/palette":364,"diagram-js/lib/i18n/translate":395}],255:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d,e,f){this._popupMenu=a,this._modeling=b,this._moddle=c,this._drdReplace=d,this._rules=e,this._translate=f,this.register()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("dmn-js-shared/lib/util/ModelUtil"),g=a("min-dash"),h=d(a("../replace/ReplaceOptions"));e.$inject=["popupMenu","modeling","moddle","drdReplace","rules","translate"],e.prototype.register=function(){this._popupMenu.registerProvider("dmn-replace",this)},e.prototype.getEntries=function(a){var b=a.businessObject,c=this._rules;if(!c.allowed("shape.replace",{element:a}))return[];if(f.is(b,"dmn:Decision")){var d=g.filter(h["default"].DECISION,function(a){var c="replace-with-empty-decision"===a.actionName&&b.decisionLogic,d="replace-with-decision-table"===a.actionName&&!f.is(b.decisionLogic,"dmn:DecisionTable"),e="replace-with-literal-expression"===a.actionName&&!f.is(b.decisionLogic,"dmn:LiteralExpression");return c||d||e});return this._createEntries(a,d)}return[]},e.prototype._createEntries=function(a,b){var c=[],d=this;return g.forEach(b,function(b){var e=d._createMenuEntry(b,a);c.push(e)}),c},e.prototype._createMenuEntry=function(a,b,c){var d=this._drdReplace.replaceElement,e=this._translate,f=function(){return d(b,a.target)};c=c||f;var g={label:e(a.label),className:a.className,id:a.actionName,action:c};return g},e.prototype.getHeaderEntries=function(a){return[]}},{"../replace/ReplaceOptions":258,"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],256:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/i18n/translate")),f=d(a("diagram-js/lib/features/popup-menu")),g=d(a("../replace")),h=d(a("./ReplaceMenuProvider")),i={__depends__:[e["default"],f["default"],g["default"]],__init__:["replaceMenuProvider"],replaceMenuProvider:["type",h["default"]]};c["default"]=i},{"../replace":259,"./ReplaceMenuProvider":255,"diagram-js/lib/features/popup-menu":366,"diagram-js/lib/i18n/translate":395}],257:[function(a,b,c){"use strict";function d(a,b,c,d){function e(c,d,e){e=e||{};var f=d.type,g=c.businessObject,h=a.create(f),i={type:f,businessObject:h};if(i.width=c.width,i.height=c.height,h.name=g.name,d.table){var j=a.create("dmn:DecisionTable");h.decisionLogic=j,j.$parent=h;var k=a.create("dmn:OutputClause");k.typeRef="string",k.$parent=j,j.output=[k];var l=a.create("dmn:InputClause");l.$parent=j;var m=a.create("dmn:LiteralExpression",{typeRef:"string"});l.inputExpression=m,m.$parent=l,j.input=[l]}return d.expression&&(h.decisionLogic=a.create("dmn:LiteralExpression"),h.variable=a.create("dmn:InformationItem")),b.replaceElement(c,i,e)}this.replaceElement=e}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,d.$inject=["drdFactory","replace","selection","modeling"]},{}],258:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var d={DECISION:[{label:"Empty",actionName:"replace-with-empty-decision",className:"dmn-icon-clear",target:{type:"dmn:Decision",table:!1,expression:!1}},{label:"Decision Table",actionName:"replace-with-decision-table",className:"dmn-icon-decision-table",target:{type:"dmn:Decision",table:!0,expression:!1}},{label:"Literal Expression",actionName:"replace-with-literal-expression",className:"dmn-icon-literal-expression",target:{type:"dmn:Decision",table:!1,expression:!0}}]};c["default"]=d},{}],259:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/replace")),f=d(a("diagram-js/lib/features/selection")),g=d(a("./DrdReplace")),h={__depends__:[e["default"],f["default"]],drdReplace:["type",g["default"]]};c["default"]=h},{"./DrdReplace":257,"diagram-js/lib/features/replace":370,"diagram-js/lib/features/selection":382}],260:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){a.invoke(l["default"],this)}function f(a,b){if(!a||i(a)||!b||i(b))return null;if(a===b)return!1;if(j.is(a,"dmn:BusinessKnowledgeModel")&&j.isAny(b,["dmn:BusinessKnowledgeModel","dmn:Decision"]))return{type:"dmn:KnowledgeRequirement"};if(j.is(a,"dmn:Decision")){if(j.is(b,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(j.is(b,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}if(j.is(a,"dmn:Definitions")||j.is(b,"dmn:Definitions"))return!1;if(j.is(a,"dmn:InputData")){if(j.is(b,"dmn:Decision"))return{type:"dmn:InformationRequirement"};if(j.is(b,"dmn:KnowledgeSource"))return{type:"dmn:AuthorityRequirement"}}return j.is(a,"dmn:KnowledgeSource")&&j.isAny(b,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:KnowledgeSource"])?{type:"dmn:AuthorityRequirement"}:j.is(b,"dmn:TextAnnotation")?{type:"dmn:Association"}:!1}function g(a,b){return j.isAny(a,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation"])&&j.is(b,"dmn:Definitions")}function h(a,b){return m.isArray(a)||(a=[a]),b?m.every(a,function(a){return j.isAny(a,["dmn:BusinessKnowledgeModel","dmn:Decision","dmn:InputData","dmn:KnowledgeSource","dmn:TextAnnotation","dmn:InformationRequirement","dmn:AuthorityRequirement","dmn:KnowledgeRequirement","dmn:Association"])})&&j.is(b,"dmn:Definitions")?!0:!1:!0}function i(a){return!!a.labelTarget}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e,c.isLabel=i;var j=a("dmn-js-shared/lib/util/ModelUtil"),k=d(a("inherits")),l=d(a("diagram-js/lib/features/rules/RuleProvider")),m=a("min-dash");k["default"](e,l["default"]),e.$inject=["injector"],e.prototype.init=function(){this.addRule("connection.create",function(a){var b=a.source,c=a.target;return f(b,c)}),this.addRule("connection.reconnect",function(a){var b=a.connection,c=a.source,d=a.target;return f(c,d,b)}),this.addRule("connection.updateWaypoints",function(a){var b=a.connection;return{type:b.type,businessObject:b.businessObject}}),this.addRule("elements.move",function(a){var b=a.target,c=a.shapes,d=a.position;return h(c,b,d)}),this.addRule("shape.create",function(a){var b=a.shape,c=a.target;return g(b,c)}),this.addRule("shape.resize",function(a){var b=a.shape;return j.is(b,"dmn:TextAnnotation")})},e.prototype.canConnect=f,e.prototype.canCreate=g,e.prototype.canMove=h},{"diagram-js/lib/features/rules/RuleProvider":376,"dmn-js-shared/lib/util/ModelUtil":515,inherits:527,"min-dash":734}],261:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/rules")),f=d(a("./DrdRules")),g={__depends__:[e["default"]],__init__:["drdRules"],drdRules:["type",f["default"]]};c["default"]=g},{"./DrdRules":260,"diagram-js/lib/features/rules":378}],262:[function(a,b,c){"use strict";function d(a,b,c,d){this._eventBus=a,this._canvas=b,this._elementRegistry=d,this._elementFactory=c}function e(a,b){return h.assign({id:a.id,type:a.$type,businessObject:a},b)}function f(a){var b=a.waypoint;return b?h.map(b,function(a){var b={x:a.x,y:a.y};return h.assign({original:b},b)}):void 0}function g(a){return a.split("#").pop()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var h=a("min-dash"),i=a("dmn-js-shared/lib/util/ModelUtil");d.$inject=["eventBus","canvas","elementFactory","elementRegistry"],d.prototype.root=function(a){var b=this._elementFactory.createRoot(e(a));return this._canvas.setRootElement(b),b},d.prototype.add=function(a){var b,c,d,g,h,i,j=this._elementFactory,k=this._canvas,l=this._eventBus,m=a.di;if(m.$instanceOf("dmndi:DMNShape"))i=m.bounds,h=e(a,{x:Math.round(i.x),y:Math.round(i.y),width:Math.round(i.width),height:Math.round(i.height)}),b=j.createShape(h),k.addShape(b),l.fire("drdElement.added",{element:b,di:m});else{if(!m.$instanceOf("dmndi:DMNEdge"))throw new Error("unknown di for element "+a.id);c=f(m),d=this._getSource(a),g=this._getTarget(a),d&&g&&(h=e(a,{hidden:!1,source:d,target:g,waypoints:c}),b=j.createConnection(h),k.addConnection(b),l.fire("drdElement.added",{element:b,di:m}))}return b},d.prototype._getSource=function(a){var b,c;return i.is(a,"dmn:Association")?c=a.sourceRef:i.is(a,"dmn:InformationRequirement")?c=a.requiredDecision||a.requiredInput:i.is(a,"dmn:KnowledgeRequirement")?c=a.requiredKnowledge:i.is(a,"dmn:AuthorityRequirement")&&(c=a.requiredDecision||a.requiredInput||a.requiredAuthority),c&&(b=c.href),b?this._getShape(g(b)):void 0},d.prototype._getTarget=function(a){return i.is(a,"dmn:Association")?a.targetRef&&this._getShape(g(a.targetRef.href)):this._getShape(a.$parent.id)},d.prototype._getShape=function(a){return this._elementRegistry.get(a)}},{"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734}],263:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){function c(b){var c=b.gfx;if(c)throw new Error("already rendered "+b.id);return a.element(b)}function d(b){return a.root(b)}function e(a){try{var b=a.di&&c(a);return b}catch(d){s(d.message,{element:a,error:d})}}function g(a,b){var c=a.dmnDI;if(!c)throw new Error("no dmndi:DMNDI");var e=c.diagrams||[];if(b&&-1===e.indexOf(b))throw new Error("diagram not part of dmndi:DMNDI");if(!b&&e&&e.length&&(b=e[0]),!b)throw new Error("no diagram to display");a.di=b,n(b),d(a),j(a.get("drgElement")),k(a.get("artifact")),r()}function j(a){f.forEach(a,function(a){e(a),m(a)})}function k(a){f.forEach(a,function(a){h.is(a,"dmn:Association")?l(a):e(a)})}function l(a){q(function(){e(a)})}function m(a){f.forEach(["informationRequirement","knowledgeRequirement","authorityRequirement"],function(b){f.forEach(a[b],function(a){q(function(){e(a)})})})}function n(a){f.forEach(a.diagramElements,o)}function o(a){p(a)}function p(a){var b=a.dmnElementRef;b?b.di?s("multiple DI elements defined for element",{element:b}):(i.bind(b,"di"),b.di=a):s("no DMN element referenced in element",{element:a})}function q(a){t.push(a)}function r(){f.forEach(t,function(a){a()})}function s(b,c){a.error(b,c)}var t=[];return{handleDefinitions:g}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=d(a("object-refs")),h=a("dmn-js-shared/lib/util/ModelUtil"),i=new g["default"]({name:"dmnElementRef",enumerable:!0},{name:"di",configurable:!0})},{"dmn-js-shared/lib/util/ModelUtil":515,"min-dash":734,"object-refs":739}],264:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){function d(a){var b={root:function(a){return g.root(a)},element:function(a,b){return g.add(a,b)},error:function(a,b){i.push({message:a,context:b})}},c=new f["default"](b);c.handleDefinitions(a)}var e,g=a.get("drdImporter"),h=a.get("eventBus"),i=[];h.fire("import.start",{definitions:b});try{d(b)}catch(j){e=j}h.fire("import.done",{error:e,warnings:i}),c(e,i)}Object.defineProperty(c,"__esModule",{value:!0}),c.importDRD=e;var f=d(a("./DrdTreeWalker"))},{"./DrdTreeWalker":263}],265:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DrdImporter")),f={drdImporter:["type",e["default"]]};c["default"]=f},{"./DrdImporter":262}],266:[function(a,b,c){"use strict";function d(a){a=unescape(a);for(var b=String.fromCharCode(a.charCodeAt(0)-a.length),c=1;c<a.length;c++)b+=String.fromCharCode(a.charCodeAt(c)-b.charCodeAt(c-1));return b}function e(a){return a.join(";")}function f(){p||(p=g.domify(t),g.delegate.bind(p,".backdrop","click",function(a){document.body.removeChild(p)})),document.body.appendChild(p)}Object.defineProperty(c,"__esModule",{value:!0}),c.open=f,c.BPMNIO_IMG=void 0;var g=a("min-dom"),h='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 960 960"><path fill="#fff" d="M960 60v839c0 33-27 61-60 61H60c-33 0-60-27-60-60V60C0 27 27 0 60 0h839c34 0 61 27 61 60z"/><path fill="#52b415" d="M217 548a205 205 0 0 0-144 58 202 202 0 0 0-4 286 202 202 0 0 0 285 3 200 200 0 0 0 48-219 203 203 0 0 0-185-128zM752 6a206 206 0 0 0-192 285 206 206 0 0 0 269 111 207 207 0 0 0 111-260A204 204 0 0 0 752 6zM62 0A62 62 0 0 0 0 62v398l60 46a259 259 0 0 1 89-36c5-28 10-57 14-85l99 2 12 85a246 246 0 0 1 88 38l70-52 69 71-52 68c17 30 29 58 35 90l86 14-2 100-86 12a240 240 0 0 1-38 89l43 58h413c37 0 60-27 60-61V407a220 220 0 0 1-44 40l21 85-93 39-45-76a258 258 0 0 1-98 1l-45 76-94-39 22-85a298 298 0 0 1-70-69l-86 22-38-94 76-45a258 258 0 0 1-1-98l-76-45 40-94 85 22a271 271 0 0 1 41-47z"/></svg>',i=("data:image/svg+xml,"+encodeURIComponent(h),"%9A%DC%E8%E4%AAi%5E%A6%EE%EE%A5%9E%D1%CF%D5%DC%D7%D2%DD%9B%91%D2%DC%9C%A2%E7%D5%D5%DD%CC%D6%A2%95%D8%E1%DD%E2%A3%98%D6%D4%96%9B%DB%D6%D6%9D%9E%DE%D5"),j=d(i),k="%u76E2%uCABC%u5426%92%9D%u5E32%uAD41%uBC9D%uCBB4%uB263",l=d(k),m="%u7256%uD98B%uCCFC%u64D3%u75F2%uCABC%u5426%92%9D%u5E32%uAD41%uBC9D%uCBB4%uB263",n=d(m),o='<img width="52" height="52" src="'+j+'" />';c.BPMNIO_IMG=o;var p,q=e(["z-index: 1001","position: fixed","top: 0","left: 0","right: 0","bottom: 0"]),r=e(["width: 100%","height: 100%","background: rgba(0,0,0,0.2)"]),s=e(["position: absolute","left: 50%","top: 40%","margin: 0 -130px","width: 260px","padding: 10px","background: white","border: solid 1px #AAA","border-radius: 3px","font-family: Helvetica, Arial, sans-serif","font-size: 14px","line-height: 1.2em"]),t='<div class="bjs-powered-by-lightbox" style="'+q+'"><div class="backdrop" style="'+r+'"></div><div class="notice" style="'+s+'"><a href="http://www.pangubpm.com/" target="_blank" style="float: left; margin-right: 10px">'+o+"</a>"+n+' <a href="http://www.pangubpm.com/" target="_blank">'+l+"</a>.</div></div>"},{"min-dom":735}],267:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/interaction-events")),f=d(a("./lib/DirectEditing")),g={__depends__:[e["default"]],__init__:["directEditing"],directEditing:["type",f["default"]]};c["default"]=g},{"./lib/DirectEditing":268,"diagram-js/lib/features/interaction-events":322}],268:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){this._eventBus=a,
this._providers=[],this._textbox=new g["default"]({container:b.getContainer(),keyHandler:f.bind(this._handleKey,this),resizeHandler:f.bind(this._handleResize,this)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=d(a("./TextBox"));e.$inject=["eventBus","canvas"],e.prototype.registerProvider=function(a){this._providers.push(a)},e.prototype.isActive=function(){return!!this._active},e.prototype.cancel=function(){this._active&&(this._fire("cancel"),this.close())},e.prototype._fire=function(a,b){this._eventBus.fire("directEditing."+a,b||{active:this._active})},e.prototype.close=function(){this._textbox.destroy(),this._fire("deactivate"),this._active=null,this.resizable=void 0},e.prototype.complete=function(){var a=this._active;if(a){var b,c=a.context.bounds,d=this.$textbox.getBoundingClientRect(),e=this.getValue(),f=a.context.text;(e!==f||d.height!==c.height||d.width!==c.width)&&(b=this._textbox.container.getBoundingClientRect(),a.provider.update(a.element,e,a.context.text,{x:d.left-b.left,y:d.top-b.top,width:d.width,height:d.height})),this._fire("complete"),this.close()}},e.prototype.getValue=function(){return this._textbox.getValue()},e.prototype._handleKey=function(a){a.stopPropagation();var b=a.keyCode||a.charCode;return 27===b?(a.preventDefault(),this.cancel()):13!==b||a.shiftKey?void 0:(a.preventDefault(),this.complete())},e.prototype._handleResize=function(a){this._fire("resize",a)},e.prototype.activate=function(a){this.isActive()&&this.cancel();var b,c=f.find(this._providers,function(c){return(b=c.activate(a))?c:null});return b&&(this.$textbox=this._textbox.create(b.bounds,b.style,b.text,b.options),this._active={element:a,context:b,provider:c},b.options&&b.options.resizable&&(this.resizable=!0),this._fire("activate")),!!b}},{"./TextBox":269,"min-dash":734}],269:[function(a,b,c){"use strict";function d(a){a.preventDefault()}function e(a){a.stopPropagation()}function f(a){return a.nodeType===Node.TEXT_NODE}function g(a){return[].slice.call(a)}function h(a){this.container=a.container,this.parent=j.domify('<div class="djs-direct-editing-parent"><div class="djs-direct-editing-content" contenteditable="true"></div></div>'),this.content=j.query("[contenteditable]",this.parent),this.keyHandler=a.keyHandler||function(){},this.resizeHandler=a.resizeHandler||function(){},this.autoResize=i.bind(this.autoResize,this),this.handlePaste=i.bind(this.handlePaste,this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=h;var i=a("min-dash"),j=a("min-dom"),k=Math.min,l=Math.max;h.prototype.create=function(a,b,c,d){var f=this,g=this.parent,h=this.content,k=this.container;d=this.options=d||{},b=this.style=b||{};var l=i.pick(b,["width","height","maxWidth","maxHeight","minWidth","minHeight","left","top","backgroundColor","position","overflow","border","wordWrap","textAlign","outline","transform"]);i.assign(g.style,{width:a.width+"px",height:a.height+"px",maxWidth:a.maxWidth+"px",maxHeight:a.maxHeight+"px",minWidth:a.minWidth+"px",minHeight:a.minHeight+"px",left:a.x+"px",top:a.y+"px",backgroundColor:"#ffffff",position:"absolute",overflow:"visible",border:"1px solid #ccc",boxSizing:"border-box",wordWrap:"normal",textAlign:"center",outline:"none"},l);var m=i.pick(b,["fontFamily","fontSize","fontWeight","lineHeight","padding","paddingTop","paddingRight","paddingBottom","paddingLeft"]);return i.assign(h.style,{boxSizing:"border-box",width:"100%",outline:"none",wordWrap:"break-word"},m),d.centerVertically&&i.assign(h.style,{position:"absolute",top:"50%",transform:"translate(0, -50%)"},m),h.innerText=c,j.event.bind(h,"keydown",this.keyHandler),j.event.bind(h,"mousedown",e),j.event.bind(h,"paste",f.handlePaste),d.autoResize&&j.event.bind(h,"input",this.autoResize),d.resizable&&this.resizable(b),k.appendChild(g),this.setSelection(h.lastChild,h.lastChild&&h.lastChild.length),g},h.prototype.handlePaste=function(a){var b=this.options,c=this.style;a.preventDefault();var d;if(d=a.clipboardData?a.clipboardData.getData("text/plain"):window.clipboardData.getData("Text"),this.insertText(d),b.autoResize){var e=this.autoResize(c);e&&this.resizeHandler(e)}},h.prototype.insertText=function(a){var b=document.execCommand("insertText",!1,a);b||this._insertTextIE(a)},h.prototype._insertTextIE=function(a){var b,c,d=this.getSelection(),e=d.startContainer,h=d.endContainer,i=d.startOffset,k=d.endOffset,l=d.commonAncestorContainer,m=g(l.childNodes);if(f(l)){var n=e.textContent;e.textContent=n.substring(0,i)+a+n.substring(k),b=e,c=i+a.length}else if(e===this.content&&h===this.content){var o=document.createTextNode(a);this.content.insertBefore(o,m[i]),b=o,c=o.textContent.length}else{var p=m.indexOf(e),q=m.indexOf(h);m.forEach(function(b,c){c===p?b.textContent=e.textContent.substring(0,i)+a+h.textContent.substring(k):c>p&&q>=c&&j.remove(b)}),b=e,c=i+a.length}b&&void 0!==c&&setTimeout(function(){self.setSelection(b,c)})},h.prototype.autoResize=function(){var a=this.parent,b=this.content,c=parseInt(this.style.fontSize)||12;if(b.scrollHeight>a.offsetHeight||b.scrollHeight<a.offsetHeight-c){var d=a.getBoundingClientRect(),e=b.scrollHeight;a.style.height=e+"px",this.resizeHandler({width:d.width,height:d.height,dx:0,dy:e-d.height})}},h.prototype.resizable=function(){var a=this,b=this.parent,c=this.resizeHandle,f=parseInt(this.style.minWidth)||0,g=parseInt(this.style.minHeight)||0,h=parseInt(this.style.maxWidth)||1/0,m=parseInt(this.style.maxHeight)||1/0;if(!c){c=this.resizeHandle=j.domify('<div class="djs-direct-editing-resize-handle"></div>');var n,o,p,q,r=function(a){d(a),e(a),n=a.clientX,o=a.clientY;var c=b.getBoundingClientRect();p=c.width,q=c.height,j.event.bind(document,"mousemove",s),j.event.bind(document,"mouseup",t)},s=function(c){d(c),e(c);var i=k(l(p+c.clientX-n,f),h),j=k(l(q+c.clientY-o,g),m);b.style.width=i+"px",b.style.height=j+"px",a.resizeHandler({width:p,height:q,dx:c.clientX-n,dy:c.clientY-o})},t=function(a){d(a),e(a),j.event.unbind(document,"mousemove",s,!1),j.event.unbind(document,"mouseup",t,!1)};j.event.bind(c,"mousedown",r)}i.assign(c.style,{position:"absolute",bottom:"0px",right:"0px",cursor:"nwse-resize",width:"0",height:"0",borderTop:(parseInt(this.style.fontSize)/4||3)+"px solid transparent",borderRight:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderBottom:(parseInt(this.style.fontSize)/4||3)+"px solid #ccc",borderLeft:(parseInt(this.style.fontSize)/4||3)+"px solid transparent"}),b.appendChild(c)},h.prototype.destroy=function(){var a=this.parent,b=this.content,c=this.resizeHandle;b.innerText="",a.removeAttribute("style"),b.removeAttribute("style"),j.event.unbind(b,"keydown",this.keyHandler),j.event.unbind(b,"mousedown",e),j.event.unbind(b,"input",this.autoResize),j.event.unbind(b,"paste",this.handlePaste),c&&(c.removeAttribute("style"),j.remove(c)),j.remove(a)},h.prototype.getValue=function(){return this.content.innerText.trim()},h.prototype.getSelection=function(){var a=window.getSelection(),b=a.getRangeAt(0);return b},h.prototype.setSelection=function(a,b){var c=document.createRange();null===a?c.selectNodeContents(this.content):(c.setStart(a,b),c.setEnd(a,b));var d=window.getSelection();d.removeAllRanges(),d.addRange(c)}},{"min-dash":734,"min-dom":735}],270:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e["default"]}});var e=d(a("./lib/Diagram"))},{"./lib/Diagram":271}],271:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new h.Injector(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function f(a){a=a||{};var b={config:["value",a]},c=[b,i["default"]].concat(a.modules||[]);return e(c)}function g(a,b){this.injector=b=b||f(a),this.get=b.get,this.invoke=b.invoke,this.get("eventBus").fire("diagram.init")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=g;var h=a("didi"),i=d(a("./core"));g.prototype.destroy=function(){this.get("eventBus").fire("diagram.destroy")},g.prototype.clear=function(){this.get("eventBus").fire("diagram.clear")}},{"./core":280,didi:69}],272:[function(a,b,c){arguments[4][206][0].apply(c,arguments)},{dup:206,"min-dash":734}],273:[function(a,b,c){"use strict";function d(a,b){this._handlerMap={},this._stack=[],this._stackIdx=-1,this._currentExecution={actions:[],dirty:[]},this._injector=b,this._eventBus=a,this._uid=1,a.on(["diagram.destroy","diagram.clear"],function(){this.clear(!1)},this)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["eventBus","injector"],d.prototype.execute=function(a,b){if(!a)throw new Error("command required");var c={command:a,context:b};this._pushAction(c),this._internalExecute(c),this._popAction(c)},d.prototype.canExecute=function(a,b){var c={command:a,context:b},d=this._getHandler(a),e=this._fire(a,"canExecute",c);if(void 0===e){if(!d)return!1;d.canExecute&&(e=d.canExecute(b))}return e},d.prototype.clear=function(a){this._stack.length=0,this._stackIdx=-1,a!==!1&&this._fire("changed")},d.prototype.undo=function(){var a,b=this._getUndoAction();if(b){for(this._pushAction(b);b&&(this._internalUndo(b),a=this._getUndoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.redo=function(){var a,b=this._getRedoAction();if(b){for(this._pushAction(b);b&&(this._internalExecute(b,!0),a=this._getRedoAction(),a&&a.id===b.id);)b=a;this._popAction()}},d.prototype.register=function(a,b){this._setHandler(a,b)},d.prototype.registerHandler=function(a,b){if(!a||!b)throw new Error("command and handlerCls must be defined");var c=this._injector.instantiate(b);this.register(a,c)},d.prototype.canUndo=function(){return!!this._getUndoAction()},d.prototype.canRedo=function(){return!!this._getRedoAction()},d.prototype._getRedoAction=function(){return this._stack[this._stackIdx+1]},d.prototype._getUndoAction=function(){return this._stack[this._stackIdx]},d.prototype._internalUndo=function(a){var b=this,c=a.command,d=a.context,e=this._getHandler(c);this._atomicDo(function(){b._fire(c,"revert",a),e.revert&&b._markDirty(e.revert(d)),b._revertedAction(a),b._fire(c,"reverted",a)})},d.prototype._fire=function(a,b,c){arguments.length<3&&(c=b,b=null);var d,e,f,g=b?[a+"."+b,b]:[a];for(c=this._eventBus.createEvent(c),d=0;(e=g[d])&&(f=this._eventBus.fire("commandStack."+e,c),!c.cancelBubble);d++);return f},d.prototype._createId=function(){return this._uid++},d.prototype._atomicDo=function(a){var b=this._currentExecution;b.atomic=!0;try{a()}finally{b.atomic=!1}},d.prototype._internalExecute=function(a,b){var c=this,d=a.command,e=a.context,f=this._getHandler(d);if(!f)throw new Error("no command handler registered for <"+d+">");this._pushAction(a),b||(this._fire(d,"preExecute",a),f.preExecute&&f.preExecute(e),this._fire(d,"preExecuted",a)),this._atomicDo(function(){c._fire(d,"execute",a),f.execute&&c._markDirty(f.execute(e)),c._executedAction(a,b),c._fire(d,"executed",a)}),b||(this._fire(d,"postExecute",a),f.postExecute&&f.postExecute(e),this._fire(d,"postExecuted",a)),this._popAction(a)},d.prototype._pushAction=function(a){var b=this._currentExecution,c=b.actions,d=c[0];if(b.atomic)throw new Error("illegal invocation in <execute> or <revert> phase (action: "+a.command+")");a.id||(a.id=d&&d.id||this._createId()),c.push(a)},d.prototype._popAction=function(){var a=this._currentExecution,b=a.actions,c=a.dirty;b.pop(),b.length||(this._eventBus.fire("elements.changed",{elements:e.uniqueBy("id",c.reverse())}),c.length=0,this._fire("changed"))},d.prototype._markDirty=function(a){var b=this._currentExecution;a&&(a=e.isArray(a)?a:[a],b.dirty=b.dirty.concat(a))},d.prototype._executedAction=function(a,b){var c=++this._stackIdx;b||this._stack.splice(c,this._stack.length,a)},d.prototype._revertedAction=function(a){this._stackIdx--},d.prototype._getHandler=function(a){return this._handlerMap[a]},d.prototype._setHandler=function(a,b){if(!a||!b)throw new Error("command and handler required");if(this._handlerMap[a])throw new Error("overriding handler for command <"+a+">");this._handlerMap[a]=b}},{"min-dash":734}],274:[function(a,b,c){arguments[4][63][0].apply(c,arguments)},{"./CommandStack":273,dup:63}],275:[function(a,b,c){"use strict";function d(a,b){return Math.round(a*b)/b}function e(a){return j.isNumber(a)?a+"px":a}function f(a){a=j.assign({},{width:"100%",height:"100%"},a);var b=a.container||document.body,c=document.createElement("div");return c.setAttribute("class","djs-container"),j.assign(c.style,{position:"relative",overflow:"hidden",width:e(a.width),height:e(a.height)}),b.appendChild(c),c}function g(a,b,c){var d=m.create("g");m.classes(d).add(b);var e=void 0!==c?c:a.childNodes.length-1;return a.insertBefore(d,a.childNodes[e]||null),d}function h(a,b,c,d){this._eventBus=b,this._elementRegistry=d,this._graphicsFactory=c,this._init(a||{})}function i(a,b){var c="matrix("+b.a+","+b.b+","+b.c+","+b.d+","+b.e+","+b.f+")";a.setAttribute("transform",c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=h;var j=a("min-dash"),k=a("../util/Collections"),l=a("../util/Elements"),m=a("tiny-svg"),n="base",o={shape:["x","y","width","height"],connection:["waypoints"]};h.$inject=["config.canvas","eventBus","graphicsFactory","elementRegistry"],h.prototype._init=function(a){var b=this._eventBus,c=this._container=f(a),d=this._svg=m.create("svg");m.attr(d,{width:"100%",height:"100%"}),m.append(c,d);var e=this._viewport=g(d,"viewport");this._layers={},a.deferUpdate!==!1&&(this._viewboxChanged=j.debounce(j.bind(this._viewboxChanged,this),300)),b.on("diagram.init",function(){b.fire("canvas.init",{svg:d,viewport:e})},this),b.on(["shape.added","connection.added","shape.removed","connection.removed","elements.changed"],function(){delete this._cachedViewbox},this),b.on("diagram.destroy",500,this._destroy,this),b.on("diagram.clear",500,this._clear,this)},h.prototype._destroy=function(a){this._eventBus.fire("canvas.destroy",{svg:this._svg,viewport:this._viewport});var b=this._container.parentNode;b&&b.removeChild(this._container),delete this._svg,delete this._container,delete this._layers,delete this._rootElement,delete this._viewport},h.prototype._clear=function(){var a=this,b=this._elementRegistry.getAll();b.forEach(function(b){var c=l.getType(b);"root"===c?a.setRootElement(null,!0):a._removeElement(b,c)}),delete this._cachedViewbox},h.prototype.getDefaultLayer=function(){return this.getLayer(n,0)},h.prototype.getLayer=function(a,b){if(!a)throw new Error("must specify a name");var c=this._layers[a];if(c||(c=this._layers[a]=this._createLayer(a,b)),"undefined"!=typeof b&&c.index!==b)throw new Error("layer <"+a+"> already created at index <"+b+">");return c.group},h.prototype._createLayer=function(a,b){b||(b=0);var c=j.reduce(this._layers,function(a,c){return b>=c.index&&a++,a},0);return{group:g(this._viewport,"layer-"+a,c),index:b}},h.prototype.getContainer=function(){return this._container},h.prototype._updateMarker=function(a,b,c){var d;a.id||(a=this._elementRegistry.get(a)),d=this._elementRegistry._elements[a.id],d&&(j.forEach([d.gfx,d.secondaryGfx],function(a){a&&(c?m.classes(a).add(b):m.classes(a).remove(b))}),this._eventBus.fire("element.marker.update",{element:a,gfx:d.gfx,marker:b,add:!!c}))},h.prototype.addMarker=function(a,b){this._updateMarker(a,b,!0)},h.prototype.removeMarker=function(a,b){this._updateMarker(a,b,!1)},h.prototype.hasMarker=function(a,b){a.id||(a=this._elementRegistry.get(a));var c=this.getGraphics(a);return m.classes(c).has(b)},h.prototype.toggleMarker=function(a,b){this.hasMarker(a,b)?this.removeMarker(a,b):this.addMarker(a,b)},h.prototype.getRootElement=function(){return this._rootElement||this.setRootElement({id:"__implicitroot",children:[]}),this._rootElement},h.prototype.setRootElement=function(a,b){a&&this._ensureValid("root",a);var c=this._rootElement,d=this._elementRegistry,e=this._eventBus;if(c){if(!b)throw new Error("rootElement already set, need to specify override");e.fire("root.remove",{element:c}),e.fire("root.removed",{element:c}),d.remove(c)}if(a){var f=this.getDefaultLayer();e.fire("root.add",{element:a}),d.add(a,f,this._svg),e.fire("root.added",{element:a,gfx:f})}return this._rootElement=a,a},h.prototype._ensureValid=function(a,b){if(!b.id)throw new Error("element must have an id");if(this._elementRegistry.get(b.id))throw new Error("element with id "+b.id+" already exists");var c=o[a],d=j.every(c,function(a){return"undefined"!=typeof b[a]});if(!d)throw new Error("must supply { "+c.join(", ")+" } with "+a)},h.prototype._setParent=function(a,b,c){k.add(b.children,a,c),a.parent=b},h.prototype._addElement=function(a,b,c,d){c=c||this.getRootElement();var e=this._eventBus,f=this._graphicsFactory;this._ensureValid(a,b),e.fire(a+".add",{element:b,parent:c}),this._setParent(b,c,d);var g=f.create(a,b,d);return this._elementRegistry.add(b,g),f.update(a,b,g),e.fire(a+".added",{element:b,gfx:g}),b},h.prototype.addShape=function(a,b,c){return this._addElement("shape",a,b,c)},h.prototype.addConnection=function(a,b,c){return this._addElement("connection",a,b,c)},h.prototype._removeElement=function(a,b){var c=this._elementRegistry,d=this._graphicsFactory,e=this._eventBus;return(a=c.get(a.id||a))?(e.fire(b+".remove",{element:a}),d.remove(a),k.remove(a.parent&&a.parent.children,a),a.parent=null,e.fire(b+".removed",{element:a}),c.remove(a),a):void 0},h.prototype.removeShape=function(a){return this._removeElement(a,"shape")},h.prototype.removeConnection=function(a){return this._removeElement(a,"connection")},h.prototype.getGraphics=function(a,b){return this._elementRegistry.getGraphics(a,b)},h.prototype._changeViewbox=function(a){this._eventBus.fire("canvas.viewbox.changing"),a.apply(this),this._cachedViewbox=null,this._viewboxChanged()},h.prototype._viewboxChanged=function(){this._eventBus.fire("canvas.viewbox.changed",{viewbox:this.viewbox()})},h.prototype.viewbox=function(a){if(void 0===a&&this._cachedViewbox)return this._cachedViewbox;var b,c,e,f,g,h,i=this._viewport,j=this.getSize();return a?(this._changeViewbox(function(){f=Math.min(j.width/a.width,j.height/a.height);var b=this._svg.createSVGMatrix().scale(f).translate(-a.x,-a.y);m.transform(i,b)}),a):(b=this.getDefaultLayer().getBBox(),e=m.transform(i),c=e?e.matrix:m.createMatrix(),f=d(c.a,1e3),g=d(-c.e||0,1e3),h=d(-c.f||0,1e3),a=this._cachedViewbox={x:g?g/f:0,y:h?h/f:0,width:j.width/f,height:j.height/f,scale:f,inner:{width:b.width,height:b.height,x:b.x,y:b.y},outer:j})},h.prototype.scroll=function(a){var b=this._viewport,c=b.getCTM();return a&&this._changeViewbox(function(){a=j.assign({dx:0,dy:0},a||{}),c=this._svg.createSVGMatrix().translate(a.dx,a.dy).multiply(c),i(b,c)}),{x:c.e,y:c.f}},h.prototype.zoom=function(a,b){if(!a)return this.viewbox(a).scale;if("fit-viewport"===a)return this._fitViewport(b);var c,e;return this._changeViewbox(function(){"object"!=typeof b&&(c=this.viewbox().outer,b={x:c.width/2,y:c.height/2}),e=this._setZoom(a,b)}),d(e.a,1e3)},h.prototype._fitViewport=function(a){var b,c,d=this.viewbox(),e=d.outer,f=d.inner;return f.x>=0&&f.y>=0&&f.x+f.width<=e.width&&f.y+f.height<=e.height&&!a?c={x:0,y:0,width:Math.max(f.width+f.x,e.width),height:Math.max(f.height+f.y,e.height)}:(b=Math.min(1,e.width/f.width,e.height/f.height),c={x:f.x+(a?f.width/2-e.width/b/2:0),y:f.y+(a?f.height/2-e.height/b/2:0),width:e.width/b,height:e.height/b}),this.viewbox(c),this.viewbox(!1).scale},h.prototype._setZoom=function(a,b){var c,d,e,f,g,h=this._svg,k=this._viewport,l=h.createSVGMatrix(),m=h.createSVGPoint();e=k.getCTM();var n=e.a;return b?(c=j.assign(m,b),d=c.matrixTransform(e.inverse()),f=l.translate(d.x,d.y).scale(1/n*a).translate(-d.x,-d.y),g=e.multiply(f)):g=l.scale(a),i(this._viewport,g),g},h.prototype.getSize=function(){return{width:this._container.clientWidth,height:this._container.clientHeight}},h.prototype.getAbsoluteBBox=function(a){var b,c=this.viewbox();if(a.waypoints){var d=this.getGraphics(a);b=d.getBBox()}else b=a;var e=b.x*c.scale-c.x*c.scale,f=b.y*c.scale-c.y*c.scale,g=b.width*c.scale,h=b.height*c.scale;return{x:e,y:f,width:g,height:h}},h.prototype.resized=function(){delete this._cachedViewbox,this._eventBus.fire("canvas.resized")}},{"../util/Collections":411,"../util/Elements":413,"min-dash":734,"tiny-svg":794}],276:[function(a,b,c){"use strict";function d(){this._uid=12}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("../model"),f=a("min-dash");d.prototype.createRoot=function(a){return this.create("root",a)},d.prototype.createLabel=function(a){return this.create("label",a)},d.prototype.createShape=function(a){return this.create("shape",a)},d.prototype.createConnection=function(a){return this.create("connection",a)},d.prototype.create=function(a,b){return b=f.assign({},b||{}),b.id||(b.id=a+"_"+this._uid++),e.create(a,b)}},{"../model":400,"min-dash":734}],277:[function(a,b,c){"use strict";function d(a){this._elements={},this._eventBus=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("tiny-svg"),f="data-element-id";d.$inject=["eventBus"],d.prototype.add=function(a,b,c){var d=a.id;this._validateId(d),e.attr(b,f,d),c&&e.attr(c,f,d),this._elements[d]={element:a,gfx:b,secondaryGfx:c}},d.prototype.remove=function(a){var b=this._elements,c=a.id||a,d=c&&b[c];d&&(e.attr(d.gfx,f,""),d.secondaryGfx&&e.attr(d.secondaryGfx,f,""),delete b[c])},d.prototype.updateId=function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a)),this._eventBus.fire("element.updateId",{element:a,newId:b});var c=this.getGraphics(a),d=this.getGraphics(a,!0);this.remove(a),a.id=b,this.add(a,c,d)},d.prototype.get=function(a){var b;b="string"==typeof a?a:a&&e.attr(a,f);var c=this._elements[b];return c&&c.element},d.prototype.filter=function(a){var b=[];return this.forEach(function(c,d){a(c,d)&&b.push(c)}),b},d.prototype.getAll=function(){return this.filter(function(a){return a})},d.prototype.forEach=function(a){var b=this._elements;Object.keys(b).forEach(function(c){var d=b[c],e=d.element,f=d.gfx;return a(e,f)})},d.prototype.getGraphics=function(a,b){var c=a.id||a,d=this._elements[c];return d&&(b?d.secondaryGfx:d.gfx)},d.prototype._validateId=function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}},{"tiny-svg":794}],278:[function(a,b,c){"use strict";function d(){this._listeners={},this.on("diagram.destroy",1,this._destroy,this)}function e(){}function f(a,b){return a.apply(null,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("min-dash"),h="__fn",i=1e3,j=Array.prototype.slice;d.prototype.on=function(a,b,c,d){if(a=g.isArray(a)?a:[a],g.isFunction(b)&&(d=c,c=b,b=i),!g.isNumber(b))throw new Error("priority must be a number");var e=c;d&&(e=g.bind(c,d),e[h]=c[h]||c);var f=this;a.forEach(function(a){f._addListener(a,{priority:b,callback:e,next:null})})},d.prototype.once=function(a,b,c,d){function e(){var b=c.apply(d,arguments);return f.off(a,e),b}var f=this;if(g.isFunction(b)&&(d=c,c=b,b=i),!g.isNumber(b))throw new Error("priority must be a number");e[h]=c,this.on(a,b,e)},d.prototype.off=function(a,b){a=g.isArray(a)?a:[a];var c=this;a.forEach(function(a){c._removeListener(a,b)})},d.prototype.createEvent=function(a){var b=new e;return b.init(a),b},d.prototype.fire=function(a,b){var c,d,f,g;if(g=j.call(arguments),"object"==typeof a&&(b=a,a=b.type),!a)throw new Error("no event type specified");if(d=this._listeners[a]){c=b instanceof e?b:this.createEvent(b),g[0]=c;var h=c.type;a!==h&&(c.type=a);try{f=this._invokeListeners(c,g,d)}finally{a!==h&&(c.type=h)}return void 0===f&&c.defaultPrevented&&(f=!1),f}},d.prototype.handleError=function(a){return this.fire("error",{error:a})===!1},d.prototype._destroy=function(){this._listeners={}},d.prototype._invokeListeners=function(a,b,c){for(var d;c&&!a.cancelBubble;)d=this._invokeListener(a,b,c),c=c.next;return d},d.prototype._invokeListener=function(a,b,c){var d;try{d=f(c.callback,b),void 0!==d&&(a.returnValue=d,a.stopPropagation()),d===!1&&a.preventDefault()}catch(e){if(!this.handleError(e))throw console.error("unhandled error in event listener"),console.error(e.stack),e}return d},d.prototype._addListener=function(a,b){var c,d=this._getListeners(a);if(!d)return void this._setListeners(a,b);for(;d;){if(d.priority<b.priority)return b.next=d,void(c?c.next=b:this._setListeners(a,b));c=d,d=d.next}c.next=b},d.prototype._getListeners=function(a){return this._listeners[a]},d.prototype._setListeners=function(a,b){this._listeners[a]=b},d.prototype._removeListener=function(a,b){var c,d,e,f=this._getListeners(a);if(!b)return void this._setListeners(a,null);for(;f;)c=f.next,e=f.callback,(e===b||e[h]===b)&&(d?d.next=c:this._setListeners(a,c)),d=f,f=c},e.prototype.stopPropagation=function(){this.cancelBubble=!0},e.prototype.preventDefault=function(){this.defaultPrevented=!0},e.prototype.init=function(a){g.assign(this,a||{})}},{"min-dash":734}],279:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._elementRegistry=b}function e(a,b,c){var d=c||b.firstChild;a!==d&&b.insertBefore(a,d)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("../util/GraphicsUtil"),h=a("../util/SvgTransformUtil"),i=a("min-dom"),j=a("tiny-svg"),k=a("../util/Elements");d.$inject=["eventBus","elementRegistry"],d.prototype._getChildrenContainer=function(a){var b,c=this._elementRegistry.getGraphics(a);return a.parent?(b=g.getChildren(c),b||(b=j.create("g"),j.classes(b).add("djs-children"),j.append(c.parentNode,b))):b=c,b},d.prototype._clear=function(a){var b=g.getVisual(a);return i.clear(b),b},d.prototype._createContainer=function(a,b,c,d){var f=j.create("g");j.classes(f).add("djs-group"),"undefined"!=typeof c?e(f,b,b.childNodes[c]):j.append(b,f);var g=j.create("g");j.classes(g).add("djs-element"),j.classes(g).add("djs-"+a),d&&j.classes(g).add("djs-frame"),j.append(f,g);var h=j.create("g");return j.classes(h).add("djs-visual"),j.append(g,h),g},d.prototype.create=function(a,b,c){var d=this._getChildrenContainer(b.parent);return this._createContainer(a,d,c,k.isFrameElement(b))},d.prototype.updateContainments=function(a){var b,c=this,d=this._elementRegistry;b=f.reduce(a,function(a,b){return b.parent&&(a[b.parent.id]=b.parent),a},{}),f.forEach(b,function(a){var b=a.children;if(b){var g=c._getChildrenContainer(a);f.forEach(b.slice().reverse(),function(a){var b=d.getGraphics(a);e(b.parentNode,g)})}})},d.prototype.drawShape=function(a,b){var c=this._eventBus;return c.fire("render.shape",{gfx:a,element:b})},d.prototype.getShapePath=function(a){var b=this._eventBus;return b.fire("render.getShapePath",a)},d.prototype.drawConnection=function(a,b){var c=this._eventBus;return c.fire("render.connection",{gfx:a,element:b})},d.prototype.getConnectionPath=function(a){var b=this._eventBus;return b.fire("render.getConnectionPath",a)},d.prototype.update=function(a,b,c){if(b.parent){var d=this._clear(c);if("shape"===a)this.drawShape(d,b),h.translate(c,b.x,b.y);else{if("connection"!==a)throw new Error("unknown type: "+a);this.drawConnection(d,b)}b.hidden?j.attr(c,"display","none"):j.attr(c,"display","block")}},d.prototype.remove=function(a){var b=this._elementRegistry.getGraphics(a);j.remove(b.parentNode)}},{"../util/Elements":413,"../util/GraphicsUtil":417,"../util/SvgTransformUtil":426,"min-dash":734,"min-dom":428,"tiny-svg":794}],280:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../draw")),f=d(a("./Canvas")),g=d(a("./ElementRegistry")),h=d(a("./ElementFactory")),i=d(a("./EventBus")),j=d(a("./GraphicsFactory")),k={__depends__:[e["default"]],__init__:["canvas"],canvas:["type",f["default"]],elementRegistry:["type",g["default"]],elementFactory:["type",h["default"]],eventBus:["type",i["default"]],graphicsFactory:["type",j["default"]]};c["default"]=k},{"../draw":284,"./Canvas":275,"./ElementFactory":276,"./ElementRegistry":277,"./EventBus":278,"./GraphicsFactory":279}],281:[function(a,b,c){"use strict";function d(a,b){var c=this;b=b||e,a.on(["render.shape","render.connection"],b,function(a,b){var d=a.type,e=b.element,f=b.gfx;return c.canRender(e)?"render.shape"===d?c.drawShape(f,e):c.drawConnection(f,e):void 0}),a.on(["render.getShapePath","render.getConnectionPath"],b,function(a,b){return c.canRender(b)?"render.getShapePath"===a.type?c.getShapePath(b):c.getConnectionPath(b):void 0})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=1e3;d.prototype.canRender=function(){},d.prototype.drawShape=function(){},d.prototype.drawConnection=function(){},d.prototype.getShapePath=function(){},d.prototype.getConnectionPath=function(){}},{}],282:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"].call(this,a,k),this.CONNECTION_STYLE=b.style(["no-fill"],{strokeWidth:5,stroke:"fuchsia"}),this.SHAPE_STYLE=b.style({fill:"white",stroke:"fuchsia",strokeWidth:2}),this.FRAME_STYLE=b.style(["no-fill"],{stroke:"fuchsia",strokeDasharray:4,strokeWidth:2})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("./BaseRenderer")),h=a("../util/RenderUtil"),i=a("tiny-svg"),j=a("../util/Elements"),k=1;f["default"](e,g["default"]),e.prototype.canRender=function(){return!0},e.prototype.drawShape=function(a,b){var c=i.create("rect");return i.attr(c,{x:0,y:0,width:b.width||0,height:b.height||0}),j.isFrameElement(b)?i.attr(c,this.FRAME_STYLE):i.attr(c,this.SHAPE_STYLE),i.append(a,c),c},e.prototype.drawConnection=function(a,b){var c=h.createLine(b.waypoints,this.CONNECTION_STYLE);return i.append(a,c),c},e.prototype.getShapePath=function(a){var b=a.x,c=a.y,d=a.width,e=a.height,f=[["M",b,c],["l",d,0],["l",0,e],["l",-d,0],["z"]];return h.componentsToPath(f)},e.prototype.getConnectionPath=function(a){var b,c,d=a.waypoints,e=[];for(b=0;c=d[b];b++)c=c.original||c,e.push([0===b?"M":"L",c.x,c.y]);return h.componentsToPath(e)},e.$inject=["eventBus","styles"]},{"../util/Elements":413,"../util/RenderUtil":425,"./BaseRenderer":281,inherits:527,"tiny-svg":794}],283:[function(a,b,c){"use strict";function d(){var a={"no-fill":{fill:"none"},"no-border":{strokeOpacity:0},"no-events":{pointerEvents:"none"}},b=this;this.cls=function(a,b,c){var d=this.style(b,c);return e.assign(d,{"class":a})},this.style=function(b,c){e.isArray(b)||c||(c=b,b=[]);var d=e.reduce(b,function(b,c){return e.assign(b,a[c]||{})},{});return c?e.assign(d,c):d},this.computeStyle=function(a,c,d){return e.isArray(c)||(d=c,c=[]),b.style(c||[],e.assign({},d,a||{}))}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash")},{"min-dash":734}],284:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DefaultRenderer")),f=d(a("./Styles")),g={__init__:["defaultRenderer"],defaultRenderer:["type",e["default"]],styles:["type",f["default"]]};c["default"]=g},{"./DefaultRenderer":282,"./Styles":283}],285:[function(a,b,c){"use strict";function d(a){return a&&a[a.length-1]}function e(a){return a.y}function f(a){return a.x}function g(a){this._modeling=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=g;var h=a("min-dash"),i={left:f,center:f,right:function(a){return a.x+a.width},top:e,middle:e,bottom:function(a){return a.y+a.height}};g.$inject=["modeling"],g.prototype._getOrientationDetails=function(a){var b=["top","bottom","middle"],c="x",d="width";return-1!==b.indexOf(a)&&(c="y",d="height"),{axis:c,dimension:d}},g.prototype._isType=function(a,b){return-1!==b.indexOf(a)},g.prototype._alignmentPosition=function(a,b){
function c(a,b){return Math.round((a[j]+b[j]+b[k])/2)}var e,f,g,i=this._getOrientationDetails(a),j=i.axis,k=i.dimension,l={},m={},n=!1;if(this._isType(a,["left","top"]))l[a]=b[0][j];else if(this._isType(a,["right","bottom"]))g=d(b),l[a]=g[j]+g[k];else if(this._isType(a,["center","middle"])){if(h.forEach(b,function(a){var b=a[j]+Math.round(a[k]/2);m[b]?m[b].elements.push(a):m[b]={elements:[a],center:b}}),e=h.sortBy(m,function(a){return a.elements.length>1&&(n=!0),a.elements.length}),n)return l[a]=d(e).center,l;f=b[0],b=h.sortBy(b,function(a){return a[j]+a[k]}),g=d(b),l[a]=c(f,g)}return l},g.prototype.trigger=function(a,b){var c=this._modeling,d=h.filter(a,function(a){return!(a.waypoints||a.host||a.labelTarget)}),e=i[b],f=h.sortBy(d,e),g=this._alignmentPosition(b,f);c.alignElements(f,g)}},{"min-dash":734}],286:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./AlignElements")),f={__init__:["alignElements"],alignElements:["type",e["default"]]};c["default"]=f},{"./AlignElements":285}],287:[function(a,b,c){"use strict";function d(a,b,c){this._canvas=c,this._opts=f.assign({scrollThresholdIn:[20,20,20,20],scrollThresholdOut:[0,0,0,0],scrollRepeatTimeout:15,scrollStep:10},a);var d=this;b.on("drag.move",function(a){var b=d._toBorderPoint(a);d.startScroll(b)}),b.on(["drag.cleanup"],function(){d.stopScroll()})}function e(a,b,c){return a>b&&c>a?!0:!1}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("../../util/Event");d.$inject=["config.autoScroll","eventBus","canvas"],d.prototype.startScroll=function(a){var b=this._canvas,c=this._opts,d=this,f=b.getContainer().getBoundingClientRect(),g=[a.x,a.y,f.width-a.x,f.height-a.y];this.stopScroll();for(var h=0,i=0,j=0;4>j;j++)e(g[j],c.scrollThresholdOut[j],c.scrollThresholdIn[j])&&(0===j?h=c.scrollStep:1==j?i=c.scrollStep:2==j?h=-c.scrollStep:3==j&&(i=-c.scrollStep));(0!==h||0!==i)&&(b.scroll({dx:h,dy:i}),this._scrolling=setTimeout(function(){d.startScroll(a)},c.scrollRepeatTimeout))},d.prototype.stopScroll=function(){clearTimeout(this._scrolling)},d.prototype.setOptions=function(a){this._opts=f.assign({},this._opts,a)},d.prototype._toBorderPoint=function(a){var b=this._canvas._container.getBoundingClientRect(),c=g.toPoint(a.originalEvent);return{x:c.x-b.left,y:c.y-b.top}}},{"../../util/Event":415,"min-dash":734}],288:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../dragging")),f=d(a("./AutoScroll")),g={__depends__:[e["default"]],__init__:["autoScroll"],autoScroll:["type",f["default"]]};c["default"]=g},{"../dragging":312,"./AutoScroll":287}],289:[function(a,b,c){"use strict";function d(a,b,c,d,k,l){this._injector=a,this.start=function(a,b,e,f){var g,l=c.getGraphics(b),m=b.source,n=b.target,o=b.waypoints;g=f||0!==e?f||e!==o.length-1?j:i:h;var p=g===j?"connection.updateWaypoints":"connection.reconnect",q=k.allowed(p,{connection:b,source:m,target:n});q===!1&&(q=k.allowed(p,{connection:b,source:n,target:m})),q!==!1&&d.init(a,"bendpoint.move",{data:{connection:b,connectionGfx:l,context:{allowed:q,bendpointIndex:e,connection:b,source:m,target:n,insert:f,type:g}}})},b.on("bendpoint.move.hover",function(a){var b=a.context,c=b.connection,d=c.source,e=c.target,f=a.hover,g=b.type;b.hover=f;var l;if(f){var m=g===j?"connection.updateWaypoints":"connection.reconnect";if(l=b.allowed=k.allowed(m,{connection:c,source:g===h?f:d,target:g===i?f:e}))return b.source=g===h?f:d,void(b.target=g===i?f:e);l===!1&&(l=b.allowed=k.allowed(m,{connection:c,source:g===i?f:e,target:g===h?f:d})),l&&(b.source=g===i?f:e,b.target=g===h?f:d)}}),b.on(["bendpoint.move.out","bendpoint.move.cleanup"],function(a){var b=a.context;b.hover=null,b.source=null,b.target=null,b.allowed=!1}),b.on("bendpoint.move.end",function(a){var b=a.context,c=b.allowed,d=b.bendpointIndex,k=b.connection,m=b.insert,n=k.waypoints.slice(),o=b.source,p=b.target,q=b.type,r={},s={x:g(a.x),y:g(a.y)};return c?void(q===j?(m?n.splice(d,0,s):n[d]=s,r={bendpointMove:{insert:m,bendpointIndex:d}},n=this.cropWaypoints(k,n),l.updateWaypoints(k,f.filterRedundantWaypoints(n),r)):(q===h?(r.docking="source",e(b)&&(r.docking="target",r.newWaypoints=n.reverse())):q===i&&(r.docking="target",e(b)&&(r.docking="source",r.newWaypoints=n.reverse())),l.reconnect(k,o,p,s,r))):!1},this)}function e(a){var b=a.hover,c=a.source,d=a.target,e=a.type;return e===h?b&&d&&b===d&&c!==d:e===i?b&&c&&b===c&&c!==d:void 0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,c.isReverse=e;var f=a("../../layout/LayoutUtil"),g=Math.round,h="reconnectStart",i="reconnectEnd",j="updateWaypoints";d.$inject=["injector","eventBus","canvas","dragging","rules","modeling"],d.prototype.cropWaypoints=function(a,b){var c=this._injector.get("connectionDocking",!1);if(!c)return b;var d=a.waypoints;return a.waypoints=b,a.waypoints=c.getCroppedWaypoints(a),b=a.waypoints,a.waypoints=d,b}},{"../../layout/LayoutUtil":399}],290:[function(a,b,c){"use strict";function d(a,b,c,d){this._injector=b;var r=b.get("connectionPreview",!1);c.on("bendpoint.move.start",function(a){var b=a.context,c=b.bendpointIndex,g=b.connection,h=b.insert,i=g.waypoints,j=i.slice();b.waypoints=i,h&&j.splice(c,0,{x:a.x,y:a.y}),g.waypoints=j;var k=b.draggerGfx=f.addBendpoint(d.getLayer("overlays"));e.classes(k).add("djs-dragging"),d.addMarker(g,p),d.addMarker(g,o)}),c.on("bendpoint.move.hover",function(a){var b=a.context,c=b.allowed,e=b.hover,f=b.type;if(e){if(d.addMarker(e,n),f===k)return;c?(d.removeMarker(e,m),d.addMarker(e,l)):c===!1&&(d.removeMarker(e,l),d.addMarker(e,m))}}),c.on(["bendpoint.move.out","bendpoint.move.cleanup"],q,function(a){var b=a.context,c=b.hover,e=b.target;c&&(d.removeMarker(c,n),d.removeMarker(c,e?l:m))}),c.on("bendpoint.move.move",function(b){var c,d=b.context,e=d.allowed,f=d.bendpointIndex,l=d.draggerGfx,m=d.hover,n=d.type,o=d.connection,p=o.source,q=o.target,s=o.waypoints.slice(),t={x:b.x,y:b.y};r&&(c={source:p,target:q},n===i?h.isReverse(d)?(c.connectionEnd=t,c.source=q,c.target=m||p,s=s.reverse()):(c.connectionStart=t,c.source=m||p):n===j?h.isReverse(d)?(c.connectionStart=t,c.target=p,c.source=m||q,s=s.reverse()):(c.connectionEnd=t,c.target=m||q):(c.noCropping=!0,c.noLayout=!0,s[f]=t),n===k&&(s=a.cropWaypoints(o,s)),c.waypoints=s,r.drawPreview(d,e,c)),g.translate(l,b.x,b.y)},this),c.on(["bendpoint.move.end","bendpoint.move.cancel"],q,function(a){var b=a.context,c=b.connection,f=b.draggerGfx,g=b.hover,h=b.target,i=b.waypoints;c.waypoints=i,e.remove(f),d.removeMarker(c,o),d.removeMarker(c,p),g&&(d.removeMarker(g,l),d.removeMarker(g,h?l:m)),r&&r.cleanUp(b)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("tiny-svg"),f=a("./BendpointUtil"),g=a("../../util/SvgTransformUtil"),h=a("./BendpointMove"),i="reconnectStart",j="reconnectEnd",k="updateWaypoints",l="connect-ok",m="connect-not-ok",n="connect-hover",o="djs-updating",p="djs-element-hidden",q=1100;d.$inject=["bendpointMove","injector","eventBus","canvas"]},{"../../util/SvgTransformUtil":426,"./BendpointMove":289,"./BendpointUtil":292,"tiny-svg":794}],291:[function(a,b,c){"use strict";function d(a){function b(a,b){if(e.isArray(a)){for(var c=a.length;c--;)if(g(a[c]-b)<=i)return a[c]}else{a=+a;var d=b%a;if(i>d)return b-d;if(d>a-i)return b-d+a}return b}function c(a){return a.width?{x:h(a.width/2+a.x),y:h(a.height/2+a.y)}:void 0}function d(a){var b=a.snapPoints,d=a.connection,f=d.waypoints,g=a.segmentStart,h=a.segmentStartIndex,i=a.segmentEnd,j=a.segmentEndIndex,k=a.axis;if(b)return b;var l=[f[h-1],g,i,f[j+1]];return 2>h&&l.unshift(c(d.source)),j>f.length-3&&l.unshift(c(d.target)),a.snapPoints=b={horizontal:[],vertical:[]},e.forEach(l,function(a){a&&(a=a.original||a,"y"===k&&b.horizontal.push(a.y),"x"===k&&b.vertical.push(a.x))}),b}function j(a){var b=a.snapPoints,c=a.connection.waypoints,d=a.bendpointIndex;if(b)return b;var f=[c[d-1],c[d+1]];return a.snapPoints=b={horizontal:[],vertical:[]},e.forEach(f,function(a){a&&(a=a.original||a,b.horizontal.push(a.y),b.vertical.push(a.x))}),b}a.on("connectionSegment.move.move",1500,function(a){var c,g,h=a.context,i=d(h),j=a.x,k=a.y;if(i){c=b(i.vertical,j),g=b(i.horizontal,k);var l=j-c,m=k-g;e.assign(a,{dx:a.dx-l,dy:a.dy-m,x:c,y:g}),(l||-1!==i.vertical.indexOf(j))&&f.setSnapped(a,"x",c),(m||-1!==i.horizontal.indexOf(k))&&f.setSnapped(a,"y",g)}}),a.on(["bendpoint.move.move","bendpoint.move.end"],1500,function(a){var d,g,h=a.context,i=j(h),k=h.hover,l=k&&c(k),m=a.x,n=a.y;if(i){d=b(l?i.vertical.concat([l.x]):i.vertical,m),g=b(l?i.horizontal.concat([l.y]):i.horizontal,n);var o=m-d,p=n-g;e.assign(a,{dx:a.dx-o,dy:a.dy-p,x:a.x-o,y:a.y-p}),(o||-1!==i.vertical.indexOf(m))&&f.setSnapped(a,"x",d),(p||-1!==i.horizontal.indexOf(n))&&f.setSnapped(a,"y",g)}})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("../snapping/SnapUtil"),g=Math.abs,h=Math.round,i=10;d.$inject=["eventBus"]},{"../snapping/SnapUtil":386,"min-dash":734}],292:[function(a,b,c){"use strict";function d(a,b){var c,d=k.toPoint(b),e=a._container.getBoundingClientRect();c={x:e.left,y:e.top};var f=a.viewbox();return{x:f.x+(d.x-c.x)/f.scale,y:f.y+(d.y-c.y)/f.scale}}function e(a,b,c){var e=d(a,c),f=o.getApproxIntersection(b,e);return f}function f(a,b){var c=m.create("g");m.classes(c).add(p),m.append(a,c);var d=m.create("circle");m.attr(d,{cx:0,cy:0,r:4}),m.classes(d).add("djs-visual"),m.append(c,d);var e=m.create("circle");return m.attr(e,{cx:0,cy:0,r:10}),m.classes(e).add("djs-hit"),m.append(c,e),b&&m.classes(c).add(b),c}function g(a,b,c,d){var e=m.create("g");m.append(a,e);var f=14,g=3,h=6,i=j(b,c,d),k=g+h,l=m.create("rect");m.attr(l,{x:-f/2,y:-g/2,width:f,height:g}),m.classes(l).add("djs-visual"),m.append(e,l);var o=m.create("rect");return m.attr(o,{x:-i/2,y:-k/2,width:i,height:k}),m.classes(o).add("djs-hit"),m.append(e,o),n.rotate(e,"v"===d?90:0,0,0),e}function h(a,b,c){var d=m.create("g"),e=l.getMidPoint(b,c),f=l.pointsAligned(b,c);return m.append(a,d),g(d,b,c,f),m.classes(d).add(q),m.classes(d).add("h"===f?"horizontal":"vertical"),n.translate(d,e.x,e.y),d}function i(a){return Math.abs(Math.round(2*a/3))}function j(a,b,c){var d=b.x-a.x,e=b.y-a.y;return i("h"===c?d:e)}Object.defineProperty(c,"__esModule",{value:!0}),c.toCanvasCoordinates=d,c.getConnectionIntersection=e,c.addBendpoint=f,c.addSegmentDragger=h,c.calculateSegmentMoveRegion=i,c.SEGMENT_DRAGGER_CLS=c.BENDPOINT_CLS=void 0;var k=a("../../util/Event"),l=a("../../util/Geometry"),m=a("tiny-svg"),n=a("../../util/SvgTransformUtil"),o=a("../../util/LineIntersection"),p="djs-bendpoint";c.BENDPOINT_CLS=p;var q="djs-segment-dragger";c.SEGMENT_DRAGGER_CLS=q},{"../../util/Event":415,"../../util/Geometry":416,"../../util/LineIntersection":419,"../../util/SvgTransformUtil":426,"tiny-svg":794}],293:[function(a,b,c){"use strict";function d(a,b,c,d,m){function n(a,b,c){var d,e,f,g,h,i,k=a.index,l=a.point;return 0>=k||a.bendpoint?!1:(d=b[k-1],e=b[k],f=j.getMidPoint(d,e),g=j.pointsAligned(d,e),h=Math.abs(l.x-f.x),i=Math.abs(l.y-f.y),g&&c>=h&&c>=i)}function o(a,b){var c,d,e,f,g=a.waypoints;return b.index<=0||b.bendpoint?null:(c={start:g[b.index-1],end:g[b.index]},(d=j.pointsAligned(c.start,c.end))?(e="h"===d?c.end.x-c.start.x:c.end.y-c.start.y,f=h.calculateSegmentMoveRegion(e)/2):null)}function p(a,c){var e,f=c.waypoints,g=h.getConnectionIntersection(b,f,a);if(g)return e=o(c,g),n(g,f,e)?m.start(a,c,g.index):d.start(a,c,g.index,!g.bendpoint),!0}function q(a,b,d){g.event.bind(a,b,function(a){c.triggerMouseEvent(b,a,d),a.stopPropagation()})}function r(a,c){var d=b.getLayer("overlays"),e=g.query('.djs-bendpoints[data-element-id="'+i.escapeCSS(a.id)+'"]',d);return!e&&c&&(e=k.create("g"),k.attr(e,{"data-element-id":a.id}),k.classes(e).add("djs-bendpoints"),k.append(d,e),q(e,"mousedown",a),q(e,"click",a),q(e,"dblclick",a)),e}function s(a,b){return g.query('.djs-segment-dragger[data-segment-idx="'+a+'"]',b)}function t(a,b){b.waypoints.forEach(function(b,c){var d=h.addBendpoint(a);k.append(a,d),l.translate(d,b.x,b.y)}),h.addBendpoint(a,"floating")}function u(a,b){for(var c,d,e,f=b.waypoints,g=1;g<f.length;g++)c=f[g-1],d=f[g],j.pointsAligned(c,d)&&(e=h.addSegmentDragger(a,c,d),k.attr(e,{"data-segment-idx":g}),q(e,"mousemove",b))}function v(a){f.forEach(g.queryAll("."+h.BENDPOINT_CLS,a),function(a){k.remove(a)})}function w(a){f.forEach(g.queryAll("."+h.SEGMENT_DRAGGER_CLS,a),function(a){k.remove(a)})}function x(a){var b=r(a);return b||(b=r(a,!0),t(b,a),u(b,a)),b}function y(a){var b=r(a);b&&(w(b),v(b),u(b,a),t(b,a))}function z(a,b){var c=g.query(".floating",a),d=b.point;c&&l.translate(c,d.x,d.y)}function A(a,b,c){var d,f,g=s(b.index,a),h=c[b.index-1],i=c[b.index],k=b.point,m=j.getMidPoint(h,i),n=j.pointsAligned(h,i);g&&(d=e(g),f={x:k.x-m.x,y:k.y-m.y},"v"===n&&(f={x:f.y,y:f.x}),l.translate(d,f.x,f.y))}a.on("connection.changed",function(a){y(a.element)}),a.on("connection.remove",function(a){var b=r(a.element);b&&k.remove(b)}),a.on("element.marker.update",function(a){var b,c=a.element;c.waypoints&&(b=x(c),a.add?k.classes(b).add(a.marker):k.classes(b).remove(a.marker))}),a.on("element.mousemove",function(a){var c,d,e=a.element,f=e.waypoints;if(f){if(c=r(e,!0),d=h.getConnectionIntersection(b,f,a.originalEvent),!d)return;z(c,d),d.bendpoint||A(c,d,f)}}),a.on("element.mousedown",function(a){var b=a.originalEvent,c=a.element;if(c.waypoints)return p(b,c)}),a.on("selection.changed",function(a){var b=a.newSelection,c=b[0];c&&c.waypoints&&x(c)}),a.on("element.hover",function(a){var b=a.element;b.waypoints&&(x(b),c.registerEvent(a.gfx,"mousemove","element.mousemove"))}),a.on("element.out",function(a){c.unregisterEvent(a.gfx,"mousemove","element.mousemove")}),a.on("element.updateId",function(a){var b=a.element,c=a.newId;if(b.waypoints){var d=r(b);d&&k.attr(d,{"data-element-id":c})}}),this.addHandles=x,this.updateHandles=y,this.getBendpointsContainer=r,this.getSegmentDragger=s}function e(a){return g.query(".djs-visual",a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("min-dom"),h=a("./BendpointUtil"),i=a("../../util/EscapeUtil"),j=a("../../util/Geometry"),k=a("tiny-svg"),l=a("../../util/SvgTransformUtil");d.$inject=["eventBus","canvas","interactionEvents","bendpointMove","connectionSegmentMove"]},{"../../util/EscapeUtil":414,"../../util/Geometry":416,"../../util/SvgTransformUtil":426,"./BendpointUtil":292,"min-dash":734,"min-dom":428,"tiny-svg":794}],294:[function(a,b,c){"use strict";function d(a,b,c){return e(a,b,a[b]+c)}function e(a,b,c){return{x:"x"===b?c:a.x,y:"y"===b?c:a.y}}function f(a,b,c,d){var f=Math.max(b[d],c[d]),g=Math.min(b[d],c[d]),h=20,i=Math.min(Math.max(g+h,a[d]),f-h);return e(b,d,i)}function g(a){return"x"===a?"y":"x"}function h(a,b,c){var d,f;return a.original?a.original:(d=l.getMid(b),f=g(c),e(a,f,d[f]))}function i(a,b,c,e,i,q){function r(a,b){if(!v)return b;var c,d=a.waypoints;return a.waypoints=b,c=v.getCroppedWaypoints(a),a.waypoints=d,c}function s(a){i.update("connection",a.connection,a.connectionGfx)}function t(a,b,c){var d=a.newWaypoints,e=a.segmentStartIndex+b,h=d[e],i=a.segmentEndIndex+b,j=d[i],k=g(a.axis),l=f(c,h,j,k);n.translate(a.draggerGfx,l.x,l.y)}function u(a,b){var c=0,d=a.filter(function(d,e){return j.pointsOnLine(a[e-1],a[e+1],d)?(c=b>=e?c-1:c,!1):!0});return{waypoints:d,segmentOffset:c}}var v=a.get("connectionDocking",!1);this.start=function(a,b,d){var f,g,i,l,m=c.getGraphics(b),n=d-1,o=d,p=b.waypoints,q=p[n],r=p[o],s=k.getConnectionIntersection(c,p,a);g=j.pointsAligned(q,r),g&&(i="v"===g?"x":"y",0===n&&(q=h(q,b.source,i)),o===p.length-1&&(r=h(r,b.target,i)),l=s?s.point:{x:(q.x+r.x)/2,y:(q.y+r.y)/2},f={connection:b,segmentStartIndex:n,segmentEndIndex:o,segmentStart:q,segmentEnd:r,axis:i,dragPosition:l},e.init(a,l,"connectionSegment.move",{cursor:"x"===i?"resize-ew":"resize-ns",data:{connection:b,connectionGfx:m,context:f}}))},b.on("connectionSegment.move.start",function(a){var b=a.context,d=a.connection,e=c.getLayer("overlays");b.originalWaypoints=d.waypoints.slice(),b.draggerGfx=k.addSegmentDragger(e,b.segmentStart,b.segmentEnd),m.classes(b.draggerGfx).add("djs-dragging"),c.addMarker(d,p)}),b.on("connectionSegment.move.move",function(a){var b=a.context,c=b.connection,e=b.segmentStartIndex,f=b.segmentEndIndex,g=b.segmentStart,h=b.segmentEnd,i=b.axis,j=b.originalWaypoints.slice(),k=d(g,i,a["d"+i]),m=d(h,i,a["d"+i]),n=j.length,o=0;j[e]=k,j[f]=m;var p,q;2>e&&(p=l.getOrientation(c.source,k),1===e?"intersect"===p&&(j.shift(),j[0]=k,o--):"intersect"!==p&&(j.unshift(g),o++)),f>n-3&&(q=l.getOrientation(c.target,m),f===n-2?"intersect"===q&&(j.pop(),j[j.length-1]=m):"intersect"!==q&&j.push(h)),b.newWaypoints=c.waypoints=r(c,j),t(b,o,a),b.newSegmentStartIndex=e+o,s(a)}),b.on("connectionSegment.move.hover",function(a){a.context.hover=a.hover,c.addMarker(a.hover,o)}),b.on(["connectionSegment.move.out","connectionSegment.move.cleanup"],function(a){var b=a.context.hover;b&&c.removeMarker(b,o)}),b.on("connectionSegment.move.cleanup",function(a){var b=a.context,d=b.connection;b.draggerGfx&&m.remove(b.draggerGfx),c.removeMarker(d,p)}),b.on(["connectionSegment.move.cancel","connectionSegment.move.end"],function(a){var b=a.context,c=b.connection;c.waypoints=b.originalWaypoints,s(a)}),b.on("connectionSegment.move.end",function(a){var b=a.context,c=b.connection,d=b.newWaypoints,e=b.newSegmentStartIndex;d=d.map(function(a){return{original:a.original,x:Math.round(a.x),y:Math.round(a.y)}});var f=u(d,e),g=f.waypoints,h=r(c,g),i=f.segmentOffset,j={segmentMove:{segmentStartIndex:b.segmentStartIndex,newSegmentStartIndex:e+i}};q.updateWaypoints(c,h,j)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=i;var j=a("../../util/Geometry"),k=a("./BendpointUtil"),l=a("../../layout/LayoutUtil"),m=a("tiny-svg"),n=a("../../util/SvgTransformUtil"),o="connect-hover",p="djs-updating";i.$inject=["injector","eventBus","canvas","dragging","graphicsFactory","modeling"]},{"../../layout/LayoutUtil":399,"../../util/Geometry":416,"../../util/SvgTransformUtil":426,"./BendpointUtil":292,"tiny-svg":794}],295:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../dragging")),f=d(a("../rules")),g=d(a("./Bendpoints")),h=d(a("./BendpointMove")),i=d(a("./BendpointMovePreview")),j=d(a("./ConnectionSegmentMove")),k=d(a("./BendpointSnapping")),l={__depends__:[e["default"],f["default"]],__init__:["bendpoints","bendpointSnapping","bendpointMovePreview"],bendpoints:["type",g["default"]],bendpointMove:["type",h["default"]],bendpointMovePreview:["type",i["default"]],connectionSegmentMove:["type",j["default"]],bendpointSnapping:["type",k["default"]]};c["default"]=l},{"../dragging":312,"../rules":378,"./BendpointMove":289,"./BendpointMovePreview":290,"./BendpointSnapping":291,"./Bendpoints":293,"./ConnectionSegmentMove":294}],296:[function(a,b,c){"use strict";function d(a,b,c,d){a.on("element.changed",function(d){var f=d.element;(f.parent||f===b.getRootElement())&&(d.gfx=c.getGraphics(f)),d.gfx&&a.fire(e.getType(f)+".changed",d)}),a.on("elements.changed",function(b){var c=b.elements;c.forEach(function(b){a.fire("element.changed",{element:b})}),d.updateContainments(c)}),a.on("shape.changed",function(a){d.update("shape",a.element,a.gfx)}),a.on("connection.changed",function(a){d.update("connection",a.element,a.gfx)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("../../util/Elements");d.$inject=["eventBus","canvas","elementRegistry","graphicsFactory"]},{"../../util/Elements":413}],297:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ChangeSupport")),f={__init__:["changeSupport"],changeSupport:["type",e["default"]]};c["default"]=f},{"./ChangeSupport":296}],298:[function(a,b,c){"use strict";function d(a,b,c,d){function h(a,b){return d.allowed("connection.create",{source:a,target:b})}function i(a,b){return h(b,a)}a.on("connect.hover",function(a){var b,c=a.context,d=c.start,e=a.hover;if(c.hover=e,b=c.canExecute=h(d,e),!g.isNil(b)){if(b!==!1)return c.source=d,void(c.target=e);b=c.canExecute=i(d,e),g.isNil(b)||b!==!1&&(c.source=e,c.target=d)}}),a.on(["connect.out","connect.cleanup"],function(a){var b=a.context;b.hover=null,b.source=null,b.target=null,b.canExecute=!1}),a.on("connect.end",function(a){var b=a.context,d=b.canExecute,f=b.connectionStart,h={x:a.x,y:a.y},i=b.source,j=b.target;if(!d)return!1;var k=null,l={connectionStart:e(b)?h:f,connectionEnd:e(b)?f:h};g.isObject(d)&&(k=d),c.connect(i,j,k,l)}),this.start=function(a,c,d,e){g.isObject(d)||(e=d,d=f.getMid(c)),b.init(a,"connect",{autoActivate:e,data:{shape:c,context:{start:c,connectionStart:d}}})}}function e(a){var b=a.hover,c=a.source,d=a.target;return b&&c&&b===c&&c!==d}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,c.isReverse=e;var f=a("../../layout/LayoutUtil"),g=a("min-dash");d.$inject=["eventBus","dragging","modeling","rules"]},{"../../layout/LayoutUtil":399,"min-dash":734}],299:[function(a,b,c){"use strict";function d(a,b,c){var d=a.get("connectionPreview",!1);d&&b.on("connect.move",function(a){var b=a.context,c=b.canExecute,f=b.hover,g=b.source,h=b.start,i=b.startPosition,j=b.target,k=e.isReverse(b)?{x:a.x,y:a.y}:i,l=e.isReverse(b)?i:{x:a.x,y:a.y};d.drawPreview(b,c,{source:g||h,target:j||f,connectionStart:k,connectionEnd:l})}),b.on("connect.hover",g,function(a){var b=a.context,d=a.hover,e=b.canExecute;null!==e&&c.addMarker(d,e?h:i)}),b.on(["connect.out","connect.cleanup"],f,function(a){var b=a.hover;b&&(c.removeMarker(b,h),c.removeMarker(b,i))}),d&&b.on("connect.cleanup",function(a){d.cleanUp(a.context)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("./Connect"),f=1100,g=900,h="connect-ok",i="connect-not-ok";d.$inject=["injector","eventBus","canvas"]},{"./Connect":298}],300:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../selection")),f=d(a("../rules")),g=d(a("../dragging")),h=d(a("./Connect")),i=d(a("./ConnectPreview")),j={__depends__:[e["default"],f["default"],g["default"]],__init__:["connectPreview"],connect:["type",h["default"]],connectPreview:["type",i["default"]]};c["default"]=j},{"../dragging":312,"../rules":378,"../selection":382,"./Connect":298,"./ConnectPreview":299}],301:[function(a,b,c){"use strict";function d(a,b,c,d){this._canvas=b,this._graphicsFactory=c,this._elementFactory=d,this._connectionDocking=a.get("connectionDocking",!1),this._layouter=a.get("layouter",!1)}function e(a){var b={};return function(c){var d=JSON.stringify(c),e=b[d];return e||(e=b[d]=a.apply(null,arguments)),e}}function f(a){return h.isObject(a)?a:{}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("tiny-svg"),h=a("min-dash"),i=a("../../layout/LayoutUtil"),j="djs-connection-preview";d.$inject=["injector","canvas","graphicsFactory","elementFactory"],d.prototype.drawPreview=function(a,b,c){c=c||{};var d,f=a.connectionPreviewGfx,h=a.getConnection,j=c.source,k=c.target,l=c.waypoints,m=c.connectionStart,n=c.connectionEnd,o=c.noLayout,p=c.noCropping,q=c.noNoop,r=this;return f||(f=a.connectionPreviewGfx=this.createConnectionPreviewGfx()),g.clear(f),h||(h=a.getConnection=e(function(a,b,c){return r.getConnection(a,b,c)})),b&&(d=h(b,j,k)),d?(d.waypoints=l||[],this._layouter&&!o&&(d.waypoints=this._layouter.layoutConnection(d,{source:j,target:k,connectionStart:m,connectionEnd:n,waypoints:c.waypoints||d.waypoints})),d.waypoints&&d.waypoints.length||(d.waypoints=[j?i.getMid(j):m,k?i.getMid(k):n]),this._connectionDocking&&(j||k)&&!p&&(d.waypoints=this._connectionDocking.getCroppedWaypoints(d,j,k)),void this._graphicsFactory.drawConnection(f,d)):void(!q&&this.drawNoopPreview(f,c))},d.prototype.drawNoopPreview=function(a,b){var c=b.source,d=b.target,e=b.connectionStart||i.getMid(c),f=b.connectionEnd||i.getMid(d),h=this.cropWaypoints(e,f,c,d),j=this.createNoopConnection(h[0],h[1]);g.append(a,j)},d.prototype.cropWaypoints=function(a,b,c,d){var e=this._graphicsFactory,f=c&&e.getShapePath(c),g=d&&e.getShapePath(d),h=e.getConnectionPath({waypoints:[a,b]});return a=c&&i.getElementLineIntersection(f,h,!0)||a,b=d&&i.getElementLineIntersection(g,h,!1)||b,[a,b]},d.prototype.cleanUp=function(a){a&&a.connectionPreviewGfx&&g.remove(a.connectionPreviewGfx)},d.prototype.getConnection=function(a){var b=f(a);return this._elementFactory.createConnection(b)},d.prototype.createConnectionPreviewGfx=function(){var a=g.create("g");return g.attr(a,{pointerEvents:"none"}),g.classes(a).add(j),g.append(this._canvas.getDefaultLayer(),a),a},d.prototype.createNoopConnection=function(a,b){var c=g.create("polyline");return g.attr(c,{stroke:"#333",strokeDasharray:[1],strokeWidth:2,"pointer-events":"none"}),g.attr(c,{points:[a.x,a.y,b.x,b.y]}),c}},{"../../layout/LayoutUtil":399,"min-dash":734,"tiny-svg":794}],302:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ConnectionPreview")),f={__init__:["connectionPreview"],connectionPreview:["type",e["default"]]};c["default"]=f},{"./ConnectionPreview":301}],303:[function(a,b,c){"use strict";function d(a,b,c){this._eventBus=b,this._overlays=c;var d=f.isDefined(a&&a.scale)?a.scale:{min:1,max:1.5};this._overlaysConfig={position:{right:-9,top:-6},scale:d},this._current=null,this._init()}function e(a,b){var c=g.classes(a),d=f.isArray(b)?b:b.split(/\s+/g);d.forEach(function(a){c.add(a)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("min-dom"),h=".entry",i=1e3;d.$inject=["config.contextPad","eventBus","overlays"],d.prototype._init=function(){var a=this._eventBus,b=this;a.on("selection.changed",function(a){var c=a.newSelection;1===c.length?b.open(c[0]):b.close()}),a.on("elements.delete",function(a){var c=a.elements;f.forEach(c,function(a){b.isOpen(a)&&b.close()})}),a.on("element.changed",function(a){var c=a.element,d=b._current;d&&d.element===c&&b.open(c,!0)})},d.prototype.registerProvider=function(a,b){b||(b=a,a=i),this._eventBus.on("contextPad.getProviders",a,function(a){a.providers.push(b)})},d.prototype.getEntries=function(a){var b=this._getProviders(),c={};return f.forEach(b,function(b){var d=b.getContextPadEntries(a);f.isFunction(d)?c=d(c):f.forEach(d,function(a,b){c[b]=a})}),c},d.prototype.trigger=function(a,b,c){var d,e,h,i=this._current.element,j=this._current.entries,k=b.delegateTarget||b.target;if(!k)return b.preventDefault();if(d=j[g.attr(k,"data-action")],e=d.action,h=b.originalEvent||b,f.isFunction(e)){if("click"===a)return e(h,i,c)}else if(e[a])return e[a](h,i,c);b.preventDefault()},d.prototype.open=function(a,b){(b||!this.isOpen(a))&&(this.close(),this._updateAndOpen(a))},d.prototype._getProviders=function(a){var b=this._eventBus.createEvent({type:"contextPad.getProviders",providers:[]});return this._eventBus.fire(b),b.providers},d.prototype._updateAndOpen=function(a){var b=this.getEntries(a),c=this.getPad(a),d=c.html;f.forEach(b,function(a,b){var c,f=a.group||"default",h=g.domify(a.html||'<div class="entry" draggable="true"></div>');g.attr(h,"data-action",b),c=g.query("[data-group="+f+"]",d),c||(c=g.domify('<div class="group" data-group="'+f+'"></div>'),d.appendChild(c)),c.appendChild(h),a.className&&e(h,a.className),a.title&&g.attr(h,"title",a.title),a.imageUrl&&h.appendChild(g.domify('<img src="'+a.imageUrl+'">'))}),g.classes(d).add("open"),this._current={element:a,pad:c,entries:b},this._eventBus.fire("contextPad.open",{current:this._current})},d.prototype.getPad=function(a){if(this.isOpen())return this._current.pad;var b=this,c=this._overlays,d=g.domify('<div class="djs-context-pad"></div>'),e=f.assign({html:d},this._overlaysConfig);g.delegate.bind(d,h,"click",function(a){b.trigger("click",a)}),g.delegate.bind(d,h,"dragstart",function(a){b.trigger("dragstart",a)}),g.event.bind(d,"mousedown",function(a){a.stopPropagation()}),this._overlayId=c.add(a,"context-pad",e);var i=c.get(this._overlayId);return this._eventBus.fire("contextPad.create",{element:a,pad:i}),i},d.prototype.close=function(){this.isOpen()&&(this._overlays.remove(this._overlayId),this._overlayId=null,this._eventBus.fire("contextPad.close",{current:this._current}),this._current=null)},d.prototype.isOpen=function(a){return!!this._current&&(a?this._current.element===a:!0)}},{"min-dash":734,"min-dom":428}],304:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../interaction-events")),f=d(a("../overlays")),g=d(a("./ContextPad")),h={__depends__:[e["default"],f["default"]],contextPad:["type",g["default"]]};c["default"]=h},{"../interaction-events":322,"../overlays":362,"./ContextPad":303}],305:[function(a,b,c){"use strict";function d(a,b,c,d,q){function r(a,b,c,d){if(!b)return!1;a=i.filter(a,function(b){var c=b.labelTarget;return!(b.parent||h(b)&&-1!==a.indexOf(c))});var e=i.find(a,function(a){return!f(a)}),j=!1,k=!1,l=!1;return g(a)&&(j=q.allowed("shape.attach",{position:c,shape:e,target:b})),j||(l=g(a)?q.allowed("shape.create",{position:c,shape:e,source:d,target:b}):q.allowed("elements.create",{elements:a,position:c,target:b})),l||j?(e&&d&&(k=q.allowed("connection.create",{source:d,target:e,hints:{targetParent:b,targetAttach:j}})),{attach:j,connect:k}):null===l||null===j?null:!1}function s(b,c){[m,k,l,n].forEach(function(d){d===c?a.addMarker(b,d):a.removeMarker(b,d)})}function t(){var a=b.context();a&&a.prefix===o&&b.cancel()}c.on(["create.move","create.hover"],function(a){var b=a.context,c=b.elements,d=a.hover,f=b.source;if(!d)return b.canExecute=!1,void(b.target=null);e(a);var g={x:a.x,y:a.y},h=b.canExecute=d&&r(c,d,g,f);d&&null!==h&&(b.target=d,h&&h.attach?s(d,m):s(d,h?n:l))}),c.on(["create.end","create.out","create.cleanup"],function(a){var b=a.hover;b&&s(b,null)}),c.on("create.end",function(a){var b=a.context,c=b.source,g=b.shape,h=b.elements,j=b.target,k=b.hints,l=b.canExecute,m=l&&l.attach,n=l&&l.connect;if(l===!1||!j)return!1;e(a);var o={x:a.x,y:a.y};n?g=d.appendShape(c,g,o,j,{attach:m,connection:n===!0?{}:n}):(h=d.createElements(h,o,j,i.assign({},k,{attach:m})),g=i.find(h,function(a){return!f(a)})),i.assign(b,{elements:h,shape:g}),i.assign(a,{elements:h,shape:g})}),c.on("create.init",function(){c.on("elements.changed",t),c.once(["create.cancel","create.end"],p,function(){c.off("elements.changed",t)})}),this.start=function(a,c,d){i.isArray(c)||(c=[c]);var e=i.find(c,function(a){return!f(a)});if(e){d=i.assign({elements:c,hints:{},shape:e},d||{}),i.forEach(c,function(a){i.isNumber(a.x)||(a.x=0),i.isNumber(a.y)||(a.y=0)});var g=j.getBBox(c);i.forEach(c,function(a){f(a)&&(a.waypoints=i.map(a.waypoints,function(a){return{x:a.x-g.x-g.width/2,y:a.y-g.y-g.height/2}})),i.assign(a,{x:a.x-g.x-g.width/2,y:a.y-g.y-g.height/2})}),b.init(a,o,{cursor:"grabbing",autoActivate:!0,data:{shape:e,elements:c,context:d}})}}}function e(a){var b=a.context,c=b.createConstraints;c&&(c.left&&(a.x=Math.max(a.x,c.left)),c.right&&(a.x=Math.min(a.x,c.right)),c.top&&(a.y=Math.max(a.y,c.top)),c.bottom&&(a.y=Math.min(a.y,c.bottom)))}function f(a){return!!a.waypoints}function g(a){return a&&1===a.length&&!f(a[0])}function h(a){return!!a.labelTarget}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var i=a("min-dash"),j=a("../../util/Elements"),k="drop-ok",l="drop-not-ok",m="attach-ok",n="new-parent",o="create",p=2e3;d.$inject=["canvas","dragging","eventBus","modeling","rules"]},{"../../util/Elements":413,"min-dash":734}],306:[function(a,b,c){"use strict";function d(a,b,c,d,i){function j(a){var b=g.create("g");g.attr(b,i.cls("djs-drag-group",["no-events"]));var h=g.create("g");return a.forEach(function(a){
var g;a.hidden||(a.waypoints?(g=c._createContainer("connection",h),c.drawConnection(f.getVisual(g),a)):(g=c._createContainer("shape",h),c.drawShape(f.getVisual(g),a),e.translate(g,a.x,a.y)),d.addDragger(a,b,g))}),b}b.on("create.move",h,function(b){var c=b.hover,d=b.context,f=d.elements,h=d.dragGroup;h||(h=d.dragGroup=j(f));var i;c?(h.parentNode||(i=a.getDefaultLayer(),g.append(i,h)),e.translate(h,b.x,b.y)):g.remove(h)}),b.on("create.cleanup",function(a){var b=a.context,c=b.dragGroup;c&&g.remove(c)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("../../util/SvgTransformUtil"),f=a("../../util/GraphicsUtil"),g=a("tiny-svg"),h=750;d.$inject=["canvas","eventBus","graphicsFactory","previewSupport","styles"]},{"../../util/GraphicsUtil":417,"../../util/SvgTransformUtil":426,"tiny-svg":794}],307:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../dragging")),f=d(a("../preview-support")),g=d(a("../rules")),h=d(a("../selection")),i=d(a("./Create")),j=d(a("./CreatePreview")),k={__depends__:[e["default"],f["default"],g["default"],h["default"]],__init__:["create","createPreview"],create:["type",i["default"]],createPreview:["type",j["default"]]};c["default"]=k},{"../dragging":312,"../preview-support":368,"../rules":378,"../selection":382,"./Create":305,"./CreatePreview":306}],308:[function(a,b,c){"use strict";function d(a){this._modeling=a,this._filters=[],this.registerFilter(function(a,b,c){var d,f=0,g=0;return e.forEach(a,function(a){a.waypoints||a.labelTarget||(f+=a[c],g+=1)}),d=Math.round(f/g),e.filter(a,function(a){return a[c]<d+50})})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f={horizontal:["x","width"],vertical:["y","height"]},g=5;d.$inject=["modeling"],d.prototype.registerFilter=function(a){if("function"!=typeof a)throw new Error("the filter has to be a function");this._filters.push(a)},d.prototype.trigger=function(a,b){var c,d,e=this._modeling;return a.length<3||(this._setOrientation(b),d=this._filterElements(a),c=this._createGroups(d),c.length<=2)?void 0:(e.distributeElements(c,this._axis,this._dimension),c)},d.prototype._filterElements=function(a){var b=this._filters,c=this._axis,d=this._dimension,f=[].concat(a);return b.length?(e.forEach(b,function(a){f=a(f,c,d)}),f):a},d.prototype._createGroups=function(a){var b=[],c=this,d=this._axis,f=this._dimension;if(!d)throw new Error('must have a defined "axis" and "dimension"');var g=e.sortBy(a,d);return e.forEach(g,function(a,e){var g,h=c._findRange(a,d,f),i=b[b.length-1];i&&c._hasIntersection(i.range,h)?b[b.length-1].elements.push(a):(g={range:h,elements:[a]},b.push(g))}),b},d.prototype._setOrientation=function(a){var b=f[a];this._axis=b[0],this._dimension=b[1]},d.prototype._hasIntersection=function(a,b){return Math.max(a.min,a.max)>=Math.min(b.min,b.max)&&Math.min(a.min,a.max)<=Math.max(b.min,b.max)},d.prototype._findRange=function(a){var b=a[this._axis],c=a[this._dimension];return{min:b+g,max:b+c-g}}},{"min-dash":734}],309:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DistributeElements")),f={__init__:["distributeElements"],distributeElements:["type",e["default"]]};c["default"]=f},{"./DistributeElements":308}],310:[function(a,b,c){"use strict";function d(a){a.preventDefault()}function e(a){return"undefined"!=typeof TouchEvent&&a instanceof TouchEvent}function f(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}function g(a,b,c,g){function p(a){var c=b.viewbox(),d=b._container.getBoundingClientRect();return{x:c.x+(a.x-d.left)/c.scale,y:c.y+(a.y-d.top)/c.scale}}function q(b,c){c=c||C;var d=a.createEvent(h.assign({},c.payload,c.data,{isTouch:c.isTouch}));return a.fire("drag."+b,d)===!1?!1:a.fire(c.prefix+"."+b,d)}function r(a){var b=a.filter(function(a){return g.get(a.id)});b.length&&c.select(b)}function s(a,d){var e=C.payload,g=C.displacement,i=C.globalStart,l=j.toPoint(a),r=m.delta(l,i),s=C.localStart,t=p(l),u=m.delta(t,s);if(!C.active&&(d||f(r)>C.threshold)){if(h.assign(e,{x:n(s.x+g.x),y:n(s.y+g.y),dx:0,dy:0},{originalEvent:a}),!1===q("start"))return z();C.active=!0,C.keepSelection||(e.previousSelection=c.get(),c.select(null)),C.cursor&&k.set(C.cursor),b.addMarker(b.getRootElement(),o)}j.stopPropagation(a),C.active&&(h.assign(e,{x:n(t.x+g.x),y:n(t.y+g.y),dx:n(u.x),dy:n(u.y)},{originalEvent:a}),q("move"))}function t(a){var b,c=!0;C.active&&(a&&(C.payload.originalEvent=a,j.stopPropagation(a)),c=q("end")),c===!1&&q("rejected"),b=A(c!==!0),q("ended",b)}function u(a){27===a.which&&(d(a),z())}function v(b){var c;C.active&&(c=l.install(a),setTimeout(c,400),d(b)),t(b)}function w(a){s(a)}function x(a){var b=C.payload;b.hoverGfx=a.gfx,b.hover=a.element,q("hover")}function y(a){q("out");var b=C.payload;b.hoverGfx=null,b.hover=null}function z(a){var b;if(C){var c=C.active;c&&q("cancel"),b=A(a),c&&q("canceled",b)}}function A(e){var f,g;q("cleanup"),k.unset(),g=C.trapClick?v:t,i.event.unbind(document,"mousemove",s),i.event.unbind(document,"dragstart",d),i.event.unbind(document,"selectstart",d),i.event.unbind(document,"mousedown",g,!0),i.event.unbind(document,"mouseup",g,!0),i.event.unbind(document,"keyup",u),i.event.unbind(document,"touchstart",w,!0),i.event.unbind(document,"touchcancel",z,!0),i.event.unbind(document,"touchmove",s,!0),i.event.unbind(document,"touchend",t,!0),a.off("element.hover",x),a.off("element.out",y),b.removeMarker(b.getRootElement(),o);var h=C.payload.previousSelection;return e!==!1&&h&&!c.get().length&&r(h),f=C,C=null,f}function B(b,c,f,g){C&&z(!1),"string"==typeof c&&(g=f,f=c,c=null),g=h.assign({},D,g||{});var k,l,n,o,r,A=g.data||{};o=g.trapClick?v:t,b?(k=j.getOriginal(b)||b,l=j.toPoint(b),j.stopPropagation(b),"dragstart"===k.type&&d(k)):(k=null,l={x:0,y:0}),n=p(l),c||(c=n),r=e(k),C=h.assign({prefix:f,data:A,payload:{},globalStart:l,displacement:m.delta(c,n),localStart:n,isTouch:r},g),g.manual||(r?(i.event.bind(document,"touchstart",w,!0),i.event.bind(document,"touchcancel",z,!0),i.event.bind(document,"touchmove",s,!0),i.event.bind(document,"touchend",t,!0)):(i.event.bind(document,"mousemove",s),i.event.bind(document,"dragstart",d),i.event.bind(document,"selectstart",d),i.event.bind(document,"mousedown",o,!0),i.event.bind(document,"mouseup",o,!0)),i.event.bind(document,"keyup",u),a.on("element.hover",x),a.on("element.out",y)),q("init"),g.autoActivate&&s(b,!0)}var C,D={threshold:5,trapClick:!0};a.on("diagram.destroy",z),this.init=B,this.move=s,this.hover=x,this.out=y,this.end=t,this.cancel=z,this.context=function(){return C},this.setOptions=function(a){h.assign(D,a)}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=g;var h=a("min-dash"),i=a("min-dom"),j=a("../../util/Event"),k=a("../../util/Cursor"),l=a("../../util/ClickTrap"),m=a("../../util/PositionUtil"),n=Math.round,o="djs-drag-active";g.$inject=["eventBus","canvas","selection","elementRegistry"]},{"../../util/ClickTrap":410,"../../util/Cursor":412,"../../util/Event":415,"../../util/PositionUtil":423,"min-dash":734,"min-dom":428}],311:[function(a,b,c){"use strict";function d(a,b,c){function d(a){if(!a.hover){var d=a.originalEvent,e=f._findTargetGfx(d),g=e&&c.get(e);e&&g&&(a.stopPropagation(),b.hover({element:g,gfx:e}),b.move(d))}}var f=this;a.on("drag.start",function(b){a.once("drag.move",h,function(a){d(a)})}),a.on("drag.init",function(){function c(a){f=a.hover,g=a.hoverGfx}function d(){f=null,g=null}function e(){if(f){var a=f,c=g;f=null,g=null,b.out({element:a,gfx:c})}}var f,g;a.on("drag.hover",c),a.on("element.out",d),a.on("element.hover",h,e),a.once("drag.cleanup",function(){a.off("drag.hover",c),a.off("element.out",d),a.off("element.hover",e)})}),this._findTargetGfx=function(a){var b,c;if(a instanceof MouseEvent)return b=g.toPoint(a),c=document.elementFromPoint(b.x,b.y),e(c)}}function e(a){return f.closest(a,"svg, .djs-element",!0)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dom"),g=a("../../util/Event"),h=1500;d.$inject=["eventBus","dragging","elementRegistry"]},{"../../util/Event":415,"min-dom":428}],312:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../selection")),f=d(a("./Dragging")),g=d(a("./HoverFix")),h={__init__:["hoverFix"],__depends__:[e["default"]],dragging:["type",f["default"]],hoverFix:["type",g["default"]]};c["default"]=h},{"../selection":382,"./Dragging":310,"./HoverFix":311}],313:[function(a,b,c){"use strict";function d(a,b){this._actions={};var c=this;a.on("diagram.init",function(){c._registerDefaultActions(b),a.fire("editorActions.init",{editorActions:c})})}function e(a,b){return new Error(a+" "+b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g="is not a registered action",h="is already registered";d.$inject=["eventBus","injector"],d.prototype._registerDefaultActions=function(a){var b=a.get("commandStack",!1),c=a.get("modeling",!1),d=a.get("selection",!1),e=a.get("zoomScroll",!1),g=a.get("copyPaste",!1),h=a.get("canvas",!1),i=a.get("rules",!1),j=a.get("keyboardMove",!1),k=a.get("keyboardMoveSelection",!1);b&&(this.register("undo",function(){b.undo()}),this.register("redo",function(){b.redo()})),g&&d&&this.register("copy",function(){var a=d.get();g.copy(a)}),g&&this.register("paste",function(){g.paste()}),e&&this.register("stepZoom",function(a){e.stepZoom(a.value)}),h&&this.register("zoom",function(a){h.zoom(a.value)}),c&&d&&i&&this.register("removeSelection",function(){var a=d.get();if(a.length){var b,e=i.allowed("elements.delete",{elements:a});e!==!1&&(b=f.isArray(e)?e:a,b.length&&c.removeElements(b.slice()))}}),j&&this.register("moveCanvas",function(a){j.moveCanvas(a)}),k&&this.register("moveSelection",function(a){k.moveSelection(a.direction,a.accelerated)})},d.prototype.trigger=function(a,b){if(!this._actions[a])throw e(a,g);return this._actions[a](b)},d.prototype.register=function(a,b){var c=this;return"string"==typeof a?this._registerAction(a,b):void f.forEach(a,function(a,b){c._registerAction(b,a)})},d.prototype._registerAction=function(a,b){if(this.isRegistered(a))throw e(a,h);this._actions[a]=b},d.prototype.unregister=function(a){if(!this.isRegistered(a))throw e(a,g);this._actions[a]=void 0},d.prototype.getActions=function(){return Object.keys(this._actions)},d.prototype.isRegistered=function(a){return!!this._actions[a]}},{"min-dash":734}],314:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./EditorActions")),f={__init__:["editorActions"],editorActions:["type",e["default"]]};c["default"]=f},{"./EditorActions":313}],315:[function(a,b,c){"use strict";function d(a,b,c){var d=!c||c.active!==!1;this._eventBus=b;var g=this;b.on("diagram.init",o,function(){g.setActive(d)}),b.on(["create.move","create.end","bendpoint.move.move","bendpoint.move.end","connect.move","connect.end","connectionSegment.move.move","connectionSegment.move.end","resize.move","resize.end","shape.move.move","shape.move.end"],n,function(b){var c=b.originalEvent;if(!(!g.active||c&&k.isCmd(c))){var d=b.context,h=d.gridSnappingContext;h||(h=d.gridSnappingContext={}),["x","y"].forEach(function(c){var d={},h=f(b,c,a);h&&(d.offset=h);var i=e(b,c);i&&l.assign(d,i),j.isSnapped(b,c)||g.snapEvent(b,c,d)})}})}function e(a,b){var c=a.context,d=c.createConstraints,e=c.resizeConstraints||{},f=c.gridSnappingContext,j=f.snapConstraints;if(j&&j[b])return j[b];j||(j=f.snapConstraints={}),j[b]||(j[b]={});var k=c.direction;d&&(g(b)?(j.x.min=d.left,j.x.max=d.right):(j.y.min=d.top,j.y.max=d.bottom));var l=e.min,m=e.max;return l&&(g(b)?i(k)?j.x.max=l.left:j.x.min=l.right:h(k)?j.y.max=l.top:j.y.min=l.bottom),m&&(g(b)?i(k)?j.x.min=m.left:j.x.max=m.right:h(k)?j.y.min=m.top:j.y.max=m.bottom),j[b]}function f(a,b,c){var d=a.context,e=a.shape,f=d.gridSnappingContext,h=f.snapLocation,i=f.snapOffset;return i&&l.isNumber(i[b])?i[b]:(i||(i=f.snapOffset={}),l.isNumber(i[b])||(i[b]=0),e?(c.get(e.id)||(g(b)?i[b]+=e[b]+e.width/2:i[b]+=e[b]+e.height/2),h?("x"===b?/left/.test(h)?i[b]-=e.width/2:/right/.test(h)&&(i[b]+=e.width/2):/top/.test(h)?i[b]-=e.height/2:/bottom/.test(h)&&(i[b]+=e.height/2),i[b]):i[b]):i[b])}function g(a){return"x"===a}function h(a){return-1!==a.indexOf("n")}function i(a){return-1!==a.indexOf("w")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var j=a("../snapping/SnapUtil"),k=a("../keyboard/KeyboardUtil"),l=a("min-dash"),m=a("./GridUtil"),n=1200,o=800;d.prototype.snapEvent=function(a,b,c){var d=this.snapValue(a[b],c);j.setSnapped(a,b,d)},d.prototype.getGridSpacing=function(){return m.SPACING},d.prototype.snapValue=function(a,b){var c=0;b&&b.offset&&(c=b.offset),a+=c,a=m.quantize(a,m.SPACING);var d,e;return b&&b.min&&(d=b.min,l.isNumber(d)&&(d=m.quantize(d+c,m.SPACING,"ceil"),a=Math.max(a,d))),b&&b.max&&(e=b.max,l.isNumber(e)&&(e=m.quantize(e+c,m.SPACING,"floor"),a=Math.min(a,e))),a-=c},d.prototype.isActive=function(){return this.active},d.prototype.setActive=function(a){this.active=a,this._eventBus.fire("gridSnapping.toggle",{active:a})},d.prototype.toggleActive=function(){this.setActive(!this.active)},d.$inject=["elementRegistry","eventBus","config.gridSnapping"]},{"../keyboard/KeyboardUtil":327,"../snapping/SnapUtil":386,"./GridUtil":316,"min-dash":734}],316:[function(a,b,c){"use strict";function d(a,b,c){return c||(c="round"),Math[c](a/b)*b}Object.defineProperty(c,"__esModule",{value:!0}),c.quantize=d,c.SPACING=void 0;var e=10;c.SPACING=e},{}],317:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){g["default"].call(this,a),this._gridSnapping=b;var c=this;this.preExecute("shape.resize",function(a){var b=a.context,d=b.hints||{},e=d.autoResize;if(e){var f=b.shape,g=b.newBounds;h.isString(e)?b.newBounds=c.snapComplex(g,e):b.newBounds=c.snapSimple(f,g)}})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("inherits")),g=d(a("../../../command/CommandInterceptor")),h=a("min-dash");e.$inject=["eventBus","gridSnapping","modeling"],f["default"](e,g["default"]),e.prototype.snapSimple=function(a,b){var c=this._gridSnapping;return b.width=c.snapValue(b.width,{min:b.width}),b.height=c.snapValue(b.height,{min:b.height}),b.x=a.x+a.width/2-b.width/2,b.y=a.y+a.height/2-b.height/2,b},e.prototype.snapComplex=function(a,b){return/w|e/.test(b)&&(a=this.snapHorizontally(a,b)),/n|s/.test(b)&&(a=this.snapVertically(a,b)),a},e.prototype.snapHorizontally=function(a,b){var c=this._gridSnapping,d=/w/.test(b),e=/e/.test(b),f={};return f.width=c.snapValue(a.width,{min:a.width}),e&&(d?(f.x=c.snapValue(a.x,{max:a.x}),f.width+=c.snapValue(a.x-f.x,{min:a.x-f.x})):a.x=a.x+a.width-f.width),h.assign(a,f),a},e.prototype.snapVertically=function(a,b){var c=this._gridSnapping,d=/n/.test(b),e=/s/.test(b),f={};return f.height=c.snapValue(a.height,{min:a.height}),d&&(e?(f.y=c.snapValue(a.y,{max:a.y}),f.height+=c.snapValue(a.y-f.y,{min:a.y-f.y})):a.y=a.y+a.height-f.height),h.assign(a,f),a}},{"../../../command/CommandInterceptor":272,inherits:527,"min-dash":734}],318:[function(a,b,c){"use strict";function d(a,b){a.on(["spaceTool.move","spaceTool.end"],e,function(a){var c=a.context;if(c.initialized){var d,e=c.axis;"x"===e?(d=b.snapValue(a.dx),a.x=a.x+d-a.dx,a.dx=d):(d=b.snapValue(a.dy),a.y=a.y+d-a.dy,a.dy=d)}})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=2e3;d.$inject=["eventBus","gridSnapping"]},{}],319:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ResizeBehavior")),f=d(a("./SpaceToolBehavior")),g={__init__:["gridSnappingResizeBehavior","gridSnappingSpaceToolBehavior"],gridSnappingResizeBehavior:["type",e["default"]],gridSnappingSpaceToolBehavior:["type",f["default"]]};c["default"]=g},{"./ResizeBehavior":317,"./SpaceToolBehavior":318}],320:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./GridSnapping")),f=d(a("./behavior")),g={__depends__:[f["default"]],__init__:["gridSnapping"],gridSnapping:["type",e["default"]]};c["default"]=g},{"./GridSnapping":315,"./behavior":319}],321:[function(a,b,c){"use strict";function d(a){return!0}function e(a,b,c){function e(c,d,e){if(!m(c,d)){var f,g,h;e?g=b.getGraphics(e):(f=d.delegateTarget||d.target,f&&(g=f,e=b.get(g))),g&&e&&(h=a.fire(c,{element:e,gfx:g,originalEvent:d}),h===!1&&(d.stopPropagation(),d.preventDefault()))}}function l(a){return w[a]}function m(a,b){var c=y[a]||h.isPrimaryButton;return!c(b)}function n(a,b,c){var d=x[a];if(!d)throw new Error("unmapped DOM event name <"+a+">");return e(d,b,c)}function o(a,b,c,d){var f=w[c]=function(a){e(c,a)};d&&(y[c]=d),f.$delegate=g.delegate.bind(a,z,b,f)}function p(a,b,c){var d=l(c);d&&g.delegate.unbind(a,b,d.$delegate)}function q(a){f.forEach(x,function(b,c){o(a,c,b)})}function r(a){f.forEach(x,function(b,c){p(a,c,b)})}function s(a,b){return b=f.assign({stroke:"white",strokeWidth:15},b||{}),c.cls(a,["no-fill","no-border"],b)}function t(a,b){var c=D[b];if(!c)throw new Error("invalid hit type <"+b+">");return i.attr(a,c),a}function u(a,b){i.append(a,b)}var v=this,w={},x={click:"element.click",contextmenu:"element.contextmenu",dblclick:"element.dblclick",mousedown:"element.mousedown",mousemove:"element.mousemove",mouseover:"element.hover",mouseout:"element.out",mouseup:"element.mouseup"},y={"element.contextmenu":d},z="svg, .djs-element";a.on("canvas.destroy",function(a){r(a.svg)}),a.on("canvas.init",function(a){q(a.svg)}),a.on(["shape.added","connection.added"],function(b){var c=b.element,d=b.gfx;a.fire("interactionEvents.createHit",{element:c,gfx:d})}),a.on(["shape.changed","connection.changed"],k,function(b){var c=b.element,d=b.gfx;a.fire("interactionEvents.updateHit",{element:c,gfx:d})}),a.on("interactionEvents.createHit",k,function(a){var b=a.element,c=a.gfx;v.createDefaultHit(b,c)}),a.on("interactionEvents.updateHit",function(a){var b=a.element,c=a.gfx;v.updateDefaultHit(b,c)});var A=s("djs-hit djs-hit-stroke"),B=s("djs-hit djs-hit-click-stroke"),C=s("djs-hit djs-hit-all"),D={all:C,"click-stroke":B,stroke:A};this.removeHits=function(a){var b=g.queryAll(".djs-hit",a);f.forEach(b,i.remove)},this.createDefaultHit=function(a,b){var c,d=a.waypoints,e=a.isFrame;return d?this.createWaypointsHit(b,d):(c=e?"stroke":"all",this.createBoxHit(b,c,{width:a.width,height:a.height}))},this.createWaypointsHit=function(a,b){var c=j.createLine(b);return t(c,"stroke"),u(a,c),c},this.createBoxHit=function(a,b,c){c=f.assign({x:0,y:0},c);var d=i.create("rect");return t(d,b),i.attr(d,c),u(a,d),d},this.updateDefaultHit=function(a,b){var c=g.query(".djs-hit",b);if(c)return a.waypoints?j.updateLine(c,a.waypoints):i.attr(c,{width:a.width,height:a.height}),c},this.fire=e,this.triggerMouseEvent=n,this.mouseHandler=l,this.registerEvent=o,this.unregisterEvent=p}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=a("min-dom"),h=a("../../util/Mouse"),i=a("tiny-svg"),j=a("../../util/RenderUtil"),k=500;e.$inject=["eventBus","elementRegistry","styles"]},{"../../util/Mouse":421,"../../util/RenderUtil":425,"min-dash":734,"min-dom":428,"tiny-svg":794}],322:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./InteractionEvents")),f={__init__:["interactionEvents"],interactionEvents:["type",e["default"]]};c["default"]=f},{"./InteractionEvents":321}],323:[function(a,b,c){"use strict";function d(a,b,c,d,h){var i=this;this._config=e.assign({},f,a||{}),b.addListener(g,function(a){var c=a.keyEvent,d=l[c.key];if(d&&!b.isCmd(c)){var e=b.isShift(c);return i.moveSelection(d,e),!0}}),this.moveSelection=function(a,b){var e=h.get();if(e.length){var f=this._config[b?"moveSpeedAccelerated":"moveSpeed"],g=m[a](f),i=d.allowed("elements.move",{shapes:e});i&&c.moveElements(e,g)}}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f={moveSpeed:1,moveSpeedAccelerated:10},g=1500,h="left",i="up",j="right",k="down",l={ArrowLeft:h,Left:h,ArrowUp:i,Up:i,ArrowRight:j,Right:j,ArrowDown:k,Down:k},m={left:function(a){return{x:-a,y:0}},up:function(a){return{x:0,y:-a}},right:function(a){return{x:a,y:0}},down:function(a){return{x:0,y:a}}};d.$inject=["config.keyboardMoveSelection","keyboard","modeling","rules","selection"]},{"min-dash":734}],324:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../keyboard")),f=d(a("../selection")),g=d(a("./KeyboardMoveSelection")),h={__depends__:[e["default"],f["default"]],__init__:["keyboardMoveSelection"],keyboardMoveSelection:["type",g["default"]]};c["default"]=h},{"../keyboard":328,"../selection":382,"./KeyboardMoveSelection":323}],325:[function(a,b,c){"use strict";function d(a,b){var c=this;this._config=a||{},this._eventBus=b,this._keydownHandler=this._keydownHandler.bind(this),this._keyupHandler=this._keyupHandler.bind(this),b.on("diagram.destroy",function(){c._fire("destroy"),c.unbind()}),b.on("diagram.init",function(){c._fire("init")}),b.on("attach",function(){a&&a.bindTo&&c.bind(a.bindTo)}),b.on("detach",function(){c.unbind()})}function e(a){return a&&(g.matches(a,"input, textarea")||"true"===a.contentEditable)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("min-dom"),h=a("./KeyboardUtil"),i="keyboard.keydown",j="keyboard.keyup",k=1e3;d.$inject=["config.keyboard","eventBus"],d.prototype._keydownHandler=function(a){this._keyHandler(a,i)},d.prototype._keyupHandler=function(a){this._keyHandler(a,j)},d.prototype._keyHandler=function(a,b){var c,d=a.target;if(!e(d)){var f={keyEvent:a};c=this._eventBus.fire(b||i,f),c&&a.preventDefault()}},d.prototype.bind=function(a){this.unbind(),this._node=a,g.event.bind(a,"keydown",this._keydownHandler,!0),g.event.bind(a,"keyup",this._keyupHandler,!0),this._fire("bind")},d.prototype.getBinding=function(){return this._node},d.prototype.unbind=function(){var a=this._node;a&&(this._fire("unbind"),g.event.unbind(a,"keydown",this._keydownHandler,!0),g.event.unbind(a,"keyup",this._keyupHandler,!0)),this._node=null},d.prototype._fire=function(a){this._eventBus.fire("keyboard."+a,{node:this._node})},d.prototype.addListener=function(a,b,c){f.isFunction(a)&&(c=b,b=a,a=k),this._eventBus.on(c||i,a,b)},d.prototype.removeListener=function(a,b){this._eventBus.off(b||i,a)},d.prototype.hasModifier=h.hasModifier,d.prototype.isCmd=h.isCmd,d.prototype.isShift=h.isShift,d.prototype.isKey=h.isKey},{"./KeyboardUtil":327,"min-dash":734,"min-dom":428}],326:[function(a,b,c){"use strict";function d(a,b){var c=this;a.on("editorActions.init",f,function(a){var d=a.editorActions;c.registerBindings(b,d)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("./KeyboardUtil"),f=500;d.$inject=["eventBus","keyboard"],d.prototype.registerBindings=function(a,b){function c(c,d){b.isRegistered(c)&&a.addListener(d)}c("undo",function(a){var c=a.keyEvent;return e.isCmd(c)&&!e.isShift(c)&&e.isKey(["z","Z"],c)?(b.trigger("undo"),!0):void 0}),c("redo",function(a){var c=a.keyEvent;return e.isCmd(c)&&(e.isKey(["y","Y"],c)||e.isKey(["z","Z"],c)&&e.isShift(c))?(b.trigger("redo"),!0):void 0}),c("copy",function(a){var c=a.keyEvent;return e.isCmd(c)&&e.isKey(["c","C"],c)?(b.trigger("copy"),!0):void 0}),c("paste",function(a){var c=a.keyEvent;return e.isCmd(c)&&e.isKey(["v","V"],c)?(b.trigger("paste"),!0):void 0}),c("stepZoom",function(a){var c=a.keyEvent;return e.isKey(["+","Add"],c)&&e.isCmd(c)?(b.trigger("stepZoom",{value:1}),!0):void 0}),c("stepZoom",function(a){var c=a.keyEvent;return e.isKey(["-","Subtract"],c)&&e.isCmd(c)?(b.trigger("stepZoom",{value:-1}),!0):void 0}),c("zoom",function(a){var c=a.keyEvent;return e.isKey("0",c)&&e.isCmd(c)?(b.trigger("zoom",{value:1}),!0):void 0}),c("removeSelection",function(a){var c=a.keyEvent;return e.isKey(["Delete","Del"],c)?(b.trigger("removeSelection"),!0):void 0})}},{"./KeyboardUtil":327}],327:[function(a,b,c){"use strict";function d(a){return a.ctrlKey||a.metaKey||a.shiftKey||a.altKey}function e(a){return a.altKey?!1:a.ctrlKey||a.metaKey}function f(a,b){return a=h.isArray(a)?a:[a],a.indexOf(b.key)>-1}function g(a){return a.shiftKey}Object.defineProperty(c,"__esModule",{value:!0}),c.hasModifier=d,c.isCmd=e,c.isKey=f,c.isShift=g;var h=a("min-dash")},{"min-dash":734}],328:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Keyboard")),f=d(a("./KeyboardBindings")),g={__init__:["keyboard","keyboardBindings"],keyboard:["type",e["default"]],keyboardBindings:["type",f["default"]]};c["default"]=g},{"./Keyboard":325,"./KeyboardBindings":326}],329:[function(a,b,c){"use strict";function d(a,b,c,d,f,g){this._selection=f,this._dragging=c;var j=this,k={create:function(a){var c,d=b.getDefaultLayer();c=a.frame=i.create("rect"),i.attr(c,{"class":"djs-lasso-overlay",width:1,height:1,x:0,y:0}),i.append(d,c)},update:function(a){var b=a.frame,c=a.bbox;i.attr(b,{x:c.x,y:c.y,width:c.width,height:c.height})},remove:function(a){a.frame&&i.remove(a.frame)}};g.registerTool("lasso",{tool:"lasso.selection",dragging:"lasso"}),a.on("lasso.selection.end",function(b){var c=b.originalEvent.target;(b.hover||c instanceof SVGElement)&&a.once("lasso.selection.ended",function(){j.activateLasso(b.originalEvent,!0)})}),a.on("lasso.end",function(a){var b=e(a),c=d.filter(function(a){return a});j.select(c,b)}),a.on("lasso.start",function(a){var b=a.context;b.bbox=e(a),k.create(b)}),a.on("lasso.move",function(a){var b=a.context;b.bbox=e(a),k.update(b)}),a.on("lasso.cleanup",function(a){var b=a.context;k.remove(b)}),a.on("element.mousedown",1500,function(a){return h.hasSecondaryModifier(a)?(j.activateLasso(a.originalEvent),!0):void 0})}function e(a){var b,c={x:a.x-a.dx,y:a.y-a.dy},d={x:a.x,y:a.y};return b=c.x<=d.x&&c.y<d.y||c.x<d.x&&c.y<=d.y?{x:c.x,y:c.y,width:d.x-c.x,height:d.y-c.y}:c.x>=d.x&&c.y<d.y||c.x>d.x&&c.y<=d.y?{x:d.x,y:c.y,width:c.x-d.x,height:d.y-c.y}:c.x<=d.x&&c.y>d.y||c.x<d.x&&c.y>=d.y?{x:c.x,y:d.y,width:d.x-c.x,height:c.y-d.y}:c.x>=d.x&&c.y>d.y||c.x>d.x&&c.y>=d.y?{x:d.x,y:d.y,width:c.x-d.x,height:c.y-d.y}:{x:d.x,y:d.y,width:0,height:0}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("../../util/Elements"),h=a("../../util/Mouse"),i=a("tiny-svg"),j="crosshair";d.$inject=["eventBus","canvas","dragging","elementRegistry","selection","toolManager"],d.prototype.activateLasso=function(a,b){this._dragging.init(a,"lasso",{autoActivate:b,cursor:j,data:{context:{}}})},d.prototype.activateSelection=function(a){this._dragging.init(a,"lasso.selection",{trapClick:!1,cursor:j,data:{context:{}}})},d.prototype.select=function(a,b){var c=g.getEnclosedElements(a,b);this._selection.select(f.values(c))},d.prototype.toggle=function(){this.isActive()?this._dragging.cancel():this.activateSelection()},d.prototype.isActive=function(){var a=this._dragging.context();return a&&/^lasso/.test(a.prefix)}},{"../../util/Elements":413,"../../util/Mouse":421,"min-dash":734,"tiny-svg":794}],330:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../tool-manager")),f=d(a("./LassoTool")),g={__depends__:[e["default"]],__init__:["lassoTool"],lassoTool:["type",f["default"]]};c["default"]=g},{"../tool-manager":391,"./LassoTool":329}],331:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){this._eventBus=a,this._elementFactory=b,this._commandStack=c;var d=this;a.on("diagram.init",function(){d.registerHandlers(c)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=a("../../model"),h=d(a("./cmd/AlignElementsHandler")),i=d(a("./cmd/AppendShapeHandler")),j=d(a("./cmd/CreateConnectionHandler")),k=d(a("./cmd/CreateElementsHandler")),l=d(a("./cmd/CreateLabelHandler")),m=d(a("./cmd/CreateShapeHandler")),n=d(a("./cmd/DeleteConnectionHandler")),o=d(a("./cmd/DeleteElementsHandler")),p=d(a("./cmd/DeleteShapeHandler")),q=d(a("./cmd/DistributeElementsHandler")),r=d(a("./cmd/LayoutConnectionHandler")),s=d(a("./cmd/MoveConnectionHandler")),t=d(a("./cmd/MoveElementsHandler")),u=d(a("./cmd/MoveShapeHandler")),v=d(a("./cmd/ReconnectConnectionHandler")),w=d(a("./cmd/ReplaceShapeHandler")),x=d(a("./cmd/ResizeShapeHandler")),y=d(a("./cmd/SpaceToolHandler")),z=d(a("./cmd/ToggleShapeCollapseHandler")),A=d(a("./cmd/UpdateAttachmentHandler")),B=d(a("./cmd/UpdateWaypointsHandler"));e.$inject=["eventBus","elementFactory","commandStack"],e.prototype.getHandlers=function(){return{"shape.append":i["default"],"shape.create":m["default"],"shape.delete":p["default"],"shape.move":u["default"],"shape.resize":x["default"],"shape.replace":w["default"],"shape.toggleCollapse":z["default"],spaceTool:y["default"],"label.create":l["default"],"connection.create":j["default"],"connection.delete":n["default"],"connection.move":s["default"],"connection.layout":r["default"],"connection.updateWaypoints":B["default"],"connection.reconnect":v["default"],"elements.create":k["default"],"elements.move":t["default"],"elements.delete":o["default"],"elements.distribute":q["default"],"elements.align":h["default"],"element.updateAttachment":A["default"]}},e.prototype.registerHandlers=function(a){f.forEach(this.getHandlers(),function(b,c){a.registerHandler(c,b)})},e.prototype.moveShape=function(a,b,c,d,e){"object"==typeof d&&(e=d,d=null);var f={shape:a,delta:b,newParent:c,newParentIndex:d,hints:e||{}};this._commandStack.execute("shape.move",f)},e.prototype.updateAttachment=function(a,b){var c={shape:a,newHost:b};this._commandStack.execute("element.updateAttachment",c)},e.prototype.moveElements=function(a,b,c,d){d=d||{};var e,f=d.attach,g=c;f===!0?(e=c,g=c.parent):f===!1&&(e=null);var h={shapes:a,delta:b,newParent:g,newHost:e,hints:d};this._commandStack.execute("elements.move",h)},e.prototype.moveConnection=function(a,b,c,d,e){"object"==typeof d&&(e=d,d=void 0);var f={connection:a,delta:b,newParent:c,newParentIndex:d,hints:e||{}};this._commandStack.execute("connection.move",f)},e.prototype.layoutConnection=function(a,b){var c={connection:a,hints:b||{}};this._commandStack.execute("connection.layout",c)},e.prototype.createConnection=function(a,b,c,d,e,f){"object"==typeof c&&(f=e,e=d,d=c,c=void 0),d=this._create("connection",d);var g={source:a,target:b,parent:e,parentIndex:c,connection:d,hints:f};return this._commandStack.execute("connection.create",g),g.connection},e.prototype.createShape=function(a,b,c,d,e){"number"!=typeof d&&(e=d,d=void 0),e=e||{};var f,g,h=e.attach;a=this._create("shape",a),h?(f=c.parent,g=c):f=c;var i={position:b,shape:a,parent:f,parentIndex:d,host:g,hints:e};return this._commandStack.execute("shape.create",i),i.shape},e.prototype.createElements=function(a,b,c,d,e){f.isArray(a)||(a=[a]),"number"!=typeof d&&(e=d,d=void 0),e=e||{};var g={position:b,elements:a,parent:c,parentIndex:d,hints:e};return this._commandStack.execute("elements.create",g),g.elements},e.prototype.createLabel=function(a,b,c,d){c=this._create("label",c);var e={labelTarget:a,position:b,parent:d||a.parent,shape:c};return this._commandStack.execute("label.create",e),e.shape},e.prototype.appendShape=function(a,b,c,d,e){e=e||{},b=this._create("shape",b);var f={source:a,position:c,target:d,shape:b,connection:e.connection,connectionParent:e.connectionParent,attach:e.attach};return this._commandStack.execute("shape.append",f),f.shape},e.prototype.removeElements=function(a){var b={
elements:a};this._commandStack.execute("elements.delete",b)},e.prototype.distributeElements=function(a,b,c){var d={groups:a,axis:b,dimension:c};this._commandStack.execute("elements.distribute",d)},e.prototype.removeShape=function(a,b){var c={shape:a,hints:b||{}};this._commandStack.execute("shape.delete",c)},e.prototype.removeConnection=function(a,b){var c={connection:a,hints:b||{}};this._commandStack.execute("connection.delete",c)},e.prototype.replaceShape=function(a,b,c){var d={oldShape:a,newData:b,hints:c||{}};return this._commandStack.execute("shape.replace",d),d.newShape},e.prototype.alignElements=function(a,b){var c={elements:a,alignment:b};this._commandStack.execute("elements.align",c)},e.prototype.resizeShape=function(a,b,c,d){var e={shape:a,newBounds:b,minBounds:c,hints:d};this._commandStack.execute("shape.resize",e)},e.prototype.createSpace=function(a,b,c,d,e){var f={delta:c,direction:d,movingShapes:a,resizingShapes:b,start:e};this._commandStack.execute("spaceTool",f)},e.prototype.updateWaypoints=function(a,b,c){var d={connection:a,newWaypoints:b,hints:c||{}};this._commandStack.execute("connection.updateWaypoints",d)},e.prototype.reconnect=function(a,b,c,d,e){var f={connection:a,newSource:b,newTarget:c,dockingOrPoints:d,hints:e||{}};this._commandStack.execute("connection.reconnect",f)},e.prototype.reconnectStart=function(a,b,c,d){d||(d={}),this.reconnect(a,b,a.target,c,f.assign(d,{docking:"source"}))},e.prototype.reconnectEnd=function(a,b,c,d){d||(d={}),this.reconnect(a,a.source,b,c,f.assign(d,{docking:"target"}))},e.prototype.connect=function(a,b,c,d){return this.createConnection(a,b,c||{},a.parent,d)},e.prototype._create=function(a,b){return b instanceof g.Base?b:this._elementFactory.create(a,b)},e.prototype.toggleCollapse=function(a,b){var c={shape:a,hints:b||{}};this._commandStack.execute("shape.toggleCollapse",c)}},{"../../model":400,"./cmd/AlignElementsHandler":332,"./cmd/AppendShapeHandler":333,"./cmd/CreateConnectionHandler":334,"./cmd/CreateElementsHandler":335,"./cmd/CreateLabelHandler":336,"./cmd/CreateShapeHandler":337,"./cmd/DeleteConnectionHandler":338,"./cmd/DeleteElementsHandler":339,"./cmd/DeleteShapeHandler":340,"./cmd/DistributeElementsHandler":341,"./cmd/LayoutConnectionHandler":342,"./cmd/MoveConnectionHandler":343,"./cmd/MoveElementsHandler":344,"./cmd/MoveShapeHandler":345,"./cmd/ReconnectConnectionHandler":346,"./cmd/ReplaceShapeHandler":347,"./cmd/ResizeShapeHandler":348,"./cmd/SpaceToolHandler":349,"./cmd/ToggleShapeCollapseHandler":350,"./cmd/UpdateAttachmentHandler":351,"./cmd/UpdateWaypointsHandler":352,"min-dash":734}],332:[function(a,b,c){"use strict";function d(a,b){this._modeling=a,this._canvas=b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["modeling","canvas"],d.prototype.preExecute=function(a){var b=this._modeling,c=a.elements,d=a.alignment;e.forEach(c,function(a){var c={x:0,y:0};d.left?c.x=d.left-a.x:d.right?c.x=d.right-a.width-a.x:d.center?c.x=d.center-Math.round(a.width/2)-a.x:d.top?c.y=d.top-a.y:d.bottom?c.y=d.bottom-a.height-a.y:d.middle&&(c.y=d.middle-Math.round(a.height/2)-a.y),b.moveElements([a],c,a.parent)})},d.prototype.postExecute=function(a){}},{"min-dash":734}],333:[function(a,b,c){"use strict";function d(a){this._modeling=a}function e(a,b){return f.some(a.outgoing,function(a){return a.target===b})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash");d.$inject=["modeling"],d.prototype.preExecute=function(a){var b=a.source;if(!b)throw new Error("source required");var c=a.target||b.parent,d=a.shape;d=a.shape=this._modeling.createShape(d,a.position,c,{attach:a.attach}),a.shape=d},d.prototype.postExecute=function(a){var b=a.connectionParent||a.shape.parent;e(a.source,a.shape)||this._modeling.connect(a.source,a.shape,a.connection,b)}},{"min-dash":734}],334:[function(a,b,c){"use strict";function d(a,b){this._canvas=a,this._layouter=b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,d.$inject=["canvas","layouter"],d.prototype.execute=function(a){var b=a.connection,c=a.source,d=a.target,e=a.parent,f=a.parentIndex,g=a.hints;if(!c||!d)throw new Error("source and target required");if(!e)throw new Error("parent required");return b.source=c,b.target=d,b.waypoints||(b.waypoints=this._layouter.layoutConnection(b,g)),this._canvas.addConnection(b,e,f),b},d.prototype.revert=function(a){var b=a.connection;return this._canvas.removeConnection(b),b.source=null,b.target=null,b}},{}],335:[function(a,b,c){"use strict";function d(a){this._modeling=a}function e(a){return!!a.waypoints}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("../../../util/Elements"),h=Math.round;d.$inject=["modeling"],d.prototype.preExecute=function(a){var b=a.elements,c=a.parent,d=a.parentIndex,i=a.position,j=a.hints,k=this._modeling;f.forEach(b,function(a){f.isNumber(a.x)||(a.x=0),f.isNumber(a.y)||(a.y=0)});var l=g.getBBox(b);f.forEach(b,function(a){e(a)&&(a.waypoints=f.map(a.waypoints,function(a){return{x:h(a.x-l.x-l.width/2+i.x),y:h(a.y-l.y-l.height/2+i.y)}})),f.assign(a,{x:h(a.x-l.x-l.width/2+i.x),y:h(a.y-l.y-l.height/2+i.y)})});var m=g.getParents(b),n={};f.forEach(b,function(a){if(e(a))return void(n[a.id]=f.isNumber(d)?k.createConnection(n[a.source.id],n[a.target.id],d,a,a.parent||c,j):k.createConnection(n[a.source.id],n[a.target.id],a,a.parent||c,j));var b=f.assign({},j);-1===m.indexOf(a)&&(b.autoResize=!1),n[a.id]=f.isNumber(d)?k.createShape(a,f.pick(a,["x","y","width","height"]),a.parent||c,d,b):k.createShape(a,f.pick(a,["x","y","width","height"]),a.parent||c,b)}),a.elements=f.values(n)}},{"../../../util/Elements":413,"min-dash":734}],336:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){h["default"].call(this,a)}function f(a){["width","height"].forEach(function(b){"undefined"==typeof a[b]&&(a[b]=0)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var g=d(a("inherits")),h=d(a("./CreateShapeHandler"));g["default"](e,h["default"]),e.$inject=["canvas"];var i=h["default"].prototype.execute;e.prototype.execute=function(a){var b=a.shape;return f(b),b.labelTarget=a.labelTarget,i.call(this,a)};var j=h["default"].prototype.revert;e.prototype.revert=function(a){return a.shape.labelTarget=null,j.call(this,a)}},{"./CreateShapeHandler":337,inherits:527}],337:[function(a,b,c){"use strict";function d(a){this._canvas=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=Math.round;d.$inject=["canvas"],d.prototype.execute=function(a){var b=a.shape,c=a.position,d=a.parent,g=a.parentIndex;if(!d)throw new Error("parent required");if(!c)throw new Error("position required");return void 0!==c.width?e.assign(b,c):e.assign(b,{x:c.x-f(b.width/2),y:c.y-f(b.height/2)}),this._canvas.addShape(b,d,g),b},d.prototype.revert=function(a){var b=a.shape;return this._canvas.removeShape(b),b}},{"min-dash":734}],338:[function(a,b,c){"use strict";function d(a,b){this._canvas=a,this._modeling=b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("../../../util/Collections");d.$inject=["canvas","modeling"],d.prototype.execute=function(a){var b=a.connection,c=b.parent;return a.parent=c,a.parentIndex=e.indexOf(c.children,b),a.source=b.source,a.target=b.target,this._canvas.removeConnection(b),b.source=null,b.target=null,b},d.prototype.revert=function(a){var b=a.connection,c=a.parent,d=a.parentIndex;return b.source=a.source,b.target=a.target,e.add(c.children,b,d),this._canvas.addConnection(b,c),b}},{"../../../util/Collections":411}],339:[function(a,b,c){"use strict";function d(a,b){this._modeling=a,this._elementRegistry=b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["modeling","elementRegistry"],d.prototype.postExecute=function(a){var b=this._modeling,c=this._elementRegistry,d=a.elements;e.forEach(d,function(a){c.get(a.id)&&(a.waypoints?b.removeConnection(a):b.removeShape(a))})}},{"min-dash":734}],340:[function(a,b,c){"use strict";function d(a,b){this._canvas=a,this._modeling=b}function e(a){return a.waypoints}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("../../../util/Collections"),g=a("../../../util/Removal");d.$inject=["canvas","modeling"],d.prototype.preExecute=function(a){var b=this._modeling,c=a.shape;g.saveClear(c.incoming,function(a){b.removeConnection(a,{nested:!0})}),g.saveClear(c.outgoing,function(a){b.removeConnection(a,{nested:!0})}),g.saveClear(c.children,function(a){e(a)?b.removeConnection(a,{nested:!0}):b.removeShape(a,{nested:!0})})},d.prototype.execute=function(a){var b=this._canvas,c=a.shape,d=c.parent;return a.oldParent=d,a.oldParentIndex=f.indexOf(d.children,c),b.removeShape(c),c},d.prototype.revert=function(a){var b=this._canvas,c=a.shape,d=a.oldParent,e=a.oldParentIndex;return f.add(d.children,c,e),b.addShape(c,d),c}},{"../../../util/Collections":411,"../../../util/Removal":424}],341:[function(a,b,c){"use strict";function d(a){this._modeling=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["modeling"];var f={x:"y",y:"x"};d.prototype.preExecute=function(a){function b(a,b){a.range.min=Math.min(b[m],a.range.min),a.range.max=Math.max(b[m]+b[n],a.range.max)}function c(a){return a[m]+a[n]/2}function d(a){return a.length-1}function g(a){return a.max-a.min}function h(a,b){var d={y:0};d[m]=a-c(b),d[m]&&(d[f[m]]=0,k.moveElements([b],d,b.parent))}var i,j,k=this._modeling,l=a.groups,m=a.axis,n=a.dimension,o=l[0],p=d(l),q=l[p],r=0;e.forEach(l,function(a,f){var i,j,k;return a.elements.length<2?void(f&&f!==l.length-1&&(b(a,a.elements[0]),r+=g(a.range))):(i=e.sortBy(a.elements,m),j=i[0],f===p&&(j=i[d(i)]),k=c(j),a.range=null,e.forEach(i,function(c){return h(k,c),null===a.range?void(a.range={min:c[m],max:c[m]+c[n]}):void b(a,c)}),void(f&&f!==l.length-1&&(r+=g(a.range))))}),j=Math.abs(q.range.min-o.range.max),i=Math.round((j-r)/(l.length-1)),i<l.length-1||e.forEach(l,function(a,b){var c,d={};a!==o&&a!==q&&(c=l[b-1],a.range.max=0,e.forEach(a.elements,function(b,e){d[f[m]]=0,d[m]=c.range.max-b[m]+i,a.range.min!==b[m]&&(d[m]+=b[m]-a.range.min),d[m]&&k.moveElements([b],d,b.parent),a.range.max=Math.max(b[m]+b[n],e?a.range.max:0)}))})},d.prototype.postExecute=function(a){}},{"min-dash":734}],342:[function(a,b,c){"use strict";function d(a,b){this._layouter=a,this._canvas=b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["layouter","canvas"],d.prototype.execute=function(a){var b=a.connection,c=b.waypoints;return e.assign(a,{oldWaypoints:c}),b.waypoints=this._layouter.layoutConnection(b,a.hints),b},d.prototype.revert=function(a){var b=a.connection;return b.waypoints=a.oldWaypoints,b}},{"min-dash":734}],343:[function(a,b,c){"use strict";function d(){}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("../../../util/Collections");d.prototype.execute=function(a){var b=a.connection,c=a.delta,d=a.newParent||b.parent,g=a.newParentIndex,h=b.parent;return a.oldParent=h,a.oldParentIndex=f.remove(h.children,b),f.add(d.children,b,g),b.parent=d,e.forEach(b.waypoints,function(a){a.x+=c.x,a.y+=c.y,a.original&&(a.original.x+=c.x,a.original.y+=c.y)}),b},d.prototype.revert=function(a){var b=a.connection,c=b.parent,d=a.oldParent,g=a.oldParentIndex,h=a.delta;return f.remove(c.children,b),f.add(d.children,b,g),b.parent=d,e.forEach(b.waypoints,function(a){a.x-=h.x,a.y-=h.y,a.original&&(a.original.x-=h.x,a.original.y-=h.y)}),b}},{"../../../util/Collections":411,"min-dash":734}],344:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this._helper=new f["default"](a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("./helper/MoveHelper"));e.$inject=["modeling"],e.prototype.preExecute=function(a){a.closure=this._helper.getClosure(a.shapes)},e.prototype.postExecute=function(a){var b,c=a.hints;c&&c.primaryShape&&(b=c.primaryShape,c.oldParent=b.parent),this._helper.moveClosure(a.closure,a.delta,a.newParent,a.newHost,b)}},{"./helper/MoveHelper":355}],345:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this._modeling=a,this._helper=new g["default"](a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=d(a("./helper/MoveHelper")),h=a("../../../util/Collections"),i=a("./helper/AnchorsHelper");e.$inject=["modeling"],e.prototype.execute=function(a){var b=a.shape,c=a.delta,d=a.newParent||b.parent,e=a.newParentIndex,g=b.parent;return a.oldBounds=f.pick(b,["x","y","width","height"]),a.oldParent=g,a.oldParentIndex=h.remove(g.children,b),h.add(d.children,b,e),f.assign(b,{parent:d,x:b.x+c.x,y:b.y+c.y}),b},e.prototype.postExecute=function(a){var b=a.shape,c=a.delta,d=a.hints,e=this._modeling;d.layout!==!1&&(f.forEach(b.incoming,function(a){e.layoutConnection(a,{connectionEnd:i.getMovedTargetAnchor(a,b,c)})}),f.forEach(b.outgoing,function(a){e.layoutConnection(a,{connectionStart:i.getMovedSourceAnchor(a,b,c)})})),d.recurse!==!1&&this.moveChildren(a)},e.prototype.revert=function(a){var b=a.shape,c=a.oldParent,d=a.oldParentIndex,e=a.delta;return h.add(c.children,b,d),f.assign(b,{parent:c,x:b.x-e.x,y:b.y-e.y}),b},e.prototype.moveChildren=function(a){var b=a.delta,c=a.shape;this._helper.moveRecursive(c.children,b,null)},e.prototype.getNewParent=function(a){return a.newParent||a.shape.parent}},{"../../../util/Collections":411,"./helper/AnchorsHelper":353,"./helper/MoveHelper":355,"min-dash":734}],346:[function(a,b,c){"use strict";function d(a){this._modeling=a}function e(a){return a.original||a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash");d.$inject=["modeling"],d.prototype.execute=function(a){var b=a.newSource,c=a.newTarget,d=a.connection,e=a.dockingOrPoints;if(!b&&!c)throw new Error("newSource or newTarget required");return f.isArray(e)&&(a.oldWaypoints=d.waypoints,d.waypoints=e),b&&(a.oldSource=d.source,d.source=b),c&&(a.oldTarget=d.target,d.target=c),d},d.prototype.postExecute=function(a){var b=a.connection,c=a.newSource,d=a.newTarget,g=a.dockingOrPoints,h=a.hints||{};if(h.layoutConnection!==!1){var i={};!c||d&&"source"!==h.docking||(i.connectionStart=e(f.isArray(g)?g[0]:g)),!d||c&&"target"!==h.docking||(i.connectionEnd=e(f.isArray(g)?g[g.length-1]:g)),h.newWaypoints&&(i.waypoints=h.newWaypoints),this._modeling.layoutConnection(b,i)}},d.prototype.revert=function(a){var b=a.oldSource,c=a.oldTarget,d=a.oldWaypoints,e=a.connection;return b&&(e.source=b),c&&(e.target=c),d&&(e.waypoints=d),e}},{"min-dash":734}],347:[function(a,b,c){"use strict";function d(a,b){this._modeling=a,this._rules=b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("./helper/AnchorsHelper");d.$inject=["modeling","rules"],d.prototype.preExecute=function(a){function b(a,b,c){return h.allowed("connection.reconnect",{connection:c,source:a,target:b})}var c,d=this,g=this._modeling,h=this._rules,i=a.oldShape,j=a.newData,k=a.hints||{},l={x:j.x,y:j.y},m={x:i.x,y:i.y,width:i.width,height:i.height};c=a.newShape=a.newShape||d.createShape(j,l,i.parent,k),i.host&&g.updateAttachment(c,i.host);var n;k.moveChildren!==!1&&(n=i.children.slice(),g.moveElements(n,{x:0,y:0},c,k));var o=i.incoming.slice(),p=i.outgoing.slice();e.forEach(o,function(a){var e=a.source,g=b(e,c,a);g&&d.reconnectEnd(a,c,f.getResizedTargetAnchor(a,c,m),k)}),e.forEach(p,function(a){var e=a.target,g=b(c,e,a);g&&d.reconnectStart(a,c,f.getResizedSourceAnchor(a,c,m),k)})},d.prototype.postExecute=function(a){var b=a.oldShape;this._modeling.removeShape(b)},d.prototype.execute=function(a){},d.prototype.revert=function(a){},d.prototype.createShape=function(a,b,c,d){return this._modeling.createShape(a,b,c,d)},d.prototype.reconnectStart=function(a,b,c,d){this._modeling.reconnectStart(a,b,c,d)},d.prototype.reconnectEnd=function(a,b,c,d){this._modeling.reconnectEnd(a,b,c,d)}},{"./helper/AnchorsHelper":353,"min-dash":734}],348:[function(a,b,c){"use strict";function d(a){this._modeling=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("./helper/AnchorsHelper");d.$inject=["modeling"],d.prototype.execute=function(a){var b=a.shape,c=a.newBounds,d=a.minBounds;if(void 0===c.x||void 0===c.y||void 0===c.width||void 0===c.height)throw new Error("newBounds must have {x, y, width, height} properties");if(d&&(c.width<d.width||c.height<d.height))throw new Error("width and height cannot be less than minimum height and width");if(!d&&c.width<10||c.height<10)throw new Error("width and height cannot be less than 10px");return a.oldBounds={width:b.width,height:b.height,x:b.x,y:b.y},e.assign(b,{width:c.width,height:c.height,x:c.x,y:c.y}),b},d.prototype.postExecute=function(a){var b=this._modeling,c=a.shape,d=a.oldBounds,g=a.hints||{};g.layout!==!1&&(e.forEach(c.incoming,function(a){b.layoutConnection(a,{connectionEnd:f.getResizedTargetAnchor(a,c,d)})}),e.forEach(c.outgoing,function(a){b.layoutConnection(a,{connectionStart:f.getResizedSourceAnchor(a,c,d)})}))},d.prototype.revert=function(a){var b=a.shape,c=a.oldBounds;return e.assign(b,{width:c.width,height:c.height,x:c.x,y:c.y}),b}},{"./helper/AnchorsHelper":353,"min-dash":734}],349:[function(a,b,c){"use strict";function d(a){this._modeling=a}function e(a){return i.assign({},a)}function f(a){return i.map(a.waypoints,function(a){return a=e(a),a.original&&(a.original=e(a.original)),a})}function g(a){switch(a){case"n":return"y";case"w":return"x";case"s":return"y";case"e":return"x"}}function h(a,b){return-1!==a.indexOf(b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var i=a("min-dash"),j=a("../../space-tool/SpaceUtil");d.$inject=["modeling"],d.prototype.preExecute=function(a){var b=a.delta,c=a.direction,d=a.movingShapes,e=a.resizingShapes,f=a.start;this.moveShapes(d,b),this.resizeShapes(e,b,c),this.updateConnectionWaypoints(j.getWaypointsUpdatingConnections(d,e),b,c,f,d,e)},d.prototype.execute=function(){},d.prototype.revert=function(){},d.prototype.moveShapes=function(a,b){var c=this;i.forEach(a,function(a){c._modeling.moveShape(a,b,null,{autoResize:!1,layout:!1,recurse:!1})})},d.prototype.resizeShapes=function(a,b,c){var d=this;i.forEach(a,function(a){var e=j.resizeBounds(a,c,b);d._modeling.resizeShape(a,e,null,{attachSupport:!1,autoResize:!1,layout:!1})})},d.prototype.updateConnectionWaypoints=function(a,b,c,d,e,j){var k=this;i.forEach(a,function(a){var l=a.source,m=a.target,n=f(a),o=g(c);n=i.map(n,function(a,f){var g=0===f,i=f===n.length-1;return g&&!h(e.concat(j),l)||i&&!h(e.concat(j),m)?a:((a[o]>d&&/e|s/.test(c)||a[o]<d&&/n|w/.test(c))&&(a[o]=a[o]+b[o]),a.original&&(a.original[o]>d&&/e|s/.test(c)||a.original[o]<d&&/n|w/.test(c))&&(a.original[o]=a.original[o]+b[o]),a)}),k._modeling.updateWaypoints(a,n,{labelBehavior:!1})})}},{"../../space-tool/SpaceUtil":389,"min-dash":734}],350:[function(a,b,c){"use strict";function d(a){this._modeling=a}function e(a){var b={};return h.forEach(a,function(a){b[a.id]=a.hidden,a.children&&(b=h.assign({},b,e(a.children)))}),b}function f(a,b){var c=[];return h.forEach(a,function(a){a.hidden=b,c=c.concat(a),a.children&&(c=c.concat(f(a.children,a.collapsed||b)))}),c}function g(a,b){var c=[];return h.forEach(a,function(a){a.hidden=b[a.id],c=c.concat(a),a.children&&(c=c.concat(g(a.children,b)))}),c}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var h=a("min-dash");d.$inject=["modeling"],d.prototype.execute=function(a){var b=a.shape,c=b.children;a.oldChildrenVisibility=e(c),b.collapsed=!b.collapsed;var d=f(c,b.collapsed);return[b].concat(d)},d.prototype.revert=function(a){var b=a.shape,c=a.oldChildrenVisibility,d=b.children,e=g(d,c);return b.collapsed=!b.collapsed,[b].concat(e)}},{"min-dash":734}],351:[function(a,b,c){"use strict";function d(a){this._modeling=a}function e(a,b){return g.remove(a&&a.attachers,b)}function f(a,b,c){if(a){var d=a.attachers;d||(a.attachers=d=[]),g.add(d,b,c)}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("../../../util/Collections");d.$inject=["modeling"],d.prototype.execute=function(a){var b=a.shape,c=a.newHost,d=b.host;return a.oldHost=d,a.attacherIdx=e(d,b),f(c,b),b.host=c,b},d.prototype.revert=function(a){var b=a.shape,c=a.newHost,d=a.oldHost,g=a.attacherIdx;return b.host=d,e(c,b),f(d,b,g),b}},{"../../../util/Collections":411}],352:[function(a,b,c){"use strict";function d(){}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,d.prototype.execute=function(a){var b=a.connection,c=a.newWaypoints;return a.oldWaypoints=b.waypoints,b.waypoints=c,b},d.prototype.revert=function(a){var b=a.connection,c=a.oldWaypoints;return b.waypoints=c,b}},{}],353:[function(a,b,c){"use strict";function d(a,b,c){var d=i(a),e=d[0];return j.getNewAttachPoint(e.original||e,c,b)}function e(a,b,c){var d=i(a),e=d[d.length-1];return j.getNewAttachPoint(e.original||e,c,b)}function f(a,b,c){return d(a,b,h(b,c))}function g(a,b,c){return e(a,b,h(b,c))}function h(a,b){return{x:a.x-b.x,y:a.y-b.y,width:a.width,height:a.height}}function i(a){var b=a.waypoints;if(!b.length)throw new Error("connection#"+a.id+": no waypoints");return b}Object.defineProperty(c,"__esModule",{value:!0}),c.getResizedSourceAnchor=d,c.getResizedTargetAnchor=e,c.getMovedSourceAnchor=f,c.getMovedTargetAnchor=g;var j=a("../../../../util/AttachUtil")},{"../../../../util/AttachUtil":409}],354:[function(a,b,c){"use strict";function d(){this.allShapes={},this.allConnections={},this.enclosedElements={},this.enclosedConnections={},this.topLevel={}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("../../../../util/Elements");d.prototype.add=function(a,b){return this.addAll([a],b)},d.prototype.addAll=function(a,b){var c=f.getClosure(a,!!b,this);return e.assign(this,c),this}},{"../../../../util/Elements":413,"min-dash":734}],355:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this._modeling=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=a("./AnchorsHelper"),h=d(a("./MoveClosure"));e.prototype.moveRecursive=function(a,b,c){return a?this.moveClosure(this.getClosure(a),b,c):[]},e.prototype.moveClosure=function(a,b,c,d,e){var h=this._modeling,i=a.allShapes,j=a.allConnections,k=a.enclosedConnections,l=a.topLevel,m=!1;e&&e.parent===c&&(m=!0),f.forEach(i,function(a){h.moveShape(a,b,l[a.id]&&!m&&c,{recurse:!1,layout:!1})}),f.forEach(j,function(a){var d=!!i[a.source.id],e=!!i[a.target.id];k[a.id]&&d&&e?h.moveConnection(a,b,l[a.id]&&!m&&c):h.layoutConnection(a,{connectionStart:d&&g.getMovedSourceAnchor(a,a.source,b),connectionEnd:e&&g.getMovedTargetAnchor(a,a.target,b)})})},e.prototype.getClosure=function(a){return(new h["default"]).addAll(a,!0)}},{"./AnchorsHelper":353,"./MoveClosure":354,"min-dash":734}],356:[function(a,b,c){"use strict";function d(a){return{x:a.x+l(a.width/2),y:a.y+l(a.height/2)}}function e(a,b,c,e,m){function n(a,b,c,d){return m.allowed("elements.move",{shapes:a,delta:b,position:c,target:d})}function o(a,c,e,f){if(g.isObject(e)&&(f=e,e=!1),!c.waypoints&&c.parent){var h=d(c);return b.init(a,h,"shape.move",{cursor:"grabbing",autoActivate:e,data:{shape:c,context:f||{}}}),!0}}a.on("shape.move.start",k,function(a){var b=a.context,c=a.shape,d=e.get().slice();-1===d.indexOf(c)&&(d=[c]),d=f(d),g.assign(b,{shapes:d,validatedShapes:d,shape:c})}),a.on("shape.move.start",j,function(a){var b,c=a.context,d=c.validatedShapes;return b=c.canExecute=n(d),b?void 0:!1}),a.on("shape.move.move",i,function(a){var b,c=a.context,d=c.validatedShapes,e=a.hover,f={x:a.dx,y:a.dy},g={x:a.x,y:a.y};return b=n(d,f,g,e),c.delta=f,c.canExecute=b,null===b?void(c.target=null):void(c.target=e)}),a.on("shape.move.end",function(a){var b=a.context,d=b.delta,e=b.canExecute,f="attach"===e,g=b.shapes;return e===!1?!1:(d.x=l(d.x),d.y=l(d.y),void((0!==d.x||0!==d.y)&&c.moveElements(g,d,b.target,{primaryShape:b.shape,attach:f})))}),a.on("element.mousedown",function(a){var b=h.getOriginal(a);if(!b)throw new Error("must supply DOM mousedown event");return o(b,a.element)}),this.start=o}function f(a){var b=g.groupBy(a,"id");return g.filter(a,function(a){for(;a=a.parent;)if(b[a.id])return!1;return!0})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var g=a("min-dash"),h=a("../../util/Event"),i=500,j=1250,k=1500,l=Math.round;e.$inject=["eventBus","dragging","modeling","selection","rules"]},{"../../util/Event":415,"min-dash":734}],357:[function(a,b,c){"use strict";function d(a,b,c,d){function g(a){var b=r(a),c=e(b);return c}function r(a){var b=i.selfAndAllChildren(a,!0),c=h.map(b,function(a){return(a.incoming||[]).concat(a.outgoing||[])});return h.flatten(b.concat(c))}function s(a,c){[q,n,o,p].forEach(function(d){d===c?b.addMarker(a,d):b.removeMarker(a,d)})}function t(a,c,e){d.addDragger(c,a.dragGroup),e&&b.addMarker(c,m),a.allDraggedElements?a.allDraggedElements.push(c):a.allDraggedElements=[c]}a.on("shape.move.start",l,function(a){var e=a.context,i=e.shapes,k=e.allDraggedElements,l=g(i);if(!e.dragGroup){var n=j.create("g");j.attr(n,c.cls("djs-drag-group",["no-events"]));var o=b.getDefaultLayer();j.append(o,n),e.dragGroup=n}l.forEach(function(a){d.addDragger(a,e.dragGroup)}),k=k?h.flatten([k,r(i)]):r(i),h.forEach(k,function(a){b.addMarker(a,m)}),e.allDraggedElements=k,e.differentParents=f(i)}),a.on("shape.move.move",l,function(a){var b=a.context,c=b.dragGroup,d=b.target,e=b.shape.parent,f=b.canExecute;d&&("attach"===f?s(d,q):b.canExecute&&d&&d.id!==e.id?s(d,p):s(d,b.canExecute?n:o)),k.translate(c,a.dx,a.dy)}),a.on(["shape.move.out","shape.move.cleanup"],function(a){var b=a.context,c=b.target;c&&s(c,null)}),a.on("shape.move.cleanup",function(a){var c=a.context,d=c.allDraggedElements,e=c.dragGroup;h.forEach(d,function(a){b.removeMarker(a,m)}),e&&j.remove(e)}),this.makeDraggable=t}function e(a){var b=h.filter(a,function(b){return g(b)?h.find(a,h.matchPattern({id:b.source.id}))&&h.find(a,h.matchPattern({id:b.target.id})):!0});return b}function f(a){return 1!==h.size(h.groupBy(a,function(a){return a.parent&&a.parent.id}))}function g(a){return a.waypoints}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var h=a("min-dash"),i=a("../../util/Elements"),j=a("tiny-svg"),k=a("../../util/SvgTransformUtil"),l=499,m="djs-dragging",n="drop-ok",o="drop-not-ok",p="new-parent",q="attach-ok";d.$inject=["eventBus","canvas","styles","previewSupport"]},{"../../util/Elements":413,"../../util/SvgTransformUtil":426,"min-dash":734,"tiny-svg":794}],358:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../interaction-events")),f=d(a("../selection")),g=d(a("../outline")),h=d(a("../rules")),i=d(a("../dragging")),j=d(a("../preview-support")),k=d(a("./Move")),l=d(a("./MovePreview")),m={__depends__:[e["default"],f["default"],g["default"],h["default"],i["default"],j["default"]],__init__:["move","movePreview"],move:["type",k["default"]],movePreview:["type",l["default"]]};c["default"]=m},{"../dragging":312,"../interaction-events":322,"../outline":360,"../preview-support":368,"../rules":378,"../selection":382,"./Move":356,"./MovePreview":357}],359:[function(a,b,c){"use strict";function d(a,b,c){function d(a,b){var c=f.create("rect");return f.attr(c,h.assign({x:10,y:10,width:100,height:100},e)),f.append(a,c),c}this.offset=6;var e=b.cls("djs-outline",["no-fill"]),j=this;a.on(["shape.added","shape.changed"],i,function(a){var b=a.element,c=a.gfx,e=g.query(".djs-outline",c);e||(e=d(c,b)),j.updateShapeOutline(e,b)}),a.on(["connection.added","connection.changed"],function(a){var b=a.element,c=a.gfx,e=g.query(".djs-outline",c);e||(e=d(c,b)),j.updateConnectionOutline(e,b)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("../../util/Elements"),f=a("tiny-svg"),g=a("min-dom"),h=a("min-dash"),i=500;d.prototype.updateShapeOutline=function(a,b){f.attr(a,{x:-this.offset,y:-this.offset,width:b.width+2*this.offset,height:b.height+2*this.offset})},d.prototype.updateConnectionOutline=function(a,b){var c=e.getBBox(b);f.attr(a,{x:c.x-this.offset,y:c.y-this.offset,width:c.width+2*this.offset,height:c.height+2*this.offset})},d.$inject=["eventBus","styles","elementRegistry"]},{"../../util/Elements":413,"min-dash":734,"min-dom":428,"tiny-svg":794}],360:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Outline")),f={__init__:["outline"],outline:["type",e["default"]]};c["default"]=f},{"./Outline":359}],361:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d){this._eventBus=b,this._canvas=c,this._elementRegistry=d,this._ids=n,this._overlayDefaults=j.assign({show:null,scale:!0},a&&a.defaults),this._overlays={},this._overlayContainers=[],this._overlayRoot=f(c.getContainer()),this._init()}function f(a){var b=k.domify('<div class="djs-overlay-container" style="position: absolute; width: 0; height: 0;" />');return a.insertBefore(b,a.firstChild),b}function g(a,b,c){j.assign(a.style,{left:b+"px",top:c+"px"})}function h(a,b){a.style.display=b===!1?"none":""}function i(a,b){a.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(c){a.style[c+"transform"]=b})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var j=a("min-dash"),k=a("min-dom"),l=a("../../util/Elements"),m=d(a("../../util/IdGenerator")),n=new m["default"]("ov"),o=500;e.$inject=["config.overlays","eventBus","canvas","elementRegistry"],e.prototype.get=function(a){if(j.isString(a)&&(a={id:a}),j.isString(a.element)&&(a.element=this._elementRegistry.get(a.element)),a.element){var b=this._getOverlayContainer(a.element,!0);return b?a.type?j.filter(b.overlays,j.matchPattern({type:a.type})):b.overlays.slice():[]}return a.type?j.filter(this._overlays,j.matchPattern({type:a.type})):a.id?this._overlays[a.id]:null},e.prototype.add=function(a,b,c){if(j.isObject(b)&&(c=b,b=null),a.id||(a=this._elementRegistry.get(a)),!c.position)throw new Error("must specifiy overlay position");if(!c.html)throw new Error("must specifiy overlay html");if(!a)throw new Error("invalid element specified");var d=this._ids.next();return c=j.assign({},this._overlayDefaults,c,{id:d,type:b,element:a,html:c.html}),this._addOverlay(c),d},e.prototype.remove=function(a){var b=this.get(a)||[];j.isArray(b)||(b=[b]);var c=this;j.forEach(b,function(a){var b=c._getOverlayContainer(a.element,!0);if(a&&(k.remove(a.html),k.remove(a.htmlContainer),delete a.htmlContainer,delete a.element,delete c._overlays[a.id]),b){var d=b.overlays.indexOf(a);-1!==d&&b.overlays.splice(d,1)}})},e.prototype.show=function(){h(this._overlayRoot)},e.prototype.hide=function(){h(this._overlayRoot,!1)},e.prototype.clear=function(){this._overlays={},this._overlayContainers=[],k.clear(this._overlayRoot)},e.prototype._updateOverlayContainer=function(a){var b=a.element,c=a.html,d=b.x,e=b.y;if(b.waypoints){var f=l.getBBox(b);d=f.x,e=f.y}g(c,d,e),k.attr(a.html,"data-container-id",b.id)},e.prototype._updateOverlay=function(a){var b=a.position,c=a.htmlContainer,d=a.element,e=b.left,f=b.top;if(void 0!==b.right){var h;h=d.waypoints?l.getBBox(d).width:d.width,e=-1*b.right+h}if(void 0!==b.bottom){var i;i=d.waypoints?l.getBBox(d).height:d.height,f=-1*b.bottom+i}g(c,e||0,f||0)},e.prototype._createOverlayContainer=function(a){var b=k.domify('<div class="djs-overlays" style="position: absolute" />');this._overlayRoot.appendChild(b);var c={html:b,element:a,overlays:[]};return this._updateOverlayContainer(c),this._overlayContainers.push(c),c},e.prototype._updateRoot=function(a){var b=a.scale||1,c="matrix("+[b,0,0,b,-1*a.x*b,-1*a.y*b].join(",")+")";i(this._overlayRoot,c)},e.prototype._getOverlayContainer=function(a,b){var c=j.find(this._overlayContainers,function(b){return b.element===a});return c||b?c:this._createOverlayContainer(a);
},e.prototype._addOverlay=function(a){var b,c,d=a.id,e=a.element,f=a.html;f.get&&f.constructor.prototype.jquery&&(f=f.get(0)),j.isString(f)&&(f=k.domify(f)),c=this._getOverlayContainer(e),b=k.domify('<div class="djs-overlay" data-overlay-id="'+d+'" style="position: absolute">'),b.appendChild(f),a.type&&k.classes(b).add("djs-overlay-"+a.type),a.htmlContainer=b,c.overlays.push(a),c.html.appendChild(b),this._overlays[d]=a,this._updateOverlay(a),this._updateOverlayVisibilty(a,this._canvas.viewbox())},e.prototype._updateOverlayVisibilty=function(a,b){var c=a.show,d=c&&c.minZoom,e=c&&c.maxZoom,f=a.htmlContainer,g=!0;c&&((j.isDefined(d)&&d>b.scale||j.isDefined(e)&&e<b.scale)&&(g=!1),h(f,g)),this._updateOverlayScale(a,b)},e.prototype._updateOverlayScale=function(a,b){var c,d,e,f=a.scale,g=a.htmlContainer,h="";f!==!0&&(f===!1?(c=1,d=1):(c=f.min,d=f.max),j.isDefined(c)&&b.scale<c&&(e=(1/b.scale||1)*c),j.isDefined(d)&&b.scale>d&&(e=(1/b.scale||1)*d)),j.isDefined(e)&&(h="scale("+e+","+e+")"),i(g,h)},e.prototype._updateOverlaysVisibilty=function(a){var b=this;j.forEach(this._overlays,function(c){b._updateOverlayVisibilty(c,a)})},e.prototype._init=function(){function a(a){c._updateRoot(a),c._updateOverlaysVisibilty(a),c.show()}var b=this._eventBus,c=this;b.on("canvas.viewbox.changing",function(a){c.hide()}),b.on("canvas.viewbox.changed",function(b){a(b.viewbox)}),b.on(["shape.remove","connection.remove"],function(a){var b=a.element,d=c.get({element:b});j.forEach(d,function(a){c.remove(a.id)});var e=c._getOverlayContainer(b);if(e){k.remove(e.html);var f=c._overlayContainers.indexOf(e);-1!==f&&c._overlayContainers.splice(f,1)}}),b.on("element.changed",o,function(a){var b=a.element,d=c._getOverlayContainer(b,!0);d&&(j.forEach(d.overlays,function(a){c._updateOverlay(a)}),c._updateOverlayContainer(d))}),b.on("element.marker.update",function(a){var b=c._getOverlayContainer(a.element,!0);b&&k.classes(b.html)[a.add?"add":"remove"](a.marker)}),b.on("diagram.clear",this.clear,this)}},{"../../util/Elements":413,"../../util/IdGenerator":418,"min-dash":734,"min-dom":428}],362:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Overlays")),f={__init__:["overlays"],overlays:["type",e["default"]]};c["default"]=f},{"./Overlays":361}],363:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._canvas=b;var c=this;a.on("tool-manager.update",function(a){var b=a.tool;c.updateToolHighlight(b)}),a.on("i18n.changed",function(){c._update()}),a.on("diagram.init",function(){c._diagramInitialized=!0,c._rebuild()})}function e(a,b){var c=h.classes(a),d=g.isArray(b)?b:b.split(/\s+/g);d.forEach(function(a){c.add(a)})}function f(a,b){var c=b.getPaletteEntries();return g.isFunction(c)?c(a):(g.forEach(c,function(b,c){a[c]=b}),a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var g=a("min-dash"),h=a("min-dom"),i=".djs-palette-toggle",j=".entry",k=i+", "+j,l="open",m="two-column",n=1e3;d.$inject=["eventBus","canvas"],d.prototype.registerProvider=function(a,b){b||(b=a,a=n),this._eventBus.on("palette.getProviders",a,function(a){a.providers.push(b)}),this._rebuild()},d.prototype.getEntries=function(){var a=this._getProviders();return a.reduce(f,{})},d.prototype._rebuild=function(){if(this._diagramInitialized){var a=this._getProviders();a.length&&(this._container||this._init(),this._update())}},d.prototype._init=function(){var a=this,b=this._eventBus,c=this._getParentContainer(),e=this._container=h.domify(d.HTML_MARKUP);c.appendChild(e),h.delegate.bind(e,k,"click",function(b){var c=b.delegateTarget;return h.matches(c,i)?a.toggle():void a.trigger("click",b)}),h.event.bind(e,"mousedown",function(a){a.stopPropagation()}),h.delegate.bind(e,j,"dragstart",function(b){a.trigger("dragstart",b)}),b.on("canvas.resized",this._layoutChanged,this),b.fire("palette.create",{container:e})},d.prototype._getProviders=function(a){var b=this._eventBus.createEvent({type:"palette.getProviders",providers:[]});return this._eventBus.fire(b),b.providers},d.prototype._toggleState=function(a){a=a||{};var b,c=this._getParentContainer(),d=this._container,e=this._eventBus,f=h.classes(d);b="twoColumn"in a?a.twoColumn:this._needsCollapse(c.clientHeight,this._entries||{}),f.toggle(m,b),"open"in a&&f.toggle(l,a.open),e.fire("palette.changed",{twoColumn:b,open:this.isOpen()})},d.prototype._update=function(){var a=h.query(".djs-palette-entries",this._container),b=this._entries=this.getEntries();h.clear(a),g.forEach(b,function(b,c){var d=b.group||"default",f=h.query("[data-group="+d+"]",a);f||(f=h.domify('<div class="group" data-group="'+d+'"></div>'),a.appendChild(f));var g=b.html||(b.separator?'<hr class="separator" />':'<div class="entry" draggable="true"></div>'),i=h.domify(g);f.appendChild(i),b.separator||(h.attr(i,"data-action",c),b.title&&h.attr(i,"title",b.title),b.className&&e(i,b.className),b.imageUrl&&i.appendChild(h.domify('<img src="'+b.imageUrl+'">')))}),this.open()},d.prototype.trigger=function(a,b,c){var d,e,f,i=this._entries,j=b.delegateTarget||b.target;return j?(d=i[h.attr(j,"data-action")],void(d&&(e=d.action,f=b.originalEvent||b,g.isFunction(e)?"click"===a&&e(f,c):e[a]&&e[a](f,c),b.preventDefault()))):b.preventDefault()},d.prototype._layoutChanged=function(){this._toggleState({})},d.prototype._needsCollapse=function(a,b){var c=50,d=46*Object.keys(b).length;return d+c>a},d.prototype.close=function(){this._toggleState({open:!1,twoColumn:!1})},d.prototype.open=function(){this._toggleState({open:!0})},d.prototype.toggle=function(a){this.isOpen()?this.close():this.open()},d.prototype.isActiveTool=function(a){return a&&this._activeTool===a},d.prototype.updateToolHighlight=function(a){var b,c;this._toolsContainer||(b=h.query(".djs-palette-entries",this._container),this._toolsContainer=h.query("[data-group=tools]",b)),c=this._toolsContainer,g.forEach(c.children,function(b){var c=b.getAttribute("data-action");if(c){var d=h.classes(b);c=c.replace("-tool",""),d.contains("entry")&&c===a?d.add("highlighted-entry"):d.remove("highlighted-entry")}})},d.prototype.isOpen=function(){return h.classes(this._container).has(l)},d.prototype._getParentContainer=function(){return this._canvas.getContainer()},d.HTML_MARKUP='<div class="djs-palette"><div class="djs-palette-entries"></div><div class="djs-palette-toggle"></div></div>'},{"min-dash":734,"min-dom":428}],364:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Palette")),f={__init__:["palette"],palette:["type",e["default"]]};c["default"]=f},{"./Palette":363}],365:[function(a,b,c){"use strict";function d(a,b,c){var d=f.isDefined(a&&a.scale)?a.scale:{min:1,max:1.5};this._config={scale:d},this._eventBus=b,this._canvas=c,this._providers={},this._current={}}function e(a,b){a.style["transform-origin"]="top left",["","-ms-","-webkit-"].forEach(function(c){a.style[c+"transform"]=b})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("min-dom"),h="data-id",i=["contextPad.close","canvas.viewbox.changing","commandStack.changed"],j=1e3;d.$inject=["config.popupMenu","eventBus","canvas"],d.prototype.registerProvider=function(a,b,c){c||(c=b,b=j),this._eventBus.on("popupMenu.getProviders."+a,b,function(a){a.providers.push(c)})},d.prototype.isEmpty=function(a,b){if(!a)throw new Error("element parameter is missing");if(!b)throw new Error("providerId parameter is missing");var c=this._getProviders(b);if(!c)return!0;var d=this._getEntries(a,c),e=this._getHeaderEntries(a,c),g=f.size(d)>0,h=e&&f.size(e)>0;return!g&&!h},d.prototype.open=function(a,b,c){var d=this._getProviders(b);if(!a)throw new Error("Element is missing");if(!d||!d.length)throw new Error("No registered providers for: "+b);if(!c)throw new Error("the position argument is missing");this.isOpen()&&this.close(),this._emit("open");var e=this._current={className:b,element:a,position:c},g=this._getEntries(a,d),h=this._getHeaderEntries(a,d);e.entries=f.assign({},g,h),e.container=this._createContainer(),f.size(h)&&e.container.appendChild(this._createEntries(h,"djs-popup-header")),f.size(g)&&e.container.appendChild(this._createEntries(g,"djs-popup-body"));var i=this._canvas,j=i.getContainer();this._attachContainer(e.container,j,c.cursor),this._bindAutoClose()},d.prototype.close=function(){this.isOpen()&&(this._emit("close"),this._unbindAutoClose(),g.remove(this._current.container),this._current.container=null)},d.prototype.isOpen=function(){return!!this._current.container},d.prototype.trigger=function(a){a.preventDefault();var b=a.delegateTarget||a.target,c=g.attr(b,h),d=this._getEntry(c);return d.action?d.action.call(null,a,d):void 0},d.prototype._getProviders=function(a){var b=this._eventBus.createEvent({type:"popupMenu.getProviders."+a,providers:[]});return this._eventBus.fire(b),b.providers},d.prototype._getEntries=function(a,b){var c={};return f.forEach(b,function(b){if(!b.getPopupMenuEntries)return void f.forEach(b.getEntries(a),function(a){var b=a.id;if(!b)throw new Error("every entry must have the id property set");c[b]=f.omit(a,["id"])});var d=b.getPopupMenuEntries(a);f.isFunction(d)?c=d(c):f.forEach(d,function(a,b){c[b]=a})}),c},d.prototype._getHeaderEntries=function(a,b){var c={};return f.forEach(b,function(b){if(!b.getPopupMenuHeaderEntries){if(!b.getHeaderEntries)return;return void f.forEach(b.getHeaderEntries(a),function(a){var b=a.id;if(!b)throw new Error("every entry must have the id property set");c[b]=f.omit(a,["id"])})}var d=b.getPopupMenuHeaderEntries(a);f.isFunction(d)?c=d(c):f.forEach(d,function(a,b){c[b]=a})}),c},d.prototype._getEntry=function(a){var b=this._current.entries[a];if(!b)throw new Error("entry not found");return b},d.prototype._emit=function(a){this._eventBus.fire("popupMenu."+a)},d.prototype._createContainer=function(){var a=g.domify('<div class="djs-popup">'),b=this._current.position,c=this._current.className;return f.assign(a.style,{position:"absolute",left:b.x+"px",top:b.y+"px",visibility:"hidden"}),g.classes(a).add(c),a},d.prototype._attachContainer=function(a,b,c){var d=this;g.delegate.bind(a,".entry","click",function(a){d.trigger(a)}),this._updateScale(a),b.appendChild(a),c&&this._assureIsInbounds(a,c)},d.prototype._updateScale=function(a){var b,c,d=this._canvas.zoom(),g=this._config.scale,h=d;g!==!0&&(g===!1?(b=1,c=1):(b=g.min,c=g.max),f.isDefined(b)&&b>d&&(h=b),f.isDefined(c)&&d>c&&(h=c)),e(a,"scale("+h+")")},d.prototype._assureIsInbounds=function(a,b){var c,d,e=this._canvas,g=e._container.getBoundingClientRect(),h=a.offsetLeft,i=a.offsetTop,j=a.scrollWidth,k=a.scrollHeight,l={},m={x:b.x-g.left,y:b.y-g.top};h+j>g.width&&(l.x=!0),i+k>g.height&&(l.y=!0),l.x&&l.y?(c=m.x-j+"px",d=m.y-k+"px"):l.x?(c=m.x-j+"px",d=m.y+"px"):l.y&&m.y<k?(c=m.x+"px",d="10px"):l.y&&(c=m.x+"px",d=m.y-k+"px"),f.assign(a.style,{left:c,top:d},{visibility:"visible","z-index":1e3})},d.prototype._createEntries=function(a,b){var c=g.domify("<div>"),d=this;return g.classes(c).add(b),f.forEach(a,function(a,b){var e=d._createEntry(a,b);c.appendChild(e)}),c},d.prototype._createEntry=function(a,b){var c=g.domify("<div>"),d=g.classes(c);if(d.add("entry"),a.className&&a.className.split(" ").forEach(function(a){d.add(a)}),g.attr(c,h,b),a.label){var e=g.domify("<span>");e.textContent=a.label,c.appendChild(e)}return a.imageUrl&&c.appendChild(g.domify('<img src="'+a.imageUrl+'" />')),a.active===!0&&d.add("active"),a.disabled===!0&&d.add("disabled"),a.title&&(c.title=a.title),c},d.prototype._bindAutoClose=function(){this._eventBus.once(i,this.close,this)},d.prototype._unbindAutoClose=function(){this._eventBus.off(i,this.close,this)}},{"min-dash":734,"min-dom":428}],366:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./PopupMenu")),f={__init__:["popupMenu"],popupMenu:["type",e["default"]]};c["default"]=f},{"./PopupMenu":365}],367:[function(a,b,c){"use strict";function d(a,b,c,d){this._elementRegistry=a,this._canvas=c,this._styles=d,this._clonedMarkers={};var e=this;b.on("drag.cleanup",function(){i.forEach(e._clonedMarkers,function(a){j.remove(a)}),e._clonedMarkers={}})}function e(a,b,c){var d=f(j.attr(a,b));return k.query("marker#"+d,c||document)}function f(a){return a.match(/url\(['"]?#([^'"]*)['"]?\)/)[1]}function g(a){return"url(#"+a+")"}function h(a){return-1!==n.indexOf(a.nodeName)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var i=a("min-dash"),j=a("tiny-svg"),k=a("min-dom"),l=a("../../util/GraphicsUtil"),m=["marker-start","marker-mid","marker-end"],n=["circle","ellipse","line","path","polygon","polyline","rect"];d.$inject=["elementRegistry","eventBus","canvas","styles"],d.prototype.getGfx=function(a){return this._elementRegistry.getGraphics(a)},d.prototype.addDragger=function(a,b,c){c=c||this.getGfx(a);var d=j.clone(c),e=c.getBoundingClientRect();return this._cloneMarkers(l.getVisual(d)),j.attr(d,this._styles.cls("djs-dragger",[],{x:e.top,y:e.left})),j.append(b,d),d},d.prototype.addFrame=function(a,b){var c=j.create("rect",{"class":"djs-resize-overlay",width:a.width,height:a.height,x:a.x,y:a.y});return j.append(b,c),c},d.prototype._cloneMarkers=function(a){var b=this;if(a.childNodes)for(var c=0;c<a.childNodes.length;c++)b._cloneMarkers(a.childNodes[c]);h(a)&&m.forEach(function(c){if(j.attr(a,c)){var d=e(a,c,b._canvas.getContainer());b._cloneMarker(a,d,c)}})},d.prototype._cloneMarker=function(a,b,c){var d=b.id,e=this._clonedMarkers[d];if(!e){e=j.clone(b);var f=d+"-clone";e.id=f,j.classes(e).add("djs-dragger").add("djs-dragger-marker"),this._clonedMarkers[d]=e;var h=k.query("defs",this._canvas._svg);h||(h=j.create("defs"),j.append(this._canvas._svg,h)),j.append(h,e)}var i=g(this._clonedMarkers[d].id);j.attr(a,c,i)}},{"../../util/GraphicsUtil":417,"min-dash":734,"min-dom":428,"tiny-svg":794}],368:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./PreviewSupport")),f={__init__:["previewSupport"],previewSupport:["type",e["default"]]};c["default"]=f},{"./PreviewSupport":367}],369:[function(a,b,c){"use strict";function d(a){this._modeling=a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=Math.round;d.$inject=["modeling"],d.prototype.replaceElement=function(a,b,c){if(a.waypoints)return null;var d=this._modeling,g=b.width||a.width,h=b.height||a.height,i=b.x||a.x,j=b.y||a.y,k=f(i+g/2),l=f(j+h/2);return d.replaceShape(a,e.assign({},b,{x:k,y:l,width:g,height:h}),c)}},{"min-dash":734}],370:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Replace")),f={__init__:["replace"],replace:["type",e["default"]]};c["default"]=f},{"./Replace":369}],371:[function(a,b,c){"use strict";function d(a,b,c,d){function f(a,b){var c,d=a.shape,e=a.direction,f=a.resizeConstraints;a.delta=b,c=i.resizeBounds(d,e,b),a.newBounds=i.ensureConstraints(c,f),a.canExecute=k.canResize(a)}function g(a){var b=a.resizeConstraints,c=a.minBounds;void 0===b&&(void 0===c&&(c=k.computeMinResizeBox(a)),a.resizeConstraints={min:j.asTRBL(c)})}function h(a){var b=a.shape,d=a.canExecute,f=a.newBounds;if(d){if(f=j.roundBounds(f),!e(b,f))return;c.resizeShape(b,f)}}this._dragging=d,this._rules=b;var k=this;a.on("resize.start",function(a){g(a.context)}),a.on("resize.move",function(a){var b={x:a.dx,y:a.dy};f(a.context,b)}),a.on("resize.end",function(a){h(a.context)})}function e(a,b){return a.x!==b.x||a.y!==b.y||a.width!==b.width||a.height!==b.height}function f(a,b){var c=j.getMid(a),d=j.asTRBL(a),e={x:c.x,y:c.y};return-1!==b.indexOf("n")?e.y=d.top:-1!==b.indexOf("s")&&(e.y=d.bottom),-1!==b.indexOf("e")?e.x=d.right:-1!==b.indexOf("w")&&(e.x=d.left),e}function g(a){var b="resize-";return"n"===a||"s"===a?b+"ns":"e"===a||"w"===a?b+"ew":"nw"===a||"se"===a?b+"nwse":b+"nesw"}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,c.getReferencePoint=f;var h=a("min-dash"),i=a("./ResizeUtil"),j=a("../../layout/LayoutUtil"),k=10;d.prototype.canResize=function(a){var b=this._rules,c=h.pick(a,["newBounds","shape","delta","direction"]);return b.allowed("shape.resize",c)},d.prototype.activate=function(a,b,c){var d,e,i=this._dragging;if("string"==typeof c&&(c={direction:c}),d=h.assign({shape:b},c),e=d.direction,!e)throw new Error("must provide a direction (n|w|s|e|nw|se|ne|sw)");i.init(a,f(b,e),"resize",{autoActivate:!0,cursor:g(e),data:{shape:b,context:d}})},d.prototype.computeMinResizeBox=function(a){var b,c,d=a.shape,e=a.direction;return b=a.minDimensions||{width:k,height:k},c=i.computeChildrenBBox(d,a.childrenBoxPadding),i.getMinResizeBounds(e,d,b,c)},d.$inject=["eventBus","rules","modeling","dragging"]},{"../../layout/LayoutUtil":399,"./ResizeUtil":374,"min-dash":734}],372:[function(a,b,c){"use strict";function d(a,b,c,d){this._resize=d,this._canvas=b;var e=this;a.on("selection.changed",function(a){var b=a.newSelection;e.removeResizers(),1===b.length&&f.forEach(b,f.bind(e.addResizer,e))}),a.on("shape.changed",function(a){var b=a.element;c.isSelected(b)&&(e.removeResizers(),e.addResizer(b))})}function e(a){var b={x:0,y:0};return-1!==a.indexOf("e")?b.x=-l:-1!==a.indexOf("w")&&(b.x=l),-1!==a.indexOf("s")?b.y=-l:-1!==a.indexOf("n")&&(b.y=l),b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("min-dash"),g=a("tiny-svg"),h=a("min-dom"),i=a("../../util/Mouse"),j=a("../../util/SvgTransformUtil"),k=a("./Resize"),l=-6,m=4,n=20,o="djs-resizer",p=["n","w","s","e","nw","ne","se","sw"];d.prototype.makeDraggable=function(a,b,c){function d(b){i.isPrimaryButton(b)&&e.activate(b,a,c)}var e=this._resize;h.event.bind(b,"mousedown",d),h.event.bind(b,"touchstart",d)},d.prototype._createResizer=function(a,b,c,d){var f=this._getResizersParent(),h=e(d),i=g.create("g");g.classes(i).add(o),g.classes(i).add(o+"-"+a.id),g.classes(i).add(o+"-"+d),g.append(f,i);var k=g.create("rect");g.attr(k,{x:-m/2+h.x,y:-m/2+h.y,width:m,height:m}),g.classes(k).add(o+"-visual"),g.append(i,k);var l=g.create("rect");return g.attr(l,{x:-n/2+h.x,y:-n/2+h.y,width:n,height:n}),g.classes(l).add(o+"-hit"),g.append(i,l),j.transform(i,b,c),i},d.prototype.createResizer=function(a,b){var c=k.getReferencePoint(a,b),d=this._createResizer(a,c.x,c.y,b);this.makeDraggable(a,d,b)},d.prototype.addResizer=function(a){var b=this,c=this._resize;c.canResize({shape:a})&&f.forEach(p,function(c){b.createResizer(a,c)})},d.prototype.removeResizers=function(){var a=this._getResizersParent();g.clear(a)},d.prototype._getResizersParent=function(){return this._canvas.getLayer("resizers")},d.$inject=["eventBus","canvas","selection","resize"]},{"../../util/Mouse":421,"../../util/SvgTransformUtil":426,"./Resize":371,"min-dash":734,"min-dom":428,"tiny-svg":794}],373:[function(a,b,c){"use strict";function d(a,b,c){function d(a){var d=a.shape,h=a.newBounds,i=a.frame;i||(i=a.frame=c.addFrame(d,b.getDefaultLayer()),b.addMarker(d,f)),h.width>5&&e.attr(i,{x:h.x,width:h.width}),h.height>5&&e.attr(i,{y:h.y,height:h.height}),a.canExecute?e.classes(i).remove(g):e.classes(i).add(g)}function i(a){var c=a.shape,d=a.frame;d&&e.remove(a.frame),b.removeMarker(c,f)}a.on("resize.move",h,function(a){d(a.context)}),a.on("resize.cleanup",function(a){i(a.context)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("tiny-svg"),f="djs-resizing",g="resize-not-ok",h=500;d.$inject=["eventBus","canvas","previewSupport"]},{"tiny-svg":794}],374:[function(a,b,c){"use strict";function d(a,b){return{top:a.top-b.top,right:a.right-b.right,bottom:a.bottom-b.bottom,left:a.left-b.left}}function e(a,b,c){var d=c.x,e=c.y,f={x:a.x,y:a.y,width:a.width,height:a.height};return-1!==b.indexOf("n")?(f.y=a.y+e,f.height=a.height-e):-1!==b.indexOf("s")&&(f.height=a.height+e),-1!==b.indexOf("e")?f.width=a.width+d:-1!==b.indexOf("w")&&(f.x=a.x+d,f.width=a.width-d),f}function f(a,b){return{x:a.x+(b.left||0),y:a.y+(b.top||0),width:a.width-(b.left||0)+(b.right||0),height:a.height-(b.top||0)+(b.bottom||0)}}function g(a,b,c){var d=a.width/b.width,e=a.height/b.height;return{x:Math.round(b.x+b.width/2)-Math.floor((a.x+a.width/2-c.x)/d),y:Math.round(b.y+b.height/2)-Math.floor((a.y+a.height/2-c.y)/e)}}function h(a,b,c){var d=b[a],e=c.min&&c.min[a],f=c.max&&c.max[a];return o.isNumber(e)&&(d=(/top|left/.test(a)?s:r)(d,e)),o.isNumber(f)&&(d=(/top|left/.test(a)?r:s)(d,f)),d}function i(a,b){if(!b)return a;var c=q.asTRBL(a);return q.asBounds({top:h("top",c,b),right:h("right",c,b),bottom:h("bottom",c,b),left:h("left",c,b)})}function j(a,b,c,d){var e=q.asTRBL(b),f={top:/n/.test(a)?e.bottom-c.height:e.top,left:/w/.test(a)?e.right-c.width:e.left,bottom:/s/.test(a)?e.top+c.height:e.bottom,right:/e/.test(a)?e.left+c.width:e.right},g=d?q.asTRBL(d):f,h={top:s(f.top,g.top),left:s(f.left,g.left),bottom:r(f.bottom,g.bottom),right:r(f.right,g.right)};return q.asBounds(h)}function k(a,b){return"undefined"!=typeof a?a:t}function l(a,b){var c,d,e,f;return"object"==typeof b?(c=k(b.left),d=k(b.right),e=k(b.top),f=k(b.bottom)):c=d=e=f=k(b),{x:a.x-c,y:a.y-e,width:a.width+c+d,height:a.height+e+f}}function m(a){return a.waypoints?!1:"label"===a.type?!1:!0}function n(a,b){var c;return c=void 0===a.length?o.filter(a.children,m):a,c.length?l(p.getBBox(c),b):void 0}Object.defineProperty(c,"__esModule",{value:!0}),c.substractTRBL=d,c.resizeBounds=e,c.resizeTRBL=f,c.reattachPoint=g,c.ensureConstraints=i,c.getMinResizeBounds=j,c.addPadding=l,c.computeChildrenBBox=n;var o=a("min-dash"),p=a("../../util/Elements"),q=a("../../layout/LayoutUtil"),r=Math.max,s=Math.min,t=20},{"../../layout/LayoutUtil":399,"../../util/Elements":413,"min-dash":734}],375:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../rules")),f=d(a("../dragging")),g=d(a("../preview-support")),h=d(a("./Resize")),i=d(a("./ResizePreview")),j=d(a("./ResizeHandles")),k={__depends__:[e["default"],f["default"],g["default"]],__init__:["resize","resizePreview","resizeHandles"],resize:["type",h["default"]],resizePreview:["type",i["default"]],resizeHandles:["type",j["default"]]};c["default"]=k},{"../dragging":312,"../preview-support":368,"../rules":378,"./Resize":371,"./ResizeHandles":372,"./ResizePreview":373}],376:[function(a,b,c){arguments[4][209][0].apply(c,arguments)},{"../../command/CommandInterceptor":272,dup:209,inherits:527}],377:[function(a,b,c){arguments[4][65][0].apply(c,arguments)},{dup:65}],378:[function(a,b,c){arguments[4][66][0].apply(c,arguments)},{"./Rules":377,dup:66}],379:[function(a,b,c){"use strict";function d(a){this._eventBus=a,this._selectedElements=[];var b=this;a.on(["shape.remove","connection.remove"],function(a){var c=a.element;b.deselect(c)}),a.on(["diagram.clear"],function(a){b.select(null)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash");d.$inject=["eventBus"],d.prototype.deselect=function(a){var b=this._selectedElements,c=b.indexOf(a);if(-1!==c){var d=b.slice();b.splice(c,1),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:b})}},d.prototype.get=function(){return this._selectedElements},d.prototype.isSelected=function(a){return-1!==this._selectedElements.indexOf(a)},d.prototype.select=function(a,b){var c=this._selectedElements,d=c.slice();e.isArray(a)||(a=a?[a]:[]),b?e.forEach(a,function(a){-1===c.indexOf(a)&&c.push(a)}):this._selectedElements=c=a.slice(),this._eventBus.fire("selection.changed",{oldSelection:d,newSelection:c})}},{"min-dash":734}],380:[function(a,b,c){"use strict";function d(a,b,c,d){a.on("create.end",500,function(a){var c=a.context,d=c.canExecute,f=c.elements,h=c.hints||{},i=h.autoSelect;if(d){if(i===!1)return;g.isArray(i)?b.select(i):b.select(f.filter(e))}}),a.on("connect.end",500,function(a){a.context.canExecute&&a.context.target&&b.select(a.context.target)}),a.on("shape.move.end",500,function(a){var c=a.previousSelection||[],e=d.get(a.context.shape.id),f=g.find(c,function(a){return e.id===a.id});f||b.select(e)}),a.on("element.click",function(a){var d=a.element;d===c.getRootElement()&&(d=null);var e=b.isSelected(d),g=b.get().length>1,h=f.hasPrimaryModifier(a);return e&&g?h?b.deselect(d):b.select(d):void(e?b.deselect(d):b.select(d,h))})}function e(a){return!a.hidden}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("../../util/Mouse"),g=a("min-dash");d.$inject=["eventBus","selection","canvas","elementRegistry"]},{"../../util/Mouse":421,"min-dash":734}],381:[function(a,b,c){"use strict";function d(a,b,c,d){function h(a,c){b.addMarker(a,c)}function i(a,c){b.removeMarker(a,c)}this._multiSelectionBox=null,a.on("element.hover",function(a){h(a.element,f)}),a.on("element.out",function(a){i(a.element,f)}),a.on("selection.changed",function(a){function b(a){i(a,g)}function c(a){h(a,g)}var d=a.oldSelection,f=a.newSelection;e.forEach(d,function(a){-1===f.indexOf(a)&&b(a)}),e.forEach(f,function(a){-1===d.indexOf(a)&&c(a)})})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f="hover",g="selected";d.$inject=["eventBus","canvas","selection","styles"]},{"min-dash":734}],382:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../interaction-events")),f=d(a("../outline")),g=d(a("./Selection")),h=d(a("./SelectionVisuals")),i=d(a("./SelectionBehavior")),j={__init__:["selectionVisuals","selectionBehavior"],__depends__:[e["default"],f["default"]],selection:["type",g["default"]],selectionVisuals:["type",h["default"]],selectionBehavior:["type",i["default"]]};c["default"]=j},{"../interaction-events":322,"../outline":360,"./Selection":379,"./SelectionBehavior":380,"./SelectionVisuals":381}],383:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){var d=this;this._elementRegistry=a,b.on(["create.start","shape.move.start"],function(a){d.initSnap(a)}),b.on(["create.move","create.end","shape.move.move","shape.move.end"],m,function(a){var b=a.context,e=b.shape,f=b.snapContext,g=b.target;if((!a.originalEvent||!k.isCmd(a.originalEvent))&&!j.isSnapped(a)&&g){var h=f.pointsForTarget(g);h.initialized||(h=d.addSnapTargetPoints(h,e,g),h.initialized=!0),c.snap(a,h)}}),b.on(["create.cleanup","shape.move.cleanup"],function(){c.hide()})}function f(a){return!!a.waypoints}function g(a){return!!a.hidden}function h(a){return!!a.labelTarget}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var i=d(a("./SnapContext")),j=a("./SnapUtil"),k=a("../keyboard/KeyboardUtil"),l=a("min-dash"),m=1250;e.$inject=["elementRegistry","eventBus","snapping"],e.prototype.initSnap=function(a){var b=this._elementRegistry,c=a.context,d=c.shape,e=c.snapContext;e||(e=c.snapContext=new i["default"]);var f;f=b.get(d.id)?j.mid(d,a):{x:a.x+j.mid(d).x,y:a.y+j.mid(d).y};var g={x:f.x-d.width/2,y:f.y-d.height/2},k={x:f.x+d.width/2,y:f.y+d.height/2};return e.setSnapOrigin("mid",{x:f.x-a.x,y:f.y-a.y}),h(d)?e:(e.setSnapOrigin("top-left",{x:g.x-a.x,y:g.y-a.y}),e.setSnapOrigin("bottom-right",{x:k.x-a.x,y:k.y-a.y}),e)},e.prototype.addSnapTargetPoints=function(a,b,c){var d=this.getSnapTargets(b,c);return l.forEach(d,function(c){if(h(c))return void(h(b)&&a.add("mid",j.mid(c)));if(f(c)){if(c.waypoints.length<3)return;var d=c.waypoints.slice(1,-1);return void l.forEach(d,function(b){a.add("mid",b)})}a.add("mid",j.mid(c))}),l.isNumber(b.x)&&l.isNumber(b.y)?(this._elementRegistry.get(b.id)&&a.add("mid",j.mid(b)),a):a},e.prototype.getSnapTargets=function(a,b){return j.getChildren(b).filter(function(a){return!g(a)})}},{"../keyboard/KeyboardUtil":327,"./SnapContext":385,"./SnapUtil":386,"min-dash":734}],384:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=this;a.on(["resize.start"],function(a){c.initSnap(a)}),a.on(["resize.move","resize.end"],r,function(a){var d=a.context,e=d.shape,f=e.parent,g=d.direction,h=d.snapContext;if(!(a.originalEvent&&o.isCmd(a.originalEvent)||n.isSnapped(a))){var i=h.pointsForTarget(f);i.initialized||(i=c.addSnapTargetPoints(i,e,f,g),i.initialized=!0),k(g)&&n.setSnapped(a,"x",a.x),l(g)&&n.setSnapped(a,"y",a.y),b.snap(a,i)}}),a.on(["resize.cleanup"],function(){b.hide()})}function f(a,b){var c=p.getMid(a),d=p.asTRBL(a),e={x:c.x,y:c.y};return-1!==b.indexOf("n")?e.y=d.top:-1!==b.indexOf("s")&&(e.y=d.bottom),-1!==b.indexOf("e")?e.x=d.right:-1!==b.indexOf("w")&&(e.x=d.left),e}function g(a,b){return a.host===b}function h(a){return!!a.waypoints}function i(a){return!!a.hidden}function j(a){return!!a.labelTarget}function k(a){return"n"===a||"s"===a}function l(a){return"e"===a||"w"===a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var m=d(a("./SnapContext")),n=a("./SnapUtil"),o=a("../keyboard/KeyboardUtil"),p=a("../../layout/LayoutUtil"),q=a("min-dash"),r=1250;e.prototype.initSnap=function(a){var b=a.context,c=b.shape,d=b.direction,e=b.snapContext;e||(e=b.snapContext=new m["default"]);var g=f(c,d);return e.setSnapOrigin("corner",{x:g.x-a.x,y:g.y-a.y}),e},e.prototype.addSnapTargetPoints=function(a,b,c,d){var e=this.getSnapTargets(b,c);return q.forEach(e,function(b){a.add("corner",n.bottomRight(b)),a.add("corner",n.topLeft(b))}),a.add("corner",f(b,d)),a},e.$inject=["eventBus","snapping"],e.prototype.getSnapTargets=function(a,b){return n.getChildren(b).filter(function(b){return!(g(b,a)||h(b)||i(b)||j(b))})}},{"../../layout/LayoutUtil":399,"../keyboard/KeyboardUtil":327,"./SnapContext":385,"./SnapUtil":386,"min-dash":734}],385:[function(a,b,c){"use strict";function d(){this._targets={},this._snapOrigins={},this._snapLocations=[],this._defaultSnaps={}}function e(a){this._snapValues={}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,c.SnapPoints=e;var f=a("min-dash"),g=a("./SnapUtil");d.prototype.getSnapOrigin=function(a){return this._snapOrigins[a]},d.prototype.setSnapOrigin=function(a,b){this._snapOrigins[a]=b,-1===this._snapLocations.indexOf(a)&&this._snapLocations.push(a)},d.prototype.addDefaultSnap=function(a,b){var c=this._defaultSnaps[a];c||(c=this._defaultSnaps[a]=[]),c.push(b)},d.prototype.getSnapLocations=function(){return this._snapLocations},d.prototype.setSnapLocations=function(a){this._snapLocations=a},d.prototype.pointsForTarget=function(a){var b=a.id||a,c=this._targets[b];return c||(c=this._targets[b]=new e,c.initDefaults(this._defaultSnaps)),c},e.prototype.add=function(a,b){var c=this._snapValues[a];c||(c=this._snapValues[a]={x:[],y:[]}),-1===c.x.indexOf(b.x)&&c.x.push(b.x),-1===c.y.indexOf(b.y)&&c.y.push(b.y)},e.prototype.snap=function(a,b,c,d){var e=this._snapValues[b];return e&&g.snapTo(a[c],e[c],d)},e.prototype.initDefaults=function(a){var b=this;f.forEach(a||{},function(a,c){f.forEach(a,function(a){b.add(c,a)})})}},{"./SnapUtil":386,"min-dash":734}],386:[function(a,b,c){"use strict";function d(a,b,c){c=void 0===c?10:c;var d,e;for(d=0;d<b.length;d++)if(e=b[d],m(e-a)<=c)return e}function e(a){return{x:a.x,y:a.y}}function f(a){return{x:a.x+a.width,y:a.y}}function g(a){return{x:a.x,y:a.y+a.height}}function h(a){return{x:a.x+a.width,y:a.y+a.height}}function i(a,b){return!a||isNaN(a.x)||isNaN(a.y)?b:{x:n(a.x+a.width/2),y:n(a.y+a.height/2)}}function j(a,b){var c=a.snapped;return c?"string"==typeof b?c[b]:c.x&&c.y:!1}function k(a,b,c){if("string"!=typeof b)throw new Error("axis must be in [x, y]");if("number"!=typeof c&&c!==!1)throw new Error("value must be Number or false");var d,e=a[b],f=a.snapped=a.snapped||{};return c===!1?f[b]=!1:(f[b]=!0,d=c-e,a[b]+=d,a["d"+b]+=d),e}function l(a){return a.children||[]}Object.defineProperty(c,"__esModule",{value:!0}),c.snapTo=d,c.topLeft=e,c.topRight=f,c.bottomLeft=g,c.bottomRight=h,c.mid=i,c.isSnapped=j,c.setSnapped=k,c.getChildren=l;var m=Math.abs,n=Math.round;
},{}],387:[function(a,b,c){"use strict";function d(a){this._canvas=a,this._asyncHide=e.debounce(e.bind(this.hide,this),i)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,c.SNAP_LINE_HIDE_DELAY=void 0;var e=a("min-dash"),f=a("./SnapUtil"),g=a("tiny-svg"),h=7,i=1e3;c.SNAP_LINE_HIDE_DELAY=i,d.$inject=["canvas"],d.prototype.snap=function(a,b){var c=a.context,d=c.snapContext,g=d.getSnapLocations(),i={x:f.isSnapped(a,"x"),y:f.isSnapped(a,"y")};e.forEach(g,function(c){var f=d.getSnapOrigin(c),g={x:a.x+f.x,y:a.y+f.y};return e.forEach(["x","y"],function(a){var d;i[a]||(d=b.snap(g,c,a,h),void 0!==d&&(i[a]={value:d,originValue:d-f[a]}))}),i.x&&i.y?!1:void 0}),this.showSnapLine("vertical",i.x&&i.x.value),this.showSnapLine("horizontal",i.y&&i.y.value),e.forEach(["x","y"],function(b){var c=i[b];e.isObject(c)&&f.setSnapped(a,b,c.originValue)})},d.prototype._createLine=function(a){var b=this._canvas.getLayer("snap"),c=g.create("path");return g.attr(c,{d:"M0,0 L0,0"}),g.classes(c).add("djs-snap-line"),g.append(b,c),{update:function(b){e.isNumber(b)?"horizontal"===a?g.attr(c,{d:"M-100000,"+b+" L+100000,"+b,display:""}):g.attr(c,{d:"M "+b+",-100000 L "+b+", +100000",display:""}):g.attr(c,{display:"none"})}}},d.prototype._createSnapLines=function(){this._snapLines={horizontal:this._createLine("horizontal"),vertical:this._createLine("vertical")}},d.prototype.showSnapLine=function(a,b){var c=this.getSnapLine(a);c&&c.update(b),this._asyncHide()},d.prototype.getSnapLine=function(a){return this._snapLines||this._createSnapLines(),this._snapLines[a]},d.prototype.hide=function(){e.forEach(this._snapLines,function(a){a.update()})}},{"./SnapUtil":386,"min-dash":734,"tiny-svg":794}],388:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./CreateMoveSnapping")),f=d(a("./ResizeSnapping")),g=d(a("./Snapping")),h={__init__:["createMoveSnapping","resizeSnapping","snapping"],createMoveSnapping:["type",e["default"]],resizeSnapping:["type",f["default"]],snapping:["type",g["default"]]};c["default"]=h},{"./CreateMoveSnapping":383,"./ResizeSnapping":384,"./Snapping":387}],389:[function(a,b,c){"use strict";function d(a,b){if("x"===a){if(b>0)return"e";if(0>b)return"w"}if("y"===a){if(b>0)return"s";if(0>b)return"n"}return null}function e(a,b){var c=[];return h.forEach(a,function(d){var e=d.incoming,g=d.outgoing;h.forEach(e.concat(g),function(d){var e=d.source,g=d.target;(f(a,e)||f(a,g)||f(b,e)||f(b,g))&&(f(c,d)||c.push(d))})}),c}function f(a,b){return-1!==a.indexOf(b)}function g(a,b,c){var d=a.x,e=a.y,f=a.width,g=a.height,h=c.x,i=c.y;switch(b){case"n":return{x:d,y:e+i,width:f,height:g-i};case"s":return{x:d,y:e,width:f,height:g+i};case"w":return{x:d+h,y:e,width:f-h,height:g};case"e":return{x:d,y:e,width:f+h,height:g};default:throw new Error("unknown direction: "+b)}}Object.defineProperty(c,"__esModule",{value:!0}),c.getDirection=d,c.getWaypointsUpdatingConnections=e,c.resizeBounds=g;var h=a("min-dash")},{"min-dash":734}],390:[function(a,b,c){"use strict";function d(a,b){this._eventBus=a,this._dragging=b,this._tools=[],this._active=null}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=a("min-dom"),g=250;d.$inject=["eventBus","dragging"],d.prototype.registerTool=function(a,b){var c=this._tools;if(!b)throw new Error('A tool has to be registered with it\'s "events"');c.push(a),this.bindEvents(a,b)},d.prototype.isActive=function(a){return a&&this._active===a},d.prototype.length=function(a){return this._tools.length},d.prototype.setActive=function(a){var b=this._eventBus;this._active!==a&&(this._active=a,b.fire("tool-manager.update",{tool:a}))},d.prototype.bindEvents=function(a,b){var c=this._eventBus,d=this._dragging,h=[];c.on(b.tool+".init",function(b){var c=b.context;return!c.reactivate&&this.isActive(a)?(this.setActive(null),void d.cancel()):void this.setActive(a)},this),e.forEach(b,function(a){h.push(a+".ended"),h.push(a+".canceled")}),c.on(h,g,function(a){var b=a.originalEvent;this._active&&(b&&f.closest(b.target,'.group[data-group="tools"]')||this.setActive(null))},this)}},{"min-dash":734,"min-dom":428}],391:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../dragging")),f=d(a("./ToolManager")),g={__depends__:[e["default"]],__init__:["toolManager"],toolManager:["type",f["default"]]};c["default"]=g},{"../dragging":312,"./ToolManager":390}],392:[function(a,b,c){"use strict";function d(a,b){var c=this;b.on("canvas.init",function(a){c.addBBoxMarker(a.svg)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("tiny-svg");d.$inject=["canvas","eventBus"],d.prototype.addBBoxMarker=function(a){var b={fill:"none","class":"outer-bound-marker"},c=e.create("rect");e.attr(c,{x:-1e4,y:1e4,width:10,height:10}),e.attr(c,b),e.append(a,c);var d=e.create("rect");e.attr(d,{x:1e4,y:1e4,width:10,height:10}),e.attr(d,b),e.append(a,d)}},{"tiny-svg":794}],393:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){}function f(a,b){return b.get(a,!1)}function g(a){a.preventDefault(),a.stopPropagation(),"function"==typeof a.stopImmediatePropagation&&a.stopImmediatePropagation()}function h(a){function b(b){j.forEach(p,function(b){k.event.bind(a,b,g,!0)})}function c(b){setTimeout(function(){j.forEach(p,function(b){k.event.unbind(a,b,g,!0)})},500)}k.event.bind(a,"touchstart",b,!0),k.event.bind(a,"touchend",c,!0),k.event.bind(a,"touchcancel",c,!0);var d=new l["default"].Manager(a,{inputClass:l["default"].TouchInput,recognizers:[]}),f=new l["default"].Tap,h=new l["default"].Pan({threshold:10}),i=new l["default"].Press,m=new l["default"].Pinch,n=new l["default"].Tap({event:"doubletap",taps:2});return m.requireFailure(h),m.requireFailure(i),d.add([h,i,m,n,f]),d.reset=function(a){var b=this.recognizers,c=this.session;c.stopped||(e("recognizer","stop"),d.stop(a),setTimeout(function(){var a,d;for(e("recognizer","reset"),a=0;d=b[a];a++)d.reset(),d.state=8;c.curRecognizer=null},0))},d.on("hammer.input",function(a){a.srcEvent.defaultPrevented&&d.reset(!0)}),d}function i(a,b,c,d,i){function j(a){return function(b){e("element",a,b),i.fire(a,b)}}function l(a){var b=k.closest(a,"svg, .djs-element",!0);return b}function p(a){function c(a){function c(a){var c=a.deltaX-f,d=a.deltaY-g;b.scroll({dx:c,dy:d}),f=a.deltaX,g=a.deltaY}function d(a){q.off("panmove",c),q.off("panend",d),q.off("pancancel",d),e("canvas","grab end")}e("canvas","grab start");var f=0,g=0;q.on("panmove",c),q.on("panend",d),q.on("pancancel",d)}function f(a){var f=l(a.target),g=f&&d.get(f);return s&&b.getRootElement()!==g?(e("element","move start",g,a,!0),s.start(a,g,!0)):void c(a)}function i(a){function c(a){var c=1-(1-a.scale)/1.5,d=Math.max(n,Math.min(o,c*f));b.zoom(d,h),g(a)}function d(a){q.off("pinchmove",c),q.off("pinchend",d),q.off("pinchcancel",d),q.reset(!0),e("canvas","zoom end")}e("canvas","zoom start");var f=b.zoom(),h=a.center;q.on("pinchmove",c),q.on("pinchend",d),q.on("pinchcancel",d)}q=h(a),q.on("doubletap",j("element.dblclick")),q.on("tap",j("element.click")),q.on("panstart",f),q.on("press",f),q.on("pinchstart",i)}var q,r=f("dragging",a),s=f("move",a),t=f("contextPad",a),u=f("palette",a);r&&c.on("drag.move",function(a){var b=a.originalEvent;if(b&&!(b instanceof MouseEvent)){var c=m.toPoint(b),e=document.elementFromPoint(c.x,c.y),f=l(e),g=f&&d.get(f);g!==a.hover&&(a.hover&&r.out(a),g&&(r.hover({element:g,gfx:f}),a.hover=g,a.hoverGfx=f))}}),t&&c.on("contextPad.create",function(a){var b=a.pad.html,c=h(b);c.on("panstart",function(a){e("context-pad","panstart",a),t.trigger("dragstart",a,!0)}),c.on("press",function(a){e("context-pad","press",a),t.trigger("dragstart",a,!0)}),c.on("tap",function(a){e("context-pad","tap",a),t.trigger("click",a)})}),u&&c.on("palette.create",function(a){var b=a.container,c=h(b);c.on("panstart",function(a){e("palette","panstart",a),u.trigger("dragstart",a,!0)}),c.on("press",function(a){e("palette","press",a),u.trigger("dragstart",a,!0)}),c.on("tap",function(a){e("palette","tap",a),u.trigger("click",a)})}),c.on("canvas.init",function(a){p(a.svg)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=i;var j=a("min-dash"),k=a("min-dom"),l=d(a("hammerjs")),m=a("../../util/Event"),n=.2,o=4,p=["mousedown","mouseup","mouseover","mouseout","click","dblclick"];i.$inject=["injector","canvas","eventBus","elementRegistry","interactionEvents","touchFix"]},{"../../util/Event":415,hammerjs:522,"min-dash":734,"min-dom":428}],394:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../interaction-events")),f=d(a("./TouchInteractionEvents")),g=d(a("./TouchFix")),h={__depends__:[e["default"]],__init__:["touchInteractionEvents"],touchInteractionEvents:["type",f["default"]],touchFix:["type",g["default"]]};c["default"]=h},{"../interaction-events":322,"./TouchFix":392,"./TouchInteractionEvents":393}],395:[function(a,b,c){arguments[4][67][0].apply(c,arguments)},{"./translate":396,dup:67}],396:[function(a,b,c){arguments[4][68][0].apply(c,arguments)},{dup:68}],397:[function(a,b,c){"use strict";function d(){}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("./LayoutUtil");d.prototype.layoutConnection=function(a,b){return b=b||{},[b.connectionStart||e.getMid(b.source||a.source),b.connectionEnd||e.getMid(b.target||a.target)]}},{"./LayoutUtil":399}],398:[function(a,b,c){"use strict";function d(a){return f.assign({original:a.point.original||a.point},a.actual)}function e(a,b){this._elementRegistry=a,this._graphicsFactory=b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=a("min-dash"),g=a("./LayoutUtil");e.$inject=["elementRegistry","graphicsFactory"],e.prototype.getCroppedWaypoints=function(a,b,c){b=b||a.source,c=c||a.target;var e=this.getDockingPoint(a,b,!0),f=this.getDockingPoint(a,c),g=a.waypoints.slice(e.idx+1,f.idx);return g.unshift(d(e)),g.push(d(f)),g},e.prototype.getDockingPoint=function(a,b,c){var d,e,f,g=a.waypoints;return d=c?0:g.length-1,e=g[d],f=this._getIntersection(b,a,c),{point:e,actual:f||e,idx:d}},e.prototype._getIntersection=function(a,b,c){var d=this._getShapePath(a),e=this._getConnectionPath(b);return g.getElementLineIntersection(d,e,c)},e.prototype._getConnectionPath=function(a){return this._graphicsFactory.getConnectionPath(a)},e.prototype._getShapePath=function(a){return this._graphicsFactory.getShapePath(a)},e.prototype._getGfx=function(a){return this._elementRegistry.getGraphics(a)}},{"./LayoutUtil":399,"min-dash":734}],399:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return{x:Math.round(a.x),y:Math.round(a.y),width:Math.round(a.width),height:Math.round(a.height)}}function f(a){return{x:Math.round(a.x),y:Math.round(a.y)}}function g(a){return{top:a.y,right:a.x+(a.width||0),bottom:a.y+(a.height||0),left:a.x}}function h(a){return{x:a.left,y:a.top,width:a.right-a.left,height:a.bottom-a.top}}function i(a){return f({x:a.x+(a.width||0)/2,y:a.y+(a.height||0)/2})}function j(a,b,c){c=c||0,n.isObject(c)||(c={x:c,y:c});var d=g(a),e=g(b),f=d.bottom+c.y<=e.top,h=d.left-c.x>=e.right,i=d.top-c.y>=e.bottom,j=d.right+c.x<=e.left,k=f?"top":i?"bottom":null,l=j?"left":h?"right":null;return l&&k?k+"-"+l:l||k||"intersect"}function k(a,b,c){var d=l(a,b);return 1===d.length?f(d[0]):2===d.length&&o.pointDistance(d[0],d[1])<1?f(d[0]):d.length>1?(d=n.sortBy(d,function(a){var b=Math.floor(100*a.t2)||1;return b=100-b,b=(10>b?"0":"")+b,a.segment2+"#"+b}),f(d[c?0:d.length-1])):null}function l(a,b){return p["default"](a,b)}function m(a){a=a.slice();for(var b,c,d,e=0;a[e];)b=a[e],c=a[e-1],d=a[e+1],0===o.pointDistance(b,d)||o.pointsOnLine(c,d,b)?a.splice(e,1):e++;return a}Object.defineProperty(c,"__esModule",{value:!0}),c.roundBounds=e,c.roundPoint=f,c.asTRBL=g,c.asBounds=h,c.getMid=i,c.getOrientation=j,c.getElementLineIntersection=k,c.getIntersections=l,c.filterRedundantWaypoints=m;var n=a("min-dash"),o=a("../util/Geometry"),p=d(a("path-intersection"))},{"../util/Geometry":416,"min-dash":734,"path-intersection":429}],400:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(){Object.defineProperty(this,"businessObject",{writable:!0}),Object.defineProperty(this,"label",{get:function(){return this.labels[0]},set:function(a){var b=this.label,c=this.labels;!a&&b?c.remove(b):c.add(a,0)}}),n.bind(this,"parent"),o.bind(this,"labels"),q.bind(this,"outgoing"),r.bind(this,"incoming")}function f(){e.call(this),n.bind(this,"children"),p.bind(this,"host"),p.bind(this,"attachers")}function g(){f.call(this)}function h(){f.call(this),o.bind(this,"labelTarget")}function i(){e.call(this),q.bind(this,"source"),r.bind(this,"target")}function j(a,b){var c=s[a];if(!c)throw new Error("unknown type: <"+a+">");return k.assign(new c,b)}Object.defineProperty(c,"__esModule",{value:!0}),c.Base=e,c.Shape=f,c.Root=g,c.Label=h,c.Connection=i,c.create=j;var k=a("min-dash"),l=d(a("inherits")),m=d(a("object-refs")),n=new m["default"]({name:"children",enumerable:!0,collection:!0},{name:"parent"}),o=new m["default"]({name:"labels",enumerable:!0,collection:!0},{name:"labelTarget"}),p=new m["default"]({name:"attachers",collection:!0},{name:"host"}),q=new m["default"]({name:"outgoing",collection:!0},{name:"source"}),r=new m["default"]({name:"incoming",collection:!0},{name:"target"});l["default"](f,e),l["default"](g,f),l["default"](h,f),l["default"](i,e);var s={connection:i,shape:f,label:h,root:g}},{inherits:527,"min-dash":734,"object-refs":739}],401:[function(a,b,c){"use strict";function d(a,b,c){function d(a){var c=a.keyEvent,d=g._config;if(b.isCmd(c)&&b.isKey(["ArrowLeft","Left","ArrowUp","Up","ArrowDown","Down","ArrowRight","Right"],c)){var e,f=b.isShift(c)?d.moveSpeedAccelerated:d.moveSpeed;switch(c.key){case"ArrowLeft":case"Left":e="left";break;case"ArrowUp":case"Up":e="up";break;case"ArrowRight":case"Right":e="right";break;case"ArrowDown":case"Down":e="down"}return g.moveCanvas({speed:f,direction:e}),!0}}var g=this;this._config=e.assign({},f,a||{}),b.addListener(d),this.moveCanvas=function(a){var b=0,d=0,e=a.speed,f=e/Math.min(Math.sqrt(c.viewbox().scale),1);switch(a.direction){case"left":b=f;break;case"up":d=f;break;case"right":b=-f;break;case"down":d=-f}c.scroll({dx:b,dy:d})}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f={moveSpeed:50,moveSpeedAccelerated:200};d.$inject=["config.keyboardMove","keyboard","canvas"]},{"min-dash":734}],402:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../../features/keyboard")),f=d(a("./KeyboardMove")),g={__depends__:[e["default"]],__init__:["keyboardMove"],keyboardMove:["type",f["default"]]};c["default"]=g},{"../../features/keyboard":328,"./KeyboardMove":401}],403:[function(a,b,c){"use strict";function d(a,b){function c(c){var d=m.start,i=j.toPoint(c),l=h.delta(i,d);if(!m.dragging&&e(l)>k&&(m.dragging=!0,g.install(a),f.set("grab")),m.dragging){var n=m.last||m.start;l=h.delta(i,n),b.scroll({dx:l.x,dy:l.y}),m.last=i}c.preventDefault()}function d(a){i.event.unbind(document,"mousemove",c),i.event.unbind(document,"mouseup",d),m=null,f.unset()}function l(a){return i.closest(a.target,".djs-draggable")||a.button||a.ctrlKey||a.shiftKey||a.altKey?void 0:(m={start:j.toPoint(a)},i.event.bind(document,"mousemove",c),i.event.bind(document,"mouseup",d),!0)}var m;a.on("element.mousedown",500,function(a){return l(a.originalEvent)})}function e(a){return Math.sqrt(Math.pow(a.x,2)+Math.pow(a.y,2))}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("../../util/Cursor"),g=a("../../util/ClickTrap"),h=a("../../util/PositionUtil"),i=a("min-dom"),j=a("../../util/Event"),k=15;d.$inject=["eventBus","canvas"]},{"../../util/ClickTrap":410,"../../util/Cursor":412,"../../util/Event":415,"../../util/PositionUtil":423,"min-dom":428}],404:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./MoveCanvas")),f={__init__:["moveCanvas"],moveCanvas:["type",e["default"]]};c["default"]=f},{"./MoveCanvas":403}],405:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../../features/touch")),f={__depends__:[e["default"]]};c["default"]=f},{"../../features/touch":394}],406:[function(a,b,c){"use strict";function d(a,b,c){a=a||{},this._enabled=!1,this._canvas=c,this._container=c._container,this._handleWheel=h.bind(this._handleWheel,this),this._totalDelta=0,this._scale=a.scale||m;var d=this;b.on("canvas.init",function(b){d._init(a.enabled!==!1)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dom"),f=a("./ZoomUtil"),g=a("../../util/Math"),h=a("min-dash"),i=Math.sign||function(a){return a>=0?1:-1},j={min:.2,max:4},k=10,l=.1,m=.75;d.$inject=["config.zoomScroll","eventBus","canvas"],d.prototype.scroll=function(a){this._canvas.scroll(a)},d.prototype.reset=function(){this._canvas.zoom("fit-viewport")},d.prototype.zoom=function(a,b){var c=f.getStepSize(j,2*k);this._totalDelta+=a,Math.abs(this._totalDelta)>l&&(this._zoom(a,b,c),this._totalDelta=0)},d.prototype._handleWheel=function(a){if(!e.closest(a.target,".djs-scrollable",!0)){var b=this._container;a.preventDefault();var c,d=a.ctrlKey,f=a.shiftKey,g=-1*this._scale;if(g*=d?0===a.deltaMode?.02:.32:0===a.deltaMode?1:16,d){var h=b.getBoundingClientRect(),j={x:a.clientX-h.left,y:a.clientY-h.top};c=Math.sqrt(Math.pow(a.deltaY,2)+Math.pow(a.deltaX,2))*i(a.deltaY)*g,this.zoom(c,j)}else c=f?{dx:g*a.deltaY,dy:0}:{dx:g*a.deltaX,dy:g*a.deltaY},this.scroll(c)}},d.prototype.stepZoom=function(a,b){var c=f.getStepSize(j,k);this._zoom(a,b,c)},d.prototype._zoom=function(a,b,c){var d=this._canvas,e=a>0?1:-1,h=g.log10(d.zoom()),i=Math.round(h/c)*c;i+=c*e;var k=Math.pow(10,i);d.zoom(f.cap(j,k),b)},d.prototype.toggle=function(a){var b=this._container,c=this._handleWheel,d=this._enabled;return"undefined"==typeof a&&(a=!d),d!==a&&e.event[a?"bind":"unbind"](b,"wheel",c,!1),this._enabled=a,a},d.prototype._init=function(a){this.toggle(a)}},{"../../util/Math":420,"./ZoomUtil":407,"min-dash":734,"min-dom":428}],407:[function(a,b,c){"use strict";function d(a,b){var c=f.log10(a.min),d=f.log10(a.max),e=Math.abs(c)+Math.abs(d);return e/b}function e(a,b){return Math.max(a.min,Math.min(a.max,b))}Object.defineProperty(c,"__esModule",{value:!0}),c.getStepSize=d,c.cap=e;var f=a("../../util/Math")},{"../../util/Math":420}],408:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ZoomScroll")),f={__init__:["zoomScroll"],zoomScroll:["type",e["default"]]};c["default"]=f},{"./ZoomScroll":406}],409:[function(a,b,c){"use strict";function d(a,b,c){var d=g.center(b),e=g.center(c),h=g.delta(a,d),i={x:h.x*(c.width/b.width),y:h.y*(c.height/b.height)};return f.roundPoint({x:e.x+i.x,y:e.y+i.y})}function e(a,b,c){var d=g.center(a),e=g.center(b),h=g.center(c),i=g.delta(a,d),j=g.delta(d,e),k={x:j.x*(c.width/b.width),y:j.y*(c.height/b.height)},l={x:h.x+k.x,y:h.y+k.y};return f.roundPoint({x:l.x+i.x-a.x,y:l.y+i.y-a.y})}Object.defineProperty(c,"__esModule",{value:!0}),c.getNewAttachPoint=d,c.getNewAttachShapeDelta=e;var f=a("../layout/LayoutUtil"),g=a("./PositionUtil")},{"../layout/LayoutUtil":399,"./PositionUtil":423}],410:[function(a,b,c){"use strict";function d(a,b){function c(){return!1}return b=b||"element.click",a.once(b,e,c),function(){a.off(b,c)}}Object.defineProperty(c,"__esModule",{value:!0}),c.install=d;var e=5e3},{}],411:[function(a,b,c){"use strict";function d(a,b){if(!a||!b)return-1;var c=a.indexOf(b);return-1!==c&&a.splice(c,1),c}function e(a,b,c){if(a&&b){"number"!=typeof c&&(c=-1);var d=a.indexOf(b);if(-1!==d){if(d===c)return;if(-1===c)return;a.splice(d,1)}-1!==c?a.splice(c,0,b):a.push(b)}}function f(a,b){return a&&b?a.indexOf(b):-1}Object.defineProperty(c,"__esModule",{value:!0}),c.remove=d,c.add=e,c.indexOf=f},{}],412:[function(a,b,c){"use strict";function d(a){var b=g.classes(document.body);b.removeMatching(h),a&&b.add("djs-cursor-"+a)}function e(){d(null)}function f(a){var b=g.classes(document.body);return b.has("djs-cursor-"+a)}Object.defineProperty(c,"__esModule",{value:!0}),c.set=d,c.unset=e,c.has=f;var g=a("min-dom"),h=/^djs-cursor-.*$/},{"min-dom":428}],413:[function(a,b,c){"use strict";function d(a){return q.filter(a,function(b){return!q.find(a,function(a){return a!==b&&e(b,a)})})}function e(a,b){if(b){if(a===b)return b;if(a.parent)return e(a.parent,b)}}function f(a,b,c){var d=!c||-1===a.indexOf(b);return d&&a.push(b),d}function g(a,b,c){c=c||0,q.isArray(a)||(a=[a]),q.forEach(a,function(a,d){var e=b(a,d,c);q.isArray(e)&&e.length&&g(e,b,c+1)})}function h(a,b,c){var d=[],e=[];return g(a,function(a,g,h){f(d,a,b);var i=a.children;return(-1===c||c>h)&&i&&f(e,i,b)?i:void 0}),d}function i(a,b){return h(a,!b,1)}function j(a,b){return h(a,!b,-1)}function k(a,b,c){function d(a){k[a.source.id]&&k[a.target.id]&&(k[a.id]=[a]),f[a.source.id]&&f[a.target.id]&&(j[a.id]=i[a.id]=a),h[a.id]=a}function e(a){return i[a.id]=a,a.waypoints?void(j[a.id]=h[a.id]=a):(f[a.id]=a,q.forEach(a.incoming,d),q.forEach(a.outgoing,d),a.children)}q.isUndefined(b)&&(b=!0),q.isObject(b)&&(c=b,b=!0),c=c||{};var f=p(c.allShapes),h=p(c.allConnections),i=p(c.enclosedElements),j=p(c.enclosedConnections),k=p(c.topLevel,b&&q.groupBy(a,function(a){return a.id}));return g(a,e),{allShapes:f,allConnections:h,topLevel:k,enclosedConnections:j,enclosedElements:i}}function l(a,b){b=!!b,q.isArray(a)||(a=[a]);var c,d,e,f;return q.forEach(a,function(a){var g=a;a.waypoints&&!b&&(g=l(a.waypoints,!0));var h=g.x,i=g.y,j=g.height||0,k=g.width||0;(c>h||void 0===c)&&(c=h),(d>i||void 0===d)&&(d=i),(h+k>e||void 0===e)&&(e=h+k),(i+j>f||void 0===f)&&(f=i+j)}),{x:c,y:d,height:f-d,width:e-c}}function m(a,b){var c={};return q.forEach(a,function(a){var d=a;d.waypoints&&(d=l(d)),!q.isNumber(b.y)&&d.x>b.x&&(c[a.id]=a),!q.isNumber(b.x)&&d.y>b.y&&(c[a.id]=a),d.x>b.x&&d.y>b.y&&(q.isNumber(b.width)&&q.isNumber(b.height)&&d.width+d.x<b.width+b.x&&d.height+d.y<b.height+b.y?c[a.id]=a:q.isNumber(b.width)&&q.isNumber(b.height)||(c[a.id]=a))}),c}function n(a){return"waypoints"in a?"connection":"x"in a?"shape":"root"}function o(a){return!(!a||!a.isFrame)}function p(a,b){return q.assign({},a||{},b||{})}Object.defineProperty(c,"__esModule",{value:!0}),c.getParents=d,c.add=f,c.eachElement=g,c.selfAndChildren=h,c.selfAndDirectChildren=i,c.selfAndAllChildren=j,c.getClosure=k,c.getBBox=l,c.getEnclosedElements=m,c.getType=n,c.isFrameElement=o;var q=a("min-dash")},{"min-dash":734}],414:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a=""+a,a&&a.replace(/[&<>"']/g,function(a){return g[a]})}Object.defineProperty(c,"__esModule",{value:!0}),c.escapeHTML=e,Object.defineProperty(c,"escapeCSS",{enumerable:!0,get:function(){return f["default"]}});var f=d(a("css.escape")),g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}},{"css.escape":61}],415:[function(a,b,c){"use strict";function d(a){a&&"function"==typeof a.stopPropagation&&a.stopPropagation()}function e(a){return a.originalEvent||a.srcEvent}function f(a,b){d(a,b),d(e(a),b)}function g(a){return a.pointers&&a.pointers.length&&(a=a.pointers[0]),a.touches&&a.touches.length&&(a=a.touches[0]),a?{x:a.clientX,y:a.clientY}:null}Object.defineProperty(c,"__esModule",{value:!0}),c.getOriginal=e,c.stopPropagation=f,c.toPoint=g},{}],416:[function(a,b,c){"use strict";function d(a,b){return a&&b?Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)):-1}function e(a,b,c,e){if("undefined"==typeof e&&(e=5),!a||!b||!c)return!1;var f=(b.x-a.x)*(c.y-a.y)-(b.y-a.y)*(c.x-a.x),g=d(a,b);return Math.abs(f/g)<=e}function f(a,b){var c;return c=k.isArray(a)?a:[a,b],g(c)?"h":h(c)?"v":!1}function g(a,b){var c;c=k.isArray(a)?a:[a,b];var d=c.slice().shift();return k.every(c,function(a){return Math.abs(d.y-a.y)<=l})}function h(a,b){var c;c=k.isArray(a)?a:[a,b];var d=c.slice().shift();return k.every(c,function(a){return Math.abs(d.x-a.x)<=l})}function i(a,b,c){return c=c||0,a.x>b.x-c&&a.y>b.y-c&&a.x<b.x+b.width+c&&a.y<b.y+b.height+c}function j(a,b){return{x:Math.round(a.x+(b.x-a.x)/2),y:Math.round(a.y+(b.y-a.y)/2)}}Object.defineProperty(c,"__esModule",{value:!0}),c.pointDistance=d,c.pointsOnLine=e,c.pointsAligned=f,c.pointsAlignedHorizontally=g,c.pointsAlignedVertically=h,c.pointInRect=i,c.getMidPoint=j;var k=a("min-dash"),l=2},{"min-dash":734}],417:[function(a,b,c){"use strict";function d(a){return a.childNodes[0]}function e(a){return a.parentNode.childNodes[1]}Object.defineProperty(c,"__esModule",{value:!0}),c.getVisual=d,c.getChildren=e},{}],418:[function(a,b,c){"use strict";function d(a){this._counter=0,this._prefix=(a?a+"-":"")+Math.floor(1e9*Math.random())+"-"}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d,d.prototype.next=function(){return this._prefix+ ++this._counter}},{}],419:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=a.x,d=a.y;return[["M",c,d],["m",0,-b],["a",b,b,0,1,1,0,2*b],["a",b,b,0,1,1,0,-2*b],["z"]]}function f(a){var b=[];return a.forEach(function(a,c){b.push([0===c?"M":"L",a.x,a.y])}),b}function g(a,b){var c,d;for(c=0;d=a[c];c++)if(j.pointDistance(d,b)<=n)return{point:a[c],bendpoint:!0,index:c};return null}function h(a,b){var c,d=k["default"](e(b,n),f(a)),g=d[0],h=d[d.length-1];return g?g!==h?g.segment2!==h.segment2?(c=m(g.segment2,h.segment2)-1,{point:a[c],bendpoint:!0,index:c}):{point:{x:l(g.x+h.x)/2,y:l(g.y+h.y)/2},index:g.segment2}:{point:{x:l(g.x),y:l(g.y)},index:g.segment2}:null}function i(a,b){return g(a,b)||h(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c.getApproxIntersection=i;var j=a("./Geometry"),k=d(a("path-intersection")),l=Math.round,m=Math.max,n=10},{"./Geometry":416,"path-intersection":429}],420:[function(a,b,c){"use strict";function d(a){return Math.log(a)/Math.log(10)}Object.defineProperty(c,"__esModule",{value:!0}),c.log10=d,Object.defineProperty(c,"substract",{enumerable:!0,get:function(){return e.delta}});var e=a("./PositionUtil")},{"./PositionUtil":423}],421:[function(a,b,c){"use strict";function d(a){return!(g.getOriginal(a)||a).button}function e(a){var b=g.getOriginal(a)||a;return d(a)?h.isMac()?b.metaKey:b.ctrlKey:!1}function f(a){var b=g.getOriginal(a)||a;return d(a)&&b.shiftKey}Object.defineProperty(c,"__esModule",{value:!0}),c.isPrimaryButton=d,c.hasPrimaryModifier=e,c.hasSecondaryModifier=f,Object.defineProperty(c,"isMac",{enumerable:!0,get:function(){return h.isMac}});var g=a("./Event"),h=a("./Platform")},{"./Event":415,"./Platform":422}],422:[function(a,b,c){"use strict";function d(){return/mac/i.test(navigator.platform)}Object.defineProperty(c,"__esModule",{value:!0}),c.isMac=d},{}],423:[function(a,b,c){"use strict";function d(a){return{x:a.x+a.width/2,y:a.y+a.height/2}}function e(a,b){return{x:a.x-b.x,y:a.y-b.y}}Object.defineProperty(c,"__esModule",{value:!0}),c.center=d,c.delta=e},{}],424:[function(a,b,c){"use strict";function d(a,b){if("function"!=typeof b)throw new Error("removeFn iterator must be a function");if(a){for(var c;c=a[0];)b(c);return a}}Object.defineProperty(c,"__esModule",{value:!0}),c.saveClear=d},{}],425:[function(a,b,c){"use strict";function d(a){return a.join(",").replace(/,?([A-z]),?/g,"$1")}function e(a){for(var b,c="",d=0;b=a[d];d++)c+=b.x+","+b.y+" ";return c}function f(a,b){var c=h.create("polyline");return h.attr(c,{points:e(a)}),b&&h.attr(c,b),c}function g(a,b){return h.attr(a,{points:e(b)}),a}Object.defineProperty(c,"__esModule",{value:!0}),c.componentsToPath=d,c.toSVGPoints=e,c.createLine=f,c.updateLine=g;var h=a("tiny-svg")},{"tiny-svg":794}],426:[function(a,b,c){"use strict";function d(a,b,c,d,e){var f=h.createTransform();f.setTranslate(b,c);var g=h.createTransform();g.setRotate(d||0,0,0);var i=h.createTransform();i.setScale(e||1,e||1),h.transform(a,[f,g,i])}function e(a,b,c){var d=h.createTransform();d.setTranslate(b,c),h.transform(a,d)}function f(a,b){var c=h.createTransform();c.setRotate(b,0,0),h.transform(a,c)}function g(a,b){var c=h.createTransform();c.setScale(b,b),h.transform(a,c)}Object.defineProperty(c,"__esModule",{value:!0}),c.transform=d,c.translate=e,c.rotate=f,c.scale=g;var h=a("tiny-svg")},{"tiny-svg":794}],427:[function(a,b,c){"use strict";function d(a){var b=a.split("-");return{horizontal:b[0]||"center",vertical:b[1]||"top"}}function e(a){return n.isObject(a)?n.assign({top:0,left:0,right:0,bottom:0},a):{top:a,left:a,right:a,bottom:a}}function f(a,b){b.textContent=a;var c;try{var d,e=""===a;return b.textContent=e?"dummy":a,c=b.getBBox(),d={width:c.width+2*c.x,height:c.height},e&&(d.width=0),d}catch(f){return{width:0,height:0}}}function g(a,b,c){for(var d,e=a.shift(),g=e;;){if(d=f(g,c),d.width=g?d.width:0," "===g||""===g||d.width<Math.round(b)||g.length<2)return h(a,g,e,d);g=j(g,d.width,b)}}function h(a,b,c,d){if(b.length<c.length){var e=c.slice(b.length).trim();a.unshift(e)}return{width:d.width,height:d.height,text:b}}function i(a,b){var c,d=a.split(/(\s|-)/g),e=[],f=0;if(d.length>1)for(;c=d.shift();){if(!(c.length+f<b)){"-"===c&&e.pop();break}e.push(c),f+=c.length}return e.join("")}function j(a,b,c){var d=Math.max(a.length*(c/b),1),e=i(a,d);return e||(e=a.slice(0,Math.max(Math.round(d-1),1))),e}function k(){var a=document.getElementById("helper-svg");return a||(a=o.create("svg"),o.attr(a,{id:"helper-svg",width:0,height:0,style:"visibility: hidden; position: fixed"}),document.body.appendChild(a)),a}function l(a){this._config=n.assign({},{size:q,padding:p,style:{},align:"center-top"},a||{})}function m(a){return"fontSize"in a&&"lineHeight"in a?a.lineHeight*parseInt(a.fontSize,10):void 0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=l;var n=a("min-dash"),o=a("tiny-svg"),p=0,q={width:150,height:50};l.prototype.createText=function(a,b){return this.layoutText(a,b).element},l.prototype.getDimensions=function(a,b){return this.layoutText(a,b).dimensions},l.prototype.layoutText=function(a,b){var c=n.assign({},this._config.size,b.box),f=n.assign({},this._config.style,b.style),h=d(b.align||this._config.align),i=e(void 0!==b.padding?b.padding:this._config.padding),j=b.fitBox||!1,l=m(f),p=a.split(/\r?\n/g),q=[],r=c.width-i.left-i.right,s=o.create("text");o.attr(s,{x:0,y:0}),o.attr(s,f);var t=k();for(o.append(t,s);p.length;)q.push(g(p,r,s));"middle"===h.vertical&&(i.top=i.bottom=0);var u=n.reduce(q,function(a,b,c){return a+(l||b.height)},0)+i.top+i.bottom,v=n.reduce(q,function(a,b,c){return b.width>a?b.width:a},0),w=i.top;"middle"===h.vertical&&(w+=(c.height-u)/2),w-=(l||q[0].height)/4;var x=o.create("text");o.attr(x,f),n.forEach(q,function(a){var b;switch(w+=l||a.height,h.horizontal){case"left":b=i.left;break;case"right":b=(j?v:r)-i.right-a.width;break;default:b=Math.max(((j?v:r)-a.width)/2+i.left,0)}var c=o.create("tspan");o.attr(c,{x:b,y:w}),c.textContent=a.text,o.append(x,c)}),o.remove(s);var y={width:v,height:u};return{dimensions:y,element:x}}},{"min-dash":734,"tiny-svg":794}],428:[function(a,b,c){"use strict";function d(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}function e(a){return new f(a)}function f(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function g(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}function h(a,b){if(!a||1!==a.nodeType)return!1;if(t)return t.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;d++)if(c[d]==a)return!0;return!1}function i(a,b,c){for(var d=c?a:a.parentNode;d&&d.nodeType!==document.DOCUMENT_NODE&&d.nodeType!==document.DOCUMENT_FRAGMENT_NODE;){
if(u(d,b))return d;d=d.parentNode}return u(d,b)?d:null}function j(a,b){if(w)return w.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}function k(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=M[d]||M._default,g=f[0],h=f[1],i=f[2],e=b.createElement("div");for(e.innerHTML=h+a+i;g--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var j=b.createDocumentFragment();e.firstChild;)j.appendChild(e.removeChild(e.firstChild));return j}function l(a,b){return b=b||document,b.querySelector(a)}function m(a,b){return b=b||document,b.querySelectorAll(a)}function n(a){a.parentNode&&a.parentNode.removeChild(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.attr=d,c.classes=e,c.clear=g,c.closest=i,c.query=l,c.queryAll=m,c.remove=n,c.matches=c.event=c.domify=c.delegate=void 0;var o=[].indexOf,p=function(a,b){if(o)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},q=/\s+/,r=Object.prototype.toString;f.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=p(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},f.prototype.remove=function(a){if("[object RegExp]"==r.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=p(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},f.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},f.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},f.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(q);return""===c[0]&&c.shift(),c},f.prototype.has=f.prototype.contains=function(a){return this.list?this.list.contains(a):!!~p(this.array(),a)};var s="undefined"!=typeof Element?Element.prototype:{},t=s.matches||s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector,u=h;c.matches=u;var v=Element.prototype,w=v.matchesSelector||v.webkitMatchesSelector||v.mozMatchesSelector||v.msMatchesSelector||v.oMatchesSelector,x=j,y=function(a,b,c){for(var d=c?a:a.parentNode;d&&d!==document;){if(x(d,b))return d;d=d.parentNode}},z=window.addEventListener?"addEventListener":"attachEvent",A=window.removeEventListener?"removeEventListener":"detachEvent",B="addEventListener"!==z?"on":"",C=function(a,b,c,d){return a[z](B+b,c,d||!1),c},D=function(a,b,c,d){return a[A](B+b,c,d||!1),c},E={bind:C,unbind:D};c.event=E;var F=["focus","blur"],G=function(a,b,c,d,e){return-1!==F.indexOf(c)&&(e=!0),E.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=y(e,b,!0,a),c.delegateTarget&&d.call(a,c)},e)},H=function(a,b,c,d){-1!==F.indexOf(b)&&(d=!0),E.unbind(a,b,c,d)},I={bind:G,unbind:H};c.delegate=I;var J=k;c.domify=J;var K,L=!1;"undefined"!=typeof document&&(K=document.createElement("div"),K.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',L=!K.getElementsByTagName("link").length,K=void 0);var M={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:L?[1,"X<div>","</div>"]:[0,"",""]};M.td=M.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],M.option=M.optgroup=[1,'<select multiple="multiple">',"</select>"],M.thead=M.tbody=M.colgroup=M.caption=M.tfoot=[1,"<table>","</table>"],M.polyline=M.ellipse=M.polygon=M.circle=M.text=M.line=M.path=M.rect=M.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"]},{}],429:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function e(a){if("function"==typeof a||Object(a)!==a)return a;var b=new a.constructor;for(var c in a)d(a,c)&&(b[c]=e(a[c]));return b}function f(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return a.push(a.splice(c,1)[0])}function g(a){function b(){var c=Array.prototype.slice.call(arguments,0),e=c.join("␀"),g=b.cache=b.cache||{},h=b.count=b.count||[];return d(g,e)?(f(h,e),g[e]):(h.length>=1e3&&delete g[h.shift()],h.push(e),g[e]=a.apply(0,c),g[e])}return b}function h(a){if(!a)return null;var b=i(a);if(b.arr)return e(b.arr);var c={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},d=[];return N(a)&&N(a[0])&&(d=e(a)),d.length||String(a).replace(L,function(a,b,e){var f=[],g=b.toLowerCase();for(e.replace(M,function(a,b){b&&f.push(+b)}),"m"==g&&f.length>2&&(d.push([b].concat(f.splice(0,2))),g="l",b="m"==b?"l":"L");f.length>=c[g]&&(d.push([b].concat(f.splice(0,c[g]))),c[g]););}),d.toString=i.toString,b.arr=e(d),d}function i(a){var b=i.ps=i.ps||{};return b[a]?b[a].sleep=100:b[a]={sleep:100},setTimeout(function(){for(var c in b)d(b,c)&&c!=a&&(b[c].sleep--,!b[c].sleep&&delete b[c])}),b[a]}function j(a,b,c,d){return 1===arguments.length&&(b=a.y,c=a.width,d=a.height,a=a.x),{x:a,y:b,width:c,height:d,x2:a+c,y2:b+d}}function k(){return this.join(",").replace(D,"$1")}function l(a){var b=e(a);return b.toString=k,b}function m(a,b,c,d,e,f,g,h,i){var j=1-i,k=J(j,3),l=J(j,2),m=i*i,n=m*i,o=k*a+3*l*i*c+3*j*i*i*e+n*g,p=k*b+3*l*i*d+3*j*i*i*f+n*h;return{x:t(o),y:t(p)}}function n(a){var b=B.apply(null,a);return j(b.x0,b.y0,b.x1-b.x0,b.y1-b.y0)}function o(a,b,c){return b>=a.x&&b<=a.x+a.width&&c>=a.y&&c<=a.y+a.height}function p(a,b){return a=j(a),b=j(b),o(b,a.x,a.y)||o(b,a.x2,a.y)||o(b,a.x,a.y2)||o(b,a.x2,a.y2)||o(a,b.x,b.y)||o(a,b.x2,b.y)||o(a,b.x,b.y2)||o(a,b.x2,b.y2)||(a.x<b.x2&&a.x>b.x||b.x<a.x2&&b.x>a.x)&&(a.y<b.y2&&a.y>b.y||b.y<a.y2&&b.y>a.y)}function q(a,b,c,d,e){var f=-3*b+9*c-9*d+3*e,g=a*f+6*b-12*c+6*d;return a*g-3*b+3*c}function r(a,b,c,d,e,f,g,h,i){null==i&&(i=1),i=i>1?1:0>i?0:i;for(var j=i/2,k=12,l=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],m=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],n=0,o=0;k>o;o++){var p=j*l[o]+j,r=q(p,a,c,e,g),s=q(p,b,d,f,h),t=r*r+s*s;n+=m[o]*F.sqrt(t)}return j*n}function s(a,b,c,d,e,f,g,h){if(!(I(a,c)<H(e,g)||H(a,c)>I(e,g)||I(b,d)<H(f,h)||H(b,d)>I(f,h))){var i=(a*d-b*c)*(e-g)-(a-c)*(e*h-f*g),j=(a*d-b*c)*(f-h)-(b-d)*(e*h-f*g),k=(a-c)*(f-h)-(b-d)*(e-g);if(k){var l=t(i/k),m=t(j/k),n=+l.toFixed(2),o=+m.toFixed(2);if(!(n<+H(a,c).toFixed(2)||n>+I(a,c).toFixed(2)||n<+H(e,g).toFixed(2)||n>+I(e,g).toFixed(2)||o<+H(b,d).toFixed(2)||o>+I(b,d).toFixed(2)||o<+H(f,h).toFixed(2)||o>+I(f,h).toFixed(2)))return{x:l,y:m}}}}function t(a){return Math.round(1e11*a)/1e11}function u(a,b,c){var d=n(a),e=n(b);if(!p(d,e))return c?0:[];for(var f=r.apply(0,a),g=r.apply(0,b),h=x(a)?1:~~(f/5)||1,i=x(b)?1:~~(g/5)||1,j=[],k=[],l={},o=c?0:[],q=0;h+1>q;q++){var t=m.apply(0,a.concat(q/h));j.push({x:t.x,y:t.y,t:q/h})}for(q=0;i+1>q;q++)t=m.apply(0,b.concat(q/i)),k.push({x:t.x,y:t.y,t:q/i});for(q=0;h>q;q++)for(var u=0;i>u;u++){var v,w=j[q],y=j[q+1],z=k[u],A=k[u+1],B=K(y.x-w.x)<.01?"y":"x",C=K(A.x-z.x)<.01?"y":"x",D=s(w.x,w.y,y.x,y.y,z.x,z.y,A.x,A.y);if(D){if(v=D.x.toFixed(9)+"#"+D.y.toFixed(9),l[v])continue;l[v]=!0;var E=w.t+K((D[B]-w[B])/(y[B]-w[B]))*(y.t-w.t),F=z.t+K((D[C]-z[C])/(A[C]-z[C]))*(A.t-z.t);E>=0&&1>=E&&F>=0&&1>=F&&(c?o++:o.push({x:D.x,y:D.y,t1:E,t2:F}))}}return o}function v(a,b,c){a=C(a),b=C(b);for(var d,e,f,g,h,i,j,k,l,m,n=c?0:[],o=0,p=a.length;p>o;o++){var q=a[o];if("M"==q[0])d=h=q[1],e=i=q[2];else{"C"==q[0]?(l=[d,e].concat(q.slice(1)),d=l[6],e=l[7]):(l=[d,e,d,e,h,i,h,i],d=h,e=i);for(var r=0,s=b.length;s>r;r++){var t=b[r];if("M"==t[0])f=j=t[1],g=k=t[2];else{"C"==t[0]?(m=[f,g].concat(t.slice(1)),f=m[6],g=m[7]):(m=[f,g,f,g,j,k,j,k],f=j,g=k);var v=u(l,m,c);if(c)n+=v;else{for(var w=0,x=v.length;x>w;w++)v[w].segment1=o,v[w].segment2=r,v[w].bez1=l,v[w].bez2=m;n=n.concat(v)}}}}}return n}function w(a){var b=i(a);if(b.abs)return l(b.abs);if(N(a)&&N(a&&a[0])||(a=h(a)),!a||!a.length)return[["M",0,0]];var c,d=[],e=0,f=0,g=0,j=0,m=0;"M"==a[0][0]&&(e=+a[0][1],f=+a[0][2],g=e,j=f,m++,d[0]=["M",e,f]);for(var n,o,p=m,q=a.length;q>p;p++){if(d.push(n=[]),o=a[p],c=o[0],c!=c.toUpperCase())switch(n[0]=c.toUpperCase(),n[0]){case"A":n[1]=o[1],n[2]=o[2],n[3]=o[3],n[4]=o[4],n[5]=o[5],n[6]=+o[6]+e,n[7]=+o[7]+f;break;case"V":n[1]=+o[1]+f;break;case"H":n[1]=+o[1]+e;break;case"M":g=+o[1]+e,j=+o[2]+f;default:for(var r=1,s=o.length;s>r;r++)n[r]=+o[r]+(r%2?e:f)}else for(var t=0,u=o.length;u>t;t++)n[t]=o[t];switch(c=c.toUpperCase(),n[0]){case"Z":e=+g,f=+j;break;case"H":e=n[1];break;case"V":f=n[1];break;case"M":g=n[n.length-2],j=n[n.length-1];default:e=n[n.length-2],f=n[n.length-1]}}return d.toString=k,b.abs=l(d),d}function x(a){return a[0]===a[2]&&a[1]===a[3]&&a[4]===a[6]&&a[5]===a[7]}function y(a,b,c,d){return[a,b,c,d,c,d]}function z(a,b,c,d,e,f){var g=1/3,h=2/3;return[g*a+h*c,g*b+h*d,g*e+h*c,g*f+h*d,e,f]}function A(a,b,c,d,e,f,h,i,j,k){var l,m=120*G/180,n=G/180*(+e||0),o=[],p=g(function(a,b,c){var d=a*F.cos(c)-b*F.sin(c),e=a*F.sin(c)+b*F.cos(c);return{x:d,y:e}});if(k)y=k[0],z=k[1],w=k[2],x=k[3];else{l=p(a,b,-n),a=l.x,b=l.y,l=p(i,j,-n),i=l.x,j=l.y;var q=(a-i)/2,r=(b-j)/2,s=q*q/(c*c)+r*r/(d*d);s>1&&(s=F.sqrt(s),c=s*c,d=s*d);var t=c*c,u=d*d,v=(f==h?-1:1)*F.sqrt(K((t*u-t*r*r-u*q*q)/(t*r*r+u*q*q))),w=v*c*r/d+(a+i)/2,x=v*-d*q/c+(b+j)/2,y=F.asin(((b-x)/d).toFixed(9)),z=F.asin(((j-x)/d).toFixed(9));y=w>a?G-y:y,z=w>i?G-z:z,0>y&&(y=2*G+y),0>z&&(z=2*G+z),h&&y>z&&(y-=2*G),!h&&z>y&&(z-=2*G)}var B=z-y;if(K(B)>m){var C=z,D=i,E=j;z=y+m*(h&&z>y?1:-1),i=w+c*F.cos(z),j=x+d*F.sin(z),o=A(i,j,c,d,e,0,h,D,E,[z,C,w,x])}B=z-y;var H=F.cos(y),I=F.sin(y),J=F.cos(z),L=F.sin(z),M=F.tan(B/4),N=4/3*c*M,O=4/3*d*M,P=[a,b],Q=[a+N*I,b-O*H],R=[i+N*L,j-O*J],S=[i,j];if(Q[0]=2*P[0]-Q[0],Q[1]=2*P[1]-Q[1],k)return[Q,R,S].concat(o);o=[Q,R,S].concat(o).join().split(",");for(var T=[],U=0,V=o.length;V>U;U++)T[U]=U%2?p(o[U-1],o[U],n).y:p(o[U],o[U+1],n).x;return T}function B(a,b,c,d,e,f,g,h){for(var i,j,k,l,m,n,o,p,q=[],r=[[],[]],s=0;2>s;++s)if(0==s?(j=6*a-12*c+6*e,i=-3*a+9*c-9*e+3*g,k=3*c-3*a):(j=6*b-12*d+6*f,i=-3*b+9*d-9*f+3*h,k=3*d-3*b),K(i)<1e-12){if(K(j)<1e-12)continue;l=-k/j,l>0&&1>l&&q.push(l)}else o=j*j-4*k*i,p=F.sqrt(o),0>o||(m=(-j+p)/(2*i),m>0&&1>m&&q.push(m),n=(-j-p)/(2*i),n>0&&1>n&&q.push(n));for(var t,u=q.length,v=u;u--;)l=q[u],t=1-l,r[0][u]=t*t*t*a+3*t*t*l*c+3*t*l*l*e+l*l*l*g,r[1][u]=t*t*t*b+3*t*t*l*d+3*t*l*l*f+l*l*l*h;return r[0][v]=a,r[1][v]=b,r[0][v+1]=g,r[1][v+1]=h,r[0].length=r[1].length=v+2,{x0:H.apply(0,r[0]),y0:H.apply(0,r[1]),x1:I.apply(0,r[0]),y1:I.apply(0,r[1])}}function C(a){var b=i(a);if(b.curve)return l(b.curve);for(var c=w(a),d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},e=(function(a,b,c){var d,e;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];switch(!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null),a[0]){case"M":b.X=a[1],b.Y=a[2];break;case"A":a=["C"].concat(A.apply(0,[b.x,b.y].concat(a.slice(1))));break;case"S":"C"==c||"S"==c?(d=2*b.x-b.bx,e=2*b.y-b.by):(d=b.x,e=b.y),a=["C",d,e].concat(a.slice(1));break;case"T":"Q"==c||"T"==c?(b.qx=2*b.x-b.qx,b.qy=2*b.y-b.qy):(b.qx=b.x,b.qy=b.y),a=["C"].concat(z(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case"Q":b.qx=a[1],b.qy=a[2],a=["C"].concat(z(b.x,b.y,a[1],a[2],a[3],a[4]));break;case"L":a=["C"].concat(y(b.x,b.y,a[1],a[2]));break;case"H":a=["C"].concat(y(b.x,b.y,a[1],b.y));break;case"V":a=["C"].concat(y(b.x,b.y,b.x,a[1]));break;case"Z":a=["C"].concat(y(b.x,b.y,b.X,b.Y))}return a}),f=function(a,b){if(a[b].length>7){a[b].shift();for(var d=a[b];d.length;)g[b]="A",a.splice(b++,0,["C"].concat(d.splice(0,6)));a.splice(b,1),m=c.length}},g=[],h="",j="",k=0,m=c.length;m>k;k++){c[k]&&(h=c[k][0]),"C"!=h&&(g[k]=h,k&&(j=g[k-1])),c[k]=e(c[k],d,j),"A"!=g[k]&&"C"==h&&(g[k]="C"),f(c,k);var n=c[k],o=n.length;d.x=n[o-2],d.y=n[o-1],d.bx=E(n[o-4])||d.x,d.by=E(n[o-3])||d.y}return b.curve=l(c),c}var D=/,?([a-z]),?/gi,E=parseFloat,F=Math,G=F.PI,H=F.min,I=F.max,J=F.pow,K=F.abs,L=/([a-z])[\s,]*((-?\d*\.?\d*(?:e[-+]?\d+)?[\s]*,?[\s]*)+)/gi,M=/(-?\d*\.?\d*(?:e[-+]?\\d+)?)[\s]*,?[\s]*/gi,N=Array.isArray||function(a){return a instanceof Array};b.exports=v},{}],430:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a){return i(a)||h(a)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function i(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?n(a):b}function n(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function o(a){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&q(a,b)}function q(a,b){return(q=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var r=d(a("dmn-js-shared/lib/features/expression-languages")),s=d(a("./Viewer")),t=d(a("./features/decision-properties/editor")),u=d(a("./features/keyboard")),v=d(a("./features/literal-expression-properties/editor")),w=d(a("./features/modeling")),x=d(a("./features/textarea/editor")),y=function(a){function b(){return j(this,b),m(this,o(b).apply(this,arguments))}return p(b,a),l(b,[{key:"getModules",value:function(){return[].concat(f(s["default"]._getModules()),f(b._getModules()))}}],[{key:"_getModules",value:function(){return[t["default"],u["default"],v["default"],w["default"],r["default"],x["default"]]}}]),b}(s["default"]);c["default"]=y},{"./Viewer":431,"./features/decision-properties/editor":438,"./features/keyboard":444,"./features/literal-expression-properties/editor":449,"./features/modeling":452,"./features/textarea/editor":461,"dmn-js-shared/lib/features/expression-languages":510}],431:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a){return i(a)||h(a)||g()}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function h(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function i(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function j(a,b){if(null==a)return{};var c,d,e=k(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function k(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function n(a,b,c){return b&&m(a.prototype,b),c&&m(a,c),a}function o(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?p(a):b}function p(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function q(a,b,c){return(q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=r(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function r(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=s(a),null!==a););return a}function s(a){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function t(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&u(a,b)}function u(a,b){return(u=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var v=d(a("dmn-js-shared/lib/base/viewer/Viewer")),w=a("min-dash"),x=a("min-dom"),y=d(a("./core")),z=d(a("./features/decision-properties")),A=d(a("./features/literal-expression-properties")),B=d(a("./features/powered-by")),C=d(a("./features/textarea")),D=d(a("./features/view-drd")),E=function(a){function b(){var a,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,b);var d=b._createContainer();return a=o(this,s(b).call(this,w.assign(c,{renderer:{container:d}}))),a._container=d,a}return t(b,a),n(b,[{key:"open",value:function(a,b){var c;try{this._decision&&(this.clear(),this.get("eventBus").fire("renderer.unmount")),this._decision=a,this.get("eventBus").fire("import",a),this.get("eventBus").fire("renderer.mount")}catch(d){c=d}return b(c)}},{key:"_init",value:function(a){var b=a.modules,c=a.additionalModules,d=j(a,["modules","additionalModules"]),e=b||this.getModules(),g=c||[],h=[{viewer:["value",this]}],i=[].concat(f(e),f(g),h);return{modules:i,config:d}}},{key:"on",value:function(a,b,c,d){return this.get("eventBus").on(a,b,c,d)}},{key:"off",value:function(a,b){this.get("eventBus").off(a,b)}},{key:"_emit",value:function(a,b){return this.get("eventBus").fire(a,b)}},{key:"getDecision",value:function(){return this._decision}},{key:"attachTo",value:function(a){if(!a)throw new Error("parentNode required");this.detach(),a.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach",{}),x.remove(a))}},{key:"destroy",value:function(){q(s(b.prototype),"destroy",this).call(this),this.detach()}},{key:"getModules",value:function(){return b._getModules()}}],[{key:"_getModules",value:function(){return[y["default"],z["default"],A["default"],B["default"],C["default"],D["default"]]}},{key:"_createContainer",value:function(){return x.domify('<div class="dmn-literal-expression-container"></div>')}}]),b}(v["default"]);c["default"]=E},{"./core":433,"./features/decision-properties":439,"./features/literal-expression-properties":450,"./features/powered-by":456,"./features/textarea":462,"./features/view-drd":465,"dmn-js-shared/lib/base/viewer/Viewer":493,"min-dash":734,"min-dom":735}],432:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b,c){d(this,a),this._eventBus=c,this._viewer=b}return f(a,[{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"updateId",value:function(a,b){var c=this.getDecision();if(a!==c)throw new Error("element !== decision");this._eventBus.fire("element.updateId",{element:a,newId:b}),a.id=b}}]),a}();c["default"]=g,g.$inject=["viewer","eventBus"]},{}],433:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ElementRegistry")),f={__init__:["elementRegistry"],elementRegistry:["type",e["default"]]};c["default"]=f},{"./ElementRegistry":432}],434:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/DecisionPropertiesComponent")),g=2e3,h=function i(a){e(this,i),a.onGetComponent("viewer",g,function(){return f["default"]})};c["default"]=h,h.$inject=["components"]},{"./components/DecisionPropertiesComponent":436}],435:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/DecisionPropertiesEditorComponent")),g=2e3,h=function i(a){e(this,i),a.onGetComponent("viewer",g,function(){return f["default"]})};c["default"]=h,h.$inject=["components"]},{"./components/DecisionPropertiesEditorComponent":437}],436:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(a,c){var d;return e(this,b),d=h(this,j(b).call(this,a,c)),d._viewer=c.injector.get("viewer"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this._viewer.getDecision(),b=a.name,c=a.id;return m.createVNode(1,"div","decision-properties",[m.createVNode(1,"h3","decision-name",b,0),m.createVNode(1,"h5","decision-id",c,0)],4)}}]),b}(m.Component);c["default"]=n},{inferno:526}],437:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=a("dmn-js-shared/lib/util/IdsUtil"),q=d(a("dmn-js-shared/lib/components/EditableComponent")),r=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),n(k(d),"onElementsChanged",function(){d.forceUpdate()}),n(k(d),"setDecisionName",function(a){d._modeling.editDecisionName(a)}),n(k(d),"setDecisionId",function(a){var b=d.getDecision().id;b!==a&&d._modeling.editDecisionId(a)}),n(k(d),"validateId",function(a){return p.validateId(d.getDecision(),a)}),d._viewer=c.injector.get("viewer"),d._modeling=c.injector.get("modeling"),d.setupChangeListeners({bind:d.getDecision().id}),d}return l(b,a),h(b,[{key:"componentWillUnmount",value:function(){this.setupChangeListeners({unbind:this.getDecision().id})}},{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"setupChangeListeners",value:function(a){var b=a.bind,c=a.unbind,d=this.context.changeSupport;"string"==typeof c&&d.offElementsChanged(c,this.onElementsChanged),"string"==typeof b&&d.onElementsChanged(b,this.onElementsChanged)}},{key:"render",value:function(){var a=this.getDecision(),b=a.name,c=a.id;return o.createVNode(1,"header","decision-properties",[o.createComponentVNode(2,s,{className:"decision-name editor",value:b,onChange:this.setDecisionName}),o.createComponentVNode(2,t,{className:"decision-id editor",value:c,validate:this.validateId,onChange:this.setDecisionId})],4)}}]),b}(o.Component);c["default"]=r;var s=function(a){function b(){return f(this,b),i(this,j(b).apply(this,arguments))}return l(b,a),h(b,[{key:"render",value:function(){return o.createVNode(1,"h3",this.getClassName(),this.getEditor(),0)}}]),b}(q["default"]),t=function(a){function b(){return f(this,b),i(this,j(b).apply(this,arguments))}return l(b,a),h(b,[{key:"render",value:function(){return o.createVNode(1,"h5",this.getClassName(),this.getEditor(),0)}}]),b}(q["default"])},{"dmn-js-shared/lib/components/EditableComponent":500,"dmn-js-shared/lib/util/IdsUtil":514,inferno:526}],438:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DecisionPropertiesEditor")),f=d(a("dmn-js-shared/lib/features/debounce-input")),g={__depends__:[f["default"]],__init__:["decisionProperties"],decisionProperties:["type",e["default"]]};c["default"]=g},{"./DecisionPropertiesEditor":435,"dmn-js-shared/lib/features/debounce-input":508}],439:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DecisionProperties")),f={__init__:["decisionProperties"],decisionProperties:["type",e["default"]]};c["default"]=f},{"./DecisionProperties":434}],440:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b){return new Error(a+" "+b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("min-dash"),i="is not a registered action",j="is already registered",k=function(){function a(b,c){d(this,a),this._actions={undo:function(){b.undo()},redo:function(){b.redo()}}}return f(a,[{key:"trigger",value:function(a,b){if(!this._actions[a])throw g(a,i);return this._actions[a](b)}},{key:"register",value:function(a,b){var c=this;return"string"==typeof a?this._registerAction(a,b):void h.forEach(a,function(a,b){c._registerAction(b,a)},this)}},{key:"_registerAction",value:function(a,b){if(this.isRegistered(a))throw g(a,j);this._actions[a]=b}},{key:"unregister",value:function(a){if(!this.isRegistered(a))throw g(a,i);this._actions[a]=void 0}},{key:"isRegistered",value:function(a){return!!this._actions[a]}}]),a}();c["default"]=k,k.$inject=["commandStack","eventBus"]},{"min-dash":734}],441:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./EditorActions")),f={__init__:["editorActions"],editorActions:["type",e["default"]]};c["default"]=f},{"./EditorActions":440}],442:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("min-dom"),i=a("./KeyboardUtil"),j=function(){function a(b,c,e){var f=this;d(this,a),g(this,"_init",function(){f._registerDefaultBindings(),f._fire("init")}),g(this,"_destroy",function(){f._fire("destroy"),f.unbind(),f._listeners=null}),g(this,"_keyHandler",function(a){var b,c,d=f._listeners,e=a.keyCode||a.charCode||-1;for(b=0;c=d[b];b++)if(c(e,a))return a.preventDefault(),void a.stopPropagation()}),g(this,"unbind",function(){var a=f._node;a&&(f._fire("unbind"),h.event.unbind(a,"keydown",f._keyHandler,!0)),f._node=null}),this._config=b||{},this._eventBus=c,this._editorActions=e,this._listeners=[],c.on("viewer.destroy",this._destroy),c.on("viewer.init",this._init),c.on("attach",function(){f._config.bindTo&&f.bind(b.bindTo)}),c.on("detach",this.unbind)}return f(a,[{key:"bind",value:function(a){this.unbind(),this._node=a,h.event.bind(a,"keydown",this._keyHandler,!0),this._fire("bind")}},{key:"getBinding",value:function(){return this._node}},{key:"_fire",value:function(a){this._eventBus.fire("keyboard."+a,{node:this._node,listeners:this._listeners})}},{key:"_registerDefaultBindings",value:function(){function a(a,b){return i.isCmd(b)&&!i.isShift(b)&&90===a?(d.trigger("undo"),!0):void 0}function b(a,b){return i.isCmd(b)&&(89===a||90===a&&i.isShift(b))?(d.trigger("redo"),!0):void 0}var c=this._listeners,d=this._editorActions;c.push(a),c.push(b)}},{key:"addListener",value:function(a){this._listeners.unshift(a)}},{key:"removeListener",value:function(a){this._listeners=this._listeners.filter(function(b){return b!==a})}}]),a}();c["default"]=j,j.$inject=["config.keyboard","eventBus","editorActions"]},{"./KeyboardUtil":443,"min-dom":735}],443:[function(a,b,c){arguments[4][155][0].apply(c,arguments)},{dup:155}],444:[function(a,b,c){arguments[4][156][0].apply(c,arguments)},{"../editor-actions":441,"./Keyboard":442,dup:156}],445:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/LiteralExpressionPropertiesComponent")),g=500,h=function i(a){e(this,i),a.onGetComponent("viewer",g,function(){return f["default"]})};c["default"]=h,h.$inject=["components"]},{"./components/LiteralExpressionPropertiesComponent":447}],446:[function(a,b,c){"use strict";
function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/LiteralExpressionPropertiesEditorComponent")),g=500,h=function i(a){e(this,i),a.onGetComponent("viewer",g,function(){return f["default"]})};c["default"]=h,h.$inject=["components"]},{"./components/LiteralExpressionPropertiesEditorComponent":448}],447:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(a,c){var d;return e(this,b),d=h(this,j(b).call(this,a,c)),d._viewer=c.injector.get("viewer"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this._viewer.getDecision(),b=a.decisionLogic,c=a.variable;return m.createVNode(1,"div","literal-expression-properties",m.createVNode(1,"table",null,[m.createVNode(1,"tr",null,[m.createVNode(1,"td",null,m.createTextVNode("Variable Name:"),2),m.createVNode(1,"td",null,m.createVNode(1,"span",null,c.name||"-",0),2)],4),m.createVNode(1,"tr",null,[m.createVNode(1,"td",null,m.createTextVNode("Variable Type:"),2),m.createVNode(1,"td",null,m.createVNode(1,"span",null,c.typeRef||"-",0),2)],4),m.createVNode(1,"tr",null,[m.createVNode(1,"td",null,m.createTextVNode("Expression Language:"),2),m.createVNode(1,"td",null,m.createVNode(1,"span",null,b.expressionLanguage||"-",0),2)],4)],4),2)}}]),b}(m.Component);c["default"]=n},{inferno:526}],448:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a){return a&&a.expressionLanguage?a.expressionLanguage.toLowerCase():void 0}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=d(a("dmn-js-shared/lib/components/Input")),q=d(a("dmn-js-shared/lib/components/InputSelect")),r=[{label:"string",value:"string"},{label:"boolean",value:"boolean"},{label:"integer",value:"integer"},{label:"long",value:"long"},{label:"double",value:"double"},{label:"date",value:"date"}],s=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._viewer=c.injector.get("viewer"),d._modeling=c.injector.get("modeling"),d._expressionLanguages=c.injector.get("expressionLanguages");var e=d._viewer.getDecision();return d.state={name:e.variable.name,typeRef:e.variable.typeRef,expressionLanguage:n(e.decisionLogic)},d.setVariableName=d.setVariableName.bind(k(d)),d.setVariableType=d.setVariableType.bind(k(d)),d.setExpressionLanguage=d.setExpressionLanguage.bind(k(d)),d}return l(b,a),h(b,[{key:"setVariableName",value:function(a){this._modeling.editVariableName(a),this.setState({name:a})}},{key:"setVariableType",value:function(a){""===a?(this._modeling.editVariableType(void 0),this.setState({typeRef:void 0})):(this._modeling.editVariableType(a),this.setState({typeRef:a}))}},{key:"setExpressionLanguage",value:function(a){""===a?(this._modeling.editExpressionLanguage(void 0),this.setState({expressionLanguage:void 0})):(this._modeling.editExpressionLanguage(a),this.setState({expressionLanguage:a}))}},{key:"render",value:function(){var a=this.state,b=a.expressionLanguage,c=a.name,d=a.typeRef,e=this._expressionLanguages.getAll();return o.createVNode(1,"div","literal-expression-properties",o.createVNode(1,"table",null,[o.createVNode(1,"tr",null,[o.createVNode(1,"td",null,o.createTextVNode("Variable Name:"),2),o.createVNode(1,"td",null,o.createComponentVNode(2,p["default"],{className:"variable-name-input",onInput:this.setVariableName,placeholder:"name",value:c||""}),2)],4),o.createVNode(1,"tr",null,[o.createVNode(1,"td",null,o.createTextVNode("Variable Type:"),2),o.createVNode(1,"td",null,o.createVNode(1,"div","dms-fill-row",o.createComponentVNode(2,q["default"],{onChange:this.setVariableType,options:r,value:d,className:"variable-type-select dms-block"}),2),2)],4),o.createVNode(1,"tr",null,[o.createVNode(1,"td",null,o.createTextVNode("Expression Language:"),2),o.createVNode(1,"td",null,o.createVNode(1,"div","dms-fill-row",o.createComponentVNode(2,q["default"],{onChange:this.setExpressionLanguage,options:e,value:b,className:"expression-language-select dms-block"}),2),2)],4)],4),2)}}]),b}(o.Component);c["default"]=s},{"dmn-js-shared/lib/components/Input":501,"dmn-js-shared/lib/components/InputSelect":502,inferno:526}],449:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./LiteralExpressionPropertiesEditor")),f=d(a("dmn-js-shared/lib/features/debounce-input")),g=d(a("../keyboard")),h={__depends__:[f["default"],g["default"]],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",e["default"]]};c["default"]=h},{"../keyboard":444,"./LiteralExpressionPropertiesEditor":446,"dmn-js-shared/lib/features/debounce-input":508}],450:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("dmn-js-shared/lib/features/expression-languages")),f=d(a("./LiteralExpressionProperties")),g={__depends__:[e["default"]],__init__:["literalExpressionProperties"],literalExpressionProperties:["type",f["default"]]};c["default"]=g},{"./LiteralExpressionProperties":445,"dmn-js-shared/lib/features/expression-languages":510}],451:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){i.forEach(a,function(a,c){b.registerHandler(c,a)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=a("min-dash"),j=d(a("dmn-js-shared/lib/features/modeling/cmd/UpdatePropertiesHandler")),k=function(){function a(b,c,d){var f=this;e(this,a),this._commandStack=b,this._viewer=c,this._eventBus=d,d.on("viewer.init",function(){h(f.getHandlers(),b)})}return g(a,[{key:"getHandlers",value:function(){return a._getHandlers()}},{key:"getDecision",value:function(){return this._viewer.getDecision()}},{key:"editDecisionName",value:function(a){var b=this.getDecision(),c={element:b,properties:{name:a}};this._commandStack.execute("element.updateProperties",c)}},{key:"editDecisionId",value:function(a){var b=this.getDecision(),c={element:b,properties:{id:a}};this._commandStack.execute("element.updateProperties",c)}},{key:"editLiteralExpressionText",value:function(a){var b=this.getDecision(),c=b.decisionLogic,d={element:c,properties:{text:a}};this._commandStack.execute("element.updateProperties",d)}},{key:"editExpressionLanguage",value:function(a){var b=this.getDecision(),c=b.decisionLogic,d={element:c,properties:{expressionLanguage:a}};this._commandStack.execute("element.updateProperties",d)}},{key:"editVariableName",value:function(a){var b=this.getDecision(),c=b.variable,d={element:c,properties:{name:a}};this._commandStack.execute("element.updateProperties",d)}},{key:"editVariableType",value:function(a){var b=this.getDecision(),c=b.variable,d={element:c,properties:{typeRef:a}};this._commandStack.execute("element.updateProperties",d)}}],[{key:"_getHandlers",value:function(){return{"element.updateProperties":j["default"]}}}]),a}();c["default"]=k,k.$inject=["commandStack","viewer","eventBus"]},{"dmn-js-shared/lib/features/modeling/cmd/UpdatePropertiesHandler":512,"min-dash":734}],452:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/command/CommandStack")),f=d(a("dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior")),g=d(a("./Modeling")),h={__init__:["idChangeBehavior","modeling"],commandStack:["type",e["default"]],idChangeBehavior:["type",f["default"]],modeling:["type",g["default"]]};c["default"]=h},{"./Modeling":451,"diagram-js/lib/command/CommandStack":466,"dmn-js-shared/lib/features/modeling/behavior/IdChangeBehavior":511}],453:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/PoweredByLogoComponent")),g=d(a("./components/PoweredByOverlayComponent")),h=2e3,i=function j(a,b){e(this,j),a.onGetComponent("viewer",h,function(){return f["default"]}),a.onGetComponent("viewer",function(){return g["default"]})};c["default"]=i,i.$inject=["components","eventBus"]},{"./components/PoweredByLogoComponent":454,"./components/PoweredByOverlayComponent":455}],454:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",p=function(a){function b(a,c){var d;e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(){d._eventBus.fire("poweredBy.show")});var f=c.injector;return d._eventBus=f.get("eventBus"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this;return n.createVNode(1,"div","powered-by-logo",n.createVNode(1,"img","logo",null,1,{src:"data:image/png;base64,".concat(o)}),2,{onClick:this.onClick,title:"Powered by bpmn.io"},null,function(b){return a.node=b})}}]),b}(n.Component);c["default"]=p},{inferno:526}],455:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n="iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAADBQTFRFiMte9PrwldFwfcZPqtqN0+zEyOe1XLgjvuKncsJAZ70y6fXh3vDT////UrQV////G2zN+AAAABB0Uk5T////////////////////AOAjXRkAAAHDSURBVHjavJZJkoUgDEBJmAX8979tM8u3E6x20VlYJfFFMoL4vBDxATxZcakIOJTWSmxvKWVIkJ8jHvlRv1F2LFrVISCZI+tCtQx+XfewgVTfyY3plPiQEAzI3zWy+kR6NBhFBYeBuscJLOUuA2WVLpCjVIaFzrNQZArxAZKUQm6gsj37L9Cb7dnIBUKxENaaMJQqMpDXvSL+ktxdGRm2IsKgJGGPg7atwUG5CcFUEuSv+CwQqizTrvDTNXdMU2bMiDWZd8d7QIySWVRsb2vBBioxOFt4OinPBapL+neAb5KL5IJ8szOza2/DYoipUCx+CjO0Bpsv0V6mktNZ+k8rlABlWG0FrOpKYVo8DT3dBeLEjUBAj7moDogVii7nSS9QzZnFcOVBp1g2PyBQ3Vr5aIapN91VJy33HTJLC1iX2FY6F8gRdaAeIEfVONgtFCzZTmoLEdOjBDfsIOA6128gw3eu1shAajdZNAORxuQDJN5A5PbEG6gNIu24QJD5iNyRMZIr6bsHbCtCU/OaOaSvgkUyDMdDa1BXGf5HJ1To+/Ym6mCKT02Y+/Sa126ZKyd3jxhzpc1r8zVL6YM1Qy/kR4ABAFJ6iQUnivhAAAAAAElFTkSuQmCC",o=function(a){function b(a){var c;return e(this,b),c=h(this,i(b).call(this,a)),c.state={show:!1},c.onClick=c.onClick.bind(j(c)),c.onShow=c.onShow.bind(j(c)),c}return k(b,a),g(b,[{key:"onClick",value:function(){this.setState({show:!1})}},{key:"onShow",value:function(){this.setState({show:!0})}},{key:"componentWillMount",value:function(){var a=this._eventBus=this.context.injector.get("eventBus");a.on("poweredBy.show",this.onShow)}},{key:"componentWillUnmount",value:function(){this._eventBus.off("poweredBy.show",this.onShow)}},{key:"render",value:function(){var a=this.state.show;return a&&m.createVNode(1,"div","powered-by-overlay",m.createVNode(1,"div","powered-by-overlay-content",[m.createVNode(1,"div",null,m.createVNode(1,"img","logo",null,1,{src:"data:image/png;base64,".concat(n)}),2),m.createVNode(1,"div",null,[m.createTextVNode("Web-based tooling for BPMN, DMN and CMMN diagrams powered by "),m.createVNode(1,"a",null,m.createTextVNode("bpmn.io"),2,{href:"http://bpmn.io",target:"_blank"}),m.createTextVNode(".")],4)],4,{onClick:function(a){return a.stopPropagation()}}),2,{onClick:this.onClick})}}]),b}(m.Component);c["default"]=o},{inferno:526}],456:[function(a,b,c){arguments[4][170][0].apply(c,arguments)},{"./PoweredBy":453,dup:170}],457:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/TextareaComponent")),g=function h(a){e(this,h),a.onGetComponent("viewer",function(){return f["default"]})};c["default"]=g,g.$inject=["components"]},{"./components/TextareaComponent":459}],458:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("./components/TextareaEditorComponent")),g=function h(a){e(this,h),a.onGetComponent("viewer",function(){return f["default"]})};c["default"]=g,g.$inject=["components"]},{"./components/TextareaEditorComponent":460}],459:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(a,c){var d;return e(this,b),d=h(this,j(b).call(this,a,c)),d._viewer=c.injector.get("viewer"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this._viewer.getDecision().decisionLogic.text;return m.createVNode(1,"div","textarea",m.createVNode(1,"div","content",a,0),2)}}]),b}(m.Component);c["default"]=n},{inferno:526}],460:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("dmn-js-shared/lib/components/EditableComponent")),p=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),d._modeling=c.injector.get("modeling"),d._viewer=c.injector.get("viewer"),d.editLiteralExpressionText=d.editLiteralExpressionText.bind(k(d)),d.onElementsChanged=d.onElementsChanged.bind(k(d));var e=d.getLiteralExpression(),g=e.id;return c.changeSupport.onElementsChanged(g,d.onElementsChanged),d}return l(b,a),h(b,[{key:"getLiteralExpression",value:function(){return this._viewer.getDecision().decisionLogic}},{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"editLiteralExpressionText",value:function(a){this._modeling.editLiteralExpressionText(a)}},{key:"render",value:function(){var a=this.getLiteralExpression(),b=a.text;return n.createComponentVNode(2,q,{className:"textarea editor",value:b,onChange:this.editLiteralExpressionText})}}]),b}(n.Component);c["default"]=p;var q=function(a){function b(){return f(this,b),i(this,j(b).apply(this,arguments))}return l(b,a),h(b,[{key:"render",value:function(){return n.createVNode(1,"div",this.getClassName(),this.getEditor(),0)}}]),b}(o["default"])},{"dmn-js-shared/lib/components/EditableComponent":500,inferno:526}],461:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./TextareaEditor")),f=d(a("dmn-js-shared/lib/features/debounce-input")),g={__depends__:[f["default"]],__init__:["textarea"],textarea:["type",e["default"]]};c["default"]=g},{"./TextareaEditor":458,"dmn-js-shared/lib/features/debounce-input":508}],462:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Textarea")),f={__init__:["textarea"],textarea:["type",e["default"]]};c["default"]=f},{"./Textarea":457}],463:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a){var b=a.$parent;return b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=d(a("./components/ViewDrdComponent")),j=1500,k=function(){function a(b,c,d,f){var g=this;e(this,a),this._injector=f,this._viewer=c,b.onGetComponent("viewer",j,function(){return g.canViewDrd()?i["default"]:void 0}),d.on("showDrd",function(){var a=f.get("_parent",!1),b=g.getDefinitions(),c=a.getView(b);a.open(c)})}return g(a,[{key:"canViewDrd",value:function(){var a=this._injector.get("_parent",!1);if(a){var b=this.getDefinitions();return!!a.getView(b)}}},{key:"getDefinitions",value:function(){return h(this._viewer.getDecision())}}]),a}();c["default"]=k,k.$inject=["components","viewer","eventBus","injector"]},{"./components/ViewDrdComponent":464}],464:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=function(a){function b(a,c){var d;e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onClick",function(){d._eventBus.fire("showDrd")});var f=c.injector;return d._eventBus=f.get("eventBus"),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this;return n.createVNode(1,"div","view-drd",n.createVNode(1,"button","view-drd-button",n.createTextVNode("View DRD"),2,{onClick:this.onClick}),2,null,null,function(b){return a.node=b})}}]),b}(n.Component);c["default"]=o},{inferno:526}],465:[function(a,b,c){arguments[4][200][0].apply(c,arguments)},{"./ViewDrd":463,dup:200}],466:[function(a,b,c){arguments[4][273][0].apply(c,arguments)},{dup:273,"min-dash":734}],467:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e["default"]}});var e=d(a("./lib"))},{"./lib":485}],468:[function(a,b,c){"use strict";function d(a,b){var c=this;b=b||e,a.on("propertiesPanel.isEntryVisible",b,function(a){return c.isEntryVisible(a.entry,a.element)}),a.on("propertiesPanel.isPropertyEditable",b,function(a){return c.isPropertyEditable(a.entry,a.propertyName,a.element)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=1e3;d.$inject=["eventBus"];var f=d;c["default"]=f,d.prototype.isEntryVisible=function(a,b){return!0},d.prototype.isPropertyEditable=function(a,b,c){return!0}},{}],469:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return"checkbox"===a.type||"radio"===a.type}function f(a){return"select-one"===a.type}function g(a){return z.attr(a,"contenteditable")}function h(a){var b="input[name], textarea[name], [data-value], [contenteditable]",c=z.queryAll(b,a);return c&&c.length||!z.matches(a,b)||(c=[a]),c}function i(a,b){var c=z.queryAll("input[name], textarea[name], select[name], [contenteditable]",a);return c&&c.length||(c=z.matches(a,"option")?[a]:c),b||(c=B["default"](c,function(a){return!z.closest(a,"."+O)})),c}function j(a){var b={},c=i(a);return A["default"](c,function(a){var c=a.value,d=z.attr(a,"name")||z.attr(a,"data-name");e(a)?c=a.checked?z.attr(a,"value")?a.value:!0:null:g(a)&&(c=a.innerText),null!==c&&(b[d]=c)}),b}function k(a){var b,c=z.query("[data-list-entry-container]",a);if(c){b=[];var d=c.children||[];A["default"](d,function(a){b.push(j(a))})}else b=j(a);return b}function l(a,b){if(a&&!b)return!1;var c=D["default"](a).concat(D["default"](b));return c.every(function(c){return a[c]===b[c]})}function m(a,b){return F["default"](a)?a.length!==b.length?!1:a.every(function(a,c){return l(a,b[c])}):l(a,b)}function n(a){return J["default"](I["default"](K["default"](I["default"](K["default"](a,"groups")),"entries")),"id")}function o(a){return J["default"](I["default"](K["default"](a,"groups")),"id")}function p(a,b,c,d,e){this._commandStack=a,this._eventBus=c,this._modeling=d,this._propertiesProvider=e,this._init(b)}function q(a,b){var c,d=g(a),e=d?a.innerText:a.value;void 0===b&&(b=""),e!==b&&(document.activeElement===a&&(c=L["default"](u(a),e,b)),d?a.innerText=b:a.value=b,c&&w(a,c))}function r(a,b){void 0!==b&&(a.value=b)}function s(a,b){var c=a.value;a.checked=b===c||!z.attr(a,"value")&&b}function t(a,b){a.textContent=b}function u(a){return g(a)?v(a):{start:a.selectionStart,end:a.selectionEnd}}function v(a){var b=window.getSelection(),c=b.focusNode,d=b.focusOffset,e=b.anchorOffset;if(!c)throw new Error("not selected");if(!a.contains(c))throw new Error("not selected");return{start:Math.min(d,e),end:Math.max(d,e)}}function w(a,b){g(a)?x(a,b):(a.selectionStart=b.start,a.selectionEnd=b.end)}function x(a,b){var c,d,e;c=a.firstChild||a,d=document.createRange(),d.setStart(c,b.start),d.setEnd(c,b.end),e=window.getSelection(),e.removeAllRanges(),e.addRange(d)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var y=a("./Utils"),z=a("min-dom"),A=d(a("lodash/forEach")),B=d(a("lodash/filter")),C=d(a("lodash/get")),D=d(a("lodash/keys")),E=d(a("lodash/isEmpty")),F=d(a("lodash/isArray")),G=d(a("lodash/xor")),H=d(a("lodash/debounce")),I=d(a("lodash/flattenDeep")),J=d(a("lodash/keyBy")),K=d(a("lodash/map")),L=d(a("selection-update")),M=d(a("scroll-tabs")),N=a("dmn-js-shared/lib/util/ModelUtil"),O="dpp-hidden",P=300;p.$inject=["commandStack","config.propertiesPanel","eventBus","modeling","propertiesProvider"];var Q=p;c["default"]=Q,p.prototype._init=function(a){var b=this._eventBus,c=this;b.on(["propertiesPanel.changed","propertiesPanel.resized"],function(a){var b=z.query(".dpp-properties-tab-bar",c._container);if(b){var d=M["default"].get(b);d||(d=M["default"](b,{selectors:{tabsContainer:".dpp-properties-tabs-links",tab:".dpp-properties-tabs-links li",ignore:".dpp-hidden",active:".dpp-active"}}),d.on("scroll",function(a,b,d){var e=z.query("[data-tab-target]",a),f=z.attr(e,"data-tab-target");c.activateTab(f)})),d.update()}}),this._container=z.domify('<div class="dpp-properties-panel"></div>'),this._bindListeners(this._container),a&&a.parent&&this.attachTo(a.parent)},p.prototype.attachTo=function(a){if(!a)throw new Error("parentNode required");this.detach(),a.get&&a.constructor.prototype.jquery&&(a=a.get(0)),"string"==typeof a&&(a=z.query(a));var b=this._container;a.appendChild(b),this._emit("attach")},p.prototype.detach=function(){var a=this._container,b=a.parentNode;b&&(this._emit("detach"),b.removeChild(a))},p.prototype.activateTab=function(a){var b="string"==typeof a?a:a.id,c=this._current,d=c.panel,e=z.queryAll(".dpp-properties-tab",d),f=z.queryAll(".dpp-properties-tab-link",d);A["default"](e,function(a){var c=z.attr(a,"data-tab");z.classes(a).toggle("dpp-active",b===c)}),A["default"](f,function(a){var c=z.query("[data-tab-target]",a),d=z.attr(c,"data-tab-target");z.classes(a).toggle("dpp-active",b===d)})},p.prototype.update=function(a){var b=this._current,c=!0,d=this._propertiesProvider.getTabs(a);if(b&&b.element===a&&(c=this._entriesChanged(b,d)),c){if(b){var e,f=z.query(".dpp-properties-tab.dpp-active",b.panel);f&&(e=z.attr(f,"data-tab")),z.remove(b.panel)}this._current=this._create(a,d);
var g=!!this._current.tabs.filter(function(a){return a.id===e}).length;e&&g?this.activateTab(e):this.activateTab(this._current.tabs[0])}this._current&&this._updateActivation(this._current),this._emit("changed")},p.prototype.getCurrentElement=function(){return this._current&&this._current.element},p.prototype._entriesChanged=function(a,b){var c=D["default"](a.entries),d=D["default"](n(b));return!E["default"](G["default"](c,d))},p.prototype._emit=function(a){this._eventBus.fire("propertiesPanel."+a,{panel:this,current:this._current})},p.prototype._bindListeners=function(a){function b(a){var b=(a.clipboardData||window.clipboardData).getData("text");document.execCommand("insertText",!1,b),a.preventDefault()}function c(a,b){var c=a.delegateTarget,e=z.closest(c,"[data-entry]");if(e){var f=z.attr(c,"data-blur"),g=z.attr(e,"data-entry"),h=d.getEntry(g),i=d.executeAction(h,e,f,a);if(i){var j=k(e);d.applyChanges(h,j,e)}d.updateState(h,e)}}var d=this,e=function(a){var b,c,e=z.closest(a.delegateTarget,"[data-entry]");if(e){b=z.attr(e,"data-entry"),c=d.getEntry(b);var f=k(e);if("change"===a.type){var g=a.delegateTarget.getAttribute("data-on-change");if(g){var h=d.executeAction(c,e,g,a);if(!h)return d.update(d._current.element)}}d.applyChanges(c,f,e),d.updateState(c,e)}};z.delegate.bind(a,"input, textarea, [contenteditable]","input",H["default"](e,P)),z.delegate.bind(a,"input, textarea, select, [contenteditable]","change",e),z.delegate.bind(a,"[contenteditable]","paste",b),z.delegate.bind(a,"select","keydown",function(a){46===a.keyCode&&(a.stopPropagation(),a.preventDefault())}),z.delegate.bind(a,"[data-action]","click",function(a){var b=a.delegateTarget,c=z.closest(b,"[data-entry]"),e=z.attr(b,"data-action"),f=z.attr(c,"data-entry"),g=d.getEntry(f),h=d.executeAction(g,c,e,a);if(h){var i=k(c);d.applyChanges(g,i,c)}d.updateState(g,c)}),z.delegate.bind(a,"[data-blur]","blur",c,!0),z.delegate.bind(a,".dpp-properties-tabs-links [data-tab-target]","click",function(a){a.preventDefault();var b=a.delegateTarget,c=z.attr(b,"data-tab-target");d.activateTab(c)})},p.prototype.updateState=function(a,b){this.updateShow(a,b),this.updateDisable(a,b)},p.prototype.updateShow=function(a,b){var c=this._current;if(c){var d=z.queryAll("[data-show]",b)||[];A["default"](d,function(d){var e=z.attr(d,"data-show"),f=C["default"](a,e);if(f){var g=z.closest(d,"[data-scope]")||b,h=f(c.element,b,d,g)||!1;h?z.classes(d).remove(O):z.classes(d).add(O)}})}},p.prototype.updateDisable=function(a,b){var c=this._current;if(c){var d=z.queryAll("[data-disable]",b)||[];A["default"](d,function(d){var e=z.attr(d,"data-disable"),f=C["default"](a,e);if(f){var g=z.closest(d,"[data-scope]")||b,h=f(c.element,b,d,g)||!1;z.attr(d,"disabled",h?"":null)}})}},p.prototype.executeAction=function(a,b,c,d){var e=this._current;if(e){var f=C["default"](a,c);if(f){var g=z.closest(d.target,"[data-scope]")||b;return f.apply(a,[e.element,b,d,g])}}},p.prototype.applyChanges=function(a,b,c){var d=this._current.element;if(!m(b,a.oldValues)){var e,f=a.set(d,b,c);F["default"](f)?f.length&&(e={cmd:"properties-panel.multi-command-executor",context:I["default"](f)}):e=f,e?this._commandStack.execute(e.cmd,e.context||{element:d}):this.update(d)}},p.prototype.applyValidationErrors=function(a,b){var c=!0,d=i(b,!0);return A["default"](d,function(b){var d=z.attr(b,"name")||z.attr(b,"data-name"),e=a&&a[d],f=z.query(".dpp-error-message",b.parentNode);e?(c=!1,f||(f=z.domify("<div></div>"),z.classes(f).add("dpp-error-message"),b.parentNode.insertBefore(f,b.nextSibling)),f.textContent=e,z.classes(b).add("invalid")):(z.classes(b).remove("invalid"),f&&b.parentNode.removeChild(f))}),c},p.prototype.validate=function(a,b,c){var d=this,e=this._current,f=!0;if(c=c||z.query('[data-entry="'+a.id+'"]',e.panel),b instanceof Array)for(var g=z.query("[data-list-entry-container]",c),h=g.children||[],i=0;i<b.length;i++){var j=b[i];if(a.validateListItem){var k=a.validateListItem(e.element,j,c,i),l=h[i];f=d.applyValidationErrors(k,l)&&f}}else a.validate&&(this.validationErrors=a.validate(e.element,b,c),f=d.applyValidationErrors(this.validationErrors,c)&&f);return f},p.prototype.getEntry=function(a){return this._current&&this._current.entries[a]},p.prototype._create=function(a,b){if(!a)return null;var c=this._container,d=this._createPanel(a,b);c.appendChild(d);var e=n(b),f=o(b);return{tabs:b,groups:f,entries:e,element:a,panel:d}},p.prototype._bindTemplate=function(a,b,c,d,i){function j(b,c){return k.fire("propertiesPanel.isPropertyEditable",{entry:b,propertyName:c,element:a})}var k=this._eventBus,l=h(d);A["default"](l,function(h){var k,l,m;"value"in h||"true"===g(h)?(k=z.attr(h,"name")||z.attr(h,"data-name"),l=c[k],m=j(b,k),m&&b.editable&&(m=b.editable(a,d,h,k,l,i)),z.attr(h,"readonly",m?null:""),z.attr(h,"disabled",m?null:""),b.setControlValue?b.setControlValue(a,d,h,k,l,i):e(h)?s(h,l):f(h)?r(h,l):q(h,l)):(k=z.attr(h,"data-value"),l=c[k],b.setControlValue?b.setControlValue(a,d,h,k,l,i):t(h,l))})},p.prototype._updateActivation=function(a){function b(a){return i.fire("propertiesPanel.isEntryVisible",{entry:a,element:j})}function c(a,b,c){return"function"==typeof a.enabled?a.enabled(b,c):!0}function d(a,b){return"function"==typeof a.enabled?a.enabled(b):!0}function e(a,b){z.classes(a).toggle(O,!b)}function f(b,c){var d=z.classes(b).has("dpp-active");!c&&d&&h.activateTab(a.tabs[0])}function g(a,b,c){var d=z.query(b,a);d&&(d.textContent=c)}var h=this,i=this._eventBus,j=a.element,l=a.panel;A["default"](a.tabs,function(a){var i=z.query("[data-tab="+a.id+"]",l),m=z.query("[data-tab-target="+a.id+"]",l).parentNode,n=!1;A["default"](a.groups,function(a){var d=!1,f=z.query("[data-group="+a.id+"]",i);A["default"](a.entries,function(a){var c=z.query('[data-entry="'+a.id+'"]',f),g=b(a);d=d||g,e(c,g);var i="get"in a?a.get(j,c):{};if(i instanceof Array){for(var l=z.query("[data-list-entry-container]",c),m=l.children||[],n=0;n<i.length;n++){var o=i[n],p=m[n];p||(p=z.domify(a.createListEntryTemplate(o,n,l)),l.appendChild(p)),z.attr(p,"data-index",n),h._bindTemplate(j,a,o,p,n)}for(var q=m.length-i.length,r=0;q>r;r++)l.removeChild(l.lastChild)}else h._bindTemplate(j,a,i,c);h.updateState(a,c),h.validate(a,i,c),a.oldValues=k(c)}),"function"==typeof a.label&&g(f,".group-label",a.label(j,f)),d=d&&c(a,j,f),n=n||d,e(f,d)}),n=n&&d(a,j),e(i,n),e(m,n),f(i,n)}),g(l,"[data-label-id]",N.getBusinessObject(j).id||"")},p.prototype._createPanel=function(a,b){var c=this,d=z.domify('<div class="dpp-properties"></div>'),e=z.domify('<div class="dpp-properties-header"><div class="label" data-label-id></div><div class="search"><input type="search" placeholder="Search for property" /><button><span>Search</span></button></div></div>'),f=z.domify('<div class="dpp-properties-tab-bar"></div>'),g=z.domify('<ul class="dpp-properties-tabs-links"></ul>'),h=z.domify('<div class="dpp-properties-tabs-container"></div>');return d.appendChild(e),A["default"](b,function(a,b){if(!a.id)throw new Error("tab must have an id");var d=z.domify('<div class="dpp-properties-tab" data-tab="'+y.escapeHTML(a.id)+'"></div>'),e=z.domify('<li class="dpp-properties-tab-link"><a href data-tab-target="'+y.escapeHTML(a.id)+'">'+y.escapeHTML(a.label)+"</a></li>"),f=a.groups;A["default"](f,function(a){if(!a.id)throw new Error("group must have an id");var b=z.domify('<div class="dpp-properties-group" data-group="'+a.id+'"><span class="group-toggle"></span><span class="group-label">'+a.label+"</span></div>");b.querySelector(".group-toggle").addEventListener("click",function(a){z.classes(b).toggle("group-closed"),a.preventDefault(),a.stopPropagation()}),b.addEventListener("click",function(a){!a.defaultPrevented&&z.classes(b).has("group-closed")&&z.classes(b).remove("group-closed")}),A["default"](a.entries,function(a){if(!a.id)throw new Error("entry must have an id");var d=a.html;"string"==typeof d&&(d=z.domify(d)),d.get&&d.constructor.prototype.jquery&&(d=d.get(0));var e=z.domify('<div class="dpp-properties-entry" data-entry="'+y.escapeHTML(a.id)+'"></div>');A["default"](a.cssClasses||[],function(a){z.classes(e).add(a)}),e.appendChild(d),b.appendChild(e),c.updateState(a,e)}),d.appendChild(b)}),g.appendChild(e),h.appendChild(d)}),f.appendChild(g),d.appendChild(f),d.appendChild(h),d}},{"./Utils":470,"dmn-js-shared/lib/util/ModelUtil":515,"lodash/debounce":696,"lodash/filter":698,"lodash/flattenDeep":701,"lodash/forEach":702,"lodash/get":703,"lodash/isArray":707,"lodash/isEmpty":711,"lodash/keyBy":718,"lodash/keys":719,"lodash/map":720,"lodash/xor":733,"min-dom":735,"scroll-tabs":744,"selection-update":746}],470:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return a.selectedIndex>=0?a.options[a.selectedIndex].value:void 0}function f(a,b){var c=w.query(a,b);return e(c)}function g(a){for(var b=a;b.$parent;)b=b.$parent;return b}function h(a,b){var c=a||[],d=[];return u["default"](c,function(a){t.is(a,b)&&d.push(a)}),d}function i(a,b){var c=g(a);return h(c.rootElements,b)}function j(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function k(a){return a.push({label:"",value:"",name:""})}function l(a,b){var c=[],d=i(a,b);return u["default"](d,function(a){c.push({label:(a.name||"")+" (id="+a.id+")",value:a.id,name:a.name})}),c}function m(a,b,c,d){var e=l(b,c);k(e);var f=w.query(a,d);return w.clear(f),u["default"](e,function(a){var b=w.domify('<option value="'+s(a.value)+'">'+s(a.label)+"</option>");f.appendChild(b)}),e}function n(a,b,c){var d=a.$model.ids.assigned(b),e=d&&d!==a;return!b||e?c("Element must have an unique id."):o(b,c)}function o(a,b){return p(a)?b("Id must not contain spaces."):z.test(a)?void 0:b(y.test(a)?"Id must not contain prefix.":"Id must be a valid QName.")}function p(a){return x.test(a)}function q(a){var b=new v["default"]([32,32,1]);return b.nextPrefixed(a)}function r(a){var b,c="click";if(document.createEvent){try{b=new MouseEvent(c,{view:window,bubbles:!0,cancelable:!0})}catch(d){b=document.createEvent("MouseEvent"),b.initEvent(c,!0,!0)}return a.dispatchEvent(b)}return b=document.createEventObject(),a.fireEvent("on"+c,b)}function s(a){return a=""+a,a&&a.replace(/[&<>"']/g,function(a){return A[a]})}Object.defineProperty(c,"__esModule",{value:!0}),c.selectedOption=e,c.selectedType=f,c.getRoot=g,c.filterElementsByType=h,c.findRootElementsByType=i,c.removeAllChildren=j,c.addEmptyParameter=k,c.refreshOptionsModel=l,c.updateOptionsDropDown=m,c.isIdValid=n,c.validateId=o,c.containsSpace=p,c.nextId=q,c.triggerClickEvent=r,c.escapeHTML=s;var t=a("dmn-js-shared/lib/util/ModelUtil"),u=d(a("lodash/forEach")),v=d(a("ids")),w=a("min-dom"),x=/\s/,y=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,z=/^[a-z_][\w-.]*$/i,A={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}},{"dmn-js-shared/lib/util/ModelUtil":515,ids:524,"lodash/forEach":702,"min-dom":735}],471:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){this._elementRegistry=a}function f(a){for(var b=a;b.$parent;)b=b.$parent;return b}function g(a,b){return i["default"](b,function(b,c){return b[c]=a.get(c),b},{})}function h(a,b){k["default"](b,function(b,c){a.set(c,b)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=d(a("lodash/reduce")),j=d(a("lodash/keys")),k=d(a("lodash/forEach")),l=a("dmn-js-shared/lib/util/ModelUtil");e.$inject=["elementRegistry"];var m=e;c["default"]=m,e.prototype.execute=function(a){var b=a.element,c=a.businessObject,d=f(c).rootElements,e=a.referenceType,i=a.referenceProperty,m=[b];if(!b)throw new Error("element required");if(!c)throw new Error("businessObject required");var n=a.properties,o=a.oldProperties||g(c,j["default"](n));return"undefined"!=typeof e&&"undefined"!=typeof i&&k["default"](d,function(a){l.is(a,e)&&a.id===n[i]&&(n[i]=a)}),h(c,n),a.oldProperties=o,a.changed=m,m},e.prototype.revert=function(a){var b=a.oldProperties,c=a.businessObject;return h(c,b),a.changed}},{"dmn-js-shared/lib/util/ModelUtil":515,"lodash/forEach":702,"lodash/keys":719,"lodash/reduce":725}],472:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){a.on("diagram.init",function(){f["default"](h,function(a,c){b.registerHandler(c,a)})})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(a("lodash/forEach")),g=d(a("./UpdateBusinessObjectHandler")),h={"properties-panel.update-businessobject":g["default"]};e.$inject=["eventBus","commandStack"];var i={__init__:[e]};c["default"]=i},{"./UpdateBusinessObjectHandler":471,"lodash/forEach":702}],473:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("../Utils"),f=a("dmn-js-shared/lib/util/ModelUtil"),g=d(a("../helper/CmdHelper")),h=d(a("./EntryFieldDescription")),i=function(a,b){var c=b,d=a.label||c.id,i=!!a.disabled&&"function"==typeof a.disabled,j=!!a.hidden&&"function"==typeof a.hidden,k=a.description;return c.html='<input id="pangu-'+e.escapeHTML(c.id)+'" type="checkbox" name="'+e.escapeHTML(a.modelProperty)+'" '+(i?'data-disable="isDisabled"':"")+(j?'data-show="isHidden"':"")+' /><label for="pangu-'+e.escapeHTML(c.id)+'" '+(i?'data-disable="isDisabled"':"")+(j?'data-show="isHidden"':"")+">"+e.escapeHTML(d)+"</label>",k&&(c.html+=h["default"](k)),c.get=function(b){var c=f.getBusinessObject(b),d={};return d[a.modelProperty]=c.get(a.modelProperty),d},c.set=function(b,c){var d={};return d[a.modelProperty]=!!c[a.modelProperty],g["default"].updateProperties(b,d)},"function"==typeof a.set&&(c.set=a.set),"function"==typeof a.get&&(c.get=a.get),i&&(c.isDisabled=function(){return a.disabled.apply(c,arguments)}),j&&(c.isHidden=function(){return!a.hidden.apply(c,arguments)}),c.cssClasses=["dpp-checkbox"],c},j=i;c["default"]=j},{"../Utils":470,"../helper/CmdHelper":484,"./EntryFieldDescription":476,"dmn-js-shared/lib/util/ModelUtil":515}],474:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("../Utils"),f=d(a("lodash/assign")),g=d(a("lodash/find")),h=a("min-dom"),i=d(a("./SelectEntryFactory")),j=d(a("./EntryFieldDescription")),k=function(a){var b=a.selectOptions,c=a.modelProperty,d=a.customValue||"custom",k=a.customName||"custom "+c,l=a.description,m=function(a){if("undefined"==typeof a[c])return!1;var d=!g["default"](b,function(b){return a[c]===b.value});return d},n=f["default"]({},a);n.showCustomInput=function(b,c){var e=h.query('[data-entry="'+a.id+'"] select',c.parentNode);return e?e.value===d:!1},n.get=function(b,e){var f=a.get(b,e),g={};return m(f)?(g[c]=d,g["custom-"+c]=f[c],g):(g[c]=f[c]||"",g)},n.set=function(b,e,f){var g={};return e[c]===d?g[c]=e["custom-"+c]||"":a.emptyParameter&&""===e[c]?g[c]=void 0:g[c]=e[c],a.set(b,g,f)},n.selectOptions.push({name:k,value:d});var o=f["default"]({},i["default"](n,n));return o.html+='<div class="dpp-field-wrapper dpp-combo-input" data-show="showCustomInput"><input id="pangu-'+e.escapeHTML(a.id)+'-input" type="text" name="custom-'+e.escapeHTML(c)+'"  /></div>',l&&(o.html+=j["default"](l)),o},l=k;c["default"]=l},{"../Utils":470,"./EntryFieldDescription":476,"./SelectEntryFactory":479,"lodash/assign":693,"lodash/find":699,"min-dom":735}],475:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){if(!a)throw new Error(a+" must be set.");return a}function f(){}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("dmn-js-shared/lib/util/ModelUtil"),h=d(a("./TextInputEntryFactory")),i=d(a("./CheckboxEntryFactory")),j=d(a("./SelectEntryFactory")),k=d(a("./ComboEntryFactory")),l=d(a("./TextBoxEntryFactory")),m=d(a("./ValidationAwareTextInput")),n=d(a("./TableEntryFactory")),o=d(a("./LabelFactory")),p=d(a("./LinkEntryFactory")),q=d(a("../helper/CmdHelper")),r=function(a){var b=function(b){var c=g.getBusinessObject(b),d={},f=e(a.modelProperty);return d[f]=c.get(f),d},c=function(b,c){var d={},f=e(a.modelProperty);return""!==c[f]?d[f]=c[f]:d[f]=void 0,q["default"].updateProperties(b,d)},d=function(){return{}};return{id:a.id,description:a.description||"",get:a.get||b,set:a.set||c,validate:a.validate||d,html:""}};f.textField=function(a){return h["default"](a,r(a))},f.validationAwareTextField=function(a){return m["default"](a,r(a))},f.checkbox=function(a){return i["default"](a,r(a))},f.textBox=function(a){return l["default"](a,r(a))},f.selectBox=function(a){return j["default"](a,r(a))},f.comboBox=function(a){return k["default"](a)},f.table=function(a){return n["default"](a)},f.label=function(a){return o["default"](a)},f.link=function(a){return p["default"](a)};var s=f;c["default"]=s},{"../helper/CmdHelper":484,"./CheckboxEntryFactory":473,"./ComboEntryFactory":474,"./LabelFactory":477,"./LinkEntryFactory":478,"./SelectEntryFactory":479,"./TableEntryFactory":480,"./TextBoxEntryFactory":481,"./TextInputEntryFactory":482,"./ValidationAwareTextInput":483,"dmn-js-shared/lib/util/ModelUtil":515}],476:[function(a,b,c){"use strict";function d(a){for(var b,c,d,f=[],g=/(?:\[([^\]]+)\]\((https?:\/\/[^)]+)\))|(?:<a href="(https?:\/\/[^"]+)">(.+?(?=<\/))<\/a>)/gi,h=0;b=g.exec(a);)b.index>h&&f.push(e(a.substring(h,b.index))),c=b[2]&&encodeURI(b[2])||b[3],d=b[1]||b[4],f.push('<a href="'+c+'" target="_blank">'+e(d)+"</a>"),h=b.index+b[0].length;return h<a.length&&f.push(e(a.substring(h))),'<div class="dpp-field-description">'+f.join("")+"</div>"}function e(a){for(var b,c=0,d=[],e=/<br\s*\/?>/gi;b=e.exec(a);)b.index>c&&d.push(f.escapeHTML(a.substring(c,b.index))),d.push("<br />"),c=b.index+b[0].length;return c<a.length&&d.push(f.escapeHTML(a.substring(c))),d.join("")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var f=a("../Utils")},{"../Utils":470}],477:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var d=function(a){return{id:a.id,html:'<label data-value="label" data-show="showLabel" class="entry-label'+(a.divider?" divider":"")+'"></label>',get:function(b,c){return"function"==typeof a.get?a.get(b,c):{label:a.labelText}},showLabel:function(b,c){return"function"==typeof a.showLabel?a.showLabel(b,c):!0}}},e=d;c["default"]=e},{}],478:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){var b=a.id,c=a.label||b,d=a.showLink,e=a.handleClick,i=a.description;if(d&&"function"!=typeof d)throw new Error("options.showLink must be a function");if("function"!=typeof e)throw new Error("options.handleClick must be a function");var j={id:b};return j.html='<a data-action="handleClick" '+(d?'data-show="showLink" ':"")+'class="dpp-entry-link'+(a.cssClasses?" "+f.escapeHTML(a.cssClasses):"")+'">'+f.escapeHTML(c)+"</a>",i&&(j.html+=g["default"](i)),j.handleClick=h["default"](e,j),"function"==typeof d&&(j.showLink=function(){return d.apply(j,arguments)}),j}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=a("../Utils"),g=d(a("./EntryFieldDescription")),h=d(a("lodash/bind")),i=e;c["default"]=i},{"../Utils":470,"./EntryFieldDescription":476,"lodash/bind":694}],479:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("../Utils"),f=a("min-dom"),g=d(a("lodash/forEach")),h=d(a("./EntryFieldDescription")),i=function(a){return!(!a||"[object Array]"!==Object.prototype.toString.call(a))},j=function(a){return a.concat([{name:"",value:""}])},k=function(a){return'<option value="'+e.escapeHTML(a.value)+'">'+e.escapeHTML(a.name)+"</option>"},l=function(a,b){var c=b,d=a.label||c.id,l=a.selectOptions||[{name:"",value:""}],m=a.modelProperty,n=a.emptyParameter,o=!!a.disabled&&"function"==typeof a.disabled,p=!!a.hidden&&"function"==typeof a.hidden,q=a.description;return n&&(l=j(l)),c.html='<label for="pangu-'+e.escapeHTML(c.id)+'"'+(o?'data-disable="isDisabled" ':"")+(p?'data-show="isHidden" ':"")+">"+d+'</label><select id="pangu-'+e.escapeHTML(c.id)+'-select" name="'+e.escapeHTML(m)+'"'+(o?'data-disable="isDisabled" ':"")+(p?'data-show="isHidden" ':"")+" data-value>",i(l)&&g["default"](l,function(a){c.html+='<option value="'+e.escapeHTML(a.value)+'">'+(a.name?e.escapeHTML(a.name):"")+"</option>"}),c.html+="</select>",q&&"function"!=typeof a.showCustomInput&&(c.html+=h["default"](q)),c.setControlValue=function(a,b,c,d,e){if("function"==typeof l){var h=l(a,c);if(h){for(;c.firstChild;)c.removeChild(c.firstChild);g["default"](h,function(a){var b=f.domify(k(a));c.appendChild(b)})}}void 0!==e&&(c.value=e)},o&&(c.isDisabled=function(){return a.disabled.apply(c,arguments)}),p&&(c.isHidden=function(){return!a.hidden.apply(c,arguments)}),c.cssClasses=["dpp-dropdown"],c},m=l;c["default"]=m},{"../Utils":470,"./EntryFieldDescription":476,"lodash/forEach":702,"min-dom":735}],480:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=y;return c+=f(a,b),c+=b?z:"",c+="</div>"}function f(a,b){var c=a.length,d="";return u["default"](a,function(a){d+='<input class="dpp-table-row-columns-'+c+" "+(b?"dpp-table-row-removable":"")+'" id="pangu-table-row-cell-input-value" type="text" name="'+r.escapeHTML(a)+'" />'}),d}function g(a){var b=y;return b+=h(a),b+="</div>"}function h(a){var b=a.length,c="";return u["default"](a,function(a){c+='<label class="dpp-table-row-columns-'+b+'">'+r.escapeHTML(a)+"</label>"}),c}function i(a,b){return(a||[]).map(function(a){var c={};return u["default"](b,function(b){c[b]=a[b]||""}),c})}function j(a,b,c,d,e){return t["default"](c,function(c,f){return!k(a,b,c,d[f],e,f)})}function k(a,b,c,d,e,f){if(c&&!d)return!1;var g=v["default"](c).concat(v["default"](d));return g.every(function(g){var h=c[g]||void 0,i=d[g]||void 0;return!e(a,b,g,f)||h===i})}function l(a){return s.closest(a,"[data-entry]",!0)}function m(a){return s.query("div[data-list-entry-container]",a)}function n(a){return{start:a.selectionStart,end:a.selectionEnd}}function o(a,b){a.selectionStart=b.start,a.selectionEnd=b.end}function p(a){var b=a.id,c=a.modelProperties,d=a.labels,f=a.description,h=g(d),k=a.getElements,p=a.removeElement,t="function"==typeof p,v=a.addElement,y="function"==typeof v,z=a.addLabel||"Add Value",A=a.updateElement,B="function"==typeof A,C=a.editable||function(){return!0},D=a.setControlValue,E=a.show,F="function"==typeof E,G=function(a,b){return i(k(a,b),c)},H={id:b,html:(y?'<div class="dpp-table-add-row" '+(F?'data-show="show"':"")+"><label>"+r.escapeHTML(z)+'</label><button class="add" data-action="addElement"><span>+</span></button></div>':"")+'<div class="dpp-table" data-show="showTable"><div class="dpp-field-wrapper dpp-table-row">'+h+"</div><div data-list-entry-container></div></div>"+(f?w["default"](f):""),get:function(a,b){var d=G(a,b,this.__invalidValues),e=this.__invalidValues;return delete this.__invalidValues,u["default"](e,function(a,b){var e=d[b];u["default"](c,function(b){e[b]=a[b]})}),d},set:function(b,c,d){var e=this.__action||{};if(delete this.__action,"delete-element"===e.id)return p(b,d,e.idx);if("add-element"===e.id)return v(b,d);if(B){var f=[],g=c;"function"!=typeof a.validate&&(g=j(b,d,c,G(b,d),C));var h=this;return u["default"](g,function(e){var g,i=c.indexOf(e);if("function"==typeof a.validate&&(g=a.validate(b,e,d,i)),g)h.__invalidValues=h.__invalidValues||{},h.__invalidValues[i]=e,f.push(q["default"].updateProperties(b,{}));else{var j=A(b,e,d,i);j&&f.push(j)}}),f}},createListEntryTemplate:function(a,b,d){return e(c,t)},addElement:function(a,b,d,f){var g=s.domify(e(c,t)),h=m(b);return h.appendChild(g),this.__action={id:"add-element"},!0},deleteElement:function(a,b,c,d){var e=m(b),f=c.delegateTarget.parentNode,g=parseInt(s.attr(f,"data-index"),10);return e.removeChild(f),this.__action={id:"delete-element",idx:g},!0},editable:function(a,b,c,d,e,f){var g=s.closest(b,"[data-entry]");return C(a,g,d,f)},show:function(a,b,c,d){return b=l(b),E(a,b,c,d)},showTable:function(a,b,c,d){b=l(b);var e=G(a,b);return e&&e.length&&(!F||E(a,b,c,d))},validateListItem:function(b,c,d,e){return"function"==typeof a.validate?a.validate(b,c,d,e):void 0}};return D&&(H.setControlValue=function(a,b,c,d,e,f){var g,h=l(b),i=s.attr(c,"readonly"),j=c.value;void 0===e&&(e=""),i&&j===e||(document.activeElement===c&&(g=x["default"](n(c),j,e)),D(a,h,c,d,e,f),g&&o(c,g))}),H}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=p;var q=d(a("../helper/CmdHelper")),r=a("../Utils"),s=a("min-dom"),t=d(a("lodash/filter")),u=d(a("lodash/forEach")),v=d(a("lodash/keys")),w=d(a("./EntryFieldDescription")),x=d(a("selection-update")),y='<div class="dpp-field-wrapper dpp-table-row">',z='<button class="clear" data-action="deleteElement"><span>X</span></button>'},{"../Utils":470,"../helper/CmdHelper":484,"./EntryFieldDescription":476,"lodash/filter":698,"lodash/forEach":702,"lodash/keys":719,"min-dom":735,"selection-update":746}],481:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("../Utils"),f=d(a("./EntryFieldDescription")),g=function(a,b){var c=b,d=a.label||c.id,g=!!a.show&&"function"==typeof a.show,h=a.description;return c.html='<label for="pangu-'+c.id+'" '+(g?'data-show="isShown"':"")+">"+e.escapeHTML(d)+'</label><div class="dpp-field-wrapper" '+(g?'data-show="isShown"':"")+'><div contenteditable="true" id="pangu-'+e.escapeHTML(c.id)+'" name="'+e.escapeHTML(a.modelProperty)+'" /></div>',h&&(c.html+=f["default"](h)),g&&(c.isShown=function(){return a.show.apply(c,arguments)}),c.cssClasses=["dpp-textbox"],c},h=g;c["default"]=h},{"../Utils":470,"./EntryFieldDescription":476}],482:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=a("../Utils"),f=a("min-dom"),g=d(a("./EntryFieldDescription")),h=function(a,b){var c=function(b,c){var d=f.query('input[name="'+a.modelProperty+'"]',c);return d.value="",!0},d=function(b,c){var d=f.query('input[name="'+a.modelProperty+'"]',c);return""!==d.value},h=b,i=a.label||h.id,j=a.dataValueLabel,k=a.buttonLabel||"X",l="undefined"!=typeof a.buttonAction?a.buttonAction.name:"clear",m="undefined"!=typeof a.buttonAction?a.buttonAction.method:c,n="undefined"!=typeof a.buttonShow?a.buttonShow.name:"canClear",o="undefined"!=typeof a.buttonShow?a.buttonShow.method:d,p=!!a.disabled&&"function"==typeof a.disabled,q=!!a.hidden&&"function"==typeof a.hidden,r=a.description;return h.html='<label for="pangu-'+e.escapeHTML(h.id)+'" '+(p?'data-disable="isDisabled" ':"")+(q?'data-show="isHidden" ':"")+(j?'data-value="'+e.escapeHTML(j)+'"':"")+">"+e.escapeHTML(i)+'</label><div class="dpp-field-wrapper" '+(p?'data-disable="isDisabled"':"")+(q?'data-show="isHidden"':"")+'><input id="pangu-'+e.escapeHTML(h.id)+'" type="text" name="'+e.escapeHTML(a.modelProperty)+'" '+(p?'data-disable="isDisabled"':"")+(q?'data-show="isHidden"':"")+' /><button class="'+e.escapeHTML(l)+'" data-action="'+e.escapeHTML(l)+'" data-show="'+e.escapeHTML(n)+'" '+(p?'data-disable="isDisabled"':"")+(q?' data-show="isHidden"':"")+"><span>"+e.escapeHTML(k)+"</span></button></div>",r&&(h.html+=g["default"](r)),h[l]=m,h[n]=o,p&&(h.isDisabled=function(){return a.disabled.apply(h,arguments)}),q&&(h.isHidden=function(){return!a.hidden.apply(h,arguments)}),h.cssClasses=["dpp-textfield"],h},i=h;c["default"]=i},{"../Utils":470,"./EntryFieldDescription":476,"min-dom":735}],483:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./TextInputEntryFactory")),f=function(a,b){var c=a.modelProperty;b.get=function(b,d){var e=this.__lastInvalidValue;delete this.__lastInvalidValue;var f={};return f[c]=void 0!==e?e:a.getProperty(b,d),f},b.set=function(b,e,f){var g=d.apply(this,[b,e,f]),h=e[c];if(g&&g[c])return this.__lastInvalidValue=h,a.setProperty(b,{},f);var i={};return i[c]=h,a.setProperty(b,i,f)};var d=b.validate=function(b,d,e){var f=d[c]||this.__lastInvalidValue,g={};return g[c]=f,a.validate(b,g,e)};return e["default"](a,b)},g=f;c["default"]=g},{"./TextInputEntryFactory":482}],484:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var d={},e=d;c["default"]=e,d.updateProperties=function(a,b){return{cmd:"element.updateProperties",context:{element:a,properties:b}}}},{}],485:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./cmd")),f=d(a("diagram-js/lib/i18n/translate")),g=d(a("./PropertiesPanel")),h={__depends__:[e["default"],f["default"]],__init__:["propertiesPanel"],propertiesPanel:["type",g["default"]]};c["default"]=h},{"./PropertiesPanel":469,"./cmd":472,"diagram-js/lib/i18n/translate":67}],486:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c={id:"general",label:b("General"),entries:[]};return i["default"](c,a,b),j["default"](c,a,b),[c]}function f(a,b){h["default"].call(this,a),this.getTabs=function(a){var c={id:"general",label:b("General"),groups:e(a,b)};return[c]}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=d(a("inherits")),h=d(a("../../PropertiesActivator")),i=d(a("./parts/IdProps")),j=d(a("./parts/NameProps"));f.$inject=["eventBus","translate"],g["default"](f,h["default"]);var k=f;c["default"]=k},{"../../PropertiesActivator":468,"./parts/IdProps":488,"./parts/NameProps":489,inherits:527}],487:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DmnPropertiesProvider")),f={__init__:["propertiesProvider"],propertiesProvider:["type",e["default"]]};c["default"]=f},{"./DmnPropertiesProvider":486}],488:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c,d){var e=d&&d.description;a.entries.push(f["default"].validationAwareTextField({id:"id",label:c("Id"),description:e&&c(e),modelProperty:"id",getProperty:function(a){return g.getBusinessObject(a).id},setProperty:function(a,b){return i["default"].updateProperties(a,b)},validate:function(a,b){var d=b.id,e=g.getBusinessObject(a),f=h.isIdValid(e,d,c);return f?{id:f}:{}}}))}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("../../../factory/EntryFactory")),g=a("dmn-js-shared/lib/util/ModelUtil"),h=a("../../../Utils"),i=d(a("../../../helper/CmdHelper"))},{"../../../Utils":470,"../../../factory/EntryFactory":475,"../../../helper/CmdHelper":484,"dmn-js-shared/lib/util/ModelUtil":515}],489:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b,c){g.isAny(b,["dmn:DRGElement","dmn:Definitions"])&&(a.entries=a.entries.concat(f["default"](b,c)))}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("./implementation/Name")),g=a("dmn-js-shared/lib/util/ModelUtil")},{"./implementation/Name":490,"dmn-js-shared/lib/util/ModelUtil":515}],490:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c="name",d=b("Name"),e="name",g=f["default"].textBox({id:c,label:d,modelProperty:e});return[g]}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("../../../../factory/EntryFactory"))},{"../../../../factory/EntryFactory":475}],491:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,
d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b,c){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){var d=l(a,b);if(d){var e=Object.getOwnPropertyDescriptor(d,b);return e.get?e.get.call(c):e.value}})(a,b,c||a)}function l(a,b){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=m(a),null!==a););return a}function m(a){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function n(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&o(a,b)}function o(a,b){return(o=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var p=d(a("./Manager")),q=d(a("ids")),r=a("../util/ModelUtil"),s=function(a){function b(){return f(this,b),i(this,m(b).apply(this,arguments))}return n(b,a),h(b,[{key:"_init",value:function(a){var c=this;k(m(b.prototype),"_init",this).call(this,a),this.on("import.parse.complete",function(a){a.error||c._collectIds(a.definitions,a.context)}),this.on("destroy",function(){c._moddle.ids.clear()}),this.on("viewer.created",function(a){var b=a.viewer;b.on("elements.changed",function(a){var b=a.elements,d=b.some(function(a){return r.isAny(a,["dmn:Decision","dmn:Definitions"])});d&&c._updateViews()})})}},{key:"_collectIds",value:function(a,b){var c,d=a.$model,e=d.ids;e.clear();for(c in b.elementsById)e.claim(c,b.elementsById[c])}},{key:"_createModdle",value:function(a){var c=k(m(b.prototype),"_createModdle",this).call(this,a);return c.ids=new q["default"]([32,36,1]),c}}]),b}(p["default"]);c["default"]=s},{"../util/ModelUtil":515,"./Manager":492,ids:518}],492:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e(c,!0).forEach(function(b){o(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function g(a){return j(a)||i(a)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function j(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function k(a){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function l(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function m(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function n(a,b,c){return b&&m(a.prototype,b),c&&m(a,c),a}function o(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function p(){}function q(a){return a+(A.isNumber(a)?"px":"")}function r(a,b){if("failed to parse document as <dmn:Definitions>"!==a.message)return null;var c=-1!==b.indexOf('"http://www.omg.org/spec/DMN/20151101/dmn.xsd"')&&"1.1"||-1!==b.indexOf('"http://www.omg.org/spec/DMN/20180521/MODEL/"')&&"1.2";return c?(a=new Error("unsupported DMN "+c+" file detected; only DMN 1.3 files can be opened"),console.error("Cannot open what looks like a DMN "+c+" diagram. Please refer to https://bpmn.io/l/dmn-compatibility.html to learn how to make the toolkit compatible with older DMN files",a),a):null}function s(a){var b=/unparsable content <([^>]+)> detected([\s\S]*)$/,c=b.exec(a.message);return c?(a.message="unparsable content <"+c[1]+"> detected; this may indicate an invalid DMN 1.3 diagram file"+c[2],a):null}function t(a,b){return a.filter(b)[0]}function u(a,b){return"undefined"==typeof a?"undefined"==typeof b?!0:!1:"undefined"==typeof b?!1:a.element===b.element||a.element.id===b.element.id}function v(a,b){"function"==typeof a[b]&&a[b]()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var w=d(a("diagram-js/lib/core/EventBus")),x=d(a("dmn-moddle")),y=d(a("../../../../app/pangu.json")),z=a("min-dom"),A=a("min-dash"),B={width:"100%",height:"100%",position:"relative"},C=function(){function a(){var b=this,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,a),o(this,"_viewsChanged",function(){b._emit("views.changed",{views:b._views,activeView:b._activeView})}),this._eventBus=new w["default"],this._viewsChanged=A.debounce(this._viewsChanged,0),this._views=[],this._viewers={},this._init(c)}return n(a,[{key:"importXML",value:function(a,b,c){var d=this;"object"!==k(b)&&(c=b,b={open:!0}),"function"!=typeof c&&(c=p),a=this._emit("import.parse.start",{xml:a})||a,this._moddle.fromXML(a,"dmn:Definitions",function(e,f,g){f=d._emit("import.parse.complete",{error:e,definitions:f,context:g})||f;var h=g.warnings;if(d._setDefinitions(f),e&&(e=r(e,a)||s(e)||e),e||!b.open)return d._emit("import.done",{error:e,warmings:h}),c(e,h);var i=d._activeView||d._getInitialView(d._views);return i?void d.open(i,function(a,b){var e=[].concat(h,b||[]);d._emit("import.done",{error:a,warnings:e}),c(a,e)}):c(new Error("no displayable contents"))})}},{key:"getDefinitions",value:function(){return this._definitions}},{key:"getActiveView",value:function(){return this._activeView}},{key:"getActiveViewer",value:function(){var a=this.getActiveView();return a&&this._getViewer(a)}},{key:"getView",value:function(a){return this._views.filter(function(b){return b.element===a})[0]}},{key:"getViews",value:function(){return this._views}},{key:"saveXML",value:function(a,b){var c=this;"function"==typeof a&&(b=a,a={});var d=this._definitions;return d?(d=this._emit("saveXML.start",{definitions:d})||d,void this._moddle.toXML(d,a,function(a,d){try{d=c._emit("saveXML.serialized",{error:a,xml:d})||d,c._emit("saveXML.done",{error:a,xml:d})}catch(e){console.error("error in saveXML life-cycle listener",e)}b(a,d)})):b(new Error("no definitions loaded"))}},{key:"on",value:function(){var a;(a=this._eventBus).on.apply(a,arguments)}},{key:"off",value:function(){var a;(a=this._eventBus).off.apply(a,arguments)}},{key:"once",value:function(){var a;(a=this._eventBus).once.apply(a,arguments)}},{key:"attachTo",value:function(a){a.get&&a.constructor.prototype.jquery&&(a=a.get(0)),"string"==typeof a&&(a=z.query(a)),a.appendChild(this._container),this._emit("attach",{})}},{key:"detach",value:function(){this._emit("detach",{}),z.remove(this._container)}},{key:"destroy",value:function(){var a=this;Object.keys(this._viewers).forEach(function(b){var c=a._viewers[b];v(c,"destroy")}),z.remove(this._container)}},{key:"_init",value:function(a){this._options=a,this._moddle=this._createModdle(a),this._viewers={},this._views=[];var b=z.domify('<div class="dmn-js-parent"></div>'),c=A.assign({},B,a);A.assign(b.style,{width:q(c.width),height:q(c.height),position:c.position}),this._container=b,a.container&&this.attachTo(a.container)}},{key:"open",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;this._switchView(a,b)}},{key:"_setDefinitions",value:function(a){this._definitions=a,this._updateViews()}},{key:"_updateViews",value:function(){var a=this._definitions;if(!a)return this._views=[],void this._switchView(null);var b=this._getViewProviders(),c=[a].concat(g(a.drgElement||[]));this._views=c.reduce(function(a,c){var d=t(b,function(a){return"string"==typeof a.opens?a.opens===c.$type:a.opens(c)});if(!d)return a;var e={element:c,type:d.id};return[].concat(g(a),[e])},[]);var d,e=this._activeView;if(e){if(d=t(this._views,function(a){return u(e,a)})||this._getInitialView(this._views),!u(e,d))return this._switchView(null);this._activeView=d}this._viewsChanged()}},{key:"_getInitialView",value:function(a){return a[0]}},{key:"_switchView",value:function(a){var b,c=this,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,e=function(a,b){c._viewsChanged(),d(a,b)},f=this.getActiveView(),g=a&&this._getViewer(a),h=a&&a.element;return f&&(b=this._getViewer(f),b!==g&&(v(b,"clear"),b.detach())),this._activeView=a,g?(b!==g&&g.attachTo(this._container),this._emit("import.render.start",{view:a,element:h}),g.open(h,function(b,d){c._emit("import.render.complete",{view:a,error:b,warnings:d}),e(b,d)})):void e()}},{key:"_getViewer",value:function(a){var b=a.type,c=this._viewers[b];return c||(c=this._viewers[b]=this._createViewer(a.type),this._emit("viewer.created",{type:b,viewer:c})),c}},{key:"_createViewer",value:function(a){var b=t(this._getViewProviders(),function(b){return b.id===a});if(!b)throw new Error("no provider for view type <"+a+">");var c=b.constructor,d=this._options[a]||{},e=this._options.common||{};return new c(f({},e,{},d,{additionalModules:[].concat(g(d.additionalModules||[]),[{_parent:["value",this],moddle:["value",this._moddle]}])}))}},{key:"_emit",value:function(){var a;(a=this._eventBus).fire.apply(a,arguments)}},{key:"_createModdle",value:function(a){return new x["default"](A.assign({pangu:y["default"]},a.moddleExtensions))}},{key:"_getViewProviders",value:function(){return[]}}]),a}();c["default"]=C},{"../../../../app/pangu.json":1,"diagram-js/lib/core/EventBus":517,"dmn-moddle":520,"min-dash":734,"min-dom":735}],493:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(null==a)return{};var c,d,e=f(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(d=0;d<g.length;d++)c=g[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function f(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}function j(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new l.Injector(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function k(a,b){var c=[{config:["value",a]},m["default"]].concat(b||[]);return j(c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var l=a("didi"),m=d(a("./core")),n=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,a);var c=b.injector;if(!c){var d=this._init(b),e=d.modules,f=d.config;c=k(f,e)}this.get=c.get,this.invoke=c.invoke,this.get("eventBus").fire("viewer.init")}return i(a,[{key:"_init",value:function(a){var b=a.modules,c=e(a,["modules"]);return{modules:b,config:c}}},{key:"destroy",value:function(){var a=this.get("eventBus");a.fire("viewer.destroy")}},{key:"clear",value:function(){var a=this.get("eventBus");a.fire("viewer.clear")}}]),a}();c["default"]=n},{"./core":498,didi:69}],494:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b){var c=this;d(this,a),this._listeners={},b.on("elements.changed",function(a){var b=a.elements;c.elementsChanged(b)}),b.on("element.updateId",function(a){var b=a.element,d=a.newId;c.updateId(b.id,d)})}return f(a,[{key:"elementsChanged",value:function(a){for(var b={},c=a.length,d=0;c>d;d++){var e=a[d].id;if(b[e])return;b[e]=!0;var f=this._listeners[e]&&this._listeners[e].length;if(f)for(var g=0;f>g;g++)this._listeners[e][g]&&this._listeners[e][g]()}}},{key:"onElementsChanged",value:function(a,b){this._listeners[a]||(this._listeners[a]=[]),this._listeners[a][this._listeners[a].length]=b}},{key:"offElementsChanged",value:function(a,b){if(this._listeners[a])if(b){var c=this._listeners[a].indexOf(b);-1!==c&&this._listeners[a].splice(c,1)}else this._listeners[a].length=0}},{key:"updateId",value:function(a,b){this._listeners[a]&&(this._listeners[b]=this._listeners[a],delete this._listeners[a])}}]),a}();c["default"]=g,g.$inject=["eventBus"]},{}],495:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("min-dash"),h=1e3,i=function(){function a(){d(this,a),this._listeners={}}return f(a,[{key:"getComponent",value:function(a,b){var c=this._listeners[a];if(c){for(var d,e=0;e<c.length&&!(d=c[e].callback(b));e++);return d}}},{key:"getComponents",value:function(a,b){var c=this._listeners[a];if(c){for(var d=[],e=0;e<c.length;e++){var f=c[e].callback(b);f&&d.push(f)}if(d.length)return d}}},{key:"onGetComponent",value:function(a,b,c){if(g.isFunction(b)&&(c=b,b=h),!g.isNumber(b))throw new Error("priority must be a number");var d,e,f=this._getListeners(a),i={priority:b,callback:c};for(e=0;d=f[e];e++)if(d.priority<b)return void f.splice(e,0,i);f.push(i)}},{key:"offGetComponent",value:function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)d=c.callback,d===b&&f.splice(e,1);else f.length=0}},{key:"_getListeners",value:function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b}}]),a}();c["default"]=i},{"min-dash":734}],496:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("inferno"),i=d(a("./components/ViewerComponent")),j=function(){function a(b,c,d,f,g){e(this,a);var j=d.container;this._container=j,f.on("renderer.mount",function(){h.render(h.createComponentVNode(2,i["default"],{injector:g}),j)}),f.on("renderer.unmount",function(){h.render(null,j)})}return g(a,[{key:"getContainer",value:function(){return this._container}}]),a}();c["default"]=j,j.$inject=["changeSupport","components","config.renderer","eventBus","injector"]},{"./components/ViewerComponent":497,inferno:526}],497:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(a){var c;e(this,b),c=h(this,j(b).call(this,a));var d=c._injector=a.injector;return c._changeSupport=d.get("changeSupport"),c._components=d.get("components"),c._renderer=d.get("renderer"),c}return k(b,a),g(b,[{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,renderer:this._renderer,injector:this._injector}}},{key:"render",value:function(){var a=this._components.getComponents("viewer");return m.createVNode(1,"div","viewer-container",a&&a.map(function(a,b){return m.createComponentVNode(2,a,null,b)}),0)}}]),b}(m.Component);c["default"]=n},{inferno:526}],498:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ChangeSupport")),f=d(a("./Components")),g=d(a("diagram-js/lib/core/EventBus")),h=d(a("./Renderer")),i={__init__:["changeSupport","components","renderer"],changeSupport:["type",e["default"]],components:["type",f["default"]],eventBus:["type",g["default"]],renderer:["type",h["default"]]};c["default"]=i},{"./ChangeSupport":494,"./Components":495,"./Renderer":496,"diagram-js/lib/core/EventBus":517}],499:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function o(){return document.createElement("br")}function p(a){return a.innerText.replace(/\n$/,"")}function q(){var a=w.getWindowSelection(),b=a.getRangeAt(0);if(b){var c=b.cloneRange(),d=o();c.deleteContents(),c.insertNode(d),c.setStartAfter(d),c.setEndAfter(d),w.applyRange(c)}}function r(){}function s(){var a=window.navigator.userAgent;return a.indexOf("MSIE ")>0||a.indexOf("Trident/")>0}function t(a){return a.metaKey||a.ctrlKey}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var u=a("inferno"),v=d(a("escape-html")),w=a("selection-ranges"),x=d(a("selection-update")),y=function(a){function b(a,c){var d;return f(this,b),d=i(this,j(b).call(this,a,c)),n(k(d),"onFocus",function(){var a=d.props.onFocus;d.setState({focussed:!0}),"function"==typeof a&&a()}),n(k(d),"onBlur",function(){var a=d.props.onBlur;d.setState({focussed:!1}),"function"==typeof a&&a()}),n(k(d),"onKeydown",function(a){if(13===a.which){if(a.preventDefault(),d.props.ctrlForNewline&&!t(a))return;a.stopPropagation(),q(),d.onInput(a)}}),n(k(d),"onInput",function(a){var b=d.props.onInput;if("function"==typeof b){var c=p(d.node);b(c)}}),n(k(d),"onPaste",r),n(k(d),"onKeypress",r),d.state={},s()&&(d.onPaste=d.onKeypress=function(a){var b=d.node.innerHTML;setTimeout(function(){var c=d.node.innerHTML;b!==c&&d.onInput(a)},0)}),d}return l(b,a),h(b,[{key:"componentWillUpdate",value:function(a,b){var c=this.node,d=b.focussed&&w.getRange(c);this.selected=d&&{range:d,text:p(c)}}},{key:"componentDidUpdate",value:function(){var a=this.selected;if(a){var b=a.range,c=a.text,d=this.node,e=p(d),f=e!==c?x["default"](b,c,e):b;w.setRange(d,f)}}},{key:"render",value:function(a){var b=this,c=a.value,d=a.className;return c=v["default"](c).replace(/\r?\n/g,"<br/>")+"<br/>",u.createVNode(1,"div",[d||"","content-editable"].join(" "),null,1,{contentEditable:"true",spellcheck:"false",onInput:this.onInput,onKeypress:this.onKeypress,onPaste:this.onPaste,onFocus:this.onFocus,onBlur:this.onBlur,onKeydown:this.onKeydown,dangerouslySetInnerHTML:{__html:c}},null,function(a){return b.node=a})}}]),b}(u.Component);c["default"]=y},{"escape-html":521,inferno:526,"selection-ranges":745,"selection-update":746}],500:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=d(a("./ContentEditable")),q=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c)),n(k(d),"onFocus",function(){d.setState({focussed:!0});var a=d.props.onFocus;"function"==typeof a&&a()}),n(k(d),"onBlur",function(a){d.setState({focussed:!1});var b=d.state.invalid;b&&d.setState({changing:!1,invalid:!1});var c=d.props.onBlur;"function"==typeof c&&c()}),d.state={changing:!1,focussed:!1};var e=c.injector,g=e.get("debounceInput");return d.inputChanged=g(function(a){var b=d.props.onChange;"function"==typeof b&&b(a);var c=d.state.changing;d.setState({changing:c===a?!1:c})}),d.onInput=function(a){var b=d.props.validate||function(){},c=b(a);d.setState({changing:a,invalid:c}),c||d.inputChanged(a)},d}return l(b,a),h(b,[{key:"getClassName",value:function(){var a=this.props.className,b=this.state,c=b.focussed,d=b.invalid;return a+=" editable",c&&(a+=" focussed"),d&&(a+=" invalid"),a}},{key:"getDisplayValue",value:function(){var a=this.props,b=a.value,c=a.placeholder,d=this.state,e=d.focussed,f=d.changing;return"string"==typeof f&&(b=f),b||(b=e?"":c||""),b}},{key:"getEditor",value:function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.createComponentVNode(2,p["default"],{className:a.className,ctrlForNewline:a.ctrlForNewline,onFocus:this.onFocus,onBlur:this.onBlur,onInput:this.onInput,value:this.getDisplayValue()})}}]),b}(o.Component);c["default"]=q},{"./ContentEditable":499,inferno:526}],501:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onInput",function(a){var b=d.props.onInput;"function"==typeof b&&b(a.target.value)}),m(j(d),"onKeyDown",function(a){var b=d.props.onKeyDown;"function"==typeof b&&b(a)}),m(j(d),"onKeyUp",function(a){var b=d.props.onKeyUp;"function"==typeof b&&b(a)}),d}return k(b,a),g(b,[{key:"render",value:function(){var a=this.props,b=a.className,c=a.placeholder,d=a.type,e=a.value;return n.createVNode(64,"input",[b||"","dms-input"].join(" "),null,1,{placeholder:c||"",onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,spellcheck:"false",type:d||"text",value:e})}}]),b}(n.Component);c["default"]=o},{inferno:526}],502:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){a.stopPropagation()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=a("table-js/lib/components"),q=a("min-dash"),r=a("min-dom"),s=function(a){function b(a,c){var d;e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onChange",function(a){d.setState({value:a});var b=d.props.onChange;"function"==typeof b&&b(a)}),m(j(d),"onInputClick",function(a){a.preventDefault(),a.stopPropagation(),d.setOptionsVisible(!d.state.optionsVisible),d.focusInput()}),m(j(d),"onInput",function(a){var b=a.target.value;d.onChange(b)}),m(j(d),"onOptionClick",function(a,b){b.preventDefault(),b.stopPropagation(),d.setOptionsVisible(!1),d.onChange(a),d.focusInput()}),m(j(d),"onFocusChanged",function(a){d.checkClose(a.target)}),m(j(d),"onGlobalClick",function(a){d.checkClose(a.target)}),m(j(d),"onKeyDown",function(a){var b=d.state.optionsVisible,c=a.which;(40===c||38===c)&&(a.stopPropagation(),a.preventDefault(),b?d.select(40===c?1:-1):d.setOptionsVisible(!0)),b&&(13===c||27===c)&&(a.stopPropagation(),a.preventDefault(),d.setOptionsVisible(!1))}),m(j(d),"onKeyboard",function(a){var b=d.state.optionsVisible;if(b)return 27===a?(d.setOptionsVisible(!1),!0):void 0}),p.inject(j(d));var f=a.value;return d.state={value:f,optionsVisible:!1},d._portalEl=null,d}return k(b,a),g(b,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.onGlobalClick),document.addEventListener("focusin",this.onFocusChanged),this.keyboard.addListener(this.onKeyboard)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("click",this.onGlobalClick),this.keyboard.removeListener(this.onKeyboard),this.removePortalEl()}},{key:"componentWillReceiveProps",value:function(a){var b=a.value;this.setState({value:b})}},{key:"componentWillUpdate",value:function(a,b){var c=b.optionsVisible;c?this._portalEl||this.addPortalEl():this._portalEl&&this.removePortalEl()}},{key:"componentDidUpdate",value:function(){var a=this.state.optionsVisible;if(a&&this.inputNode){var b=this.inputNode.getBoundingClientRect(),c=b.top,d=b.left,e=b.width,f=b.height;q.assign(this._portalEl.style,{top:"".concat(c+f,"px"),left:"".concat(d,"px"),width:"".concat(e,"px")})}}},{key:"addPortalEl",value:function(){this._portalEl=r.domify('<div class="dms-select-options"></div>');var a=this.renderer.getContainer();a.appendChild(this._portalEl),this._portalEl.addEventListener("mousedown",n)}},{key:"removePortalEl",value:function(){this._portalEl&&(this._portalEl.removeEventListener("mousedown",n),r.remove(this._portalEl),this._portalEl=null)}},{key:"focusInput",value:function(){var a=this.inputNode;a.focus(),"selectionStart"in a&&(a.selectionStart=1e5)}},{key:"checkClose",value:function(a){!this._portalEl||this._portalEl.contains(a)||this.parentNode.contains(a)||this.setOptionsVisible(!1)}},{key:"select",value:function(a){var b=this.props.options,c=this.state.value;if(b){var d=b.filter(function(a){return a.value===c})[0],e=d?b.indexOf(d):-1,f=-1===e?1===a?0:b.length-1:(e+a)%b.length,g=b[0>f?b.length+f:f];this.onChange(g.value)}}},{key:"setOptionsVisible",value:function(a){this.setState({optionsVisible:a})}},{key:"renderOptions",value:function(a,b){var c=this;return o.createVNode(1,"div","options",a.map(function(a){return o.createVNode(1,"div",["option",b===a?"active":""].join(" "),a.label,0,{"data-value":a.value,onClick:function(b){return c.onOptionClick(a.value,b)}})}),0)}},{key:"render",value:function(){var a=this,b=this.props,c=b.className,d=b.options,e=b.noInput,f=this.state,g=f.optionsVisible,h=f.value,i=d?d.filter(function(a){return a.value===h})[0]:!1,j=i?i.label:h;return o.createVNode(1,"div",[c||"","dms-input-select"].join(" "),[e?o.createVNode(1,"div","dms-input",j,0,{
tabindex:"0",onKeyDown:this.onKeyDown},null,function(b){return a.inputNode=b}):o.createVNode(64,"input","dms-input",null,1,{onInput:this.onInput,onKeyDown:this.onKeyDown,spellcheck:"false",type:"text",value:h},null,function(b){return a.inputNode=b}),o.createVNode(1,"span",["dms-input-select-icon",g?"dmn-icon-up":"dmn-icon-down"].join(" ")),g&&o.createPortal(this.renderOptions(d,i),this._portalEl)],0,{onClick:this.onInputClick},null,function(b){return a.parentNode=b})}}]),b}(o.Component);c["default"]=s,s.$inject=["keyboard","renderer"]},{inferno:526,"min-dash":734,"min-dom":735,"table-js/lib/components":754}],503:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a){var b=[];for(var c in a)b.push([c,a[c]]);return b}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var o=a("inferno"),p=a("min-dash"),q="radio",r="remove dmn-icon-clear",s=function(a){function b(a,c){var d;e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"getRemoveClickHandler",function(a){return function(b){b.stopPropagation(),d.removeItem(a)}}),m(j(d),"getToggleClickHandler",function(a){return function(b){b.stopPropagation(),d.toggleItem(a)}}),m(j(d),"removeItem",function(a){var b=d.props.onChange,c=d.state.items.filter(function(b){return b!==a});d.setState({items:c}),b&&b(c)}),m(j(d),"toggleItem",function(a){var b=d.props,c=b.onChange,e=b.type,f=d.state.items.map(function(b){return b===a?b.isChecked=!b.isChecked:e===q&&(b.isChecked=!1),b});d.setState({items:f}),c&&c(f)});var f=a.items;return d.state={items:f},d}return k(b,a),g(b,[{key:"componentWillReceiveProps",value:function(a){var b=a.items;this.setState({items:b})}},{key:"render",value:function(){var a=this,b=this.props,c=b.className,d=b.items,e=b.type,f=["dms-list-component"];c&&f.push(c);var g=p.groupBy(d,"group"),h=n(g);return o.createVNode(1,"div",f.join(" "),h.map(function(b){var c=b[0],d=b[1];return o.createVNode(1,"div","group",[o.createVNode(1,"h4","dms-heading",c,0),o.createVNode(1,"ul","items no-wrap",d.map(function(b){return o.createVNode(1,"li","item",[e&&o.createVNode(64,"input","item-toggle",null,1,{type:e,checked:b.isChecked,onClick:a.getToggleClickHandler(b)}),o.createTextVNode(" "),b.value,b.isRemovable&&o.createVNode(1,"span",r,null,1,{title:"Remove item",onClick:a.getRemoveClickHandler(b)})],0)}),0)],4)}),0)}}]),b}(o.Component);c["default"]=s},{inferno:526,"min-dash":734}],504:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=a("inferno"),o=d(a("./Input")),p=function(a){function b(a,c){var d;f(this,b),d=i(this,j(b).call(this,a,c));var e=a.validate,g=a.value,h=e?e(g||""):void 0;return d.state={validationWarning:h,value:g},d.onInput=d.onInput.bind(k(d)),d.onKeyDown=d.onKeyDown.bind(k(d)),d.onKeyUp=d.onKeyUp.bind(k(d)),d}return l(b,a),h(b,[{key:"componentWillReceiveProps",value:function(a){var b=a.validate,c=a.value,d=b?b(c||""):void 0;this.setState({validationWarning:d,value:c})}},{key:"onInput",value:function c(a){var b=this.props,c=b.onInput,d=b.validate,e=d?d(a):void 0;this.setState({validationWarning:e,value:a}),"function"==typeof c&&c&&c({isValid:!e,value:a})}},{key:"onKeyDown",value:function d(a){var b=a.target,c=b.value,e=this.props,d=e.onKeyDown,f=e.validate,g=f?f(c):void 0;"function"==typeof d&&d({isValid:!g,value:c,event:a})}},{key:"onKeyUp",value:function e(a){var b=a.target,c=b.value,d=this.props,e=d.onKeyUp,f=d.validate,g=f?f(c):void 0;"function"==typeof e&&e({isValid:!g,value:c,event:a})}},{key:"render",value:function(){var a=this.props,b=a.placeholder,c=a.type,d=a.className,e=this.state,f=e.validationWarning,g=e.value,h=["dms-validated-input",d].join(" "),i=[];return f&&i.push("invalid"),n.createVNode(1,"div",h,[n.createComponentVNode(2,o["default"],{className:i,onInput:this.onInput,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,placeholder:b||"",type:c,value:g||""}),f&&n.createVNode(1,"p","dms-hint dms-validation-warning",f,0)],0)}}]),b}(n.Component);c["default"]=p},{"./Input":501,inferno:526}],505:[function(a,b,c){"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(c,!0).forEach(function(b){f(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a,b){if(null==a)return{};var c,d,e=h(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function h(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=a("inferno"),j={slotFill:function(a,b){var c=a.type,d=a.context,f=g(a,["type","context"]),h=this.components.getComponent(c,d)||b;return h?i.normalizeProps(i.createComponentVNode(2,h,e({},d,{},f))):null},slotFills:function(a){var b=a.type,c=a.context,d=g(a,["type","context"]),f=this.components.getComponents(b,c);return f.map(function(a){return i.normalizeProps(i.createComponentVNode(2,a,e({},c,{},d)))})}},k=j;c["default"]=k,j.$inject=["components"]},{inferno:526}],506:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ComponentWithSlots",{enumerable:!0,get:function(){return e["default"]}});var e=d(a("./ComponentWithSlots"))},{"./ComponentWithSlots":505}],507:[function(a,b,c){"use strict";function d(a){return function(b){if(a!==!1){var c=e.isNumber(a)?a:f;return e.debounce(b,c)}return b}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d;var e=a("min-dash"),f=300;d.$inject=["config.debounceInput"]},{"min-dash":734}],508:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./debounceInput")),f={debounceInput:["factory",e["default"]]};c["default"]=f},{"./debounceInput":507}],509:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("min-dash"),h=[{label:"FEEL",value:"feel"},{label:"JUEL",value:"juel"},{label:"JavaScript",value:"javascript"},{label:"Groovy",value:"groovy"},{label:"Python",value:"python"},{label:"JRuby",value:"jruby"}],i=function(){function a(b){d(this,a),this._injector=b;var c=b.get("config.expressionLanguages")||{};this._config={options:h,defaults:{editor:"feel"}},c.options&&(this._config.options=c.options);var e=this._getLegacyDefaults();g.assign(this._config.defaults,e,c.defaults)}return f(a,[{key:"getDefault",value:function(a){var b=this._config.defaults,c=b[a]||b.editor;return this._getLanguageByValue(c)||this.getAll()[0]}},{key:"getLabel",value:function(a){var b=this._getLanguageByValue(a);return b?b.label:a}},{key:"getAll",value:function(){return this._config.options}},{key:"_getLegacyDefaults",value:function(){var a={},b=this._injector,c=b.get("config.defaultInputExpressionLanguage"),d=b.get("config.defaultOutputExpressionLanguage");return c&&(a.inputCell=c),d&&(a.outputCell=d),a}},{key:"_getLanguageByValue",value:function(a){return g.find(this.getAll(),function(b){return a===b.value})}}]),a}();c["default"]=i,i.$inject=["injector"]},{"min-dash":734}],510:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ExpressionLanguages")),f={__init__:["expressionLanguages"],expressionLanguages:["type",e["default"]]};c["default"]=f},{"./ExpressionLanguages":509}],511:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?k(a):b}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function n(a,b){return u in a&&u in b}function o(a){for(var b=a;!t.is(b,"dmn:Definitions");)b=b.$parent;return b}function p(a,b,c){var d={authorityRequirement:function(){a.authorityRequirement.forEach(function(a){var d=a.requiredAuthority,e=a.requiredDecision,f=a.requiredInput;d&&d.href==="#".concat(b)&&(d.href="#".concat(c)),e&&e.href==="#".concat(b)&&(e.href="#".concat(c)),f&&f.href==="#".concat(b)&&(f.href="#".concat(c))})},informationRequirement:function(){a.informationRequirement.forEach(function(a){var d=a.requiredDecision,e=a.requiredInput;d&&d.href==="#".concat(b)&&(d.href="#".concat(c)),e&&e.href==="#".concat(b)&&(e.href="#".concat(c))})},knowledgeRequirement:function(){a.knowledgeRequirement.forEach(function(a){var d=a.requiredKnowledge;d&&d.href==="#".concat(b)&&(d.href="#".concat(c))})}};r.forEach(d,function(b,c){a[c]&&b()})}function q(a,b,c){var d={sourceRef:function e(){var e=a.sourceRef;e.href==="#".concat(b)&&(e.href="#".concat(c))},targetRef:function f(){var f=a.targetRef;f.href==="#".concat(b)&&(f.href="#".concat(c))}};r.forEach(d,function(b,c){a[c]&&b()})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var r=a("min-dash"),s=d(a("diagram-js/lib/command/CommandInterceptor")),t=a("../../../util/ModelUtil"),u="id",v=function(a){function b(a){var c;return f(this,b),c=i(this,j(b).call(this,a)),c.executed("element.updateProperties",c.updateIds.bind(k(c))),c}return l(b,a),h(b,[{key:"updateIds",value:function(a){var b=a.context,c=b.element,d=b.oldProperties,e=b.properties,f=t.getBusinessObject(c);if(!this.shouldSkipUpdate(f,d,e)){var g=o(f),h=g.get("drgElement");h.forEach(function(a){p(a,d.id,e.id)});var i=g.get("artifact");i.forEach(function(a){q(a,d.id,e.id)})}}},{key:"shouldSkipUpdate",value:function(a,b,c){return!n(b,c)||!t.is(a,"dmn:DRGElement")&&!t.is(a,"dmn:TextAnnotation")}}]),b}(s["default"]);c["default"]=v,v.$inject=["eventBus"]},{"../../../util/ModelUtil":515,"diagram-js/lib/command/CommandInterceptor":516,"min-dash":734}],512:[function(a,b,c){"use strict";function d(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function e(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?d(c,!0).forEach(function(b){f(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):d(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function f(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function g(a){return j(a)||i(a)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function j(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function k(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function l(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function m(a,b,c){return b&&l(a.prototype,b),c&&l(a,c),a}function n(a,b){return a[r]!==b}function o(a){return p.isDefined(a)&&p.isObject(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var p=a("min-dash"),q=a("../../../util/ModelUtil"),r="id",s=function(){function a(b,c){k(this,a),this._elementRegistry=b,this._moddle=c}return m(a,[{key:"execute",value:function(a){var b=a.element,c=a.properties,d=q.getBusinessObject(b),e=this.updateProperties(d,c),f=e.changed,h=e.oldProperties;return a.oldProperties=h,[].concat(g(f),[b])}},{key:"revert",value:function(a){var b=a.element,c=a.oldProperties,d=q.getBusinessObject(b),e=this.updateProperties(d,c),f=e.changed;return[].concat(g(f),[b])}},{key:"updateProperties",value:function(a,b){var c=this,d=this._moddle.ids;return p.reduce(b,function(b,h,i){var j=a.get(i);if(o(h)){if(!o(j))throw new Error("non-existing property <".concat(i,">: cannot update values"));var k=c.updateProperties(j,h),l=k.changed,m=k.oldProperties;return{changed:[].concat(g(b.changed),g(l),[j]),oldProperties:e({},b.oldProperties,f({},i,m))}}return i===r&&n(a,h)&&(d.unclaim(a[r]),c._elementRegistry.updateId(a,h),d.claim(h,a)),a.set(i,h),{changed:b.changed,oldProperties:e({},b.oldProperties,f({},i,j))}},{changed:[],oldProperties:{}})}}]),a}();c["default"]=s,s.$inject=["elementRegistry","moddle"]},{"../../../util/ModelUtil":515,"min-dash":734}],513:[function(a,b,c){"use strict";function d(a){return a.dmnDI&&a.dmnDI.diagrams&&a.dmnDI.diagrams[0]}function e(a){return!!a.di}Object.defineProperty(c,"__esModule",{value:!0}),c.containsDi=d,c.hasDi=e},{}],514:[function(a,b,c){"use strict";function d(a,b){var c=a.$model.ids.assigned(b),d=c&&c!==a;return!b||d?"Element must have an unique id.":e(b)}function e(a){return a=g(a),f(a)?"Id must not contain spaces.":j.test(a)?void 0:i.test(a)?"Id must not contain prefix.":"Id must be a valid QName."}function f(a){return h.test(a)}function g(a){return a.replace(k,"$1")}Object.defineProperty(c,"__esModule",{value:!0}),c.validateId=d;var h=/\s/,i=/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i,j=/^[a-z_][\w-.]*$/i,k=/\$\{([^}]*)\}/g},{}],515:[function(a,b,c){"use strict";function d(a,b){var c=h(a);return c&&"function"==typeof c.$instanceOf&&c.$instanceOf(b)}function e(a){return d(a,"dmn:InputClause")}function f(a){return d(a,"dmn:OutputClause")}function g(a){return d(a,"dmn:DecisionRule")}function h(a){return a&&a.businessObject||a}function i(a){return h(a).name}function j(a,b){return k.some(b,function(b){return d(a,b)})}Object.defineProperty(c,"__esModule",{value:!0}),c.is=d,c.isInput=e,c.isOutput=f,c.isRule=g,c.getBusinessObject=h,c.getName=i,c.isAny=j;var k=a("min-dash")},{"min-dash":734}],516:[function(a,b,c){arguments[4][206][0].apply(c,arguments)},{dup:206,"min-dash":734}],517:[function(a,b,c){arguments[4][278][0].apply(c,arguments)},{dup:278,"min-dash":734}],518:[function(a,b,c){"use strict";function d(a){return this instanceof d?(a=a||[128,36,1],void(this._seed=a.length?e.rack(a[0],a[1],a[2]):a)):new d(a)}var e=a("hat");b.exports=d,d.prototype.next=function(a){return this._seed(a||!0)},d.prototype.nextPrefixed=function(a,b){var c;do c=a+this.next(!0);while(this.assigned(c));return this.claim(c,b),c},d.prototype.claim=function(a,b){this._seed.set(a,b||!0)},d.prototype.assigned=function(a){return this._seed.get(a)||!1},d.prototype.unclaim=function(a){delete this._seed.hats[a]},d.prototype.clear=function(){var a,b=this._seed.hats;for(a in b)this.unclaim(a)}},{hat:523}],519:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function g(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function h(a,b,c){return b&&g(a.prototype,b),c&&g(a,c),a}function i(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?j(a):b}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function l(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&m(a,b)}function m(a,b){return(m=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var n=d(a("dmn-js-shared/lib/base/EditingManager")),o=d(a("dmn-js-drd/lib/Modeler")),p=d(a("dmn-js-decision-table/lib/Editor")),q=d(a("dmn-js-literal-expression/lib/Editor")),r=a("dmn-js-shared/lib/util/ModelUtil"),s=a("dmn-js-shared/lib/util/DiUtil"),t=function(a){function b(){return f(this,b),i(this,k(b).apply(this,arguments))}return l(b,a),h(b,[{key:"_getViewProviders",value:function(){return[{id:"drd",constructor:o["default"],opens:"dmn:Definitions"},{id:"decisionTable",constructor:p["default"],opens:function(a){return r.is(a,"dmn:Decision")&&r.is(a.decisionLogic,"dmn:DecisionTable")}},{id:"literalExpression",constructor:q["default"],opens:function(a){return r.is(a,"dmn:Decision")&&r.is(a.decisionLogic,"dmn:LiteralExpression")}}]}},{key:"_getInitialView",value:function(a){for(var b,c=0;c<a.length;c++){var d=a[c],e=d.element;if(r.is(e,"dmn:Decision"))return d;if(r.is(e,"dmn:Definitions")&&(b=d,s.containsDi(e)))return d}return b||a[0]}}]),b}(n["default"]);c["default"]=t},{"dmn-js-decision-table/lib/Editor":70,"dmn-js-drd/lib/Modeler":212,"dmn-js-literal-expression/lib/Editor":430,"dmn-js-shared/lib/base/EditingManager":491,"dmn-js-shared/lib/util/DiUtil":513,"dmn-js-shared/lib/util/ModelUtil":515}],520:[function(a,b,c){"use strict";function d(a,b){g.Moddle.call(this,a,b)}function e(a,b){var c=f.assign({},M,a);return new d(c,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=a("min-dash"),g=a("moddle"),h=a("moddle-xml");d.prototype=Object.create(g.Moddle.prototype),d.prototype.fromXML=function(a,b,c,d){f.isString(b)||(d=c,c=b,b="dmn:Definitions"),f.isFunction(c)&&(d=c,c={});var e=new h.Reader(f.assign({model:this,lax:!0},c)),g=e.handler(b);e.fromXML(a,g,d)},d.prototype.toXML=function(a,b,c){f.isFunction(b)&&(c=b,b={});var d,e,g=new h.Writer(b);try{d=g.toXML(a)}catch(i){e=i}return c(e,d)};var i="DC",j="dc",k="http://www.omg.org/spec/DMN/20180521/DC/",l=[{name:"Dimension",properties:[{name:"width",isAttr:!0,type:"Real"},{name:"height",isAttr:!0,type:"Real"}]},{name:"Bounds",properties:[{name:"height",isAttr:!0,type:"Real"},{name:"width",isAttr:!0,type:"Real"},{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Point",properties:[{name:"x",isAttr:!0,type:"Real"},{name:"y",isAttr:!0,type:"Real"}]},{name:"Color",properties:[{name:"red",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"green",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"},{name:"blue",type:"UML_Standard_Profile.mdzip:eee_1045467100323_917313_65"}]}],m=[],n=[{name:"AlignmentKind",literalValues:[{name:"start"},{name:"center"},{name:"end"}]}],o={name:i,prefix:j,uri:k,types:l,associations:m,enumerations:n},p="DI",q="di",r="http://www.omg.org/spec/DMN/20180521/DI/",s=[{name:"DiagramElement",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"},{name:"style",isReference:!0,type:"Style",xml:{serialize:"property"}},{name:"sharedStyle",isReference:!0,isVirtual:!0,type:"Style"}]},{name:"Diagram",superClass:["DiagramElement"],properties:[{name:"name",isAttr:!0,type:"String"},{name:"documentation",isAttr:!0,type:"String"},{name:"resolution",isAttr:!0,type:"Real"}]},{name:"Shape",isAbstract:!0,properties:[{name:"bounds",type:"dc:Bounds"}],superClass:["DiagramElement"]},{name:"Edge",isAbstract:!0,properties:[{name:"waypoint",type:"dc:Point",isMany:!0,xml:{serialize:"property"}}],superClass:["DiagramElement"]},{name:"Style",isAbstract:!0,properties:[{name:"id",isAttr:!0,isId:!0,type:"String"}]}],t=[],u=[],v={tagAlias:"lowerCase"},w={name:p,prefix:q,uri:r,types:s,associations:t,enumerations:u,xml:v},x="DMN",y="dmn",z="https://www.omg.org/spec/DMN/20191111/MODEL/",A=[{name:"AuthorityRequirement",superClass:["DMNElement"],properties:[{name:"requiredAuthority",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ItemDefinition",superClass:["NamedElement"],properties:[{name:"typeRef",type:"String"},{name:"allowedValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"typeLanguage",type:"String",isAttr:!0},{name:"itemComponent",type:"ItemDefinition",isMany:!0,xml:{serialize:"property"}},{name:"functionItem",type:"FunctionItem"},{name:"isCollection",isAttr:!0,type:"Boolean"}]},{name:"Definitions",superClass:["NamedElement"],properties:[{name:"import",type:"Import",isMany:!0},{name:"itemDefinition",type:"ItemDefinition",isMany:!0},{name:"drgElement",type:"DRGElement",isMany:!0},{name:"artifact",type:"Artifact",isMany:!0},{name:"elementCollection",type:"ElementCollection",isMany:!0},{name:"businessContextElement",type:"BusinessContextElement",isMany:!0},{name:"namespace",type:"String",isAttr:!0},{name:"expressionLanguage",type:"String",isAttr:!0},{name:"typeLanguage",type:"String",isAttr:!0},{name:"exporter",isAttr:!0,type:"String"},{name:"exporterVersion",isAttr:!0,type:"String"},{name:"dmnDI",type:"dmndi:DMNDI"}]},{name:"KnowledgeSource",superClass:["DRGElement"],properties:[{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"type",type:"String"},{name:"owner",type:"DMNElementReference",xml:{serialize:"property"}},{name:"locationURI",type:"String",isAttr:!0}]},{name:"DecisionRule",superClass:["DMNElement"],properties:[{name:"inputEntry",type:"UnaryTests",isMany:!0,xml:{serialize:"property"}},{name:"outputEntry",type:"LiteralExpression",isMany:!0,xml:{serialize:"property"}},{name:"annotationEntry",type:"RuleAnnotation",isMany:!0,xml:{serialize:"property"}}]},{name:"Expression",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"InformationItem",superClass:["NamedElement"],properties:[{name:"typeRef",isAttr:!0,type:"String"}]},{name:"Decision",superClass:["DRGElement"],properties:[{name:"question",type:"String",xml:{serialize:"property"}},{name:"allowedAnswers",type:"String",xml:{serialize:"property"}},{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"informationRequirement",type:"InformationRequirement",isMany:!0},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0},{name:"supportedObjective",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"impactedPerformanceIndicator",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionMaker",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"decisionOwner",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"usingProcess",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"usingTask",isMany:!0,type:"DMNElementReference",xml:{serialize:"property"}},{name:"decisionLogic",type:"Expression"}]},{name:"Invocation",superClass:["Expression"],properties:[{name:"calledFunction",type:"Expression"},{name:"binding",type:"Binding",isMany:!0}]},{name:"OrganisationalUnit",superClass:["BusinessContextElement"],properties:[{name:"decisionMade",type:"Decision",isReference:!0,isMany:!0},{name:"decisionOwned",type:"Decision",isReference:!0,isMany:!0}]},{name:"Import",superClass:["NamedElement"],properties:[{name:"importType",type:"String",isAttr:!0},{name:"locationURI",type:"String",isAttr:!0},{name:"namespace",type:"String",isAttr:!0}]},{name:"InformationRequirement",superClass:["DMNElement"],properties:[{name:"requiredDecision",type:"DMNElementReference",xml:{serialize:"property"}},{name:"requiredInput",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"ElementCollection",superClass:["NamedElement"],properties:[{name:"drgElement",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"DRGElement",isAbstract:!0,superClass:["NamedElement"],properties:[]},{name:"InputData",superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"DMNElement",isAbstract:!0,properties:[{name:"description",type:"String"},{name:"extensionElements",type:"ExtensionElements"},{name:"id",type:"String",isAttr:!0,isId:!0},{name:"extensionAttribute",type:"ExtensionAttribute",isMany:!0},{name:"label",isAttr:!0,type:"String"}]},{name:"InputClause",superClass:["DMNElement"],properties:[{name:"inputExpression",type:"LiteralExpression",xml:{serialize:"property"}},{name:"inputValues",type:"UnaryTests",xml:{serialize:"property"}}]},{name:"DecisionTable",superClass:["Expression"],properties:[{name:"input",type:"InputClause",isMany:!0,xml:{serialize:"property"}},{name:"output",type:"OutputClause",isMany:!0,xml:{serialize:"property"}},{name:"annotation",type:"RuleAnnotationClause",isMany:!0,xml:{serialize:"property"}},{name:"rule",type:"DecisionRule",isMany:!0,xml:{serialize:"property"}},{name:"hitPolicy",type:"HitPolicy",isAttr:!0,"default":"UNIQUE"},{name:"aggregation",type:"BuiltinAggregator",isAttr:!0},{name:"preferredOrientation",type:"DecisionTableOrientation",isAttr:!0},{name:"outputLabel",isAttr:!0,type:"String"}]},{name:"LiteralExpression",superClass:["Expression"],properties:[{name:"expressionLanguage",type:"String",isAttr:!0},{name:"text",type:"String"},{name:"importedValues",type:"ImportedValues"}]},{name:"Binding",properties:[{name:"parameter",type:"InformationItem",xml:{serialize:"property"}},{name:"bindingFormula",type:"Expression"}]},{name:"KnowledgeRequirement",superClass:["DMNElement"],properties:[{name:"requiredKnowledge",type:"DMNElementReference",xml:{serialize:"property"}}]},{name:"BusinessKnowledgeModel",superClass:["Invocable"],properties:[{name:"encapsulatedLogic",type:"FunctionDefinition",xml:{serialize:"property"}},{name:"knowledgeRequirement",type:"KnowledgeRequirement",isMany:!0},{name:"authorityRequirement",type:"AuthorityRequirement",isMany:!0}]},{name:"BusinessContextElement",isAbstract:!0,superClass:["NamedElement"],properties:[{name:"URI",type:"String",isAttr:!0}]},{name:"PerformanceIndicator",superClass:["BusinessContextElement"],properties:[{name:"impactingDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"FunctionDefinition",superClass:["Expression"],properties:[{name:"formalParameter",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"body",type:"Expression"},{name:"kind",type:"FunctionKind",isAttr:!0}]},{name:"Context",superClass:["Expression"],properties:[{name:"contextEntry",type:"ContextEntry",isMany:!0}]},{name:"ContextEntry",superClass:["DMNElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}},{name:"value",type:"Expression"}]},{name:"List",superClass:["Expression"],properties:[{name:"elements",isMany:!0,type:"Expression"}]},{name:"Relation",superClass:["Expression"],properties:[{name:"column",type:"InformationItem",isMany:!0,xml:{serialize:"property"}},{name:"row",type:"List",isMany:!0,xml:{serialize:"property"}}]},{name:"OutputClause",superClass:["DMNElement"],properties:[{name:"outputValues",type:"UnaryTests",xml:{serialize:"property"}},{name:"defaultOutputEntry",type:"LiteralExpression",xml:{serialize:"property"}},{name:"name",isAttr:!0,type:"String"},{name:"typeRef",isAttr:!0,type:"String"}]},{name:"UnaryTests",superClass:["Expression"],properties:[{name:"text",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"NamedElement",isAbstract:!0,superClass:["DMNElement"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"ImportedValues",superClass:["Import"],properties:[{name:"importedElement",type:"String"},{name:"expressionLanguage",type:"String",isAttr:!0}]},{name:"DecisionService",superClass:["Invocable"],properties:[{
name:"outputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"encapsulatedDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputDecision",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}},{name:"inputData",type:"DMNElementReference",isMany:!0,xml:{serialize:"property"}}]},{name:"ExtensionElements",properties:[{name:"values",type:"Element",isMany:!0}]},{name:"ExtensionAttribute",properties:[{name:"value",type:"Element"},{name:"valueRef",type:"Element",isAttr:!0,isReference:!0},{name:"name",isAttr:!0,type:"String"}]},{name:"Element",isAbstract:!0,properties:[{name:"extensionAttribute",type:"ExtensionAttribute",isAttr:!0,isReference:!0},{name:"elements",type:"ExtensionElements",isAttr:!0,isReference:!0}]},{name:"Artifact",isAbstract:!0,superClass:["DMNElement"],properties:[]},{name:"Association",superClass:["Artifact"],properties:[{name:"sourceRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"targetRef",type:"DMNElementReference",xml:{serialize:"property"}},{name:"associationDirection",type:"AssociationDirection",isAttr:!0}]},{name:"TextAnnotation",superClass:["Artifact"],properties:[{name:"text",type:"String"},{name:"textFormat",isAttr:!0,type:"String","default":"text/plain"}]},{name:"RuleAnnotationClause",properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"RuleAnnotation",properties:[{name:"text",type:"String"}]},{name:"Invocable",isAbstract:!0,superClass:["DRGElement"],properties:[{name:"variable",type:"InformationItem",xml:{serialize:"property"}}]},{name:"Group",superClass:["Artifact"],properties:[{name:"name",isAttr:!0,type:"String"}]},{name:"FunctionItem",superClass:["DMNElement"],properties:[{name:"parameters",isMany:!0,type:"InformationItem",xml:{serialize:"property"}},{name:"outputTypeRef",isAttr:!0,type:"String"}]},{name:"DMNElementReference",properties:[{isAttr:!0,name:"href",type:"String"}]}],B=[{name:"HitPolicy",literalValues:[{name:"UNIQUE"},{name:"FIRST"},{name:"PRIORITY"},{name:"ANY"},{name:"COLLECT"},{name:"RULE ORDER"},{name:"OUTPUT ORDER"}]},{name:"BuiltinAggregator",literalValues:[{name:"SUM"},{name:"COUNT"},{name:"MIN"},{name:"MAX"}]},{name:"DecisionTableOrientation",literalValues:[{name:"Rule-as-Row"},{name:"Rule-as-Column"},{name:"CrossTable"}]},{name:"AssociationDirection",literalValues:[{name:"None"},{name:"One"},{name:"Both"}]},{name:"FunctionKind",literalValues:[{name:"FEEL"},{name:"Java"},{name:"PMML"}]}],C=[],D={tagAlias:"lowerCase"},E={name:x,prefix:y,uri:z,types:A,enumerations:B,associations:C,xml:D},F="DMNDI",G="dmndi",H="https://www.omg.org/spec/DMN/20191111/DMNDI/",I=[{name:"DMNDI",properties:[{name:"diagrams",type:"DMNDiagram",isMany:!0},{name:"styles",type:"DMNStyle",isMany:!0}]},{name:"DMNStyle",superClass:["di:Style"],properties:[{name:"fillColor",type:"dc:Color",isAttr:!0},{name:"strokeColor",type:"dc:Color",isAttr:!0},{name:"fontColor",type:"dc:Color",isAttr:!0},{name:"fontSize",isAttr:!0,type:"Real"},{name:"fontFamily",isAttr:!0,type:"String"},{name:"fontItalic",isAttr:!0,type:"Boolean"},{name:"fontBold",isAttr:!0,type:"Boolean"},{name:"fontUnderline",isAttr:!0,type:"Boolean"},{name:"fontStrikeThrough",isAttr:!0,type:"Boolean"},{name:"labelHorizontalAlignment",type:"dc:AlignmentKind",isAttr:!0},{name:"labelVerticalAlignment",type:"dc:AlignmentKind",isAttr:!0}]},{name:"DMNDiagram",superClass:["di:Diagram"],properties:[{name:"dmnElementRef",type:"DMN:DMNElement",isAttr:!0,isReference:!0},{name:"size",type:"Size"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"diagramElements",type:"DMNDiagramElement",isMany:!0}]},{name:"DMNDiagramElement",isAbstract:!0,superClass:["di:DiagramElement"],properties:[{name:"dmnElementRef",type:"DMN:DMNElement",isAttr:!0,isReference:!0},{name:"sharedStyle",type:"DMNStyle",isVirtual:!0,isReference:!0,redefines:"di:DiagramElement#sharedStyle"},{name:"localStyle",type:"DMNStyle",isVirtual:!0},{name:"label",type:"DMNLabel"}]},{name:"DMNLabel",superClass:["di:Shape"],properties:[{name:"text",type:"Text"}]},{name:"DMNShape",superClass:["di:Shape","DMNDiagramElement"],properties:[{name:"isListedInputData",isAttr:!0,type:"Boolean"},{name:"decisionServiceDividerLine",type:"DMNDecisionServiceDividerLine"},{name:"isCollapsed",isAttr:!0,type:"Boolean"}]},{name:"DMNEdge",superClass:["di:Edge","DMNDiagramElement"],properties:[{name:"sourceElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0},{name:"targetElement",type:"DMNDiagramElement",isAttr:!0,isReference:!0}]},{name:"DMNDecisionServiceDividerLine",superClass:["di:Edge"]},{name:"Text",properties:[{name:"text",isBody:!0,type:"String"}]},{name:"Size",superClass:["dc:Dimension"]}],J=[],K=[],L={name:F,prefix:G,uri:H,types:I,associations:J,enumerations:K},M={dc:o,di:w,dmn:E,dmndi:L},N=e;c["default"]=N},{"min-dash":734,moddle:738,"moddle-xml":737}],521:[function(a,b,c){"use strict";function d(a){var b=""+a,c=e.exec(b);if(!c)return b;var d,f="",g=0,h=0;for(g=c.index;g<b.length;g++){switch(b.charCodeAt(g)){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&#39;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;default:continue}h!==g&&(f+=b.substring(h,g)),h=g+1,f+=d}return h!==g?f+b.substring(h,g):f}var e=/["'&<>]/;b.exports=d},{}],522:[function(a,b,c){!function(a,c,d,e){"use strict";function f(a,b,c){return setTimeout(k(a,c),b)}function g(a,b,c){return Array.isArray(a)?(h(a,c[b],c),!0):!1}function h(a,b,c){var d;if(a)if(a.forEach)a.forEach(b,c);else if(a.length!==e)for(d=0;d<a.length;)b.call(c,a[d],d,a),d++;else for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a)}function i(b,c,d){var e="DEPRECATED METHOD: "+c+"\n"+d+" AT \n";return function(){var c=new Error("get-stack-trace"),d=c&&c.stack?c.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",f=a.console&&(a.console.warn||a.console.log);return f&&f.call(a.console,e,d),b.apply(this,arguments)}}function j(a,b,c){var d,e=b.prototype;d=a.prototype=Object.create(e),d.constructor=a,d._super=e,c&&ma(d,c)}function k(a,b){return function(){return a.apply(b,arguments)}}function l(a,b){return typeof a==pa?a.apply(b?b[0]||e:e,b):a}function m(a,b){return a===e?b:a}function n(a,b,c){h(r(b),function(b){a.addEventListener(b,c,!1)})}function o(a,b,c){h(r(b),function(b){a.removeEventListener(b,c,!1)})}function p(a,b){for(;a;){if(a==b)return!0;a=a.parentNode}return!1}function q(a,b){return a.indexOf(b)>-1}function r(a){return a.trim().split(/\s+/g)}function s(a,b,c){if(a.indexOf&&!c)return a.indexOf(b);for(var d=0;d<a.length;){if(c&&a[d][c]==b||!c&&a[d]===b)return d;d++}return-1}function t(a){return Array.prototype.slice.call(a,0)}function u(a,b,c){for(var d=[],e=[],f=0;f<a.length;){var g=b?a[f][b]:a[f];s(e,g)<0&&d.push(a[f]),e[f]=g,f++}return c&&(d=b?d.sort(function(a,c){return a[b]>c[b]}):d.sort()),d}function v(a,b){for(var c,d,f=b[0].toUpperCase()+b.slice(1),g=0;g<na.length;){if(c=na[g],d=c?c+f:b,d in a)return d;g++}return e}function w(){return va++}function x(b){var c=b.ownerDocument||b;return c.defaultView||c.parentWindow||a}function y(a,b){var c=this;this.manager=a,this.callback=b,this.element=a.element,this.target=a.options.inputTarget,this.domHandler=function(b){l(a.options.enable,[a])&&c.handler(b)},this.init()}function z(a){var b,c=a.options.inputClass;return new(b=c?c:ya?N:za?Q:xa?S:M)(a,A)}function A(a,b,c){var d=c.pointers.length,e=c.changedPointers.length,f=b&Fa&&d-e===0,g=b&(Ha|Ia)&&d-e===0;c.isFirst=!!f,c.isFinal=!!g,f&&(a.session={}),c.eventType=b,B(a,c),a.emit("hammer.input",c),a.recognize(c),a.session.prevInput=c}function B(a,b){var c=a.session,d=b.pointers,e=d.length;c.firstInput||(c.firstInput=E(b)),e>1&&!c.firstMultiple?c.firstMultiple=E(b):1===e&&(c.firstMultiple=!1);var f=c.firstInput,g=c.firstMultiple,h=g?g.center:f.center,i=b.center=F(d);b.timeStamp=sa(),b.deltaTime=b.timeStamp-f.timeStamp,b.angle=J(h,i),b.distance=I(h,i),C(c,b),b.offsetDirection=H(b.deltaX,b.deltaY);var j=G(b.deltaTime,b.deltaX,b.deltaY);b.overallVelocityX=j.x,b.overallVelocityY=j.y,b.overallVelocity=ra(j.x)>ra(j.y)?j.x:j.y,b.scale=g?L(g.pointers,d):1,b.rotation=g?K(g.pointers,d):0,b.maxPointers=c.prevInput?b.pointers.length>c.prevInput.maxPointers?b.pointers.length:c.prevInput.maxPointers:b.pointers.length,D(c,b);var k=a.element;p(b.srcEvent.target,k)&&(k=b.srcEvent.target),b.target=k}function C(a,b){var c=b.center,d=a.offsetDelta||{},e=a.prevDelta||{},f=a.prevInput||{};(b.eventType===Fa||f.eventType===Ha)&&(e=a.prevDelta={x:f.deltaX||0,y:f.deltaY||0},d=a.offsetDelta={x:c.x,y:c.y}),b.deltaX=e.x+(c.x-d.x),b.deltaY=e.y+(c.y-d.y)}function D(a,b){var c,d,f,g,h=a.lastInterval||b,i=b.timeStamp-h.timeStamp;if(b.eventType!=Ia&&(i>Ea||h.velocity===e)){var j=b.deltaX-h.deltaX,k=b.deltaY-h.deltaY,l=G(i,j,k);d=l.x,f=l.y,c=ra(l.x)>ra(l.y)?l.x:l.y,g=H(j,k),a.lastInterval=b}else c=h.velocity,d=h.velocityX,f=h.velocityY,g=h.direction;b.velocity=c,b.velocityX=d,b.velocityY=f,b.direction=g}function E(a){for(var b=[],c=0;c<a.pointers.length;)b[c]={clientX:qa(a.pointers[c].clientX),clientY:qa(a.pointers[c].clientY)},c++;return{timeStamp:sa(),pointers:b,center:F(b),deltaX:a.deltaX,deltaY:a.deltaY}}function F(a){var b=a.length;if(1===b)return{x:qa(a[0].clientX),y:qa(a[0].clientY)};for(var c=0,d=0,e=0;b>e;)c+=a[e].clientX,d+=a[e].clientY,e++;return{x:qa(c/b),y:qa(d/b)}}function G(a,b,c){return{x:b/a||0,y:c/a||0}}function H(a,b){return a===b?Ja:ra(a)>=ra(b)?0>a?Ka:La:0>b?Ma:Na}function I(a,b,c){c||(c=Ra);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return Math.sqrt(d*d+e*e)}function J(a,b,c){c||(c=Ra);var d=b[c[0]]-a[c[0]],e=b[c[1]]-a[c[1]];return 180*Math.atan2(e,d)/Math.PI}function K(a,b){return J(b[1],b[0],Sa)+J(a[1],a[0],Sa)}function L(a,b){return I(b[0],b[1],Sa)/I(a[0],a[1],Sa)}function M(){this.evEl=Ua,this.evWin=Va,this.pressed=!1,y.apply(this,arguments)}function N(){this.evEl=Ya,this.evWin=Za,y.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function O(){this.evTarget=_a,this.evWin=ab,this.started=!1,y.apply(this,arguments)}function P(a,b){var c=t(a.touches),d=t(a.changedTouches);return b&(Ha|Ia)&&(c=u(c.concat(d),"identifier",!0)),[c,d]}function Q(){this.evTarget=cb,this.targetIds={},y.apply(this,arguments)}function R(a,b){var c=t(a.touches),d=this.targetIds;if(b&(Fa|Ga)&&1===c.length)return d[c[0].identifier]=!0,[c,c];var e,f,g=t(a.changedTouches),h=[],i=this.target;if(f=c.filter(function(a){return p(a.target,i)}),b===Fa)for(e=0;e<f.length;)d[f[e].identifier]=!0,e++;for(e=0;e<g.length;)d[g[e].identifier]&&h.push(g[e]),b&(Ha|Ia)&&delete d[g[e].identifier],e++;return h.length?[u(f.concat(h),"identifier",!0),h]:void 0}function S(){y.apply(this,arguments);var a=k(this.handler,this);this.touch=new Q(this.manager,a),this.mouse=new M(this.manager,a),this.primaryTouch=null,this.lastTouches=[]}function T(a,b){a&Fa?(this.primaryTouch=b.changedPointers[0].identifier,U.call(this,b)):a&(Ha|Ia)&&U.call(this,b)}function U(a){var b=a.changedPointers[0];if(b.identifier===this.primaryTouch){var c={x:b.clientX,y:b.clientY};this.lastTouches.push(c);var d=this.lastTouches,e=function(){var a=d.indexOf(c);a>-1&&d.splice(a,1)};setTimeout(e,db)}}function V(a){for(var b=a.srcEvent.clientX,c=a.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var e=this.lastTouches[d],f=Math.abs(b-e.x),g=Math.abs(c-e.y);if(eb>=f&&eb>=g)return!0}return!1}function W(a,b){this.manager=a,this.set(b)}function X(a){if(q(a,kb))return kb;var b=q(a,lb),c=q(a,mb);return b&&c?kb:b||c?b?lb:mb:q(a,jb)?jb:ib}function Y(){if(!gb)return!1;var b={},c=a.CSS&&a.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(d){b[d]=c?a.CSS.supports("touch-action",d):!0}),b}function Z(a){this.options=ma({},this.defaults,a||{}),this.id=w(),this.manager=null,this.options.enable=m(this.options.enable,!0),this.state=ob,this.simultaneous={},this.requireFail=[]}function $(a){return a&tb?"cancel":a&rb?"end":a&qb?"move":a&pb?"start":""}function _(a){return a==Na?"down":a==Ma?"up":a==Ka?"left":a==La?"right":""}function aa(a,b){var c=b.manager;return c?c.get(a):a}function ba(){Z.apply(this,arguments)}function ca(){ba.apply(this,arguments),this.pX=null,this.pY=null}function da(){ba.apply(this,arguments)}function ea(){Z.apply(this,arguments),this._timer=null,this._input=null}function fa(){ba.apply(this,arguments)}function ga(){ba.apply(this,arguments)}function ha(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ia(a,b){return b=b||{},b.recognizers=m(b.recognizers,ia.defaults.preset),new ja(a,b)}function ja(a,b){this.options=ma({},ia.defaults,b||{}),this.options.inputTarget=this.options.inputTarget||a,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=a,this.input=z(this),this.touchAction=new W(this,this.options.touchAction),ka(this,!0),h(this.options.recognizers,function(a){var b=this.add(new a[0](a[1]));a[2]&&b.recognizeWith(a[2]),a[3]&&b.requireFailure(a[3])},this)}function ka(a,b){var c=a.element;if(c.style){var d;h(a.options.cssProps,function(e,f){d=v(c.style,f),b?(a.oldCssProps[d]=c.style[d],c.style[d]=e):c.style[d]=a.oldCssProps[d]||""}),b||(a.oldCssProps={})}}function la(a,b){var d=c.createEvent("Event");d.initEvent(a,!0,!0),d.gesture=b,b.target.dispatchEvent(d)}var ma,na=["","webkit","Moz","MS","ms","o"],oa=c.createElement("div"),pa="function",qa=Math.round,ra=Math.abs,sa=Date.now;ma="function"!=typeof Object.assign?function(a){if(a===e||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var b=Object(a),c=1;c<arguments.length;c++){var d=arguments[c];if(d!==e&&null!==d)for(var f in d)d.hasOwnProperty(f)&&(b[f]=d[f])}return b}:Object.assign;var ta=i(function(a,b,c){for(var d=Object.keys(b),f=0;f<d.length;)(!c||c&&a[d[f]]===e)&&(a[d[f]]=b[d[f]]),f++;return a},"extend","Use `assign`."),ua=i(function(a,b){return ta(a,b,!0)},"merge","Use `assign`."),va=1,wa=/mobile|tablet|ip(ad|hone|od)|android/i,xa="ontouchstart"in a,ya=v(a,"PointerEvent")!==e,za=xa&&wa.test(navigator.userAgent),Aa="touch",Ba="pen",Ca="mouse",Da="kinect",Ea=25,Fa=1,Ga=2,Ha=4,Ia=8,Ja=1,Ka=2,La=4,Ma=8,Na=16,Oa=Ka|La,Pa=Ma|Na,Qa=Oa|Pa,Ra=["x","y"],Sa=["clientX","clientY"];y.prototype={handler:function(){},init:function(){this.evEl&&n(this.element,this.evEl,this.domHandler),this.evTarget&&n(this.target,this.evTarget,this.domHandler),this.evWin&&n(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&o(this.element,this.evEl,this.domHandler),this.evTarget&&o(this.target,this.evTarget,this.domHandler),this.evWin&&o(x(this.element),this.evWin,this.domHandler)}};var Ta={mousedown:Fa,mousemove:Ga,mouseup:Ha},Ua="mousedown",Va="mousemove mouseup";j(M,y,{handler:function(a){var b=Ta[a.type];b&Fa&&0===a.button&&(this.pressed=!0),b&Ga&&1!==a.which&&(b=Ha),this.pressed&&(b&Ha&&(this.pressed=!1),this.callback(this.manager,b,{pointers:[a],changedPointers:[a],pointerType:Ca,srcEvent:a}))}});var Wa={pointerdown:Fa,pointermove:Ga,pointerup:Ha,pointercancel:Ia,pointerout:Ia},Xa={2:Aa,3:Ba,4:Ca,5:Da},Ya="pointerdown",Za="pointermove pointerup pointercancel";a.MSPointerEvent&&!a.PointerEvent&&(Ya="MSPointerDown",Za="MSPointerMove MSPointerUp MSPointerCancel"),j(N,y,{handler:function(a){var b=this.store,c=!1,d=a.type.toLowerCase().replace("ms",""),e=Wa[d],f=Xa[a.pointerType]||a.pointerType,g=f==Aa,h=s(b,a.pointerId,"pointerId");e&Fa&&(0===a.button||g)?0>h&&(b.push(a),h=b.length-1):e&(Ha|Ia)&&(c=!0),0>h||(b[h]=a,this.callback(this.manager,e,{pointers:b,changedPointers:[a],pointerType:f,srcEvent:a}),c&&b.splice(h,1))}});var $a={touchstart:Fa,touchmove:Ga,touchend:Ha,touchcancel:Ia},_a="touchstart",ab="touchstart touchmove touchend touchcancel";j(O,y,{handler:function(a){var b=$a[a.type];if(b===Fa&&(this.started=!0),this.started){var c=P.call(this,a,b);b&(Ha|Ia)&&c[0].length-c[1].length===0&&(this.started=!1),this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:Aa,srcEvent:a})}}});var bb={touchstart:Fa,touchmove:Ga,touchend:Ha,touchcancel:Ia},cb="touchstart touchmove touchend touchcancel";j(Q,y,{handler:function(a){var b=bb[a.type],c=R.call(this,a,b);c&&this.callback(this.manager,b,{pointers:c[0],changedPointers:c[1],pointerType:Aa,srcEvent:a})}});var db=2500,eb=25;j(S,y,{handler:function(a,b,c){var d=c.pointerType==Aa,e=c.pointerType==Ca;if(!(e&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)T.call(this,b,c);else if(e&&V.call(this,c))return;this.callback(a,b,c)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var fb=v(oa.style,"touchAction"),gb=fb!==e,hb="compute",ib="auto",jb="manipulation",kb="none",lb="pan-x",mb="pan-y",nb=Y();W.prototype={set:function(a){a==hb&&(a=this.compute()),gb&&this.manager.element.style&&nb[a]&&(this.manager.element.style[fb]=a),this.actions=a.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var a=[];return h(this.manager.recognizers,function(b){l(b.options.enable,[b])&&(a=a.concat(b.getTouchAction()))}),X(a.join(" "))},preventDefaults:function(a){var b=a.srcEvent,c=a.offsetDirection;if(this.manager.session.prevented)return void b.preventDefault();var d=this.actions,e=q(d,kb)&&!nb[kb],f=q(d,mb)&&!nb[mb],g=q(d,lb)&&!nb[lb];if(e){var h=1===a.pointers.length,i=a.distance<2,j=a.deltaTime<250;if(h&&i&&j)return}return g&&f?void 0:e||f&&c&Oa||g&&c&Pa?this.preventSrc(b):void 0},preventSrc:function(a){this.manager.session.prevented=!0,a.preventDefault()}};var ob=1,pb=2,qb=4,rb=8,sb=rb,tb=16,ub=32;Z.prototype={defaults:{},set:function(a){return ma(this.options,a),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(a){if(g(a,"recognizeWith",this))return this;var b=this.simultaneous;return a=aa(a,this),b[a.id]||(b[a.id]=a,a.recognizeWith(this)),this},dropRecognizeWith:function(a){return g(a,"dropRecognizeWith",this)?this:(a=aa(a,this),delete this.simultaneous[a.id],this)},requireFailure:function(a){if(g(a,"requireFailure",this))return this;var b=this.requireFail;return a=aa(a,this),-1===s(b,a)&&(b.push(a),a.requireFailure(this)),this},dropRequireFailure:function(a){if(g(a,"dropRequireFailure",this))return this;a=aa(a,this);var b=s(this.requireFail,a);return b>-1&&this.requireFail.splice(b,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(a){return!!this.simultaneous[a.id]},emit:function(a){function b(b){c.manager.emit(b,a)}var c=this,d=this.state;rb>d&&b(c.options.event+$(d)),b(c.options.event),a.additionalEvent&&b(a.additionalEvent),d>=rb&&b(c.options.event+$(d))},tryEmit:function(a){return this.canEmit()?this.emit(a):void(this.state=ub)},canEmit:function(){for(var a=0;a<this.requireFail.length;){if(!(this.requireFail[a].state&(ub|ob)))return!1;a++}return!0},recognize:function(a){var b=ma({},a);return l(this.options.enable,[this,b])?(this.state&(sb|tb|ub)&&(this.state=ob),this.state=this.process(b),void(this.state&(pb|qb|rb|tb)&&this.tryEmit(b))):(this.reset(),void(this.state=ub))},process:function(a){},getTouchAction:function(){},reset:function(){}},j(ba,Z,{defaults:{pointers:1},attrTest:function(a){var b=this.options.pointers;return 0===b||a.pointers.length===b},process:function(a){var b=this.state,c=a.eventType,d=b&(pb|qb),e=this.attrTest(a);return d&&(c&Ia||!e)?b|tb:d||e?c&Ha?b|rb:b&pb?b|qb:pb:ub}}),j(ca,ba,{defaults:{event:"pan",threshold:10,pointers:1,direction:Qa},getTouchAction:function(){var a=this.options.direction,b=[];return a&Oa&&b.push(mb),a&Pa&&b.push(lb),b},directionTest:function(a){var b=this.options,c=!0,d=a.distance,e=a.direction,f=a.deltaX,g=a.deltaY;return e&b.direction||(b.direction&Oa?(e=0===f?Ja:0>f?Ka:La,c=f!=this.pX,d=Math.abs(a.deltaX)):(e=0===g?Ja:0>g?Ma:Na,c=g!=this.pY,d=Math.abs(a.deltaY))),a.direction=e,c&&d>b.threshold&&e&b.direction},attrTest:function(a){return ba.prototype.attrTest.call(this,a)&&(this.state&pb||!(this.state&pb)&&this.directionTest(a))},emit:function(a){this.pX=a.deltaX,this.pY=a.deltaY;var b=_(a.direction);b&&(a.additionalEvent=this.options.event+b),this._super.emit.call(this,a)}}),j(da,ba,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[kb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.scale-1)>this.options.threshold||this.state&pb)},emit:function(a){if(1!==a.scale){var b=a.scale<1?"in":"out";a.additionalEvent=this.options.event+b}this._super.emit.call(this,a)}}),j(ea,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ib]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime>b.time;if(this._input=a,!d||!c||a.eventType&(Ha|Ia)&&!e)this.reset();else if(a.eventType&Fa)this.reset(),this._timer=f(function(){this.state=sb,this.tryEmit()},b.time,this);else if(a.eventType&Ha)return sb;return ub},reset:function(){clearTimeout(this._timer)},emit:function(a){this.state===sb&&(a&&a.eventType&Ha?this.manager.emit(this.options.event+"up",a):(this._input.timeStamp=sa(),this.manager.emit(this.options.event,this._input)))}}),j(fa,ba,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[kb]},attrTest:function(a){return this._super.attrTest.call(this,a)&&(Math.abs(a.rotation)>this.options.threshold||this.state&pb)}}),j(ga,ba,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Oa|Pa,pointers:1},getTouchAction:function(){return ca.prototype.getTouchAction.call(this)},attrTest:function(a){var b,c=this.options.direction;return c&(Oa|Pa)?b=a.overallVelocity:c&Oa?b=a.overallVelocityX:c&Pa&&(b=a.overallVelocityY),this._super.attrTest.call(this,a)&&c&a.offsetDirection&&a.distance>this.options.threshold&&a.maxPointers==this.options.pointers&&ra(b)>this.options.velocity&&a.eventType&Ha},emit:function(a){var b=_(a.offsetDirection);b&&this.manager.emit(this.options.event+b,a),this.manager.emit(this.options.event,a)}}),j(ha,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[jb]},process:function(a){var b=this.options,c=a.pointers.length===b.pointers,d=a.distance<b.threshold,e=a.deltaTime<b.time;if(this.reset(),a.eventType&Fa&&0===this.count)return this.failTimeout();if(d&&e&&c){if(a.eventType!=Ha)return this.failTimeout();var g=this.pTime?a.timeStamp-this.pTime<b.interval:!0,h=!this.pCenter||I(this.pCenter,a.center)<b.posThreshold;this.pTime=a.timeStamp,this.pCenter=a.center,h&&g?this.count+=1:this.count=1,this._input=a;var i=this.count%b.taps;if(0===i)return this.hasRequireFailures()?(this._timer=f(function(){this.state=sb,this.tryEmit()},b.interval,this),pb):sb}return ub},failTimeout:function(){return this._timer=f(function(){this.state=ub},this.options.interval,this),ub},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==sb&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ia.VERSION="2.0.7",ia.defaults={domEvents:!1,touchAction:hb,enable:!0,inputTarget:null,inputClass:null,preset:[[fa,{enable:!1}],[da,{enable:!1},["rotate"]],[ga,{direction:Oa}],[ca,{direction:Oa},["swipe"]],[ha],[ha,{event:"doubletap",taps:2},["tap"]],[ea]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var vb=1,wb=2;ja.prototype={set:function(a){return ma(this.options,a),a.touchAction&&this.touchAction.update(),a.inputTarget&&(this.input.destroy(),this.input.target=a.inputTarget,this.input.init()),this},stop:function(a){this.session.stopped=a?wb:vb},recognize:function(a){var b=this.session;if(!b.stopped){this.touchAction.preventDefaults(a);var c,d=this.recognizers,e=b.curRecognizer;(!e||e&&e.state&sb)&&(e=b.curRecognizer=null);for(var f=0;f<d.length;)c=d[f],b.stopped===wb||e&&c!=e&&!c.canRecognizeWith(e)?c.reset():c.recognize(a),!e&&c.state&(pb|qb|rb)&&(e=b.curRecognizer=c),f++}},get:function(a){if(a instanceof Z)return a;for(var b=this.recognizers,c=0;c<b.length;c++)if(b[c].options.event==a)return b[c];return null},add:function(a){if(g(a,"add",this))return this;var b=this.get(a.options.event);return b&&this.remove(b),this.recognizers.push(a),a.manager=this,this.touchAction.update(),a},remove:function(a){if(g(a,"remove",this))return this;if(a=this.get(a)){var b=this.recognizers,c=s(b,a);-1!==c&&(b.splice(c,1),this.touchAction.update())}return this},on:function(a,b){if(a!==e&&b!==e){var c=this.handlers;return h(r(a),function(a){c[a]=c[a]||[],c[a].push(b)}),this}},off:function(a,b){if(a!==e){var c=this.handlers;return h(r(a),function(a){b?c[a]&&c[a].splice(s(c[a],b),1):delete c[a]}),this}},emit:function(a,b){this.options.domEvents&&la(a,b);var c=this.handlers[a]&&this.handlers[a].slice();if(c&&c.length){b.type=a,b.preventDefault=function(){b.srcEvent.preventDefault()};for(var d=0;d<c.length;)c[d](b),d++}},destroy:function(){this.element&&ka(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},ma(ia,{INPUT_START:Fa,INPUT_MOVE:Ga,INPUT_END:Ha,INPUT_CANCEL:Ia,STATE_POSSIBLE:ob,STATE_BEGAN:pb,STATE_CHANGED:qb,STATE_ENDED:rb,STATE_RECOGNIZED:sb,STATE_CANCELLED:tb,STATE_FAILED:ub,DIRECTION_NONE:Ja,DIRECTION_LEFT:Ka,DIRECTION_RIGHT:La,DIRECTION_UP:Ma,DIRECTION_DOWN:Na,DIRECTION_HORIZONTAL:Oa,DIRECTION_VERTICAL:Pa,DIRECTION_ALL:Qa,Manager:ja,Input:y,TouchAction:W,TouchInput:Q,MouseInput:M,PointerEventInput:N,TouchMouseInput:S,SingleTouchInput:O,Recognizer:Z,AttrRecognizer:ba,Tap:ha,Pan:ca,Swipe:ga,Pinch:da,Rotate:fa,Press:ea,on:n,off:o,each:h,merge:ua,extend:ta,assign:ma,inherit:j,bindFn:k,prefixed:v});var xb="undefined"!=typeof a?a:"undefined"!=typeof self?self:{};xb.Hammer=ia,"function"==typeof define&&define.amd?define(function(){return ia}):"undefined"!=typeof b&&b.exports?b.exports=ia:a[d]=ia}(window,document,"Hammer")},{}],523:[function(a,b,c){var d=b.exports=function(a,b){if(b||(b=16),void 0===a&&(a=128),0>=a)return"0";for(var c=Math.log(Math.pow(2,a))/Math.log(b),e=2;c===1/0;e*=2)c=Math.log(Math.pow(2,a/e))/Math.log(b)*e;for(var f=c-Math.floor(c),g="",e=0;e<Math.floor(c);e++){var h=Math.floor(Math.random()*b).toString(b);g=h+g}if(f){var i=Math.pow(b,f),h=Math.floor(Math.random()*i).toString(b);g=h+g}var j=parseInt(g,b);return j!==1/0&&j>=Math.pow(2,a)?d(a,b):g};d.rack=function(a,b,c){var e=function(e){var g=0;do{if(g++>10){if(!c)throw new Error("too many ID collisions, use more bits");a+=c}var h=d(a,b)}while(Object.hasOwnProperty.call(f,h));return f[h]=e,h},f=e.hats={};return e.get=function(a){return e.hats[a]},e.set=function(a,b){return e.hats[a]=b,e},e.bits=a||128,e.base=b||16,e}},{}],524:[function(a,b,c){"use strict";function d(a,b){return b={exports:{}},a(b,b.exports),b.exports}function e(a){return this instanceof e?(a=a||[128,36,1],void(this._seed=a.length?f.rack(a[0],a[1],a[2]):a)):new e(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var f=d(function(a){var b=a.exports=function(a,c){if(c||(c=16),void 0===a&&(a=128),0>=a)return"0";for(var d=Math.log(Math.pow(2,a))/Math.log(c),e=2;d===1/0;e*=2)d=Math.log(Math.pow(2,a/e))/Math.log(c)*e;for(var f=d-Math.floor(d),g="",e=0;e<Math.floor(d);e++){var h=Math.floor(Math.random()*c).toString(c);g=h+g}if(f){var i=Math.pow(c,f),h=Math.floor(Math.random()*i).toString(c);g=h+g}var j=parseInt(g,c);return j!==1/0&&j>=Math.pow(2,a)?b(a,c):g};b.rack=function(a,c,d){var e=function(e){var g=0;do{if(g++>10){if(!d)throw new Error("too many ID collisions, use more bits");a+=d}var h=b(a,c)}while(Object.hasOwnProperty.call(f,h));return f[h]=e,h},f=e.hats={};return e.get=function(a){return e.hats[a]},e.set=function(a,b){return e.hats[a]=b,e},e.bits=a||128,e.base=c||16,e}});e.prototype.next=function(a){return this._seed(a||!0)},e.prototype.nextPrefixed=function(a,b){var c;do c=a+this.next(!0);while(this.assigned(c));return this.claim(c,b),c},e.prototype.claim=function(a,b){this._seed.set(a,b||!0)},e.prototype.assigned=function(a){return this._seed.get(a)||!1},e.prototype.unclaim=function(a){delete this._seed.hats[a]},e.prototype.clear=function(){var a,b=this._seed.hats;for(a in b)this.unclaim(a)};var g=e;c["default"]=g},{}],525:[function(a,b,c){"use strict";function d(a){var b=typeof a;return"string"===b||"number"===b}function e(a){return l(a)||j(a)}function f(a){return j(a)||a===!1||k(a)||l(a)}function g(a){return"function"==typeof a}function h(a){return"string"==typeof a}function i(a){return"number"==typeof a}function j(a){return null===a}function k(a){return a===!0}function l(a){return void 0===a}function m(a){return"object"==typeof a}function n(a){throw a||(a=Ua),new Error("Inferno Error: "+a)}function o(a,b){var c={};if(a)for(var d in a)c[d]=a[d];if(b)for(var e in b)c[e]=b[e];return c}function p(a,b,c,d,e,f,g,h){return{childFlags:a,children:b,className:c,dom:null,flags:d,key:void 0===e?null:e,parentVNode:null,props:void 0===f?null:f,ref:void 0===g?null:g,type:h}}function q(a,b,c,d,e,f,g,h){var i=void 0===e?1:e,j=p(i,d,c,a,g,f,h,b);return 0===i&&y(j,j.children),j}function r(a,b,c,d,f){(2&a)>0&&(a=b.prototype&&g(b.prototype.render)?4:8);var h=b.defaultProps;if(!e(h)){c||(c={});for(var i in h)l(c[i])&&(c[i]=h[i])}if((8&a)>0){var j=b.defaultHooks;if(!e(j))if(f)for(var k in j)l(f[k])&&(f[k]=j[k]);else f=j}var m=p(1,null,null,a,d,c,f,b),n=Ya.createVNode;return g(n)&&n(m),m}function s(a,b){return p(1,e(a)?"":a,null,16,b,null,null,null)}function t(a){var b=a.props;if(b){var c=a.flags;481&c&&(void 0!==b.children&&e(a.children)&&y(a,b.children),void 0!==b.className&&(a.className=b.className||null,b.className=void 0)),void 0!==b.key&&(a.key=b.key,b.key=void 0),void 0!==b.ref&&(8&c?a.ref=o(a.ref,b.ref):a.ref=b.ref,b.ref=void 0)}return a}function u(a){var b,c=a.flags;if(14&c){var d,e=a.props;if(!j(e)){d={};for(var f in e)d[f]=e[f]}b=r(c,a.type,d,a.key,a.ref)}else if(481&c){var g=a.children;b=q(c,a.type,a.className,g,a.childFlags,a.props,a.key,a.ref)}else 16&c?b=s(a.children,a.key):1024&c&&(b=a);return b}function v(){return s("",null)}function w(a,b,c,e){for(var g=a.length;g>c;c++){var i=a[c];if(!f(i)){var k=e+Xa+c;if(Wa(i))w(i,b,0,k);else{if(d(i))i=s(i,k);else{var l=i.key,m=h(l)&&l[0]===Xa;(!j(i.dom)||m)&&(i=u(i)),j(l)||m?i.key=k:i.key=e+l}b.push(i)}}}}function x(a){return"svg"===a?32:"input"===a?64:"select"===a?256:"textarea"===a?128:1}function y(a,b){var c,e=1;if(f(b))c=b;else if(h(b))e=2,c=s(b);else if(i(b))e=2,c=s(b+"");else if(Wa(b)){var g=b.length;if(0===g)c=null,e=1;else{(Object.isFrozen(b)||b.$===!0)&&(b=b.slice()),e=8;for(var k=0;g>k;k++){var l=b[k];if(f(l)||Wa(l)){c=c||b.slice(0,k),w(b,c,k,"");break}if(d(l))c=c||b.slice(0,k),c.push(s(l,Xa+k));else{var m=l.key,n=j(l.dom),o=j(m),p=!o&&m[0]===Xa;!n||o||p?(c=c||b.slice(0,k),(!n||p)&&(l=u(l)),(o||p)&&(l.key=Xa+k),c.push(l)):c&&c.push(l)}}c=c||b,c.$=!0}}else c=b,j(b.dom)||(c=u(b)),e=2;return a.children=c,a.childFlags=e,a}function z(a,b){return g(b)?{data:a,event:b}:null}function A(a,b){a.appendChild(b)}function B(a,b,c){e(c)?A(a,b):a.insertBefore(b,c)}function C(a,b){return b===!0?document.createElementNS(_a,a):document.createElement(a)}function D(a,b,c){a.replaceChild(b,c)}function E(a,b){a.removeChild(b)}function F(a){for(var b;void 0!==(b=a.shift());)b()}function G(a,b,c){var d=db[a],e=c.$EV;b?(d||(eb[a]=K(a),db[a]=0),e||(e=c.$EV={}),e[a]||db[a]++,e[a]=b):e&&e[a]&&(db[a]--,1===d&&(document.removeEventListener(I(a),eb[a]),eb[a]=null),e[a]=b)}function H(a,b,c,d,e){for(var f=b;!j(f);){if(c&&f.disabled)return;var g=f.$EV;if(g){var h=g[d];if(h&&(e.dom=f,h.event?h.event(h.data,a):h(a),a.cancelBubble))return}f=f.parentNode}}function I(a){return a.substr(2).toLowerCase()}function J(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function K(a){var b=function(b){var c=b.type,d="click"===c||"dblclick"===c;if(d&&0!==b.button)return b.preventDefault(),b.stopPropagation(),!1;b.stopPropagation=J;var e={dom:document};
Object.defineProperty(b,"currentTarget",{configurable:!0,get:function(){return e.dom}}),H(b,b.target,d,a,e)};return document.addEventListener(I(a),b),b}function L(a,b){var c=document.createElement("i");return c.innerHTML=b,c.innerHTML===a.innerHTML}function M(a,b){return Boolean(b&&b.dangerouslySetInnerHTML&&b.dangerouslySetInnerHTML.__html&&L(a,b.dangerouslySetInnerHTML.__html))}function N(a,b,c){if(a[b]){var d=a[b];d.event?d.event(d.data,c):d(c)}else{var e=b.toLowerCase();a[e]&&a[e](c)}}function O(a,b){var c=function(c){c.stopPropagation();var d=this.$V;if(d){var e=d.props||bb,f=d.dom;if(h(a))N(e,a,c);else for(var i=0;i<a.length;i++)N(e,a[i],c);if(g(b)){var j=this.$V,k=j.props||bb;b(k,f,!1,j)}}};return Object.defineProperty(c,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),c}function P(a){return"checkbox"===a||"radio"===a}function Q(a){a.stopPropagation()}function R(a,b){P(b.type)?(a.onchange=gb,a.onclick=Q):a.oninput=fb}function S(a,b){var c=a.type,d=a.value,f=a.checked,g=a.multiple,h=a.defaultValue,i=!e(d);c&&c!==b.type&&b.setAttribute("type",c),e(g)||g===b.multiple||(b.multiple=g),e(h)||i||(b.defaultValue=h+""),P(c)?(i&&(b.value=d),e(f)||(b.checked=f)):i&&b.value!==d?(b.defaultValue=d,b.value=d):e(f)||(b.checked=f)}function T(a,b){var c=a.type;if("optgroup"===c){var d=a.children,e=a.childFlags;if(12&e)for(var f=0,g=d.length;g>f;f++)U(d[f],b);else 2===e&&U(d,b)}else U(a,b)}function U(a,b){var c=a.props||bb,d=a.dom;d.value=c.value,Wa(b)&&-1!==b.indexOf(c.value)||c.value===b?d.selected=!0:e(b)&&e(c.selected)||(d.selected=c.selected||!1)}function V(a){a.onchange=hb}function W(a,b,c,d){var f=Boolean(a.multiple);e(a.multiple)||f===b.multiple||(b.multiple=f);var g=d.childFlags;if(0===(1&g)){var h=d.children,i=a.value;if(c&&e(i)&&(i=a.defaultValue),12&g)for(var j=0,k=h.length;k>j;j++)T(h[j],i);else 2===g&&T(h,i)}}function X(a,b){a.oninput=ib,b.onChange&&(a.onchange=jb)}function Y(a,b,c){var d=a.value,f=b.value;if(e(d)){if(c){var g=a.defaultValue;e(g)||g===f||(b.defaultValue=g,b.value=g)}}else f!==d&&(b.defaultValue=d,b.value=d)}function Z(a,b,c,d,e,f){64&a?S(d,c):256&a?W(d,c,e,b):128&a&&Y(d,c,e),f&&(c.$V=b)}function $(a,b,c){64&a?R(b,c):256&a?V(b):128&a&&X(b,c)}function _(a){return a.type&&P(a.type)?!e(a.checked):!e(a.value)}function aa(a,b){ba(a),j(b)||(E(b,a.dom),a.dom=null)}function ba(a){var b=a.flags;if(481&b){var c=a.ref,d=a.props;g(c)&&c(null);var f=a.children,h=a.childFlags;if(12&h?ca(f):2===h&&ba(f),!j(d))for(var i in d)switch(i){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":G(i,null,a.dom)}}else if(14&b){var k=a.children,l=a.ref;4&b?(g(Ya.beforeUnmount)&&Ya.beforeUnmount(a),g(k.componentWillUnmount)&&k.componentWillUnmount(),g(l)&&l(null),k.$UN=!0,ba(k.$LI)):(!e(l)&&g(l.onComponentWillUnmount)&&l.onComponentWillUnmount(a.dom,a.props||bb),ba(k))}else if(1024&b){var n=a.children;!j(n)&&m(n)&&aa(n,a.type)}}function ca(a){for(var b=0,c=a.length;c>b;b++)ba(a[b])}function da(a,b){ca(b),a.textContent=""}function ea(a,b){return function(c){a(b.data,c)}}function fa(a,b,c,d){var f=a.toLowerCase();if(g(c)||e(c)){var h=d[f];h&&h.wrapped||(d[f]=c)}else{var i=c.event;i&&g(i)&&(d[f]=ea(i,c))}}function ga(a,b){switch(a){case"animationIterationCount":case"borderImageOutset":case"borderImageSlice":case"borderImageWidth":case"boxFlex":case"boxFlexGroup":case"boxOrdinalGroup":case"columnCount":case"fillOpacity":case"flex":case"flexGrow":case"flexNegative":case"flexOrder":case"flexPositive":case"flexShrink":case"floodOpacity":case"fontWeight":case"gridColumn":case"gridRow":case"lineClamp":case"lineHeight":case"opacity":case"order":case"orphans":case"stopOpacity":case"strokeDasharray":case"strokeDashoffset":case"strokeMiterlimit":case"strokeOpacity":case"strokeWidth":case"tabSize":case"widows":case"zIndex":case"zoom":return b;default:return b+"px"}}function ha(a,b,c){var d,f,g=c.style;if(h(b))return void(g.cssText=b);if(e(a)||h(a))for(d in b)f=b[d],g[d]=i(f)?ga(d,f):f;else{for(d in b)f=b[d],f!==a[d]&&(g[d]=i(f)?ga(d,f):f);for(d in a)e(b[d])&&(g[d]="")}}function ia(a,b,c,d,f,g,h){switch(a){case"onClick":case"onDblClick":case"onFocusIn":case"onFocusOut":case"onKeyDown":case"onKeyPress":case"onKeyUp":case"onMouseDown":case"onMouseMove":case"onMouseUp":case"onSubmit":case"onTouchEnd":case"onTouchMove":case"onTouchStart":G(a,c,d);break;case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":return;case"allowfullscreen":case"autoFocus":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":a="autoFocus"===a?a.toLowerCase():a,d[a]=!!c;break;case"defaultChecked":case"value":case"volume":if(g&&"value"===a)return;var i=e(c)?"":c;d[a]!==i&&(d[a]=i);break;case"dangerouslySetInnerHTML":var k=b&&b.__html||"",l=c&&c.__html||"";k!==l&&(e(l)||L(d,l)||(j(h)||(12&h.childFlags?ca(h.children):2===h.childFlags&&ba(h.children),h.children=null,h.childFlags=1),d.innerHTML=l));break;default:"o"===a[0]&&"n"===a[1]?fa(a,b,c,d):e(c)?d.removeAttribute(a):"style"===a?ha(b,c,d):f&&ab[a]?d.setAttributeNS(ab[a],a,c):d.setAttribute(a,c)}}function ja(a,b,c,d,e){var f=!1,g=(448&b)>0;g&&(f=_(c),f&&$(b,d,c));for(var h in c)ia(h,null,c[h],d,e,f,null);g&&Z(b,a,d,c,!0,f)}function ka(a,b,c,d){var f=new b(c,d);if(a.children=f,f.$V=a,f.$BS=!1,f.context=d,f.props===bb&&(f.props=c),f.$UN=!1,g(f.componentWillMount)){if(f.$BR=!0,f.componentWillMount(),f.$PSS){var h=f.state,i=f.$PS;if(j(h))f.state=i;else for(var k in i)h[k]=i[k];f.$PSS=!1,f.$PS=null}f.$BR=!1}g(Ya.beforeRender)&&Ya.beforeRender(f);var l,m=la(f.render(c,f.state,d),a);return g(f.getChildContext)&&(l=f.getChildContext()),e(l)?f.$CX=d:f.$CX=o(d,l),g(Ya.afterRender)&&Ya.afterRender(f),f.$LI=m,f}function la(a,b){return f(a)?a=v():d(a)?a=s(a,null):(a.dom&&(a=u(a)),14&a.flags&&(a.parentVNode=b)),a}function ma(a,b,c,d,e){var f=a.flags;return 481&f?oa(a,b,c,d,e):14&f?qa(a,b,c,d,e,(4&f)>0):512&f||16&f?na(a,b):1024&f?(ma(a.children,a.type,c,d,!1),a.dom=na(v(),b)):void 0}function na(a,b){var c=a.dom=document.createTextNode(a.children);return j(b)||A(b,c),c}function oa(a,b,c,d,f){var h=a.flags,i=a.children,k=a.props,l=a.className,m=a.ref,n=a.childFlags;f=f||(32&h)>0;var o=C(a.type,f);if(a.dom=o,e(l)||""===l||(f?o.setAttribute("class",l):o.className=l),j(b)||A(b,o),0===(1&n)){var p=f===!0&&"foreignObject"!==a.type;2===n?ma(i,o,c,d,p):12&n&&pa(i,o,c,d,p)}return j(k)||ja(a,h,k,o,f),g(m)&&va(o,m,c),o}function pa(a,b,c,d,e){for(var f=0,g=a.length;g>f;f++){var h=a[f];j(h.dom)||(a[f]=h=u(h)),ma(h,b,c,d,e)}}function qa(a,b,c,d,e,f){var g,h=a.type,i=a.props||bb,k=a.ref;if(f){var l=ka(a,h,i,d);a.dom=g=ma(l.$LI,null,c,l.$CX,e),sa(a,k,l,c),l.$UPD=!1}else{var m=la(h(i,d),a);a.children=m,a.dom=g=ma(m,null,c,d,e),ua(i,k,g,c)}return j(b)||A(b,g),g}function ra(a,b,c,d,e){return function(){a.$UPD=!0,b&&c(d),e&&a.componentDidMount(),a.$UPD=!1}}function sa(a,b,c,d){g(b)&&b(c);var e=g(c.componentDidMount),f=Ya.afterMount,h=g(f);(e||h)&&d.push(ra(c,h,f,a,e))}function ta(a,b,c){return function(){return a.onComponentDidMount(b,c)}}function ua(a,b,c,d){e(b)||(g(b.onComponentWillMount)&&b.onComponentWillMount(a),g(b.onComponentDidMount)&&d.push(ta(b,c,a)))}function va(a,b,c){c.push(function(){return b(a)})}function wa(a,b,c,d,e,f){var g=a.type,h=a.ref,i=a.props||bb;if(f){var j=ka(a,g,i,d),k=j.$LI;za(k,b,c,j.$CX,e),a.dom=k.dom,sa(a,h,j,c),j.$UPD=!1}else{var l=la(g(i,d),a);za(l,b,c,d,e),a.children=l,a.dom=l.dom,ua(i,h,b,c)}}function xa(a,b,c,d,f){var h=a.children,i=a.props,k=a.className,l=a.flags,m=a.ref;if(f=f||(32&l)>0,1!==b.nodeType||b.tagName.toLowerCase()!==a.type){var n=oa(a,null,c,d,f);a.dom=n,D(b.parentNode,n,b)}else{a.dom=b;var o=b.firstChild,p=a.childFlags;if(0===(1&p)){for(var q=null;o;)q=o.nextSibling,8===o.nodeType&&("!"===o.data?b.replaceChild(document.createTextNode(""),o):b.removeChild(o)),o=q;if(o=b.firstChild,2===p)j(o)?ma(h,b,c,d,f):(q=o.nextSibling,za(h,o,c,d,f),o=q);else if(12&p)for(var r=0,s=h.length;s>r;r++){var t=h[r];j(o)?ma(t,b,c,d,f):(q=o.nextSibling,za(t,o,c,d,f),o=q)}for(;o;)q=o.nextSibling,b.removeChild(o),o=q}else j(b.firstChild)||M(b,i)||(b.textContent="",448&l&&(b.defaultValue=""));j(i)||ja(a,l,i,b,f),e(k)?""!==b.className&&b.removeAttribute("class"):f?b.setAttribute("class",k):b.className=k,g(m)&&va(b,m,c)}}function ya(a,b){if(3!==b.nodeType){var c=na(a,null);a.dom=c,D(b.parentNode,c,b)}else{var d=a.children;b.nodeValue!==d&&(b.nodeValue=d),a.dom=b}}function za(a,b,c,d,e){var f=a.flags;14&f?wa(a,b,c,d,e,(4&f)>0):481&f?xa(a,b,c,d,e):16&f?ya(a,b):512&f?a.dom=b:n()}function Aa(a,b,c){var d=b.firstChild;if(!j(d))for(f(a)||za(a,d,cb,bb,!1),d=b.firstChild;d=d.nextSibling;)b.removeChild(d);cb.length>0&&F(cb),b.$V||Ya.roots.push(b),b.$V=a,g(c)&&c()}function Ba(a,b,c,d,e,f){ba(a),D(c,ma(b,null,d,e,f),a.dom)}function Ca(a,b,c,d,e,f){if(a!==b){var g=0|b.flags;a.flags!==g||2048&g?Ba(a,b,c,d,e,f):481&g?Ea(a,b,c,d,e,f):14&g?Ha(a,b,c,d,e,f,(4&g)>0):16&g?Ia(a,b,c):512&g?b.dom=a.dom:Da(a,b,d,e)}}function Da(a,b,c,d){var e=a.type,g=b.type,h=b.children;if(Fa(a.childFlags,b.childFlags,a.children,h,e,c,d,!1),b.dom=a.dom,e!==g&&!f(h)){var i=h.dom;e.removeChild(i),g.appendChild(i)}}function Ea(a,b,c,d,f,h){var i=b.type;if(a.type!==i)Ba(a,b,c,d,f,h);else{var j,k=a.dom,l=b.flags,m=a.props,n=b.props,o=!1,p=!1;if(b.dom=k,h=h||(32&l)>0,m!==n){var q=m||bb;if(j=n||bb,j!==bb){o=(448&l)>0,o&&(p=_(j));for(var r in j){var s=q[r],t=j[r];s!==t&&ia(r,s,t,k,h,p,a)}}if(q!==bb)for(var u in q)j.hasOwnProperty(u)||e(q[u])||ia(u,q[u],null,k,h,p,a)}var v=a.children,w=b.children,x=b.ref,y=a.className,z=b.className;v!==w&&Fa(a.childFlags,b.childFlags,v,w,k,d,f,h&&"foreignObject"!==i),o&&Z(l,b,k,j,!1,p),y!==z&&(e(z)?k.removeAttribute("class"):h?k.setAttribute("class",z):k.className=z),g(x)&&a.ref!==x&&va(k,x,d)}}function Fa(a,b,c,d,e,f,g,h){switch(a){case 2:switch(b){case 2:Ca(c,d,e,f,g,h);break;case 1:aa(c,e);break;default:aa(c,e),pa(d,e,f,g,h)}break;case 1:switch(b){case 2:ma(d,e,f,g,h);break;case 1:break;default:pa(d,e,f,g,h)}break;default:if(12&b){var i=c.length,j=d.length;0===i?j>0&&pa(d,e,f,g,h):0===j?da(e,c):8===b&&8===a?Ka(c,d,e,f,g,h,i,j):Ja(c,d,e,f,g,h,i,j)}else 1===b?da(e,c):(da(e,c),ma(d,e,f,g,h))}}function Ga(a,b,c,d,f,h,i,j,k,l){var m=a.state,n=a.props;c.children=a;var p;if(!a.$UN){if(n!==d||d===bb){if(!l&&g(a.componentWillReceiveProps)){if(a.$BR=!0,a.componentWillReceiveProps(d,i),a.$UN)return;a.$BR=!1}a.$PSS&&(b=o(b,a.$PS),a.$PSS=!1,a.$PS=null)}var q=g(a.shouldComponentUpdate);if(k||!q||q&&a.shouldComponentUpdate(d,b,i)){g(a.componentWillUpdate)&&(a.$BS=!0,a.componentWillUpdate(d,b,i),a.$BS=!1),a.props=d,a.state=b,a.context=i,g(Ya.beforeRender)&&Ya.beforeRender(a),p=a.render(d,b,i),g(Ya.afterRender)&&Ya.afterRender(a);var r,s=p!==Ta;if(g(a.getChildContext)&&(r=a.getChildContext()),r=e(r)?i:o(i,r),a.$CX=r,s){var t=a.$LI,u=a.$LI=la(p,c);Ca(t,u,f,h,r,j),g(a.componentDidUpdate)&&a.componentDidUpdate(n,m),g(Ya.afterUpdate)&&Ya.afterUpdate(c)}}else a.props=d,a.state=b,a.context=i;c.dom=a.$LI.dom}}function Ha(a,b,c,d,f,h,i){var j=b.type,k=a.key,l=b.key;if(a.type!==j||k!==l)Ba(a,b,c,d,f,h);else{var m=b.props||bb;if(i){var n=a.children;n.$UPD=!0,Ga(n,n.state,b,m,c,d,f,h,!1,!1),n.$V=b,n.$UPD=!1}else{var o=!0,p=a.props,q=b.ref,r=!e(q),s=a.children;if(b.dom=a.dom,b.children=s,r&&g(q.onComponentShouldUpdate)&&(o=q.onComponentShouldUpdate(p,m)),o!==!1){r&&g(q.onComponentWillUpdate)&&q.onComponentWillUpdate(p,m);var t=j(m,f);t!==Ta&&(t=la(t,b),Ca(s,t,c,d,f,h),b.children=t,b.dom=t.dom,r&&g(q.onComponentDidUpdate)&&q.onComponentDidUpdate(p,m))}else 14&s.flags&&(s.parentVNode=b)}}}function Ia(a,b,c){var d,e=b.children,f=c.firstChild;j(f)?(c.textContent=e,d=c.firstChild):(d=a.dom,e!==a.children&&(d.nodeValue=e)),b.dom=d}function Ja(a,b,c,d,e,f,g,h){for(var i,j=g>h?h:g,k=0;j>k;k++)i=b[k],i.dom&&(i=b[k]=u(i)),Ca(a[k],i,c,d,e,f);if(h>g)for(k=j;h>k;k++)i=b[k],i.dom&&(i=b[k]=u(i)),ma(i,c,d,e,f);else if(g>h)for(k=j;g>k;k++)aa(a[k],c)}function Ka(a,b,c,d,e,f,g,h){var i,j,k,l,m=g-1,n=h-1,o=0,p=0,q=a[o],r=b[p];a:{for(;q.key===r.key;){if(r.dom&&(b[p]=r=u(r)),Ca(q,r,c,d,e,f),o++,p++,o>m||p>n)break a;q=a[o],r=b[p]}for(q=a[m],r=b[n];q.key===r.key;){if(r.dom&&(b[n]=r=u(r)),Ca(q,r,c,d,e,f),m--,n--,o>m||p>n)break a;q=a[m],r=b[n]}}if(o>m){if(n>=p)for(l=n+1,k=h>l?b[l].dom:null;n>=p;)r=b[p],r.dom&&(b[p]=r=u(r)),p++,B(c,ma(r,null,d,e,f),k)}else if(p>n)for(;m>=o;)aa(a[o++],c);else{var s=m-o+1,t=n-p+1,v=[];for(i=0;t>i;i++)v.push(0);var w=s===g,x=!1,y=0,z=0;if(4>h||32>(s|t))for(i=o;m>=i;i++)if(q=a[i],t>z){for(j=p;n>=j;j++)if(r=b[j],q.key===r.key){if(v[j-p]=i+1,w)for(w=!1;i>o;)aa(a[o++],c);y>j?x=!0:y=j,r.dom&&(b[j]=r=u(r)),Ca(q,r,c,d,e,f),z++;break}!w&&j>n&&aa(q,c)}else w||aa(q,c);else{var A={};for(i=p;n>=i;i++)A[b[i].key]=i;for(i=o;m>=i;i++)if(q=a[i],t>z)if(j=A[q.key],void 0!==j){if(w)for(w=!1;i>o;)aa(a[o++],c);r=b[j],v[j-p]=i+1,y>j?x=!0:y=j,r.dom&&(b[j]=r=u(r)),Ca(q,r,c,d,e,f),z++}else w||aa(q,c);else w||aa(q,c)}if(w)da(c,a),pa(b,c,d,e,f);else if(x){var C=La(v);for(j=C.length-1,i=t-1;i>=0;i--)0===v[i]?(y=i+p,r=b[y],r.dom&&(b[y]=r=u(r)),l=y+1,B(c,ma(r,null,d,e,f),h>l?b[l].dom:null)):0>j||i!==C[j]?(y=i+p,r=b[y],l=y+1,B(c,r.dom,h>l?b[l].dom:null)):j--}else if(z!==t)for(i=t-1;i>=0;i--)0===v[i]&&(y=i+p,r=b[y],r.dom&&(b[y]=r=u(r)),l=y+1,B(c,ma(r,null,d,e,f),h>l?b[l].dom:null))}}function La(a){var b,c,d,e,f,g=a.slice(),h=[0],i=a.length;for(b=0;i>b;b++){var j=a[b];if(0!==j){if(c=h[h.length-1],a[c]<j){g[b]=c,h.push(b);continue}for(d=0,e=h.length-1;e>d;)f=(d+e)/2|0,a[h[f]]<j?d=f+1:e=f;j<a[h[d]]&&(d>0&&(g[b]=h[d-1]),h[d]=b)}}for(d=h.length,e=h[d-1];d-->0;)h[d]=e,e=g[e];return h}function Ma(a,b,c){if(a!==Ta){var d,h,i=kb.length;for(h=0;i>h;h++)if(kb[h]===b){d=b.$V;break}return l(d)?f(a)||(a.dom&&(a=u(a)),j(b.firstChild)?(ma(a,b,cb,bb,!1),b.$V=a,kb.push(b)):Aa(a,b),d=a):e(a)?(aa(d,b),kb.splice(h,1)):(a.dom&&(a=u(a)),Ca(d,a,b,cb,bb,!1),d=b.$V=a),cb.length>0&&F(cb),g(c)&&c(),d&&14&d.flags?d.children:void 0}}function Na(a){return function(b,c){a||(a=b),Ma(c,a)}}function Oa(a,b){return q(1024,b,null,a,0,null,f(a)?null:a.key,null)}function Pa(a){return lb?lb.then(a):mb(a)}function Qa(a,b,c){g(b)&&(b=b(a.state,a.props,a.context));var d=a.$PS;if(e(d))a.$PS=b;else for(var f in b)d[f]=b[f];if(a.$PSS||a.$BR)a.$PSS=!0,a.$BR&&g(c)&&cb.push(c.bind(a));else if(a.$UPD){var h=a.$QU;j(h)&&(h=a.$QU=[],Pa(Ra(a,h))),g(c)&&h.push(c)}else a.$PSS=!0,a.$UPD=!0,Sa(a,!1,c),a.$UPD=!1}function Ra(a,b){return function(){a.$QU=null,a.$UPD=!0,Sa(a,!1,function(){for(var c=0,d=b.length;d>c;c++)b[c].call(a)}),a.$UPD=!1}}function Sa(a,b,c){if(!a.$UN){if(b||!a.$BR){a.$PSS=!1;var d=a.$PS,e=a.state,f=o(e,d),h=a.props,i=a.context;a.$PS=null;var k=a.$V,l=a.$LI,m=l.dom&&l.dom.parentNode;if(Ga(a,f,k,h,m,cb,i,(32&k.flags)>0,b,!0),a.$UN)return;if(0===(1024&a.$LI.flags))for(var n=a.$LI.dom;!j(k=k.parentVNode);)(14&k.flags)>0&&(k.dom=n);cb.length>0&&F(cb)}else a.state=a.$PS,a.$PS=null;g(c)&&c.call(a)}}Object.defineProperty(c,"__esModule",{value:!0}),c.createComponentVNode=r,c.createPortal=Oa,c.createRenderer=Na,c.createTextVNode=s,c.createVNode=q,c.directClone=u,c.getFlagsForElementVnode=x,c.getNumberStyleValue=ga,c.hydrate=Aa,c.linkEvent=z,c.normalizeProps=t,c.render=Ma,c.JSX=c.version=c.options=c.NO_OP=c.EMPTY_OBJ=c.Component=void 0;var Ta="$NO_OP";c.NO_OP=Ta;var Ua="a runtime error occured! Use Inferno in development environment to find the error.",Va=!("undefined"==typeof window||!window.document),Wa=Array.isArray,Xa="$",Ya={afterMount:null,afterRender:null,afterUpdate:null,beforeRender:null,beforeUnmount:null,createVNode:null,roots:[]};c.options=Ya;var Za="http://www.w3.org/1999/xlink",$a="http://www.w3.org/XML/1998/namespace",_a="http://www.w3.org/2000/svg",ab={"xlink:actuate":Za,"xlink:arcrole":Za,"xlink:href":Za,"xlink:role":Za,"xlink:show":Za,"xlink:title":Za,"xlink:type":Za,"xml:base":$a,"xml:lang":$a,"xml:space":$a},bb={};c.EMPTY_OBJ=bb;var cb=[],db={},eb={},fb=O("onInput",S),gb=O(["onClick","onChange"],S);Q.wrapped=!0;var hb=O("onChange",W),ib=O("onInput",Y),jb=O("onChange"),kb=Ya.roots,lb=(Va?document.body:null,"undefined"==typeof Promise?null:Promise.resolve()),mb="undefined"==typeof requestAnimationFrame?setTimeout:requestAnimationFrame.bind(window),nb=function(a,b){this.state=null,this.$BR=!1,this.$BS=!0,this.$PSS=!1,this.$PS=null,this.$LI=null,this.$V=null,this.$UN=!1,this.$CX=null,this.$UPD=!0,this.$QU=null,this.props=a||bb,this.context=b||bb};c.Component=nb,nb.prototype.forceUpdate=function(a){this.$UN||Sa(this,!0,a)},nb.prototype.setState=function(a,b){this.$UN||this.$BS||Qa(this,a,b)},nb.prototype.render=function(a,b,c){},nb.defaultProps=null;var ob=Object.freeze({});c.JSX=ob;var pb="5.0.6";c.version=pb},{}],526:[function(a,b,c){(function(b){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var d=a("./dist/index.esm.js");Object.keys(d).forEach(function(a){"default"!==a&&"__esModule"!==a&&Object.defineProperty(c,a,{enumerable:!0,get:function(){return d[a]}})}),"production"!==b.env.NODE_ENV&&console.warn("You are running production build of Inferno in development mode. Use dev:module entry point.")}).call(this,a("_process"))},{"./dist/index.esm.js":525,_process:742}],527:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){b&&(a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}))}:b.exports=function(a,b){if(b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}}},{}],528:[function(a,b,c){!function(a,c){"use strict";"object"==typeof b&&"object"==typeof b.exports?b.exports=a.document?c(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return c(a)}:c(a)}("undefined"!=typeof window?window:this,function(a,b){"use strict";function c(a,b,c){c=c||ia;var d,e,f=c.createElement("script");if(f.text=a,b)for(d in wa)e=b[d]||b.getAttribute&&b.getAttribute(d),e&&f.setAttribute(d,e);c.head.appendChild(f).parentNode.removeChild(f)}function d(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?oa[pa.call(a)]||"object":typeof a}function e(a){var b=!!a&&"length"in a&&a.length,c=d(a);return ua(a)||va(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function f(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()}function g(a,b,c){return ua(b)?ya.grep(a,function(a,d){return!!b.call(a,d,a)!==c}):b.nodeType?ya.grep(a,function(a){return a===b!==c}):"string"!=typeof b?ya.grep(a,function(a){return na.call(b,a)>-1!==c}):ya.filter(b,a,c)}function h(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function i(a){var b={};return ya.each(a.match(Ka)||[],function(a,c){b[c]=!0}),b}function j(a){return a}function k(a){throw a}function l(a,b,c,d){var e;try{a&&ua(e=a.promise)?e.call(a).done(b).fail(c):a&&ua(e=a.then)?e.call(a,b,c):b.apply(void 0,[a].slice(d))}catch(a){c.apply(void 0,[a])}}function m(){ia.removeEventListener("DOMContentLoaded",m),a.removeEventListener("load",m),ya.ready()}function n(a,b){return b.toUpperCase()}function o(a){return a.replace(Oa,"ms-").replace(Pa,n)}function p(){this.expando=ya.expando+p.uid++}function q(a){return"true"===a?!0:"false"===a?!1:"null"===a?null:a===+a+""?+a:Ta.test(a)?JSON.parse(a):a}function r(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Ua,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c=q(c)}catch(e){}Sa.set(a,b,c)}else c=void 0;return c}function s(a,b,c,d){var e,f,g=20,h=d?function(){return d.cur()}:function(){return ya.css(a,b,"")},i=h(),j=c&&c[3]||(ya.cssNumber[b]?"":"px"),k=a.nodeType&&(ya.cssNumber[b]||"px"!==j&&+i)&&Wa.exec(ya.css(a,b));if(k&&k[3]!==j){for(i/=2,j=j||k[3],k=+i||1;g--;)ya.style(a,b,k+j),(1-f)*(1-(f=h()/i||.5))<=0&&(g=0),k/=f;k=2*k,ya.style(a,b,k+j),c=c||[]}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}function t(a){var b,c=a.ownerDocument,d=a.nodeName,e=bb[d];return e?e:(b=c.body.appendChild(c.createElement(d)),e=ya.css(b,"display"),b.parentNode.removeChild(b),"none"===e&&(e="block"),bb[d]=e,e)}function u(a,b){for(var c,d,e=[],f=0,g=a.length;g>f;f++)d=a[f],d.style&&(c=d.style.display,b?("none"===c&&(e[f]=Ra.get(d,"display")||null,e[f]||(d.style.display="")),""===d.style.display&&_a(d)&&(e[f]=t(d))):"none"!==c&&(e[f]="none",Ra.set(d,"display",c)));for(f=0;g>f;f++)null!=e[f]&&(a[f].style.display=e[f]);return a}function v(a,b){var c;return c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[],void 0===b||b&&f(a,b)?ya.merge([a],c):c}function w(a,b){for(var c=0,d=a.length;d>c;c++)Ra.set(a[c],"globalEval",!b||Ra.get(b[c],"globalEval"))}function x(a,b,c,e,f){for(var g,h,i,j,k,l,m=b.createDocumentFragment(),n=[],o=0,p=a.length;p>o;o++)if(g=a[o],g||0===g)if("object"===d(g))ya.merge(n,g.nodeType?[g]:g);else if(gb.test(g)){for(h=h||m.appendChild(b.createElement("div")),i=(db.exec(g)||["",""])[1].toLowerCase(),j=fb[i]||fb._default,h.innerHTML=j[1]+ya.htmlPrefilter(g)+j[2],l=j[0];l--;)h=h.lastChild;ya.merge(n,h.childNodes),h=m.firstChild,h.textContent=""}else n.push(b.createTextNode(g));for(m.textContent="",o=0;g=n[o++];)if(e&&ya.inArray(g,e)>-1)f&&f.push(g);else if(k=Za(g),h=v(m.appendChild(g),"script"),k&&w(h),c)for(l=0;g=h[l++];)eb.test(g.type||"")&&c.push(g);return m}function y(){return!0}function z(){return!1}function A(a,b){return a===B()==("focus"===b)}function B(){try{return ia.activeElement}catch(a){}}function C(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)C(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=z;else if(!e)return a;return 1===f&&(g=e,e=function(a){return ya().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=ya.guid++)),a.each(function(){ya.event.add(this,b,e,d,c)})}function D(a,b,c){return c?(Ra.set(a,b,!1),void ya.event.add(a,b,{namespace:!1,handler:function(a){var d,e,f=Ra.get(this,b);if(1&a.isTrigger&&this[b]){if(f.length)(ya.event.special[b]||{}).delegateType&&a.stopPropagation();else if(f=ka.call(arguments),Ra.set(this,b,f),d=c(this,b),this[b](),e=Ra.get(this,b),f!==e||d?Ra.set(this,b,!1):e={},f!==e)return a.stopImmediatePropagation(),a.preventDefault(),e.value}else f.length&&(Ra.set(this,b,{value:ya.event.trigger(ya.extend(f[0],ya.Event.prototype),f.slice(1),this)}),a.stopImmediatePropagation())}})):void(void 0===Ra.get(a,b)&&ya.event.add(a,b,y))}function E(a,b){return f(a,"table")&&f(11!==b.nodeType?b:b.firstChild,"tr")?ya(a).children("tbody")[0]||a:a}function F(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function G(a){return"true/"===(a.type||"").slice(0,5)?a.type=a.type.slice(5):a.removeAttribute("type"),a}function H(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(Ra.hasData(a)&&(f=Ra.access(a),g=Ra.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)ya.event.add(b,e,j[e][c])}Sa.hasData(a)&&(h=Sa.access(a),i=ya.extend({},h),Sa.set(b,i))}}function I(a,b){var c=b.nodeName.toLowerCase();"input"===c&&cb.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function J(a,b,d,e){b=la.apply([],b);var f,g,h,i,j,k,l=0,m=a.length,n=m-1,o=b[0],p=ua(o);if(p||m>1&&"string"==typeof o&&!ta.checkClone&&mb.test(o))return a.each(function(c){var f=a.eq(c);p&&(b[0]=o.call(this,c,f.html())),J(f,b,d,e)});if(m&&(f=x(b,a[0].ownerDocument,!1,a,e),g=f.firstChild,1===f.childNodes.length&&(f=g),g||e)){for(h=ya.map(v(f,"script"),F),i=h.length;m>l;l++)j=f,l!==n&&(j=ya.clone(j,!0,!0),i&&ya.merge(h,v(j,"script"))),d.call(a[l],j,l);if(i)for(k=h[h.length-1].ownerDocument,ya.map(h,G),l=0;i>l;l++)j=h[l],eb.test(j.type||"")&&!Ra.access(j,"globalEval")&&ya.contains(k,j)&&(j.src&&"module"!==(j.type||"").toLowerCase()?ya._evalUrl&&!j.noModule&&ya._evalUrl(j.src,{nonce:j.nonce||j.getAttribute("nonce")}):c(j.textContent.replace(nb,""),j,k))}return a}function K(a,b,c){for(var d,e=b?ya.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||ya.cleanData(v(d)),d.parentNode&&(c&&Za(d)&&w(v(d,"script")),d.parentNode.removeChild(d));return a}function L(a,b,c){var d,e,f,g,h=a.style;return c=c||pb(a),c&&(g=c.getPropertyValue(b)||c[b],""!==g||Za(a)||(g=ya.style(a,b)),!ta.pixelBoxStyles()&&ob.test(g)&&qb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function M(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function N(a){for(var b=a[0].toUpperCase()+a.slice(1),c=rb.length;c--;)if(a=rb[c]+b,a in sb)return a}function O(a){var b=ya.cssProps[a]||tb[a];return b?b:a in sb?a:tb[a]=N(a)||a}function P(a,b,c){var d=Wa.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Q(a,b,c,d,e,f){var g="width"===b?1:0,h=0,i=0;if(c===(d?"border":"content"))return 0;for(;4>g;g+=2)"margin"===c&&(i+=ya.css(a,c+Xa[g],!0,e)),d?("content"===c&&(i-=ya.css(a,"padding"+Xa[g],!0,e)),"margin"!==c&&(i-=ya.css(a,"border"+Xa[g]+"Width",!0,e))):(i+=ya.css(a,"padding"+Xa[g],!0,e),"padding"!==c?i+=ya.css(a,"border"+Xa[g]+"Width",!0,e):h+=ya.css(a,"border"+Xa[g]+"Width",!0,e));return!d&&f>=0&&(i+=Math.max(0,Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-f-i-h-.5))||0),i}function R(a,b,c){var d=pb(a),e=!ta.boxSizingReliable()||c,f=e&&"border-box"===ya.css(a,"boxSizing",!1,d),g=f,h=L(a,b,d),i="offset"+b[0].toUpperCase()+b.slice(1);if(ob.test(h)){if(!c)return h;h="auto"}return(!ta.boxSizingReliable()&&f||"auto"===h||!parseFloat(h)&&"inline"===ya.css(a,"display",!1,d))&&a.getClientRects().length&&(f="border-box"===ya.css(a,"boxSizing",!1,d),g=i in a,g&&(h=a[i])),h=parseFloat(h)||0,h+Q(a,b,c||(f?"border":"content"),g,d,h)+"px"}function S(a,b,c,d,e){return new S.prototype.init(a,b,c,d,e)}function T(){zb&&(ia.hidden===!1&&a.requestAnimationFrame?a.requestAnimationFrame(T):a.setTimeout(T,ya.fx.interval),ya.fx.tick())}function U(){return a.setTimeout(function(){yb=void 0}),yb=Date.now()}function V(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=Xa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function W(a,b,c){for(var d,e=(Z.tweeners[b]||[]).concat(Z.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function X(a,b,c){var d,e,f,g,h,i,j,k,l="width"in b||"height"in b,m=this,n={},o=a.style,p=a.nodeType&&_a(a),q=Ra.get(a,"fxshow");c.queue||(g=ya._queueHooks(a,"fx"),null==g.unqueued&&(g.unqueued=0,h=g.empty.fire,g.empty.fire=function(){g.unqueued||h()}),g.unqueued++,m.always(function(){m.always(function(){g.unqueued--,ya.queue(a,"fx").length||g.empty.fire()})}));for(d in b)if(e=b[d],Ab.test(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}n[d]=q&&q[d]||ya.style(a,d)}if(i=!ya.isEmptyObject(b),i||!ya.isEmptyObject(n)){l&&1===a.nodeType&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=q&&q.display,null==j&&(j=Ra.get(a,"display")),k=ya.css(a,"display"),"none"===k&&(j?k=j:(u([a],!0),j=a.style.display||j,k=ya.css(a,"display"),u([a]))),("inline"===k||"inline-block"===k&&null!=j)&&"none"===ya.css(a,"float")&&(i||(m.done(function(){o.display=j}),null==j&&(k=o.display,j="none"===k?"":k)),o.display="inline-block")),c.overflow&&(o.overflow="hidden",m.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]})),i=!1;for(d in n)i||(q?"hidden"in q&&(p=q.hidden):q=Ra.access(a,"fxshow",{display:j}),f&&(q.hidden=!p),p&&u([a],!0),m.done(function(){p||u([a]),Ra.remove(a,"fxshow");for(d in n)ya.style(a,d,n[d])})),i=W(p?q[d]:0,d,m),d in q||(q[d]=i.start,p&&(i.end=i.start,i.start=0))}}function Y(a,b){var c,d,e,f,g;for(c in a)if(d=o(c),e=b[d],f=a[c],Array.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=ya.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Z(a,b,c){var d,e,f=0,g=Z.prefilters.length,h=ya.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=yb||U(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(i||h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:ya.extend({},b),opts:ya.extend(!0,{specialEasing:{},easing:ya.easing._default},c),originalProperties:b,originalOptions:c,startTime:yb||U(),duration:c.duration,tweens:[],createTween:function(b,c){var d=ya.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Y(k,j.opts.specialEasing);g>f;f++)if(d=Z.prefilters[f].call(j,a,k,j.opts))return ua(d.stop)&&(ya._queueHooks(j.elem,j.opts.queue).stop=d.stop.bind(d)),d;return ya.map(k,W,j),ua(j.opts.start)&&j.opts.start.call(a,j),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always),ya.fx.timer(ya.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j}function $(a){var b=a.match(Ka)||[];return b.join(" ")}function _(a){return a.getAttribute&&a.getAttribute("class")||""}function aa(a){return Array.isArray(a)?a:"string"==typeof a?a.match(Ka)||[]:[]}function ba(a,b,c,e){var f;if(Array.isArray(b))ya.each(b,function(b,d){c||Mb.test(a)?e(a,d):ba(a+"["+("object"==typeof d&&null!=d?b:"")+"]",d,c,e)});else if(c||"object"!==d(b))e(a,b);else for(f in b)ba(a+"["+f+"]",b[f],c,e)}function ca(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(Ka)||[];if(ua(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function da(a,b,c,d){function e(h){var i;return f[h]=!0,ya.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===Yb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function ea(a,b){var c,d,e=ya.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&ya.extend(!0,a,d),a}function fa(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ga(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}var ha=[],ia=a.document,ja=Object.getPrototypeOf,ka=ha.slice,la=ha.concat,ma=ha.push,na=ha.indexOf,oa={},pa=oa.toString,qa=oa.hasOwnProperty,ra=qa.toString,sa=ra.call(Object),ta={},ua=function(a){return"function"==typeof a&&"number"!=typeof a.nodeType},va=function(a){return null!=a&&a===a.window},wa={type:!0,src:!0,nonce:!0,noModule:!0},xa="3.4.1",ya=function(a,b){return new ya.fn.init(a,b)},za=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;ya.fn=ya.prototype={jquery:xa,constructor:ya,length:0,toArray:function(){
return ka.call(this)},get:function(a){return null==a?ka.call(this):0>a?this[a+this.length]:this[a]},pushStack:function(a){var b=ya.merge(this.constructor(),a);return b.prevObject=this,b},each:function(a){return ya.each(this,a)},map:function(a){return this.pushStack(ya.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ka.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:ma,sort:ha.sort,splice:ha.splice},ya.extend=ya.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||ua(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)d=a[b],"__proto__"!==b&&g!==d&&(j&&d&&(ya.isPlainObject(d)||(e=Array.isArray(d)))?(c=g[b],f=e&&!Array.isArray(c)?[]:e||ya.isPlainObject(c)?c:{},e=!1,g[b]=ya.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},ya.extend({expando:"jQuery"+(xa+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isPlainObject:function(a){var b,c;return a&&"[object Object]"===pa.call(a)?(b=ja(a))?(c=qa.call(b,"constructor")&&b.constructor,"function"==typeof c&&ra.call(c)===sa):!0:!1},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},globalEval:function(a,b){c(a,{nonce:b&&b.nonce})},each:function(a,b){var c,d=0;if(e(a))for(c=a.length;c>d&&b.call(a[d],d,a[d])!==!1;d++);else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(za,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(e(Object(a))?ya.merge(c,"string"==typeof a?[a]:a):ma.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:na.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f,g=0,h=[];if(e(a))for(d=a.length;d>g;g++)f=b(a[g],g,c),null!=f&&h.push(f);else for(g in a)f=b(a[g],g,c),null!=f&&h.push(f);return la.apply([],h)},guid:1,support:ta}),"function"==typeof Symbol&&(ya.fn[Symbol.iterator]=ha[Symbol.iterator]),ya.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){oa["[object "+b+"]"]=b.toLowerCase()});var Aa=function(a){function b(a,b,c,d){var e,f,g,h,i,j,k,m=b&&b.ownerDocument,o=b?b.nodeType:9;if(c=c||[],"string"!=typeof a||!a||1!==o&&9!==o&&11!==o)return c;if(!d&&((b?b.ownerDocument||b:P)!==H&&G(b),b=b||H,J)){if(11!==o&&(i=ta.exec(a)))if(e=i[1]){if(9===o){if(!(g=b.getElementById(e)))return c;if(g.id===e)return c.push(g),c}else if(m&&(g=m.getElementById(e))&&N(b,g)&&g.id===e)return c.push(g),c}else{if(i[2])return _.apply(c,b.getElementsByTagName(a)),c;if((e=i[3])&&w.getElementsByClassName&&b.getElementsByClassName)return _.apply(c,b.getElementsByClassName(e)),c}if(w.qsa&&!V[a+" "]&&(!K||!K.test(a))&&(1!==o||"object"!==b.nodeName.toLowerCase())){if(k=a,m=b,1===o&&la.test(a)){for((h=b.getAttribute("id"))?h=h.replace(xa,ya):b.setAttribute("id",h=O),j=A(a),f=j.length;f--;)j[f]="#"+h+" "+n(j[f]);k=j.join(","),m=ua.test(a)&&l(b.parentNode)||b}try{return _.apply(c,m.querySelectorAll(k)),c}catch(p){V(a,!0)}finally{h===O&&b.removeAttribute("id")}}}return C(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>x.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[O]=!0,a}function e(a){var b=H.createElement("fieldset");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=c.length;d--;)x.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&a.sourceIndex-b.sourceIndex;if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return function(b){return"form"in b?b.parentNode&&b.disabled===!1?"label"in b?"label"in b.parentNode?b.parentNode.disabled===a:b.disabled===a:b.isDisabled===a||b.isDisabled!==!a&&Aa(b)===a:b.disabled===a:"label"in b?b.disabled===a:!1}}function k(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function m(){}function n(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function o(a,b,c){var d=b.dir,e=b.next,f=e||d,g=c&&"parentNode"===f,h=R++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||g)return a(b,c,e);return!1}:function(b,c,i){var j,k,l,m=[Q,h];if(i){for(;b=b[d];)if((1===b.nodeType||g)&&a(b,c,i))return!0}else for(;b=b[d];)if(1===b.nodeType||g)if(l=b[O]||(b[O]={}),k=l[b.uniqueID]||(l[b.uniqueID]={}),e&&e===b.nodeName.toLowerCase())b=b[d]||b;else{if((j=k[f])&&j[0]===Q&&j[1]===h)return m[2]=j[2];if(k[f]=m,m[2]=a(b,c,i))return!0}return!1}}function p(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function q(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function r(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function s(a,b,c,e,f,g){return e&&!e[O]&&(e=s(e)),f&&!f[O]&&(f=s(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=d||q(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?p:r(p,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=r(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?ba(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=r(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):_.apply(g,t)})}function t(a){for(var b,c,d,e=a.length,f=x.relative[a[0].type],g=f||x.relative[" "],h=f?1:0,i=o(function(a){return a===b},g,!0),j=o(function(a){return ba(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=x.relative[a[h].type])k=[o(p(k),c)];else{if(c=x.filter[a[h].type].apply(null,a[h].matches),c[O]){for(d=++h;e>d&&!x.relative[a[d].type];d++);return s(h>1&&p(k),h>1&&n(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&t(a.slice(h,d)),e>d&&t(a=a.slice(d)),e>d&&n(a))}k.push(c)}return p(k)}function u(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],q=[],s=D,t=d||f&&x.find.TAG("*",j),u=Q+=null==s?1:Math.random()||.1,v=t.length;for(j&&(D=g===H||g||j);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0,g||k.ownerDocument===H||(G(k),h=!J);m=a[l++];)if(m(k,g||H,h)){i.push(k);break}j&&(Q=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,q,g,h);if(d){if(n>0)for(;o--;)p[o]||q[o]||(q[o]=Z.call(i));q=r(q)}_.apply(i,q),j&&!d&&q.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(Q=u,D=s),p};return e?d(g):g}var v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O="sizzle"+1*new Date,P=a.document,Q=0,R=0,S=c(),T=c(),U=c(),V=c(),W=function(a,b){return a===b&&(F=!0),0},X={}.hasOwnProperty,Y=[],Z=Y.pop,$=Y.push,_=Y.push,aa=Y.slice,ba=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ca="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",da="[\\x20\\t\\r\\n\\f]",ea="(?:\\\\.|[\\w-]|[^\x00-\\xa0])+",fa="\\["+da+"*("+ea+")(?:"+da+"*([*^$|!~]?=)"+da+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+da+"*\\]",ga=":("+ea+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(da+"+","g"),ia=new RegExp("^"+da+"+|((?:^|[^\\\\])(?:\\\\.)*)"+da+"+$","g"),ja=new RegExp("^"+da+"*,"+da+"*"),ka=new RegExp("^"+da+"*([>+~]|"+da+")"+da+"*"),la=new RegExp(da+"|>"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+ea+")"),CLASS:new RegExp("^\\.("+ea+")"),TAG:new RegExp("^("+ea+"|[*])"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+da+"*(even|odd|(([+-]|)(\\d*)n|)"+da+"*(?:([+-]|)"+da+"*(\\d+)|))"+da+"*\\)|)","i"),bool:new RegExp("^(?:"+ca+")$","i"),needsContext:new RegExp("^"+da+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+da+"*((?:-\\d)?\\d*)"+da+"*\\)|)(?=[^-]|$)","i")},pa=/HTML$/i,qa=/^(?:input|select|textarea|button)$/i,ra=/^h\d$/i,sa=/^[^{]+\{\s*\[native \w/,ta=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ua=/[+~]/,va=new RegExp("\\\\([\\da-f]{1,6}"+da+"?|("+da+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ya=function(a,b){return b?"\x00"===a?"�":a.slice(0,-1)+"\\"+a.charCodeAt(a.length-1).toString(16)+" ":"\\"+a},za=function(){G()},Aa=o(function(a){return a.disabled===!0&&"fieldset"===a.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{_.apply(Y=aa.call(P.childNodes),P.childNodes),Y[P.childNodes.length].nodeType}catch(Ba){_={apply:Y.length?function(a,b){$.apply(a,aa.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}w=b.support={},z=b.isXML=function(a){var b=a.namespaceURI,c=(a.ownerDocument||a).documentElement;return!pa.test(b||c&&c.nodeName||"HTML")},G=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:P;return d!==H&&9===d.nodeType&&d.documentElement?(H=d,I=H.documentElement,J=!z(H),P!==H&&(c=H.defaultView)&&c.top!==c&&(c.addEventListener?c.addEventListener("unload",za,!1):c.attachEvent&&c.attachEvent("onunload",za)),w.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),w.getElementsByTagName=e(function(a){return a.appendChild(H.createComment("")),!a.getElementsByTagName("*").length}),w.getElementsByClassName=sa.test(H.getElementsByClassName),w.getById=e(function(a){return I.appendChild(a).id=O,!H.getElementsByName||!H.getElementsByName(O).length}),w.getById?(x.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}},x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c=b.getElementById(a);return c?[c]:[]}}):(x.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}},x.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&J){var c,d,e,f=b.getElementById(a);if(f){if(c=f.getAttributeNode("id"),c&&c.value===a)return[f];for(e=b.getElementsByName(a),d=0;f=e[d++];)if(c=f.getAttributeNode("id"),c&&c.value===a)return[f]}return[]}}),x.find.TAG=w.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):w.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},x.find.CLASS=w.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&J?b.getElementsByClassName(a):void 0},L=[],K=[],(w.qsa=sa.test(H.querySelectorAll))&&(e(function(a){I.appendChild(a).innerHTML="<a id='"+O+"'></a><select id='"+O+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&K.push("[*^$]="+da+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||K.push("\\["+da+"*(?:value|"+ca+")"),a.querySelectorAll("[id~="+O+"-]").length||K.push("~="),a.querySelectorAll(":checked").length||K.push(":checked"),a.querySelectorAll("a#"+O+"+*").length||K.push(".#.+[+~]")}),e(function(a){a.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var b=H.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&K.push("name"+da+"*[*^$|!~]?="),2!==a.querySelectorAll(":enabled").length&&K.push(":enabled",":disabled"),I.appendChild(a).disabled=!0,2!==a.querySelectorAll(":disabled").length&&K.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),K.push(",.*:")})),(w.matchesSelector=sa.test(M=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&e(function(a){w.disconnectedMatch=M.call(a,"*"),M.call(a,"[s!='']:x"),L.push("!=",ga)}),K=K.length&&new RegExp(K.join("|")),L=L.length&&new RegExp(L.join("|")),b=sa.test(I.compareDocumentPosition),N=b||sa.test(I.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},W=b?function(a,b){if(a===b)return F=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!w.sortDetached&&b.compareDocumentPosition(a)===c?a===H||a.ownerDocument===P&&N(P,a)?-1:b===H||b.ownerDocument===P&&N(P,b)?1:E?ba(E,a)-ba(E,b):0:4&c?-1:1)}:function(a,b){if(a===b)return F=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===H?-1:b===H?1:e?-1:f?1:E?ba(E,a)-ba(E,b):0;if(e===f)return g(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?g(h[d],i[d]):h[d]===P?-1:i[d]===P?1:0},H):H},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==H&&G(a),w.matchesSelector&&J&&!V[c+" "]&&(!L||!L.test(c))&&(!K||!K.test(c)))try{var d=M.call(a,c);if(d||w.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){V(c,!0)}return b(c,H,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==H&&G(a),N(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==H&&G(a);var c=x.attrHandle[b.toLowerCase()],d=c&&X.call(x.attrHandle,b.toLowerCase())?c(a,b,!J):void 0;return void 0!==d?d:w.attributes||!J?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.escape=function(a){return(a+"").replace(xa,ya)},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(F=!w.detectDuplicates,E=!w.sortStable&&a.slice(0),a.sort(W),F){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return E=null,a},y=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=y(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=y(b);return c},x=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=A(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=S[a+" "];return b||(b=new RegExp("(^|"+da+")"+a+"("+da+"|$)"))&&S(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){for(;p;){for(m=b;m=m[p];)if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(m=q,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n&&j[2],m=n&&q.childNodes[n];m=++n&&m&&m[p]||(t=n=0)||o.pop();)if(1===m.nodeType&&++t&&m===b){k[a]=[Q,n,t];break}}else if(s&&(m=b,l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===Q&&j[1],t=n),t===!1)for(;(m=++n&&m&&m[p]||(t=n=0)||o.pop())&&((h?m.nodeName.toLowerCase()!==r:1!==m.nodeType)||!++t||(s&&(l=m[O]||(m[O]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[Q,t]),m!==b)););return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,c){var e,f=x.pseudos[a]||x.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[O]?f(c):f.length>1?(e=[a,a,"",c],x.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=ba(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=B(a.replace(ia,"$1"));return e[O]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||y(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=J?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===I},focus:function(a){return a===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:j(!1),disabled:j(!0),checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!x.pseudos.empty(a)},header:function(a){return ra.test(a.nodeName)},input:function(a){return qa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c>b?b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},x.pseudos.nth=x.pseudos.eq;for(v in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[v]=h(v);for(v in{submit:!0,reset:!0})x.pseudos[v]=i(v);return m.prototype=x.filters=x.pseudos,x.setFilters=new m,A=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=T[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=x.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in x.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):T(a,i).slice(0)},B=b.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=A(a)),c=b.length;c--;)f=t(b[c]),f[O]?d.push(f):e.push(f);f=U(a,u(e,d)),f.selector=a}return f},C=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,k=!d&&A(a=j.selector||a);if(c=c||[],1===k.length){if(f=k[0]=k[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&J&&x.relative[f[1].type]){if(b=(x.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!x.relative[h=g.type]);)if((i=x.find[h])&&(d=i(g.matches[0].replace(va,wa),ua.test(f[0].type)&&l(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&n(f),!a)return _.apply(c,d),c;break}}return(j||B(a,k))(d,b,!J,c,!b||ua.test(a)&&l(b.parentNode)||b),c},w.sortStable=O.split("").sort(W).join("")===O,w.detectDuplicates=!!F,G(),w.sortDetached=e(function(a){return 1&a.compareDocumentPosition(H.createElement("fieldset"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),w.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ca,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);ya.find=Aa,ya.expr=Aa.selectors,ya.expr[":"]=ya.expr.pseudos,ya.uniqueSort=ya.unique=Aa.uniqueSort,ya.text=Aa.getText,ya.isXMLDoc=Aa.isXML,ya.contains=Aa.contains,ya.escapeSelector=Aa.escape;var Ba=function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&ya(a).is(c))break;d.push(a)}return d},Ca=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},Da=ya.expr.match.needsContext,Ea=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;ya.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?ya.find.matchesSelector(d,a)?[d]:[]:ya.find.matches(a,ya.grep(b,function(a){return 1===a.nodeType}))},ya.fn.extend({find:function(a){var b,c,d=this.length,e=this;if("string"!=typeof a)return this.pushStack(ya(a).filter(function(){for(b=0;d>b;b++)if(ya.contains(e[b],this))return!0}));for(c=this.pushStack([]),b=0;d>b;b++)ya.find(a,e[b],c);return d>1?ya.uniqueSort(c):c},filter:function(a){return this.pushStack(g(this,a||[],!1))},not:function(a){return this.pushStack(g(this,a||[],!0))},is:function(a){return!!g(this,"string"==typeof a&&Da.test(a)?ya(a):a||[],!1).length}});var Fa,Ga=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Ha=ya.fn.init=function(a,b,c){var d,e;if(!a)return this;if(c=c||Fa,"string"==typeof a){if(d="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:Ga.exec(a),!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof ya?b[0]:b,ya.merge(this,ya.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:ia,!0)),Ea.test(d[1])&&ya.isPlainObject(b))for(d in b)ua(this[d])?this[d](b[d]):this.attr(d,b[d]);return this}return e=ia.getElementById(d[2]),e&&(this[0]=e,this.length=1),this}return a.nodeType?(this[0]=a,this.length=1,this):ua(a)?void 0!==c.ready?c.ready(a):a(ya):ya.makeArray(a,this)};Ha.prototype=ya.fn,Fa=ya(ia);var Ia=/^(?:parents|prev(?:Until|All))/,Ja={children:!0,contents:!0,next:!0,prev:!0};ya.fn.extend({has:function(a){var b=ya(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(ya.contains(this,b[a]))return!0})},closest:function(a,b){var c,d=0,e=this.length,f=[],g="string"!=typeof a&&ya(a);if(!Da.test(a))for(;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&ya.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?ya.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?na.call(ya(a),this[0]):na.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(ya.uniqueSort(ya.merge(this.get(),ya(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),ya.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return Ba(a,"parentNode")},parentsUntil:function(a,b,c){return Ba(a,"parentNode",c)},next:function(a){return h(a,"nextSibling")},prev:function(a){return h(a,"previousSibling")},nextAll:function(a){return Ba(a,"nextSibling")},prevAll:function(a){return Ba(a,"previousSibling")},nextUntil:function(a,b,c){return Ba(a,"nextSibling",c)},prevUntil:function(a,b,c){return Ba(a,"previousSibling",c)},siblings:function(a){return Ca((a.parentNode||{}).firstChild,a)},children:function(a){return Ca(a.firstChild)},contents:function(a){return"undefined"!=typeof a.contentDocument?a.contentDocument:(f(a,"template")&&(a=a.content||a),ya.merge([],a.childNodes))}},function(a,b){ya.fn[a]=function(c,d){var e=ya.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=ya.filter(d,e)),this.length>1&&(Ja[a]||ya.uniqueSort(e),Ia.test(a)&&e.reverse()),this.pushStack(e)}});var Ka=/[^\x20\t\r\n\f]+/g;ya.Callbacks=function(a){a="string"==typeof a?i(a):ya.extend({},a);var b,c,e,f,g=[],h=[],j=-1,k=function(){for(f=f||a.once,e=b=!0;h.length;j=-1)for(c=h.shift();++j<g.length;)g[j].apply(c[0],c[1])===!1&&a.stopOnFalse&&(j=g.length,c=!1);a.memory||(c=!1),b=!1,f&&(g=c?[]:"")},l={add:function(){return g&&(c&&!b&&(j=g.length-1,h.push(c)),function e(b){ya.each(b,function(b,c){ua(c)?a.unique&&l.has(c)||g.push(c):c&&c.length&&"string"!==d(c)&&e(c)})}(arguments),c&&!b&&k()),this},remove:function(){return ya.each(arguments,function(a,b){for(var c;(c=ya.inArray(b,g,c))>-1;)g.splice(c,1),j>=c&&j--}),this},has:function(a){return a?ya.inArray(a,g)>-1:g.length>0},empty:function(){return g&&(g=[]),this},disable:function(){return f=h=[],g=c="",this},disabled:function(){return!g},lock:function(){return f=h=[],c||b||(g=c=""),this},locked:function(){return!!f},fireWith:function(a,c){return f||(c=c||[],c=[a,c.slice?c.slice():c],h.push(c),b||k()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!e}};return l},ya.extend({Deferred:function(b){var c=[["notify","progress",ya.Callbacks("memory"),ya.Callbacks("memory"),2],["resolve","done",ya.Callbacks("once memory"),ya.Callbacks("once memory"),0,"resolved"],["reject","fail",ya.Callbacks("once memory"),ya.Callbacks("once memory"),1,"rejected"]],d="pending",e={state:function(){return d},always:function(){return f.done(arguments).fail(arguments),this},"catch":function(a){return e.then(null,a)},pipe:function(){var a=arguments;return ya.Deferred(function(b){ya.each(c,function(c,d){var e=ua(a[d[4]])&&a[d[4]];f[d[1]](function(){var a=e&&e.apply(this,arguments);a&&ua(a.promise)?a.promise().progress(b.notify).done(b.resolve).fail(b.reject):b[d[0]+"With"](this,e?[a]:arguments)})}),a=null}).promise()},then:function(b,d,e){function f(b,c,d,e){return function(){var h=this,i=arguments,l=function(){var a,l;if(!(g>b)){if(a=d.apply(h,i),a===c.promise())throw new TypeError("Thenable self-resolution");l=a&&("object"==typeof a||"function"==typeof a)&&a.then,ua(l)?e?l.call(a,f(g,c,j,e),f(g,c,k,e)):(g++,l.call(a,f(g,c,j,e),f(g,c,k,e),f(g,c,j,c.notifyWith))):(d!==j&&(h=void 0,i=[a]),(e||c.resolveWith)(h,i))}},m=e?l:function(){try{l()}catch(a){ya.Deferred.exceptionHook&&ya.Deferred.exceptionHook(a,m.stackTrace),b+1>=g&&(d!==k&&(h=void 0,i=[a]),c.rejectWith(h,i))}};b?m():(ya.Deferred.getStackHook&&(m.stackTrace=ya.Deferred.getStackHook()),a.setTimeout(m))}}var g=0;return ya.Deferred(function(a){c[0][3].add(f(0,a,ua(e)?e:j,a.notifyWith)),c[1][3].add(f(0,a,ua(b)?b:j)),c[2][3].add(f(0,a,ua(d)?d:k))}).promise()},promise:function(a){return null!=a?ya.extend(a,e):e}},f={};return ya.each(c,function(a,b){var g=b[2],h=b[5];e[b[1]]=g.add,h&&g.add(function(){d=h},c[3-a][2].disable,c[3-a][3].disable,c[0][2].lock,c[0][3].lock),g.add(b[3].fire),f[b[0]]=function(){return f[b[0]+"With"](this===f?void 0:this,arguments),this},f[b[0]+"With"]=g.fireWith}),e.promise(f),b&&b.call(f,f),f},when:function(a){var b=arguments.length,c=b,d=Array(c),e=ka.call(arguments),f=ya.Deferred(),g=function(a){return function(c){d[a]=this,e[a]=arguments.length>1?ka.call(arguments):c,--b||f.resolveWith(d,e)}};if(1>=b&&(l(a,f.done(g(c)).resolve,f.reject,!b),"pending"===f.state()||ua(e[c]&&e[c].then)))return f.then();for(;c--;)l(e[c],g(c),f.reject);return f.promise()}});var La=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;ya.Deferred.exceptionHook=function(b,c){a.console&&a.console.warn&&b&&La.test(b.name)&&a.console.warn("jQuery.Deferred exception: "+b.message,b.stack,c)},ya.readyException=function(b){a.setTimeout(function(){throw b})};var Ma=ya.Deferred();ya.fn.ready=function(a){return Ma.then(a)["catch"](function(a){ya.readyException(a)}),this},ya.extend({isReady:!1,readyWait:1,ready:function(a){(a===!0?--ya.readyWait:ya.isReady)||(ya.isReady=!0,a!==!0&&--ya.readyWait>0||Ma.resolveWith(ia,[ya]))}}),ya.ready.then=Ma.then,"complete"===ia.readyState||"loading"!==ia.readyState&&!ia.documentElement.doScroll?a.setTimeout(ya.ready):(ia.addEventListener("DOMContentLoaded",m),a.addEventListener("load",m));var Na=function(a,b,c,e,f,g,h){var i=0,j=a.length,k=null==c;if("object"===d(c)){f=!0;for(i in c)Na(a,b,i,c[i],!0,g,h)}else if(void 0!==e&&(f=!0,ua(e)||(h=!0),k&&(h?(b.call(a,e),b=null):(k=b,b=function(a,b,c){return k.call(ya(a),c)})),b))for(;j>i;i++)b(a[i],c,h?e:e.call(a[i],i,b(a[i],c)));return f?a:k?b.call(a):j?b(a[0],c):g},Oa=/^-ms-/,Pa=/-([a-z])/g,Qa=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};p.uid=1,p.prototype={cache:function(a){var b=a[this.expando];return b||(b={},Qa(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[o(b)]=c;else for(d in b)e[o(d)]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][o(b)]},access:function(a,b,c){return void 0===b||b&&"string"==typeof b&&void 0===c?this.get(a,b):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d=a[this.expando];if(void 0!==d){if(void 0!==b){Array.isArray(b)?b=b.map(o):(b=o(b),b=b in d?[b]:b.match(Ka)||[]),c=b.length;for(;c--;)delete d[b[c]]}(void 0===b||ya.isEmptyObject(d))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!ya.isEmptyObject(b)}};var Ra=new p,Sa=new p,Ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ua=/[A-Z]/g;ya.extend({hasData:function(a){return Sa.hasData(a)||Ra.hasData(a)},data:function(a,b,c){return Sa.access(a,b,c)},removeData:function(a,b){Sa.remove(a,b)},_data:function(a,b,c){return Ra.access(a,b,c)},_removeData:function(a,b){Ra.remove(a,b)}}),ya.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=Sa.get(f),1===f.nodeType&&!Ra.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=o(d.slice(5)),r(f,d,e[d])));Ra.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){Sa.set(this,a)}):Na(this,function(b){var c;if(f&&void 0===b){if(c=Sa.get(f,a),void 0!==c)return c;if(c=r(f,a),void 0!==c)return c}else this.each(function(){
Sa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){Sa.remove(this,a)})}}),ya.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=Ra.get(a,b),c&&(!d||Array.isArray(c)?d=Ra.access(a,b,ya.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=ya.queue(a,b),d=c.length,e=c.shift(),f=ya._queueHooks(a,b),g=function(){ya.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return Ra.get(a,c)||Ra.access(a,c,{empty:ya.Callbacks("once memory").add(function(){Ra.remove(a,[b+"queue",c])})})}}),ya.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?ya.queue(this[0],a):void 0===b?this:this.each(function(){var c=ya.queue(this,a,b);ya._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&ya.dequeue(this,a)})},dequeue:function(a){return this.each(function(){ya.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=ya.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=Ra.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Wa=new RegExp("^(?:([+-])=|)("+Va+")([a-z%]*)$","i"),Xa=["Top","Right","Bottom","Left"],Ya=ia.documentElement,Za=function(a){return ya.contains(a.ownerDocument,a)},$a={composed:!0};Ya.getRootNode&&(Za=function(a){return ya.contains(a.ownerDocument,a)||a.getRootNode($a)===a.ownerDocument});var _a=function(a,b){return a=b||a,"none"===a.style.display||""===a.style.display&&Za(a)&&"none"===ya.css(a,"display")},ab=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},bb={};ya.fn.extend({show:function(){return u(this,!0)},hide:function(){return u(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){_a(this)?ya(this).show():ya(this).hide()})}});var cb=/^(?:checkbox|radio)$/i,db=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,eb=/^$|^module$|\/(?:java|ecma)script/i,fb={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fb.optgroup=fb.option,fb.tbody=fb.tfoot=fb.colgroup=fb.caption=fb.thead,fb.th=fb.td;var gb=/<|&#?\w+;/;!function(){var a=ia.createDocumentFragment(),b=a.appendChild(ia.createElement("div")),c=ia.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),ta.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",ta.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var hb=/^key/,ib=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,jb=/^([^.]*)(?:\.(.+)|)/;ya.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ra.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),e&&ya.find.matchesSelector(Ya,e),c.guid||(c.guid=ya.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return"undefined"!=typeof ya&&ya.event.triggered!==b.type?ya.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(Ka)||[""],j=b.length;j--;)h=jb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=ya.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=ya.event.special[n]||{},k=ya.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&ya.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),ya.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=Ra.hasData(a)&&Ra.get(a);if(q&&(i=q.events)){for(b=(b||"").match(Ka)||[""],j=b.length;j--;)if(h=jb.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=ya.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||ya.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)ya.event.remove(a,n+b[j],c,d,!0);ya.isEmptyObject(i)&&Ra.remove(a,"handle events")}},dispatch:function(a){var b,c,d,e,f,g,h=ya.event.fix(a),i=new Array(arguments.length),j=(Ra.get(this,"events")||{})[h.type]||[],k=ya.event.special[h.type]||{};for(i[0]=h,b=1;b<arguments.length;b++)i[b]=arguments[b];if(h.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,h)!==!1){for(g=ya.event.handlers.call(this,h,j),b=0;(e=g[b++])&&!h.isPropagationStopped();)for(h.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!h.isImmediatePropagationStopped();)(!h.rnamespace||f.namespace===!1||h.rnamespace.test(f.namespace))&&(h.handleObj=f,h.data=f.data,d=((ya.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,i),void 0!==d&&(h.result=d)===!1&&(h.preventDefault(),h.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,h),h.result}},handlers:function(a,b){var c,d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&!("click"===a.type&&a.button>=1))for(;j!==this;j=j.parentNode||this)if(1===j.nodeType&&("click"!==a.type||j.disabled!==!0)){for(f=[],g={},c=0;i>c;c++)d=b[c],e=d.selector+" ",void 0===g[e]&&(g[e]=d.needsContext?ya(e,this).index(j)>-1:ya.find(e,this,null,[j]).length),g[e]&&f.push(d);f.length&&h.push({elem:j,handlers:f})}return j=this,i<b.length&&h.push({elem:j,handlers:b.slice(i)}),h},addProp:function(a,b){Object.defineProperty(ya.Event.prototype,a,{enumerable:!0,configurable:!0,get:ua(b)?function(){return this.originalEvent?b(this.originalEvent):void 0}:function(){return this.originalEvent?this.originalEvent[a]:void 0},set:function(b){Object.defineProperty(this,a,{enumerable:!0,configurable:!0,writable:!0,value:b})}})},fix:function(a){return a[ya.expando]?a:new ya.Event(a)},special:{load:{noBubble:!0},click:{setup:function(a){var b=this||a;return cb.test(b.type)&&b.click&&f(b,"input")&&D(b,"click",y),!1},trigger:function(a){var b=this||a;return cb.test(b.type)&&b.click&&f(b,"input")&&D(b,"click"),!0},_default:function(a){var b=a.target;return cb.test(b.type)&&b.click&&f(b,"input")&&Ra.get(b,"click")||f(b,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},ya.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},ya.Event=function(a,b){return this instanceof ya.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?y:z,this.target=a.target&&3===a.target.nodeType?a.target.parentNode:a.target,this.currentTarget=a.currentTarget,this.relatedTarget=a.relatedTarget):this.type=a,b&&ya.extend(this,b),this.timeStamp=a&&a.timeStamp||Date.now(),void(this[ya.expando]=!0)):new ya.Event(a,b)},ya.Event.prototype={constructor:ya.Event,isDefaultPrevented:z,isPropagationStopped:z,isImmediatePropagationStopped:z,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=y,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=y,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=y,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},ya.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(a){var b=a.button;return null==a.which&&hb.test(a.type)?null!=a.charCode?a.charCode:a.keyCode:!a.which&&void 0!==b&&ib.test(a.type)?1&b?1:2&b?3:4&b?2:0:a.which}},ya.event.addProp),ya.each({focus:"focusin",blur:"focusout"},function(a,b){ya.event.special[a]={setup:function(){return D(this,a,A),!1},trigger:function(){return D(this,a),!0},delegateType:b}}),ya.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){ya.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!ya.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),ya.fn.extend({on:function(a,b,c,d){return C(this,a,b,c,d)},one:function(a,b,c,d){return C(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,ya(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=z),this.each(function(){ya.event.remove(this,a,c,b)})}});var kb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,lb=/<script|<style|<link/i,mb=/checked\s*(?:[^=]|=\s*.checked.)/i,nb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;ya.extend({htmlPrefilter:function(a){return a.replace(kb,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=Za(a);if(!(ta.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||ya.isXMLDoc(a)))for(g=v(h),f=v(a),d=0,e=f.length;e>d;d++)I(f[d],g[d]);if(b)if(c)for(f=f||v(a),g=g||v(h),d=0,e=f.length;e>d;d++)H(f[d],g[d]);else H(a,h);return g=v(h,"script"),g.length>0&&w(g,!i&&v(a,"script")),h},cleanData:function(a){for(var b,c,d,e=ya.event.special,f=0;void 0!==(c=a[f]);f++)if(Qa(c)){if(b=c[Ra.expando]){if(b.events)for(d in b.events)e[d]?ya.event.remove(c,d):ya.removeEvent(c,d,b.handle);c[Ra.expando]=void 0}c[Sa.expando]&&(c[Sa.expando]=void 0)}}}),ya.fn.extend({detach:function(a){return K(this,a,!0)},remove:function(a){return K(this,a)},text:function(a){return Na(this,function(a){return void 0===a?ya.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return J(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=E(this,a);b.appendChild(a)}})},prepend:function(){return J(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=E(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return J(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return J(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(ya.cleanData(v(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return ya.clone(this,a,b)})},html:function(a){return Na(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!lb.test(a)&&!fb[(db.exec(a)||["",""])[1].toLowerCase()]){a=ya.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(ya.cleanData(v(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return J(this,arguments,function(b){var c=this.parentNode;ya.inArray(this,a)<0&&(ya.cleanData(v(this)),c&&c.replaceChild(b,this))},a)}}),ya.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){ya.fn[a]=function(a){for(var c,d=[],e=ya(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),ya(e[g])[b](c),ma.apply(d,c.get());return this.pushStack(d)}});var ob=new RegExp("^("+Va+")(?!px)[a-z%]+$","i"),pb=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},qb=new RegExp(Xa.join("|"),"i");!function(){function b(){if(j){i.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",j.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ya.appendChild(i).appendChild(j);var b=a.getComputedStyle(j);d="1%"!==b.top,h=12===c(b.marginLeft),j.style.right="60%",g=36===c(b.right),e=36===c(b.width),j.style.position="absolute",f=12===c(j.offsetWidth/3),Ya.removeChild(i),j=null}}function c(a){return Math.round(parseFloat(a))}var d,e,f,g,h,i=ia.createElement("div"),j=ia.createElement("div");j.style&&(j.style.backgroundClip="content-box",j.cloneNode(!0).style.backgroundClip="",ta.clearCloneStyle="content-box"===j.style.backgroundClip,ya.extend(ta,{boxSizingReliable:function(){return b(),e},pixelBoxStyles:function(){return b(),g},pixelPosition:function(){return b(),d},reliableMarginLeft:function(){return b(),h},scrollboxSize:function(){return b(),f}}))}();var rb=["Webkit","Moz","ms"],sb=ia.createElement("div").style,tb={},ub=/^(none|table(?!-c[ea]).+)/,vb=/^--/,wb={position:"absolute",visibility:"hidden",display:"block"},xb={letterSpacing:"0",fontWeight:"400"};ya.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=L(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=o(b),i=vb.test(b),j=a.style;return i||(b=O(h)),g=ya.cssHooks[b]||ya.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:j[b]:(f=typeof c,"string"===f&&(e=Wa.exec(c))&&e[1]&&(c=s(a,b,e),f="number"),null!=c&&c===c&&("number"!==f||i||(c+=e&&e[3]||(ya.cssNumber[h]?"":"px")),ta.clearCloneStyle||""!==c||0!==b.indexOf("background")||(j[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i?j.setProperty(b,c):j[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=o(b),i=vb.test(b);return i||(b=O(h)),g=ya.cssHooks[b]||ya.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=L(a,b,d)),"normal"===e&&b in xb&&(e=xb[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),ya.each(["height","width"],function(a,b){ya.cssHooks[b]={get:function(a,c,d){return c?!ub.test(ya.css(a,"display"))||a.getClientRects().length&&a.getBoundingClientRect().width?R(a,b,d):ab(a,wb,function(){return R(a,b,d)}):void 0},set:function(a,c,d){var e,f=pb(a),g=!ta.scrollboxSize()&&"absolute"===f.position,h=g||d,i=h&&"border-box"===ya.css(a,"boxSizing",!1,f),j=d?Q(a,b,d,i,f):0;return i&&g&&(j-=Math.ceil(a["offset"+b[0].toUpperCase()+b.slice(1)]-parseFloat(f[b])-Q(a,b,"border",!1,f)-.5)),j&&(e=Wa.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=ya.css(a,b)),P(a,c,j)}}}),ya.cssHooks.marginLeft=M(ta.reliableMarginLeft,function(a,b){return b?(parseFloat(L(a,"marginLeft"))||a.getBoundingClientRect().left-ab(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),ya.each({margin:"",padding:"",border:"Width"},function(a,b){ya.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Xa[d]+b]=f[d]||f[d-2]||f[0];return e}},"margin"!==a&&(ya.cssHooks[a+b].set=P)}),ya.fn.extend({css:function(a,b){return Na(this,function(a,b,c){var d,e,f={},g=0;if(Array.isArray(b)){for(d=pb(a),e=b.length;e>g;g++)f[b[g]]=ya.css(a,b[g],!1,d);return f}return void 0!==c?ya.style(a,b,c):ya.css(a,b)},a,b,arguments.length>1)}}),ya.Tween=S,S.prototype={constructor:S,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||ya.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(ya.cssNumber[c]?"":"px")},cur:function(){var a=S.propHooks[this.prop];return a&&a.get?a.get(this):S.propHooks._default.get(this)},run:function(a){var b,c=S.propHooks[this.prop];return this.options.duration?this.pos=b=ya.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):S.propHooks._default.set(this),this}},S.prototype.init.prototype=S.prototype,S.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=ya.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){ya.fx.step[a.prop]?ya.fx.step[a.prop](a):1!==a.elem.nodeType||!ya.cssHooks[a.prop]&&null==a.elem.style[O(a.prop)]?a.elem[a.prop]=a.now:ya.style(a.elem,a.prop,a.now+a.unit)}}},S.propHooks.scrollTop=S.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},ya.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},ya.fx=S.prototype.init,ya.fx.step={};var yb,zb,Ab=/^(?:toggle|show|hide)$/,Bb=/queueHooks$/;ya.Animation=ya.extend(Z,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return s(c.elem,a,Wa.exec(b),c),c}]},tweener:function(a,b){ua(a)?(b=a,a=["*"]):a=a.match(Ka);for(var c,d=0,e=a.length;e>d;d++)c=a[d],Z.tweeners[c]=Z.tweeners[c]||[],Z.tweeners[c].unshift(b)},prefilters:[X],prefilter:function(a,b){b?Z.prefilters.unshift(a):Z.prefilters.push(a)}}),ya.speed=function(a,b,c){var d=a&&"object"==typeof a?ya.extend({},a):{complete:c||!c&&b||ua(a)&&a,duration:a,easing:c&&b||b&&!ua(b)&&b};return ya.fx.off?d.duration=0:"number"!=typeof d.duration&&(d.duration in ya.fx.speeds?d.duration=ya.fx.speeds[d.duration]:d.duration=ya.fx.speeds._default),(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){ua(d.old)&&d.old.call(this),d.queue&&ya.dequeue(this,d.queue)},d},ya.fn.extend({fadeTo:function(a,b,c,d){return this.filter(_a).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=ya.isEmptyObject(a),f=ya.speed(b,c,d),g=function(){var b=Z(this,ya.extend({},a),f);(e||Ra.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=ya.timers,g=Ra.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Bb.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&ya.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=Ra.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=ya.timers,g=d?d.length:0;for(c.finish=!0,ya.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),ya.each(["toggle","show","hide"],function(a,b){var c=ya.fn[b];ya.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(V(b,!0),a,d,e)}}),ya.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){ya.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),ya.timers=[],ya.fx.tick=function(){var a,b=0,c=ya.timers;for(yb=Date.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||ya.fx.stop(),yb=void 0},ya.fx.timer=function(a){ya.timers.push(a),ya.fx.start()},ya.fx.interval=13,ya.fx.start=function(){zb||(zb=!0,T())},ya.fx.stop=function(){zb=null},ya.fx.speeds={slow:600,fast:200,_default:400},ya.fn.delay=function(b,c){return b=ya.fx?ya.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=ia.createElement("input"),b=ia.createElement("select"),c=b.appendChild(ia.createElement("option"));a.type="checkbox",ta.checkOn=""!==a.value,ta.optSelected=c.selected,a=ia.createElement("input"),a.value="t",a.type="radio",ta.radioValue="t"===a.value}();var Cb,Db=ya.expr.attrHandle;ya.fn.extend({attr:function(a,b){return Na(this,ya.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){ya.removeAttr(this,a)})}}),ya.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?ya.prop(a,b,c):(1===f&&ya.isXMLDoc(a)||(e=ya.attrHooks[b.toLowerCase()]||(ya.expr.match.bool.test(b)?Cb:void 0)),void 0!==c?null===c?void ya.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=ya.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!ta.radioValue&&"radio"===b&&f(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d=0,e=b&&b.match(Ka);if(e&&1===a.nodeType)for(;c=e[d++];)a.removeAttribute(c)}}),Cb={set:function(a,b,c){return b===!1?ya.removeAttr(a,c):a.setAttribute(c,c),c}},ya.each(ya.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Db[b]||ya.find.attr;Db[b]=function(a,b,d){var e,f,g=b.toLowerCase();return d||(f=Db[g],Db[g]=e,e=null!=c(a,b,d)?g:null,Db[g]=f),e}});var Eb=/^(?:input|select|textarea|button)$/i,Fb=/^(?:a|area)$/i;ya.fn.extend({prop:function(a,b){return Na(this,ya.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[ya.propFix[a]||a]})}}),ya.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&ya.isXMLDoc(a)||(b=ya.propFix[b]||b,e=ya.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=ya.find.attr(a,"tabindex");return b?parseInt(b,10):Eb.test(a.nodeName)||Fb.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ta.optSelected||(ya.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),ya.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ya.propFix[this.toLowerCase()]=this}),ya.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(ua(a))return this.each(function(b){ya(this).addClass(a.call(this,b,_(this)))});if(b=aa(a),b.length)for(;c=this[i++];)if(e=_(c),d=1===c.nodeType&&" "+$(e)+" "){for(g=0;f=b[g++];)d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=$(d),e!==h&&c.setAttribute("class",h)}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(ua(a))return this.each(function(b){ya(this).removeClass(a.call(this,b,_(this)))});if(!arguments.length)return this.attr("class","");if(b=aa(a),b.length)for(;c=this[i++];)if(e=_(c),d=1===c.nodeType&&" "+$(e)+" "){for(g=0;f=b[g++];)for(;d.indexOf(" "+f+" ")>-1;)d=d.replace(" "+f+" "," ");h=$(d),e!==h&&c.setAttribute("class",h)}return this},toggleClass:function(a,b){var c=typeof a,d="string"===c||Array.isArray(a);return"boolean"==typeof b&&d?b?this.addClass(a):this.removeClass(a):ua(a)?this.each(function(c){ya(this).toggleClass(a.call(this,c,_(this),b),b)}):this.each(function(){var b,e,f,g;if(d)for(e=0,f=ya(this),g=aa(a);b=g[e++];)f.hasClass(b)?f.removeClass(b):f.addClass(b);else(void 0===a||"boolean"===c)&&(b=_(this),b&&Ra.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":Ra.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;for(b=" "+a+" ";c=this[d++];)if(1===c.nodeType&&(" "+$(_(c))+" ").indexOf(b)>-1)return!0;return!1}});var Gb=/\r/g;ya.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=ua(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,ya(this).val()):a,null==e?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=ya.map(e,function(a){return null==a?"":a+""})),b=ya.valHooks[this.type]||ya.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=ya.valHooks[e.type]||ya.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(Gb,""):null==c?"":c)}}}),ya.extend({valHooks:{option:{get:function(a){var b=ya.find.attr(a,"value");return null!=b?b:$(ya.text(a))}},select:{get:function(a){var b,c,d,e=a.options,g=a.selectedIndex,h="select-one"===a.type,i=h?null:[],j=h?g+1:e.length;for(d=0>g?j:h?g:0;j>d;d++)if(c=e[d],(c.selected||d===g)&&!c.disabled&&(!c.parentNode.disabled||!f(c.parentNode,"optgroup"))){if(b=ya(c).val(),h)return b;i.push(b)}return i},set:function(a,b){for(var c,d,e=a.options,f=ya.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=ya.inArray(ya.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),ya.each(["radio","checkbox"],function(){ya.valHooks[this]={set:function(a,b){return Array.isArray(b)?a.checked=ya.inArray(ya(a).val(),b)>-1:void 0}},ta.checkOn||(ya.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),ta.focusin="onfocusin"in a;var Hb=/^(?:focusinfocus|focusoutblur)$/,Ib=function(a){a.stopPropagation()};ya.extend(ya.event,{trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m,n=[d||ia],o=qa.call(b,"type")?b.type:b,p=qa.call(b,"namespace")?b.namespace.split("."):[];if(g=m=h=d=d||ia,3!==d.nodeType&&8!==d.nodeType&&!Hb.test(o+ya.event.triggered)&&(o.indexOf(".")>-1&&(p=o.split("."),o=p.shift(),p.sort()),j=o.indexOf(":")<0&&"on"+o,b=b[ya.expando]?b:new ya.Event(o,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=p.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:ya.makeArray(c,[b]),l=ya.event.special[o]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!va(d)){for(i=l.delegateType||o,Hb.test(i+o)||(g=g.parentNode);g;g=g.parentNode)n.push(g),h=g;h===(d.ownerDocument||ia)&&n.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=n[f++])&&!b.isPropagationStopped();)m=g,b.type=f>1?i:l.bindType||o,k=(Ra.get(g,"events")||{})[b.type]&&Ra.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&Qa(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=o,e||b.isDefaultPrevented()||l._default&&l._default.apply(n.pop(),c)!==!1||!Qa(d)||j&&ua(d[o])&&!va(d)&&(h=d[j],h&&(d[j]=null),ya.event.triggered=o,b.isPropagationStopped()&&m.addEventListener(o,Ib),d[o](),b.isPropagationStopped()&&m.removeEventListener(o,Ib),ya.event.triggered=void 0,h&&(d[j]=h)),b.result}},simulate:function(a,b,c){var d=ya.extend(new ya.Event,c,{type:a,isSimulated:!0});ya.event.trigger(d,null,b)}}),ya.fn.extend({trigger:function(a,b){return this.each(function(){ya.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?ya.event.trigger(a,b,c,!0):void 0}}),ta.focusin||ya.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){ya.event.simulate(b,a.target,ya.event.fix(a))};ya.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=Ra.access(d,b);e||d.addEventListener(a,c,!0),Ra.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=Ra.access(d,b)-1;e?Ra.access(d,b,e):(d.removeEventListener(a,c,!0),Ra.remove(d,b))}}});var Jb=a.location,Kb=Date.now(),Lb=/\?/;ya.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return(!c||c.getElementsByTagName("parsererror").length)&&ya.error("Invalid XML: "+b),c};var Mb=/\[\]$/,Nb=/\r?\n/g,Ob=/^(?:submit|button|image|reset|file)$/i,Pb=/^(?:input|select|textarea|keygen)/i;ya.param=function(a,b){var c,d=[],e=function(a,b){var c=ua(b)?b():b;d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(null==c?"":c)};if(null==a)return"";if(Array.isArray(a)||a.jquery&&!ya.isPlainObject(a))ya.each(a,function(){e(this.name,this.value)});else for(c in a)ba(c,a[c],b,e);return d.join("&")},ya.fn.extend({serialize:function(){return ya.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=ya.prop(this,"elements");return a?ya.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!ya(this).is(":disabled")&&Pb.test(this.nodeName)&&!Ob.test(a)&&(this.checked||!cb.test(a))}).map(function(a,b){var c=ya(this).val();return null==c?null:Array.isArray(c)?ya.map(c,function(a){return{name:b.name,value:a.replace(Nb,"\r\n")}}):{name:b.name,value:c.replace(Nb,"\r\n")}}).get()}});var Qb=/%20/g,Rb=/#.*$/,Sb=/([?&])_=[^&]*/,Tb=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ub=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Vb=/^(?:GET|HEAD)$/,Wb=/^\/\//,Xb={},Yb={},Zb="*/".concat("*"),$b=ia.createElement("a");$b.href=Jb.href,ya.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jb.href,type:"GET",isLocal:Ub.test(Jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Zb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":ya.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?ea(ea(a,ya.ajaxSettings),b):ea(ya.ajaxSettings,a)},ajaxPrefilter:ca(Xb),ajaxTransport:ca(Yb),ajax:function(b,c){function d(b,c,d,h){var j,m,n,u,v,w=c;k||(k=!0,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=fa(o,x,d)),u=ga(o,u,x,j),j?(o.ifModified&&(v=x.getResponseHeader("Last-Modified"),v&&(ya.lastModified[f]=v),v=x.getResponseHeader("etag"),v&&(ya.etag[f]=v)),204===b||"HEAD"===o.type?w="nocontent":304===b?w="notmodified":(w=u.state,m=u.data,n=u.error,j=!n)):(n=w,(b||!w)&&(w="error",0>b&&(b=0))),x.status=b,x.statusText=(c||w)+"",j?r.resolveWith(p,[m,w,x]):r.rejectWith(p,[x,w,n]),x.statusCode(t),t=void 0,l&&q.trigger(j?"ajaxSuccess":"ajaxError",[x,o,j?m:n]),s.fireWith(p,[x,w]),l&&(q.trigger("ajaxComplete",[x,o]),--ya.active||ya.event.trigger("ajaxStop")))}"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m,n,o=ya.ajaxSetup({},c),p=o.context||o,q=o.context&&(p.nodeType||p.jquery)?ya(p):ya.event,r=ya.Deferred(),s=ya.Callbacks("once memory"),t=o.statusCode||{},u={},v={},w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(k){if(!h)for(h={};b=Tb.exec(g);)h[b[1].toLowerCase()+" "]=(h[b[1].toLowerCase()+" "]||[]).concat(b[2]);b=h[a.toLowerCase()+" "]}return null==b?null:b.join(", ")},getAllResponseHeaders:function(){return k?g:null},setRequestHeader:function(a,b){return null==k&&(a=v[a.toLowerCase()]=v[a.toLowerCase()]||a,u[a]=b),this},overrideMimeType:function(a){return null==k&&(o.mimeType=a),this},statusCode:function(a){var b;if(a)if(k)x.always(a[x.status]);else for(b in a)t[b]=[t[b],a[b]];return this},abort:function(a){var b=a||w;return e&&e.abort(b),d(0,b),this}};if(r.promise(x),o.url=((b||o.url||Jb.href)+"").replace(Wb,Jb.protocol+"//"),o.type=c.method||c.type||o.method||o.type,o.dataTypes=(o.dataType||"*").toLowerCase().match(Ka)||[""],null==o.crossDomain){j=ia.createElement("a");try{
j.href=o.url,j.href=j.href,o.crossDomain=$b.protocol+"//"+$b.host!=j.protocol+"//"+j.host}catch(y){o.crossDomain=!0}}if(o.data&&o.processData&&"string"!=typeof o.data&&(o.data=ya.param(o.data,o.traditional)),da(Xb,o,c,x),k)return x;l=ya.event&&o.global,l&&0===ya.active++&&ya.event.trigger("ajaxStart"),o.type=o.type.toUpperCase(),o.hasContent=!Vb.test(o.type),f=o.url.replace(Rb,""),o.hasContent?o.data&&o.processData&&0===(o.contentType||"").indexOf("application/x-www-form-urlencoded")&&(o.data=o.data.replace(Qb,"+")):(n=o.url.slice(f.length),o.data&&(o.processData||"string"==typeof o.data)&&(f+=(Lb.test(f)?"&":"?")+o.data,delete o.data),o.cache===!1&&(f=f.replace(Sb,"$1"),n=(Lb.test(f)?"&":"?")+"_="+Kb++ +n),o.url=f+n),o.ifModified&&(ya.lastModified[f]&&x.setRequestHeader("If-Modified-Since",ya.lastModified[f]),ya.etag[f]&&x.setRequestHeader("If-None-Match",ya.etag[f])),(o.data&&o.hasContent&&o.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",o.contentType),x.setRequestHeader("Accept",o.dataTypes[0]&&o.accepts[o.dataTypes[0]]?o.accepts[o.dataTypes[0]]+("*"!==o.dataTypes[0]?", "+Zb+"; q=0.01":""):o.accepts["*"]);for(m in o.headers)x.setRequestHeader(m,o.headers[m]);if(o.beforeSend&&(o.beforeSend.call(p,x,o)===!1||k))return x.abort();if(w="abort",s.add(o.complete),x.done(o.success),x.fail(o.error),e=da(Yb,o,c,x)){if(x.readyState=1,l&&q.trigger("ajaxSend",[x,o]),k)return x;o.async&&o.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},o.timeout));try{k=!1,e.send(u,d)}catch(y){if(k)throw y;d(-1,y)}}else d(-1,"No Transport");return x},getJSON:function(a,b,c){return ya.get(a,b,c,"json")},getScript:function(a,b){return ya.get(a,void 0,b,"script")}}),ya.each(["get","post"],function(a,b){ya[b]=function(a,c,d,e){return ua(c)&&(e=e||d,d=c,c=void 0),ya.ajax(ya.extend({url:a,type:b,dataType:e,data:c,success:d},ya.isPlainObject(a)&&a))}}),ya._evalUrl=function(a,b){return ya.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(a){ya.globalEval(a,b)}})},ya.fn.extend({wrapAll:function(a){var b;return this[0]&&(ua(a)&&(a=a.call(this[0])),b=ya(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(a){return ua(a)?this.each(function(b){ya(this).wrapInner(a.call(this,b))}):this.each(function(){var b=ya(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=ua(a);return this.each(function(c){ya(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(a){return this.parent(a).not("body").each(function(){ya(this).replaceWith(this.childNodes)}),this}}),ya.expr.pseudos.hidden=function(a){return!ya.expr.pseudos.visible(a)},ya.expr.pseudos.visible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)},ya.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var _b={0:200,1223:204},ac=ya.ajaxSettings.xhr();ta.cors=!!ac&&"withCredentials"in ac,ta.ajax=ac=!!ac,ya.ajaxTransport(function(b){var c,d;return ta.cors||ac&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.ontimeout=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(_b[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=h.ontimeout=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),ya.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)}),ya.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return ya.globalEval(a),a}}}),ya.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),ya.ajaxTransport("script",function(a){if(a.crossDomain||a.scriptAttrs){var b,c;return{send:function(d,e){b=ya("<script>").attr(a.scriptAttrs||{}).prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),ia.head.appendChild(b[0])},abort:function(){c&&c()}}}});var bc=[],cc=/(=)\?(?=&|$)|\?\?/;ya.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=bc.pop()||ya.expando+"_"+Kb++;return this[a]=!0,a}}),ya.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(cc.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&cc.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=ua(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(cc,"$1"+e):b.jsonp!==!1&&(b.url+=(Lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||ya.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?ya(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,bc.push(e)),g&&ua(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),ta.createHTMLDocument=function(){var a=ia.implementation.createHTMLDocument("").body;return a.innerHTML="<form></form><form></form>",2===a.childNodes.length}(),ya.parseHTML=function(a,b,c){if("string"!=typeof a)return[];"boolean"==typeof b&&(c=b,b=!1);var d,e,f;return b||(ta.createHTMLDocument?(b=ia.implementation.createHTMLDocument(""),d=b.createElement("base"),d.href=ia.location.href,b.head.appendChild(d)):b=ia),e=Ea.exec(a),f=!c&&[],e?[b.createElement(e[1])]:(e=x([a],b,f),f&&f.length&&ya(f).remove(),ya.merge([],e.childNodes))},ya.fn.load=function(a,b,c){var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=$(a.slice(h)),a=a.slice(0,h)),ua(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&ya.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?ya("<div>").append(ya.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},ya.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){ya.fn[b]=function(a){return this.on(b,a)}}),ya.expr.pseudos.animated=function(a){return ya.grep(ya.timers,function(b){return a===b.elem}).length},ya.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=ya.css(a,"position"),l=ya(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=ya.css(a,"top"),i=ya.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),ua(b)&&(b=b.call(a,c,ya.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},ya.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){ya.offset.setOffset(this,a,b)});var b,c,d=this[0];if(d)return d.getClientRects().length?(b=d.getBoundingClientRect(),c=d.ownerDocument.defaultView,{top:b.top+c.pageYOffset,left:b.left+c.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var a,b,c,d=this[0],e={top:0,left:0};if("fixed"===ya.css(d,"position"))b=d.getBoundingClientRect();else{for(b=this.offset(),c=d.ownerDocument,a=d.offsetParent||c.documentElement;a&&(a===c.body||a===c.documentElement)&&"static"===ya.css(a,"position");)a=a.parentNode;a&&a!==d&&1===a.nodeType&&(e=ya(a).offset(),e.top+=ya.css(a,"borderTopWidth",!0),e.left+=ya.css(a,"borderLeftWidth",!0))}return{top:b.top-e.top-ya.css(d,"marginTop",!0),left:b.left-e.left-ya.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&"static"===ya.css(a,"position");)a=a.offsetParent;return a||Ya})}}),ya.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;ya.fn[a]=function(d){return Na(this,function(a,d,e){var f;return va(a)?f=a:9===a.nodeType&&(f=a.defaultView),void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),ya.each(["top","left"],function(a,b){ya.cssHooks[b]=M(ta.pixelPosition,function(a,c){return c?(c=L(a,b),ob.test(c)?ya(a).position()[b]+"px":c):void 0})}),ya.each({Height:"height",Width:"width"},function(a,b){ya.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){ya.fn[d]=function(e,f){var g=arguments.length&&(c||"boolean"!=typeof e),h=c||(e===!0||f===!0?"margin":"border");return Na(this,function(b,c,e){var f;return va(b)?0===d.indexOf("outer")?b["inner"+a]:b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):void 0===e?ya.css(b,c,h):ya.style(b,c,e,h)},b,g?e:void 0,g)}})}),ya.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(a,b){ya.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),ya.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),ya.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}}),ya.proxy=function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),ua(a)?(d=ka.call(arguments,2),e=function(){return a.apply(b||this,d.concat(ka.call(arguments)))},e.guid=a.guid=a.guid||ya.guid++,e):void 0},ya.holdReady=function(a){a?ya.readyWait++:ya.ready(!0)},ya.isArray=Array.isArray,ya.parseJSON=JSON.parse,ya.nodeName=f,ya.isFunction=ua,ya.isWindow=va,ya.camelCase=o,ya.type=d,ya.now=Date.now,ya.isNumeric=function(a){var b=ya.type(a);return("number"===b||"string"===b)&&!isNaN(a-parseFloat(a))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return ya});var dc=a.jQuery,ec=a.$;return ya.noConflict=function(b){return a.$===ya&&(a.$=ec),b&&a.jQuery===ya&&(a.jQuery=dc),ya},b||(a.jQuery=a.$=ya),ya})},{}],529:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"DataView");b.exports=f},{"./_getNative":628,"./_root":674}],530:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_hashClear"),f=a("./_hashDelete"),g=a("./_hashGet"),h=a("./_hashHas"),i=a("./_hashSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_hashClear":635,"./_hashDelete":636,"./_hashGet":637,"./_hashHas":638,"./_hashSet":639}],531:[function(a,b,c){function d(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}var e=a("./_baseCreate"),f=a("./_baseLodash"),g=4294967295;d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./_baseCreate":558,"./_baseLodash":580}],532:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_listCacheClear"),f=a("./_listCacheDelete"),g=a("./_listCacheGet"),h=a("./_listCacheHas"),i=a("./_listCacheSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_listCacheClear":650,"./_listCacheDelete":651,"./_listCacheGet":652,"./_listCacheHas":653,"./_listCacheSet":654}],533:[function(a,b,c){function d(a,b){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!b,this.__index__=0,this.__values__=void 0}var e=a("./_baseCreate"),f=a("./_baseLodash");d.prototype=e(f.prototype),d.prototype.constructor=d,b.exports=d},{"./_baseCreate":558,"./_baseLodash":580}],534:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Map");b.exports=f},{"./_getNative":628,"./_root":674}],535:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var d=a[b];this.set(d[0],d[1])}}var e=a("./_mapCacheClear"),f=a("./_mapCacheDelete"),g=a("./_mapCacheGet"),h=a("./_mapCacheHas"),i=a("./_mapCacheSet");d.prototype.clear=e,d.prototype["delete"]=f,d.prototype.get=g,d.prototype.has=h,d.prototype.set=i,b.exports=d},{"./_mapCacheClear":655,"./_mapCacheDelete":656,"./_mapCacheGet":657,"./_mapCacheHas":658,"./_mapCacheSet":659}],536:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Promise");b.exports=f},{"./_getNative":628,"./_root":674}],537:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"Set");b.exports=f},{"./_getNative":628,"./_root":674}],538:[function(a,b,c){function d(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new e;++b<c;)this.add(a[b])}var e=a("./_MapCache"),f=a("./_setCacheAdd"),g=a("./_setCacheHas");d.prototype.add=d.prototype.push=f,d.prototype.has=g,b.exports=d},{"./_MapCache":535,"./_setCacheAdd":675,"./_setCacheHas":676}],539:[function(a,b,c){function d(a){var b=this.__data__=new e(a);this.size=b.size}var e=a("./_ListCache"),f=a("./_stackClear"),g=a("./_stackDelete"),h=a("./_stackGet"),i=a("./_stackHas"),j=a("./_stackSet");d.prototype.clear=f,d.prototype["delete"]=g,d.prototype.get=h,d.prototype.has=i,d.prototype.set=j,b.exports=d},{"./_ListCache":532,"./_stackClear":682,"./_stackDelete":683,"./_stackGet":684,"./_stackHas":685,"./_stackSet":686}],540:[function(a,b,c){var d=a("./_root"),e=d.Symbol;b.exports=e},{"./_root":674}],541:[function(a,b,c){var d=a("./_root"),e=d.Uint8Array;b.exports=e},{"./_root":674}],542:[function(a,b,c){var d=a("./_getNative"),e=a("./_root"),f=d(e,"WeakMap");b.exports=f},{"./_getNative":628,"./_root":674}],543:[function(a,b,c){function d(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}b.exports=d},{}],544:[function(a,b,c){function d(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}b.exports=d},{}],545:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&b(a[c],c,a)!==!1;);return a}b.exports=d},{}],546:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}b.exports=d},{}],547:[function(a,b,c){function d(a,b){var c=null==a?0:a.length;return!!c&&e(a,b,0)>-1}var e=a("./_baseIndexOf");b.exports=d},{"./_baseIndexOf":570}],548:[function(a,b,c){function d(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}b.exports=d},{}],549:[function(a,b,c){function d(a,b){var c=g(a),d=!c&&f(a),k=!c&&!d&&h(a),m=!c&&!d&&!k&&j(a),n=c||d||k||m,o=n?e(a.length,String):[],p=o.length;for(var q in a)!b&&!l.call(a,q)||n&&("length"==q||k&&("offset"==q||"parent"==q)||m&&("buffer"==q||"byteLength"==q||"byteOffset"==q)||i(q,p))||o.push(q);return o}var e=a("./_baseTimes"),f=a("./isArguments"),g=a("./isArray"),h=a("./isBuffer"),i=a("./_isIndex"),j=a("./isTypedArray"),k=Object.prototype,l=k.hasOwnProperty;b.exports=d},{"./_baseTimes":590,"./_isIndex":642,"./isArguments":706,"./isArray":707,"./isBuffer":710,"./isTypedArray":717}],550:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}b.exports=d},{}],551:[function(a,b,c){function d(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}b.exports=d},{}],552:[function(a,b,c){function d(a,b,c,d){var e=-1,f=null==a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}b.exports=d},{}],553:[function(a,b,c){function d(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}b.exports=d},{}],554:[function(a,b,c){function d(a,b,c){var d=a[b];h.call(a,b)&&f(d,c)&&(void 0!==c||b in a)||e(a,b,c)}var e=a("./_baseAssignValue"),f=a("./eq"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_baseAssignValue":557,"./eq":697}],555:[function(a,b,c){function d(a,b){for(var c=a.length;c--;)if(e(a[c][0],b))return c;return-1}var e=a("./eq");b.exports=d},{"./eq":697}],556:[function(a,b,c){function d(a,b,c,d){return e(a,function(a,e,f){b(d,a,c(a),f)}),d}var e=a("./_baseEach");b.exports=d},{"./_baseEach":560}],557:[function(a,b,c){function d(a,b,c){"__proto__"==b&&e?e(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}var e=a("./_defineProperty");b.exports=d},{"./_defineProperty":617}],558:[function(a,b,c){var d=a("./isObject"),e=Object.create,f=function(){function a(){}return function(b){if(!d(b))return{};if(e)return e(b);a.prototype=b;var c=new a;return a.prototype=void 0,c}}();b.exports=f},{"./isObject":714}],559:[function(a,b,c){function d(a,b,c,d){var l=-1,m=f,n=!0,o=a.length,p=[],q=b.length;if(!o)return p;c&&(b=h(b,i(c))),d?(m=g,n=!1):b.length>=k&&(m=j,n=!1,b=new e(b));a:for(;++l<o;){var r=a[l],s=null==c?r:c(r);if(r=d||0!==r?r:0,n&&s===s){for(var t=q;t--;)if(b[t]===s)continue a;p.push(r)}else m(b,s,d)||p.push(r)}return p}var e=a("./_SetCache"),f=a("./_arrayIncludes"),g=a("./_arrayIncludesWith"),h=a("./_arrayMap"),i=a("./_baseUnary"),j=a("./_cacheHas"),k=200;b.exports=d},{"./_SetCache":538,"./_arrayIncludes":547,"./_arrayIncludesWith":548,"./_arrayMap":550,"./_baseUnary":592,"./_cacheHas":595}],560:[function(a,b,c){var d=a("./_baseForOwn"),e=a("./_createBaseEach"),f=e(d);b.exports=f},{"./_baseForOwn":565,"./_createBaseEach":606}],561:[function(a,b,c){function d(a,b){var c=[];return e(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}var e=a("./_baseEach");b.exports=d},{"./_baseEach":560}],562:[function(a,b,c){function d(a,b,c,d){for(var e=a.length,f=c+(d?1:-1);d?f--:++f<e;)if(b(a[f],f,a))return f;return-1}b.exports=d},{}],563:[function(a,b,c){function d(a,b,c,g,h){var i=-1,j=a.length;for(c||(c=f),h||(h=[]);++i<j;){var k=a[i];b>0&&c(k)?b>1?d(k,b-1,c,g,h):e(h,k):g||(h[h.length]=k)}return h}var e=a("./_arrayPush"),f=a("./_isFlattenable");b.exports=d},{"./_arrayPush":551,"./_isFlattenable":641}],564:[function(a,b,c){var d=a("./_createBaseFor"),e=d();b.exports=e},{"./_createBaseFor":607}],565:[function(a,b,c){function d(a,b){return a&&e(a,b,f)}var e=a("./_baseFor"),f=a("./keys");b.exports=d},{"./_baseFor":564,"./keys":719}],566:[function(a,b,c){function d(a,b){b=e(b,a);for(var c=0,d=b.length;null!=a&&d>c;)a=a[f(b[c++])];return c&&c==d?a:void 0}var e=a("./_castPath"),f=a("./_toKey");b.exports=d},{"./_castPath":597,"./_toKey":689}],567:[function(a,b,c){function d(a,b,c){var d=b(a);return f(a)?d:e(d,c(a))}var e=a("./_arrayPush"),f=a("./isArray");b.exports=d},{"./_arrayPush":551,"./isArray":707}],568:[function(a,b,c){function d(a){return null==a?void 0===a?i:h:j&&j in Object(a)?f(a):g(a)}var e=a("./_Symbol"),f=a("./_getRawTag"),g=a("./_objectToString"),h="[object Null]",i="[object Undefined]",j=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":540,"./_getRawTag":629,"./_objectToString":668}],569:[function(a,b,c){function d(a,b){return null!=a&&b in Object(a)}b.exports=d},{}],570:[function(a,b,c){function d(a,b,c){return b===b?g(a,b,c):e(a,f,c)}var e=a("./_baseFindIndex"),f=a("./_baseIsNaN"),g=a("./_strictIndexOf");b.exports=d},{"./_baseFindIndex":562,"./_baseIsNaN":575,"./_strictIndexOf":687}],571:[function(a,b,c){function d(a){return f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Arguments]";b.exports=d},{"./_baseGetTag":568,"./isObjectLike":715}],572:[function(a,b,c){function d(a,b,c,g,h){return a===b?!0:null==a||null==b||!f(a)&&!f(b)?a!==a&&b!==b:e(a,b,c,g,d,h)}var e=a("./_baseIsEqualDeep"),f=a("./isObjectLike");b.exports=d},{"./_baseIsEqualDeep":573,"./isObjectLike":715}],573:[function(a,b,c){function d(a,b,c,d,q,s){var t=j(a),u=j(b),v=t?o:i(a),w=u?o:i(b);v=v==n?p:v,w=w==n?p:w;var x=v==p,y=w==p,z=v==w;if(z&&k(a)){if(!k(b))return!1;t=!0,x=!1}if(z&&!x)return s||(s=new e),t||l(a)?f(a,b,c,d,q,s):g(a,b,v,c,d,q,s);if(!(c&m)){var A=x&&r.call(a,"__wrapped__"),B=y&&r.call(b,"__wrapped__");if(A||B){var C=A?a.value():a,D=B?b.value():b;return s||(s=new e),q(C,D,c,d,s)}}return z?(s||(s=new e),h(a,b,c,d,q,s)):!1}var e=a("./_Stack"),f=a("./_equalArrays"),g=a("./_equalByTag"),h=a("./_equalObjects"),i=a("./_getTag"),j=a("./isArray"),k=a("./isBuffer"),l=a("./isTypedArray"),m=1,n="[object Arguments]",o="[object Array]",p="[object Object]",q=Object.prototype,r=q.hasOwnProperty;b.exports=d},{"./_Stack":539,"./_equalArrays":618,"./_equalByTag":619,"./_equalObjects":620,"./_getTag":631,"./isArray":707,"./isBuffer":710,"./isTypedArray":717}],574:[function(a,b,c){function d(a,b,c,d){var i=c.length,j=i,k=!d;if(null==a)return!j;for(a=Object(a);i--;){var l=c[i];if(k&&l[2]?l[1]!==a[l[0]]:!(l[0]in a))return!1}for(;++i<j;){l=c[i];var m=l[0],n=a[m],o=l[1];if(k&&l[2]){if(void 0===n&&!(m in a))return!1}else{var p=new e;if(d)var q=d(n,o,m,a,b,p);if(!(void 0===q?f(o,n,g|h,d,p):q))return!1}}return!0}var e=a("./_Stack"),f=a("./_baseIsEqual"),g=1,h=2;b.exports=d},{"./_Stack":539,"./_baseIsEqual":572}],575:[function(a,b,c){function d(a){return a!==a}b.exports=d},{}],576:[function(a,b,c){function d(a){if(!g(a)||f(a))return!1;var b=e(a)?o:j;return b.test(h(a))}var e=a("./isFunction"),f=a("./_isMasked"),g=a("./isObject"),h=a("./_toSource"),i=/[\\^$.*+?()[\]{}|]/g,j=/^\[object .+?Constructor\]$/,k=Function.prototype,l=Object.prototype,m=k.toString,n=l.hasOwnProperty,o=RegExp("^"+m.call(n).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");b.exports=d},{"./_isMasked":647,"./_toSource":690,"./isFunction":712,"./isObject":714}],577:[function(a,b,c){function d(a){return g(a)&&f(a.length)&&!!F[e(a)]}var e=a("./_baseGetTag"),f=a("./isLength"),g=a("./isObjectLike"),h="[object Arguments]",i="[object Array]",j="[object Boolean]",k="[object Date]",l="[object Error]",m="[object Function]",n="[object Map]",o="[object Number]",p="[object Object]",q="[object RegExp]",r="[object Set]",s="[object String]",t="[object WeakMap]",u="[object ArrayBuffer]",v="[object DataView]",w="[object Float32Array]",x="[object Float64Array]",y="[object Int8Array]",z="[object Int16Array]",A="[object Int32Array]",B="[object Uint8Array]",C="[object Uint8ClampedArray]",D="[object Uint16Array]",E="[object Uint32Array]",F={};F[w]=F[x]=F[y]=F[z]=F[A]=F[B]=F[C]=F[D]=F[E]=!0,F[h]=F[i]=F[u]=F[j]=F[v]=F[k]=F[l]=F[m]=F[n]=F[o]=F[p]=F[q]=F[r]=F[s]=F[t]=!1,b.exports=d},{"./_baseGetTag":568,"./isLength":713,"./isObjectLike":715}],578:[function(a,b,c){function d(a){return"function"==typeof a?a:null==a?g:"object"==typeof a?h(a)?f(a[0],a[1]):e(a):i(a)}var e=a("./_baseMatches"),f=a("./_baseMatchesProperty"),g=a("./identity"),h=a("./isArray"),i=a("./property");b.exports=d},{"./_baseMatches":582,"./_baseMatchesProperty":583,"./identity":705,"./isArray":707,"./property":724}],579:[function(a,b,c){function d(a){if(!e(a))return f(a);var b=[];for(var c in Object(a))h.call(a,c)&&"constructor"!=c&&b.push(c);return b}var e=a("./_isPrototype"),f=a("./_nativeKeys"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_isPrototype":648,"./_nativeKeys":666}],580:[function(a,b,c){function d(){}b.exports=d},{}],581:[function(a,b,c){function d(a,b){var c=-1,d=f(a)?Array(a.length):[];return e(a,function(a,e,f){d[++c]=b(a,e,f)}),d}var e=a("./_baseEach"),f=a("./isArrayLike");b.exports=d},{"./_baseEach":560,"./isArrayLike":708}],582:[function(a,b,c){function d(a){var b=f(a);return 1==b.length&&b[0][2]?g(b[0][0],b[0][1]):function(c){return c===a||e(c,a,b)}}var e=a("./_baseIsMatch"),f=a("./_getMatchData"),g=a("./_matchesStrictComparable");b.exports=d},{"./_baseIsMatch":574,"./_getMatchData":627,"./_matchesStrictComparable":661}],583:[function(a,b,c){function d(a,b){return h(a)&&i(b)?j(k(a),b):function(c){var d=f(c,a);return void 0===d&&d===b?g(c,a):e(b,d,l|m)}}var e=a("./_baseIsEqual"),f=a("./get"),g=a("./hasIn"),h=a("./_isKey"),i=a("./_isStrictComparable"),j=a("./_matchesStrictComparable"),k=a("./_toKey"),l=1,m=2;b.exports=d},{"./_baseIsEqual":572,"./_isKey":644,"./_isStrictComparable":649,"./_matchesStrictComparable":661,"./_toKey":689,"./get":703,"./hasIn":704}],584:[function(a,b,c){function d(a){return function(b){return null==b?void 0:b[a]}}b.exports=d},{}],585:[function(a,b,c){function d(a){return function(b){return e(b,a)}}var e=a("./_baseGet");b.exports=d},{"./_baseGet":566}],586:[function(a,b,c){function d(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}b.exports=d},{}],587:[function(a,b,c){function d(a,b){return g(f(a,b,e),a+"")}var e=a("./identity"),f=a("./_overRest"),g=a("./_setToString");b.exports=d},{"./_overRest":670,"./_setToString":679,"./identity":705}],588:[function(a,b,c){var d=a("./identity"),e=a("./_metaMap"),f=e?function(a,b){return e.set(a,b),a}:d;b.exports=f},{"./_metaMap":664,"./identity":705}],589:[function(a,b,c){var d=a("./constant"),e=a("./_defineProperty"),f=a("./identity"),g=e?function(a,b){return e(a,"toString",{configurable:!0,enumerable:!1,value:d(b),writable:!0})}:f;b.exports=g},{"./_defineProperty":617,"./constant":695,"./identity":705}],590:[function(a,b,c){function d(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}b.exports=d},{}],591:[function(a,b,c){function d(a){if("string"==typeof a)return a;if(g(a))return f(a,d)+"";if(h(a))return k?k.call(a):"";var b=a+"";return"0"==b&&1/a==-i?"-0":b}var e=a("./_Symbol"),f=a("./_arrayMap"),g=a("./isArray"),h=a("./isSymbol"),i=1/0,j=e?e.prototype:void 0,k=j?j.toString:void 0;b.exports=d},{"./_Symbol":540,"./_arrayMap":550,"./isArray":707,"./isSymbol":716}],592:[function(a,b,c){function d(a){return function(b){return a(b)}}b.exports=d},{}],593:[function(a,b,c){function d(a,b,c){var d=-1,l=f,m=a.length,n=!0,o=[],p=o;if(c)n=!1,l=g;else if(m>=k){var q=b?null:i(a);if(q)return j(q);n=!1,l=h,p=new e}else p=b?[]:o;a:for(;++d<m;){var r=a[d],s=b?b(r):r;if(r=c||0!==r?r:0,n&&s===s){for(var t=p.length;t--;)if(p[t]===s)continue a;b&&p.push(s),o.push(r)}else l(p,s,c)||(p!==o&&p.push(s),o.push(r))}return o}var e=a("./_SetCache"),f=a("./_arrayIncludes"),g=a("./_arrayIncludesWith"),h=a("./_cacheHas"),i=a("./_createSet"),j=a("./_setToArray"),k=200;b.exports=d},{"./_SetCache":538,"./_arrayIncludes":547,"./_arrayIncludesWith":548,"./_cacheHas":595,"./_createSet":615,"./_setToArray":678}],594:[function(a,b,c){function d(a,b,c){var d=a.length;if(2>d)return d?g(a[0]):[];for(var h=-1,i=Array(d);++h<d;)for(var j=a[h],k=-1;++k<d;)k!=h&&(i[h]=e(i[h]||j,a[k],b,c));return g(f(i,1),b,c)}var e=a("./_baseDifference"),f=a("./_baseFlatten"),g=a("./_baseUniq");b.exports=d},{"./_baseDifference":559,"./_baseFlatten":563,"./_baseUniq":593}],595:[function(a,b,c){function d(a,b){return a.has(b)}b.exports=d},{}],596:[function(a,b,c){function d(a){return"function"==typeof a?a:e}var e=a("./identity");b.exports=d},{"./identity":705}],597:[function(a,b,c){function d(a,b){return e(a)?a:f(a,b)?[a]:g(h(a))}var e=a("./isArray"),f=a("./_isKey"),g=a("./_stringToPath"),h=a("./toString");b.exports=d},{"./_isKey":644,"./_stringToPath":688,"./isArray":707,"./toString":731}],598:[function(a,b,c){function d(a,b,c,d){for(var f=-1,g=a.length,h=c.length,i=-1,j=b.length,k=e(g-h,0),l=Array(j+k),m=!d;++i<j;)l[i]=b[i];for(;++f<h;)(m||g>f)&&(l[c[f]]=a[f]);for(;k--;)l[i++]=a[f++];return l}var e=Math.max;b.exports=d},{}],599:[function(a,b,c){function d(a,b,c,d){for(var f=-1,g=a.length,h=-1,i=c.length,j=-1,k=b.length,l=e(g-i,0),m=Array(l+k),n=!d;++f<l;)m[f]=a[f];for(var o=f;++j<k;)m[o+j]=b[j];for(;++h<i;)(n||g>f)&&(m[o+c[h]]=a[f++]);return m}var e=Math.max;b.exports=d},{}],600:[function(a,b,c){function d(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}b.exports=d},{}],601:[function(a,b,c){function d(a,b,c,d){var g=!c;c||(c={});for(var h=-1,i=b.length;++h<i;){var j=b[h],k=d?d(c[j],a[j],j,c,a):void 0;void 0===k&&(k=a[j]),g?f(c,j,k):e(c,j,k)}return c}var e=a("./_assignValue"),f=a("./_baseAssignValue");b.exports=d},{"./_assignValue":554,"./_baseAssignValue":557}],602:[function(a,b,c){var d=a("./_root"),e=d["__core-js_shared__"];b.exports=e},{"./_root":674}],603:[function(a,b,c){function d(a,b){for(var c=a.length,d=0;c--;)a[c]===b&&++d;return d}b.exports=d},{}],604:[function(a,b,c){function d(a,b){return function(c,d){var i=h(c)?e:f,j=b?b():{};return i(c,a,g(d,2),j)}}var e=a("./_arrayAggregator"),f=a("./_baseAggregator"),g=a("./_baseIteratee"),h=a("./isArray");b.exports=d},{"./_arrayAggregator":544,"./_baseAggregator":556,"./_baseIteratee":578,"./isArray":707}],605:[function(a,b,c){function d(a){return e(function(b,c){var d=-1,e=c.length,g=e>1?c[e-1]:void 0,h=e>2?c[2]:void 0;for(g=a.length>3&&"function"==typeof g?(e--,g):void 0,h&&f(c[0],c[1],h)&&(g=3>e?void 0:g,e=1),b=Object(b);++d<e;){var i=c[d];i&&a(b,i,d,g)}return b})}var e=a("./_baseRest"),f=a("./_isIterateeCall");b.exports=d},{"./_baseRest":587,"./_isIterateeCall":643}],606:[function(a,b,c){function d(a,b){return function(c,d){if(null==c)return c;if(!e(c))return a(c,d);for(var f=c.length,g=b?f:-1,h=Object(c);(b?g--:++g<f)&&d(h[g],g,h)!==!1;);return c}}var e=a("./isArrayLike");b.exports=d},{"./isArrayLike":708}],607:[function(a,b,c){function d(a){return function(b,c,d){for(var e=-1,f=Object(b),g=d(b),h=g.length;h--;){var i=g[a?h:++e];if(c(f[i],i,f)===!1)break}return b}}b.exports=d},{}],608:[function(a,b,c){function d(a,b,c){function d(){var b=this&&this!==f&&this instanceof d?i:a;return b.apply(h?c:this,arguments)}var h=b&g,i=e(a);return d}var e=a("./_createCtor"),f=a("./_root"),g=1;b.exports=d},{"./_createCtor":609,"./_root":674}],609:[function(a,b,c){function d(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=e(a.prototype),d=a.apply(c,b);return f(d)?d:c}}var e=a("./_baseCreate"),f=a("./isObject");b.exports=d},{"./_baseCreate":558,"./isObject":714}],610:[function(a,b,c){function d(a,b,c){function d(){for(var f=arguments.length,m=Array(f),n=f,o=i(d);n--;)m[n]=arguments[n];var p=3>f&&m[0]!==o&&m[f-1]!==o?[]:j(m,o);if(f-=p.length,c>f)return h(a,b,g,d.placeholder,void 0,m,p,void 0,void 0,c-f);var q=this&&this!==k&&this instanceof d?l:a;return e(q,this,m)}var l=f(a);return d}var e=a("./_apply"),f=a("./_createCtor"),g=a("./_createHybrid"),h=a("./_createRecurry"),i=a("./_getHolder"),j=a("./_replaceHolders"),k=a("./_root");b.exports=d},{"./_apply":543,"./_createCtor":609,"./_createHybrid":612,"./_createRecurry":614,"./_getHolder":625,"./_replaceHolders":673,"./_root":674}],611:[function(a,b,c){function d(a){return function(b,c,d){var h=Object(b);if(!f(b)){var i=e(c,3);b=g(b),c=function(a){return i(h[a],a,h)}}var j=a(b,c,d);return j>-1?h[i?b[j]:j]:void 0}}var e=a("./_baseIteratee"),f=a("./isArrayLike"),g=a("./keys");b.exports=d},{"./_baseIteratee":578,"./isArrayLike":708,"./keys":719}],612:[function(a,b,c){function d(a,b,c,t,u,v,w,x,y,z){function A(){for(var n=arguments.length,o=Array(n),p=n;p--;)o[p]=arguments[p];if(E)var q=j(A),r=g(o,q);if(t&&(o=e(o,t,u,E)),v&&(o=f(o,v,w,E)),n-=r,E&&z>n){var s=l(o,q);return i(a,b,d,A.placeholder,c,o,s,x,y,z-n)}var H=C?c:this,I=D?H[a]:a;return n=o.length,x?o=k(o,x):F&&n>1&&o.reverse(),B&&n>y&&(o.length=y),this&&this!==m&&this instanceof A&&(I=G||h(I)),I.apply(H,o)}var B=b&r,C=b&n,D=b&o,E=b&(p|q),F=b&s,G=D?void 0:h(a);return A}var e=a("./_composeArgs"),f=a("./_composeArgsRight"),g=a("./_countHolders"),h=a("./_createCtor"),i=a("./_createRecurry"),j=a("./_getHolder"),k=a("./_reorder"),l=a("./_replaceHolders"),m=a("./_root"),n=1,o=2,p=8,q=16,r=128,s=512;
b.exports=d},{"./_composeArgs":598,"./_composeArgsRight":599,"./_countHolders":603,"./_createCtor":609,"./_createRecurry":614,"./_getHolder":625,"./_reorder":672,"./_replaceHolders":673,"./_root":674}],613:[function(a,b,c){function d(a,b,c,d){function i(){for(var b=-1,f=arguments.length,h=-1,l=d.length,m=Array(l+f),n=this&&this!==g&&this instanceof i?k:a;++h<l;)m[h]=d[h];for(;f--;)m[h++]=arguments[++b];return e(n,j?c:this,m)}var j=b&h,k=f(a);return i}var e=a("./_apply"),f=a("./_createCtor"),g=a("./_root"),h=1;b.exports=d},{"./_apply":543,"./_createCtor":609,"./_root":674}],614:[function(a,b,c){function d(a,b,c,d,n,o,p,q,r,s){var t=b&k,u=t?p:void 0,v=t?void 0:p,w=t?o:void 0,x=t?void 0:o;b|=t?l:m,b&=~(t?m:l),b&j||(b&=~(h|i));var y=[a,b,n,w,u,x,v,q,r,s],z=c.apply(void 0,y);return e(a)&&f(z,y),z.placeholder=d,g(z,a,b)}var e=a("./_isLaziable"),f=a("./_setData"),g=a("./_setWrapToString"),h=1,i=2,j=4,k=8,l=32,m=64;b.exports=d},{"./_isLaziable":646,"./_setData":677,"./_setWrapToString":680}],615:[function(a,b,c){var d=a("./_Set"),e=a("./noop"),f=a("./_setToArray"),g=1/0,h=d&&1/f(new d([,-0]))[1]==g?function(a){return new d(a)}:e;b.exports=h},{"./_Set":537,"./_setToArray":678,"./noop":722}],616:[function(a,b,c){function d(a,b,c,d,w,x,y,z){var A=b&q;if(!A&&"function"!=typeof a)throw new TypeError(o);var B=d?d.length:0;if(B||(b&=~(t|u),d=w=void 0),y=void 0===y?y:v(n(y),0),z=void 0===z?z:n(z),B-=w?w.length:0,b&u){var C=d,D=w;d=w=void 0}var E=A?void 0:j(a),F=[a,b,c,d,w,C,D,x,y,z];if(E&&k(F,E),a=F[0],b=F[1],c=F[2],d=F[3],w=F[4],z=F[9]=void 0===F[9]?A?0:a.length:v(F[9]-B,0),!z&&b&(r|s)&&(b&=~(r|s)),b&&b!=p)G=b==r||b==s?g(a,b,z):b!=t&&b!=(p|t)||w.length?h.apply(void 0,F):i(a,b,c,d);else var G=f(a,b,c);var H=E?e:l;return m(H(G,F),a,b)}var e=a("./_baseSetData"),f=a("./_createBind"),g=a("./_createCurry"),h=a("./_createHybrid"),i=a("./_createPartial"),j=a("./_getData"),k=a("./_mergeData"),l=a("./_setData"),m=a("./_setWrapToString"),n=a("./toInteger"),o="Expected a function",p=1,q=2,r=8,s=16,t=32,u=64,v=Math.max;b.exports=d},{"./_baseSetData":588,"./_createBind":608,"./_createCurry":610,"./_createHybrid":612,"./_createPartial":613,"./_getData":623,"./_mergeData":663,"./_setData":677,"./_setWrapToString":680,"./toInteger":729}],617:[function(a,b,c){var d=a("./_getNative"),e=function(){try{var a=d(Object,"defineProperty");return a({},"",{}),a}catch(b){}}();b.exports=e},{"./_getNative":628}],618:[function(a,b,c){function d(a,b,c,d,j,k){var l=c&h,m=a.length,n=b.length;if(m!=n&&!(l&&n>m))return!1;var o=k.get(a);if(o&&k.get(b))return o==b;var p=-1,q=!0,r=c&i?new e:void 0;for(k.set(a,b),k.set(b,a);++p<m;){var s=a[p],t=b[p];if(d)var u=l?d(t,s,p,b,a,k):d(s,t,p,a,b,k);if(void 0!==u){if(u)continue;q=!1;break}if(r){if(!f(b,function(a,b){return g(r,b)||s!==a&&!j(s,a,c,d,k)?void 0:r.push(b)})){q=!1;break}}else if(s!==t&&!j(s,t,c,d,k)){q=!1;break}}return k["delete"](a),k["delete"](b),q}var e=a("./_SetCache"),f=a("./_arraySome"),g=a("./_cacheHas"),h=1,i=2;b.exports=d},{"./_SetCache":538,"./_arraySome":553,"./_cacheHas":595}],619:[function(a,b,c){function d(a,b,c,d,e,x,z){switch(c){case w:if(a.byteLength!=b.byteLength||a.byteOffset!=b.byteOffset)return!1;a=a.buffer,b=b.buffer;case v:return a.byteLength==b.byteLength&&x(new f(a),new f(b))?!0:!1;case m:case n:case q:return g(+a,+b);case o:return a.name==b.name&&a.message==b.message;case r:case t:return a==b+"";case p:var A=i;case s:var B=d&k;if(A||(A=j),a.size!=b.size&&!B)return!1;var C=z.get(a);if(C)return C==b;d|=l,z.set(a,b);var D=h(A(a),A(b),d,e,x,z);return z["delete"](a),D;case u:if(y)return y.call(a)==y.call(b)}return!1}var e=a("./_Symbol"),f=a("./_Uint8Array"),g=a("./eq"),h=a("./_equalArrays"),i=a("./_mapToArray"),j=a("./_setToArray"),k=1,l=2,m="[object Boolean]",n="[object Date]",o="[object Error]",p="[object Map]",q="[object Number]",r="[object RegExp]",s="[object Set]",t="[object String]",u="[object Symbol]",v="[object ArrayBuffer]",w="[object DataView]",x=e?e.prototype:void 0,y=x?x.valueOf:void 0;b.exports=d},{"./_Symbol":540,"./_Uint8Array":541,"./_equalArrays":618,"./_mapToArray":660,"./_setToArray":678,"./eq":697}],620:[function(a,b,c){function d(a,b,c,d,g,i){var j=c&f,k=e(a),l=k.length,m=e(b),n=m.length;if(l!=n&&!j)return!1;for(var o=l;o--;){var p=k[o];if(!(j?p in b:h.call(b,p)))return!1}var q=i.get(a);if(q&&i.get(b))return q==b;var r=!0;i.set(a,b),i.set(b,a);for(var s=j;++o<l;){p=k[o];var t=a[p],u=b[p];if(d)var v=j?d(u,t,p,b,a,i):d(t,u,p,a,b,i);if(!(void 0===v?t===u||g(t,u,c,d,i):v)){r=!1;break}s||(s="constructor"==p)}if(r&&!s){var w=a.constructor,x=b.constructor;w!=x&&"constructor"in a&&"constructor"in b&&!("function"==typeof w&&w instanceof w&&"function"==typeof x&&x instanceof x)&&(r=!1)}return i["delete"](a),i["delete"](b),r}var e=a("./_getAllKeys"),f=1,g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_getAllKeys":622}],621:[function(a,b,c){(function(a){var c="object"==typeof a&&a&&a.Object===Object&&a;b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],622:[function(a,b,c){function d(a){return e(a,g,f)}var e=a("./_baseGetAllKeys"),f=a("./_getSymbols"),g=a("./keys");b.exports=d},{"./_baseGetAllKeys":567,"./_getSymbols":630,"./keys":719}],623:[function(a,b,c){var d=a("./_metaMap"),e=a("./noop"),f=d?function(a){return d.get(a)}:e;b.exports=f},{"./_metaMap":664,"./noop":722}],624:[function(a,b,c){function d(a){for(var b=a.name+"",c=e[b],d=g.call(e,b)?c.length:0;d--;){var f=c[d],h=f.func;if(null==h||h==a)return f.name}return b}var e=a("./_realNames"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./_realNames":671}],625:[function(a,b,c){function d(a){var b=a;return b.placeholder}b.exports=d},{}],626:[function(a,b,c){function d(a,b){var c=a.__data__;return e(b)?c["string"==typeof b?"string":"hash"]:c.map}var e=a("./_isKeyable");b.exports=d},{"./_isKeyable":645}],627:[function(a,b,c){function d(a){for(var b=f(a),c=b.length;c--;){var d=b[c],g=a[d];b[c]=[d,g,e(g)]}return b}var e=a("./_isStrictComparable"),f=a("./keys");b.exports=d},{"./_isStrictComparable":649,"./keys":719}],628:[function(a,b,c){function d(a,b){var c=f(a,b);return e(c)?c:void 0}var e=a("./_baseIsNative"),f=a("./_getValue");b.exports=d},{"./_baseIsNative":576,"./_getValue":632}],629:[function(a,b,c){function d(a){var b=g.call(a,i),c=a[i];try{a[i]=void 0;var d=!0}catch(e){}var f=h.call(a);return d&&(b?a[i]=c:delete a[i]),f}var e=a("./_Symbol"),f=Object.prototype,g=f.hasOwnProperty,h=f.toString,i=e?e.toStringTag:void 0;b.exports=d},{"./_Symbol":540}],630:[function(a,b,c){var d=a("./_arrayFilter"),e=a("./stubArray"),f=Object.prototype,g=f.propertyIsEnumerable,h=Object.getOwnPropertySymbols,i=h?function(a){return null==a?[]:(a=Object(a),d(h(a),function(b){return g.call(a,b)}))}:e;b.exports=i},{"./_arrayFilter":546,"./stubArray":726}],631:[function(a,b,c){var d=a("./_DataView"),e=a("./_Map"),f=a("./_Promise"),g=a("./_Set"),h=a("./_WeakMap"),i=a("./_baseGetTag"),j=a("./_toSource"),k="[object Map]",l="[object Object]",m="[object Promise]",n="[object Set]",o="[object WeakMap]",p="[object DataView]",q=j(d),r=j(e),s=j(f),t=j(g),u=j(h),v=i;(d&&v(new d(new ArrayBuffer(1)))!=p||e&&v(new e)!=k||f&&v(f.resolve())!=m||g&&v(new g)!=n||h&&v(new h)!=o)&&(v=function(a){var b=i(a),c=b==l?a.constructor:void 0,d=c?j(c):"";if(d)switch(d){case q:return p;case r:return k;case s:return m;case t:return n;case u:return o}return b}),b.exports=v},{"./_DataView":529,"./_Map":534,"./_Promise":536,"./_Set":537,"./_WeakMap":542,"./_baseGetTag":568,"./_toSource":690}],632:[function(a,b,c){function d(a,b){return null==a?void 0:a[b]}b.exports=d},{}],633:[function(a,b,c){function d(a){var b=a.match(e);return b?b[1].split(f):[]}var e=/\{\n\/\* \[wrapped with (.+)\] \*/,f=/,? & /;b.exports=d},{}],634:[function(a,b,c){function d(a,b,c){b=e(b,a);for(var d=-1,k=b.length,l=!1;++d<k;){var m=j(b[d]);if(!(l=null!=a&&c(a,m)))break;a=a[m]}return l||++d!=k?l:(k=null==a?0:a.length,!!k&&i(k)&&h(m,k)&&(g(a)||f(a)))}var e=a("./_castPath"),f=a("./isArguments"),g=a("./isArray"),h=a("./_isIndex"),i=a("./isLength"),j=a("./_toKey");b.exports=d},{"./_castPath":597,"./_isIndex":642,"./_toKey":689,"./isArguments":706,"./isArray":707,"./isLength":713}],635:[function(a,b,c){function d(){this.__data__=e?e(null):{},this.size=0}var e=a("./_nativeCreate");b.exports=d},{"./_nativeCreate":665}],636:[function(a,b,c){function d(a){var b=this.has(a)&&delete this.__data__[a];return this.size-=b?1:0,b}b.exports=d},{}],637:[function(a,b,c){function d(a){var b=this.__data__;if(e){var c=b[a];return c===f?void 0:c}return h.call(b,a)?b[a]:void 0}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__",g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_nativeCreate":665}],638:[function(a,b,c){function d(a){var b=this.__data__;return e?void 0!==b[a]:g.call(b,a)}var e=a("./_nativeCreate"),f=Object.prototype,g=f.hasOwnProperty;b.exports=d},{"./_nativeCreate":665}],639:[function(a,b,c){function d(a,b){var c=this.__data__;return this.size+=this.has(a)?0:1,c[a]=e&&void 0===b?f:b,this}var e=a("./_nativeCreate"),f="__lodash_hash_undefined__";b.exports=d},{"./_nativeCreate":665}],640:[function(a,b,c){function d(a,b){var c=b.length;if(!c)return a;var d=c-1;return b[d]=(c>1?"& ":"")+b[d],b=b.join(c>2?", ":" "),a.replace(e,"{\n/* [wrapped with "+b+"] */\n")}var e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;b.exports=d},{}],641:[function(a,b,c){function d(a){return g(a)||f(a)||!!(h&&a&&a[h])}var e=a("./_Symbol"),f=a("./isArguments"),g=a("./isArray"),h=e?e.isConcatSpreadable:void 0;b.exports=d},{"./_Symbol":540,"./isArguments":706,"./isArray":707}],642:[function(a,b,c){function d(a,b){var c=typeof a;return b=null==b?e:b,!!b&&("number"==c||"symbol"!=c&&f.test(a))&&a>-1&&a%1==0&&b>a}var e=9007199254740991,f=/^(?:0|[1-9]\d*)$/;b.exports=d},{}],643:[function(a,b,c){function d(a,b,c){if(!h(c))return!1;var d=typeof b;return("number"==d?f(c)&&g(b,c.length):"string"==d&&b in c)?e(c[b],a):!1}var e=a("./eq"),f=a("./isArrayLike"),g=a("./_isIndex"),h=a("./isObject");b.exports=d},{"./_isIndex":642,"./eq":697,"./isArrayLike":708,"./isObject":714}],644:[function(a,b,c){function d(a,b){if(e(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||f(a)?!0:h.test(a)||!g.test(a)||null!=b&&a in Object(b)}var e=a("./isArray"),f=a("./isSymbol"),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h=/^\w*$/;b.exports=d},{"./isArray":707,"./isSymbol":716}],645:[function(a,b,c){function d(a){var b=typeof a;return"string"==b||"number"==b||"symbol"==b||"boolean"==b?"__proto__"!==a:null===a}b.exports=d},{}],646:[function(a,b,c){function d(a){var b=g(a),c=h[b];if("function"!=typeof c||!(b in e.prototype))return!1;if(a===c)return!0;var d=f(c);return!!d&&a===d[0]}var e=a("./_LazyWrapper"),f=a("./_getData"),g=a("./_getFuncName"),h=a("./wrapperLodash");b.exports=d},{"./_LazyWrapper":531,"./_getData":623,"./_getFuncName":624,"./wrapperLodash":732}],647:[function(a,b,c){function d(a){return!!f&&f in a}var e=a("./_coreJsData"),f=function(){var a=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();b.exports=d},{"./_coreJsData":602}],648:[function(a,b,c){function d(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||e;return a===c}var e=Object.prototype;b.exports=d},{}],649:[function(a,b,c){function d(a){return a===a&&!e(a)}var e=a("./isObject");b.exports=d},{"./isObject":714}],650:[function(a,b,c){function d(){this.__data__=[],this.size=0}b.exports=d},{}],651:[function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);if(0>c)return!1;var d=b.length-1;return c==d?b.pop():g.call(b,c,1),--this.size,!0}var e=a("./_assocIndexOf"),f=Array.prototype,g=f.splice;b.exports=d},{"./_assocIndexOf":555}],652:[function(a,b,c){function d(a){var b=this.__data__,c=e(b,a);return 0>c?void 0:b[c][1]}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":555}],653:[function(a,b,c){function d(a){return e(this.__data__,a)>-1}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":555}],654:[function(a,b,c){function d(a,b){var c=this.__data__,d=e(c,a);return 0>d?(++this.size,c.push([a,b])):c[d][1]=b,this}var e=a("./_assocIndexOf");b.exports=d},{"./_assocIndexOf":555}],655:[function(a,b,c){function d(){this.size=0,this.__data__={hash:new e,map:new(g||f),string:new e}}var e=a("./_Hash"),f=a("./_ListCache"),g=a("./_Map");b.exports=d},{"./_Hash":530,"./_ListCache":532,"./_Map":534}],656:[function(a,b,c){function d(a){var b=e(this,a)["delete"](a);return this.size-=b?1:0,b}var e=a("./_getMapData");b.exports=d},{"./_getMapData":626}],657:[function(a,b,c){function d(a){return e(this,a).get(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":626}],658:[function(a,b,c){function d(a){return e(this,a).has(a)}var e=a("./_getMapData");b.exports=d},{"./_getMapData":626}],659:[function(a,b,c){function d(a,b){var c=e(this,a),d=c.size;return c.set(a,b),this.size+=c.size==d?0:1,this}var e=a("./_getMapData");b.exports=d},{"./_getMapData":626}],660:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a,d){c[++b]=[d,a]}),c}b.exports=d},{}],661:[function(a,b,c){function d(a,b){return function(c){return null==c?!1:c[a]===b&&(void 0!==b||a in Object(c))}}b.exports=d},{}],662:[function(a,b,c){function d(a){var b=e(a,function(a){return c.size===f&&c.clear(),a}),c=b.cache;return b}var e=a("./memoize"),f=500;b.exports=d},{"./memoize":721}],663:[function(a,b,c){function d(a,b){var c=a[1],d=b[1],p=c|d,q=(i|j|m)>p,r=d==m&&c==l||d==m&&c==n&&a[7].length<=b[8]||d==(m|n)&&b[7].length<=b[8]&&c==l;if(!q&&!r)return a;d&i&&(a[2]=b[2],p|=c&i?0:k);var s=b[3];if(s){var t=a[3];a[3]=t?e(t,s,b[4]):s,a[4]=t?g(a[3],h):b[4]}return s=b[5],s&&(t=a[5],a[5]=t?f(t,s,b[6]):s,a[6]=t?g(a[5],h):b[6]),s=b[7],s&&(a[7]=s),d&m&&(a[8]=null==a[8]?b[8]:o(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=p,a}var e=a("./_composeArgs"),f=a("./_composeArgsRight"),g=a("./_replaceHolders"),h="__lodash_placeholder__",i=1,j=2,k=4,l=8,m=128,n=256,o=Math.min;b.exports=d},{"./_composeArgs":598,"./_composeArgsRight":599,"./_replaceHolders":673}],664:[function(a,b,c){var d=a("./_WeakMap"),e=d&&new d;b.exports=e},{"./_WeakMap":542}],665:[function(a,b,c){var d=a("./_getNative"),e=d(Object,"create");b.exports=e},{"./_getNative":628}],666:[function(a,b,c){var d=a("./_overArg"),e=d(Object.keys,Object);b.exports=e},{"./_overArg":669}],667:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==typeof c&&c&&!c.nodeType&&c,f=e&&"object"==typeof b&&b&&!b.nodeType&&b,g=f&&f.exports===e,h=g&&d.process,i=function(){try{var a=f&&f.require&&f.require("util").types;return a?a:h&&h.binding&&h.binding("util")}catch(b){}}();b.exports=i},{"./_freeGlobal":621}],668:[function(a,b,c){function d(a){return f.call(a)}var e=Object.prototype,f=e.toString;b.exports=d},{}],669:[function(a,b,c){function d(a,b){return function(c){return a(b(c))}}b.exports=d},{}],670:[function(a,b,c){function d(a,b,c){return b=f(void 0===b?a.length-1:b,0),function(){for(var d=arguments,g=-1,h=f(d.length-b,0),i=Array(h);++g<h;)i[g]=d[b+g];g=-1;for(var j=Array(b+1);++g<b;)j[g]=d[g];return j[b]=c(i),e(a,this,j)}}var e=a("./_apply"),f=Math.max;b.exports=d},{"./_apply":543}],671:[function(a,b,c){var d={};b.exports=d},{}],672:[function(a,b,c){function d(a,b){for(var c=a.length,d=g(b.length,c),h=e(a);d--;){var i=b[d];a[d]=f(i,c)?h[i]:void 0}return a}var e=a("./_copyArray"),f=a("./_isIndex"),g=Math.min;b.exports=d},{"./_copyArray":600,"./_isIndex":642}],673:[function(a,b,c){function d(a,b){for(var c=-1,d=a.length,f=0,g=[];++c<d;){var h=a[c];(h===b||h===e)&&(a[c]=e,g[f++]=c)}return g}var e="__lodash_placeholder__";b.exports=d},{}],674:[function(a,b,c){var d=a("./_freeGlobal"),e="object"==typeof self&&self&&self.Object===Object&&self,f=d||e||Function("return this")();b.exports=f},{"./_freeGlobal":621}],675:[function(a,b,c){function d(a){return this.__data__.set(a,e),this}var e="__lodash_hash_undefined__";b.exports=d},{}],676:[function(a,b,c){function d(a){return this.__data__.has(a)}b.exports=d},{}],677:[function(a,b,c){var d=a("./_baseSetData"),e=a("./_shortOut"),f=e(d);b.exports=f},{"./_baseSetData":588,"./_shortOut":681}],678:[function(a,b,c){function d(a){var b=-1,c=Array(a.size);return a.forEach(function(a){c[++b]=a}),c}b.exports=d},{}],679:[function(a,b,c){var d=a("./_baseSetToString"),e=a("./_shortOut"),f=e(d);b.exports=f},{"./_baseSetToString":589,"./_shortOut":681}],680:[function(a,b,c){function d(a,b,c){var d=b+"";return g(a,f(d,h(e(d),c)))}var e=a("./_getWrapDetails"),f=a("./_insertWrapDetails"),g=a("./_setToString"),h=a("./_updateWrapDetails");b.exports=d},{"./_getWrapDetails":633,"./_insertWrapDetails":640,"./_setToString":679,"./_updateWrapDetails":691}],681:[function(a,b,c){function d(a){var b=0,c=0;return function(){var d=g(),h=f-(d-c);if(c=d,h>0){if(++b>=e)return arguments[0]}else b=0;return a.apply(void 0,arguments)}}var e=800,f=16,g=Date.now;b.exports=d},{}],682:[function(a,b,c){function d(){this.__data__=new e,this.size=0}var e=a("./_ListCache");b.exports=d},{"./_ListCache":532}],683:[function(a,b,c){function d(a){var b=this.__data__,c=b["delete"](a);return this.size=b.size,c}b.exports=d},{}],684:[function(a,b,c){function d(a){return this.__data__.get(a)}b.exports=d},{}],685:[function(a,b,c){function d(a){return this.__data__.has(a)}b.exports=d},{}],686:[function(a,b,c){function d(a,b){var c=this.__data__;if(c instanceof e){var d=c.__data__;if(!f||d.length<h-1)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new g(d)}return c.set(a,b),this.size=c.size,this}var e=a("./_ListCache"),f=a("./_Map"),g=a("./_MapCache"),h=200;b.exports=d},{"./_ListCache":532,"./_Map":534,"./_MapCache":535}],687:[function(a,b,c){function d(a,b,c){for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}b.exports=d},{}],688:[function(a,b,c){var d=a("./_memoizeCapped"),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,g=d(function(a){var b=[];return 46===a.charCodeAt(0)&&b.push(""),a.replace(e,function(a,c,d,e){b.push(d?e.replace(f,"$1"):c||a)}),b});b.exports=g},{"./_memoizeCapped":662}],689:[function(a,b,c){function d(a){if("string"==typeof a||e(a))return a;var b=a+"";return"0"==b&&1/a==-f?"-0":b}var e=a("./isSymbol"),f=1/0;b.exports=d},{"./isSymbol":716}],690:[function(a,b,c){function d(a){if(null!=a){try{return f.call(a)}catch(b){}try{return a+""}catch(b){}}return""}var e=Function.prototype,f=e.toString;b.exports=d},{}],691:[function(a,b,c){function d(a,b){return e(p,function(c){var d="_."+c[0];b&c[1]&&!f(a,d)&&a.push(d)}),a.sort()}var e=a("./_arrayEach"),f=a("./_arrayIncludes"),g=1,h=2,i=8,j=16,k=32,l=64,m=128,n=256,o=512,p=[["ary",m],["bind",g],["bindKey",h],["curry",i],["curryRight",j],["flip",o],["partial",k],["partialRight",l],["rearg",n]];b.exports=d},{"./_arrayEach":545,"./_arrayIncludes":547}],692:[function(a,b,c){function d(a){if(a instanceof e)return a.clone();var b=new f(a.__wrapped__,a.__chain__);return b.__actions__=g(a.__actions__),b.__index__=a.__index__,b.__values__=a.__values__,b}var e=a("./_LazyWrapper"),f=a("./_LodashWrapper"),g=a("./_copyArray");b.exports=d},{"./_LazyWrapper":531,"./_LodashWrapper":533,"./_copyArray":600}],693:[function(a,b,c){var d=a("./_assignValue"),e=a("./_copyObject"),f=a("./_createAssigner"),g=a("./isArrayLike"),h=a("./_isPrototype"),i=a("./keys"),j=Object.prototype,k=j.hasOwnProperty,l=f(function(a,b){if(h(b)||g(b))return void e(b,i(b),a);for(var c in b)k.call(b,c)&&d(a,c,b[c])});b.exports=l},{"./_assignValue":554,"./_copyObject":601,"./_createAssigner":605,"./_isPrototype":648,"./isArrayLike":708,"./keys":719}],694:[function(a,b,c){var d=a("./_baseRest"),e=a("./_createWrap"),f=a("./_getHolder"),g=a("./_replaceHolders"),h=1,i=32,j=d(function(a,b,c){var d=h;if(c.length){var k=g(c,f(j));d|=i}return e(a,d,b,c,k)});j.placeholder={},b.exports=j},{"./_baseRest":587,"./_createWrap":616,"./_getHolder":625,"./_replaceHolders":673}],695:[function(a,b,c){function d(a){return function(){return a}}b.exports=d},{}],696:[function(a,b,c){function d(a,b,c){function d(b){var c=s,d=t;return s=t=void 0,y=b,v=a.apply(d,c)}function k(a){return y=a,w=setTimeout(n,b),z?d(a):v}function l(a){var c=a-x,d=a-y,e=b-c;return A?j(e,u-d):e}function m(a){var c=a-x,d=a-y;return void 0===x||c>=b||0>c||A&&d>=u}function n(){var a=f();return m(a)?o(a):void(w=setTimeout(n,l(a)))}function o(a){return w=void 0,B&&s?d(a):(s=t=void 0,v)}function p(){void 0!==w&&clearTimeout(w),y=0,s=x=t=w=void 0}function q(){return void 0===w?v:o(f())}function r(){var a=f(),c=m(a);if(s=arguments,t=this,x=a,c){if(void 0===w)return k(x);if(A)return clearTimeout(w),w=setTimeout(n,b),d(x)}return void 0===w&&(w=setTimeout(n,b)),v}var s,t,u,v,w,x,y=0,z=!1,A=!1,B=!0;if("function"!=typeof a)throw new TypeError(h);return b=g(b)||0,e(c)&&(z=!!c.leading,A="maxWait"in c,u=A?i(g(c.maxWait)||0,b):u,B="trailing"in c?!!c.trailing:B),r.cancel=p,r.flush=q,r}var e=a("./isObject"),f=a("./now"),g=a("./toNumber"),h="Expected a function",i=Math.max,j=Math.min;b.exports=d},{"./isObject":714,"./now":723,"./toNumber":730}],697:[function(a,b,c){function d(a,b){return a===b||a!==a&&b!==b}b.exports=d},{}],698:[function(a,b,c){function d(a,b){var c=h(a)?e:f;return c(a,g(b,3))}var e=a("./_arrayFilter"),f=a("./_baseFilter"),g=a("./_baseIteratee"),h=a("./isArray");b.exports=d},{"./_arrayFilter":546,"./_baseFilter":561,"./_baseIteratee":578,"./isArray":707}],699:[function(a,b,c){var d=a("./_createFind"),e=a("./findIndex"),f=d(e);b.exports=f},{"./_createFind":611,"./findIndex":700}],700:[function(a,b,c){function d(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var i=null==c?0:g(c);return 0>i&&(i=h(d+i,0)),e(a,f(b,3),i)}var e=a("./_baseFindIndex"),f=a("./_baseIteratee"),g=a("./toInteger"),h=Math.max;b.exports=d},{"./_baseFindIndex":562,"./_baseIteratee":578,"./toInteger":729}],701:[function(a,b,c){function d(a){var b=null==a?0:a.length;return b?e(a,f):[]}var e=a("./_baseFlatten"),f=1/0;b.exports=d},{"./_baseFlatten":563}],702:[function(a,b,c){function d(a,b){var c=h(a)?e:f;return c(a,g(b))}var e=a("./_arrayEach"),f=a("./_baseEach"),g=a("./_castFunction"),h=a("./isArray");b.exports=d},{"./_arrayEach":545,"./_baseEach":560,"./_castFunction":596,"./isArray":707}],703:[function(a,b,c){function d(a,b,c){var d=null==a?void 0:e(a,b);return void 0===d?c:d}var e=a("./_baseGet");b.exports=d},{"./_baseGet":566}],704:[function(a,b,c){function d(a,b){return null!=a&&f(a,b,e)}var e=a("./_baseHasIn"),f=a("./_hasPath");b.exports=d},{"./_baseHasIn":569,"./_hasPath":634}],705:[function(a,b,c){function d(a){return a}b.exports=d},{}],706:[function(a,b,c){var d=a("./_baseIsArguments"),e=a("./isObjectLike"),f=Object.prototype,g=f.hasOwnProperty,h=f.propertyIsEnumerable,i=d(function(){return arguments}())?d:function(a){return e(a)&&g.call(a,"callee")&&!h.call(a,"callee")};b.exports=i},{"./_baseIsArguments":571,"./isObjectLike":715}],707:[function(a,b,c){var d=Array.isArray;b.exports=d},{}],708:[function(a,b,c){function d(a){return null!=a&&f(a.length)&&!e(a)}var e=a("./isFunction"),f=a("./isLength");b.exports=d},{"./isFunction":712,"./isLength":713}],709:[function(a,b,c){function d(a){return f(a)&&e(a)}var e=a("./isArrayLike"),f=a("./isObjectLike");b.exports=d},{"./isArrayLike":708,"./isObjectLike":715}],710:[function(a,b,c){var d=a("./_root"),e=a("./stubFalse"),f="object"==typeof c&&c&&!c.nodeType&&c,g=f&&"object"==typeof b&&b&&!b.nodeType&&b,h=g&&g.exports===f,i=h?d.Buffer:void 0,j=i?i.isBuffer:void 0,k=j||e;b.exports=k},{"./_root":674,"./stubFalse":727}],711:[function(a,b,c){function d(a){if(null==a)return!0;if(i(a)&&(h(a)||"string"==typeof a||"function"==typeof a.splice||j(a)||l(a)||g(a)))return!a.length;var b=f(a);if(b==m||b==n)return!a.size;if(k(a))return!e(a).length;for(var c in a)if(p.call(a,c))return!1;return!0}var e=a("./_baseKeys"),f=a("./_getTag"),g=a("./isArguments"),h=a("./isArray"),i=a("./isArrayLike"),j=a("./isBuffer"),k=a("./_isPrototype"),l=a("./isTypedArray"),m="[object Map]",n="[object Set]",o=Object.prototype,p=o.hasOwnProperty;b.exports=d},{"./_baseKeys":579,"./_getTag":631,"./_isPrototype":648,"./isArguments":706,"./isArray":707,"./isArrayLike":708,"./isBuffer":710,"./isTypedArray":717}],712:[function(a,b,c){function d(a){if(!f(a))return!1;var b=e(a);return b==h||b==i||b==g||b==j}var e=a("./_baseGetTag"),f=a("./isObject"),g="[object AsyncFunction]",h="[object Function]",i="[object GeneratorFunction]",j="[object Proxy]";b.exports=d},{"./_baseGetTag":568,"./isObject":714}],713:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&e>=a}var e=9007199254740991;b.exports=d},{}],714:[function(a,b,c){function d(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}b.exports=d},{}],715:[function(a,b,c){function d(a){return null!=a&&"object"==typeof a}b.exports=d},{}],716:[function(a,b,c){function d(a){return"symbol"==typeof a||f(a)&&e(a)==g}var e=a("./_baseGetTag"),f=a("./isObjectLike"),g="[object Symbol]";b.exports=d},{"./_baseGetTag":568,"./isObjectLike":715}],717:[function(a,b,c){var d=a("./_baseIsTypedArray"),e=a("./_baseUnary"),f=a("./_nodeUtil"),g=f&&f.isTypedArray,h=g?e(g):d;b.exports=h},{"./_baseIsTypedArray":577,"./_baseUnary":592,"./_nodeUtil":667}],718:[function(a,b,c){var d=a("./_baseAssignValue"),e=a("./_createAggregator"),f=e(function(a,b,c){d(a,c,b)});b.exports=f},{"./_baseAssignValue":557,"./_createAggregator":604}],719:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("./_arrayLikeKeys"),f=a("./_baseKeys"),g=a("./isArrayLike");b.exports=d},{"./_arrayLikeKeys":549,"./_baseKeys":579,"./isArrayLike":708}],720:[function(a,b,c){function d(a,b){var c=h(a)?e:g;return c(a,f(b,3))}var e=a("./_arrayMap"),f=a("./_baseIteratee"),g=a("./_baseMap"),h=a("./isArray");b.exports=d},{"./_arrayMap":550,"./_baseIteratee":578,"./_baseMap":581,"./isArray":707}],721:[function(a,b,c){function d(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new TypeError(f);var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],f=c.cache;if(f.has(e))return f.get(e);var g=a.apply(this,d);return c.cache=f.set(e,g)||f,g};return c.cache=new(d.Cache||e),c}var e=a("./_MapCache"),f="Expected a function";d.Cache=e,b.exports=d},{"./_MapCache":535}],722:[function(a,b,c){function d(){}b.exports=d},{}],723:[function(a,b,c){var d=a("./_root"),e=function(){return d.Date.now()};b.exports=e},{"./_root":674}],724:[function(a,b,c){function d(a){return g(a)?e(h(a)):f(a)}var e=a("./_baseProperty"),f=a("./_basePropertyDeep"),g=a("./_isKey"),h=a("./_toKey");b.exports=d},{"./_baseProperty":584,"./_basePropertyDeep":585,"./_isKey":644,"./_toKey":689}],725:[function(a,b,c){function d(a,b,c){var d=i(a)?e:h,j=arguments.length<3;return d(a,g(b,4),c,j,f)}var e=a("./_arrayReduce"),f=a("./_baseEach"),g=a("./_baseIteratee"),h=a("./_baseReduce"),i=a("./isArray");b.exports=d},{"./_arrayReduce":552,"./_baseEach":560,"./_baseIteratee":578,"./_baseReduce":586,"./isArray":707}],726:[function(a,b,c){function d(){return[]}b.exports=d},{}],727:[function(a,b,c){function d(){return!1}b.exports=d},{}],728:[function(a,b,c){function d(a){if(!a)return 0===a?a:0;if(a=e(a),a===f||a===-f){var b=0>a?-1:1;return b*g}return a===a?a:0}var e=a("./toNumber"),f=1/0,g=1.7976931348623157e308;b.exports=d},{"./toNumber":730}],729:[function(a,b,c){function d(a){var b=e(a),c=b%1;return b===b?c?b-c:b:0}var e=a("./toFinite");b.exports=d},{"./toFinite":728}],730:[function(a,b,c){function d(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(h,"");var c=j.test(a);return c||k.test(a)?l(a.slice(2),c?2:8):i.test(a)?g:+a}var e=a("./isObject"),f=a("./isSymbol"),g=NaN,h=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,l=parseInt;b.exports=d},{"./isObject":714,"./isSymbol":716}],731:[function(a,b,c){function d(a){return null==a?"":e(a)}var e=a("./_baseToString");b.exports=d},{"./_baseToString":591}],732:[function(a,b,c){function d(a){if(i(a)&&!h(a)&&!(a instanceof e)){if(a instanceof f)return a;if(l.call(a,"__wrapped__"))return j(a)}return new f(a)}var e=a("./_LazyWrapper"),f=a("./_LodashWrapper"),g=a("./_baseLodash"),h=a("./isArray"),i=a("./isObjectLike"),j=a("./_wrapperClone"),k=Object.prototype,l=k.hasOwnProperty;d.prototype=g.prototype,d.prototype.constructor=d,b.exports=d},{"./_LazyWrapper":531,"./_LodashWrapper":533,"./_baseLodash":580,"./_wrapperClone":692,"./isArray":707,"./isObjectLike":715}],733:[function(a,b,c){var d=a("./_arrayFilter"),e=a("./_baseRest"),f=a("./_baseXor"),g=a("./isArrayLikeObject"),h=e(function(a){return f(d(a,g))});b.exports=h},{"./_arrayFilter":546,"./_baseRest":587,"./_baseXor":594,"./isArrayLikeObject":709}],734:[function(a,b,c){"use strict";function d(a){return Array.prototype.concat.apply([],a)}function e(a){return void 0===a}function f(a){return void 0!==a}function g(a){return null==a}function h(a){return"[object Array]"===Q.call(a)}function i(a){return"[object Object]"===Q.call(a)}function j(a){return"[object Number]"===Q.call(a)}function k(a){var b=Q.call(a);return"[object Function]"===b||"[object AsyncFunction]"===b||"[object GeneratorFunction]"===b||"[object AsyncGeneratorFunction]"===b||"[object Proxy]"===b}function l(a){return"[object String]"===Q.call(a)}function m(a){if(!h(a))throw new Error("must supply array")}function n(a,b){return R.call(a,b)}function o(a,b){b=F(b);var c;return r(a,function(a,d){return b(a,d)?(c=a,!1):void 0}),c}function p(a,b){b=F(b);var c=h(a)?-1:void 0;return r(a,function(a,d){return b(a,d)?(c=d,!1):void 0}),c}function q(a,b){var c=[];return r(a,function(a,d){b(a,d)&&c.push(a)}),c}function r(a,b){var c,d;if(!e(a)){var f=h(a)?H:G;for(var g in a)if(n(a,g)&&(c=a[g],d=b(c,f(g)),d===!1))return c}}function s(a,b){return e(a)?[]:(m(a),b=F(b),a.filter(function(a,c){return!b(a,c)}))}function t(a,b,c){return r(a,function(a,d){c=b(c,a,d)}),c}function u(a,b){return t(a,function(a,c,d){return a&&b(c,d)},!0)}function v(a,b){return!!o(a,b)}function w(a,b){var c=[];return r(a,function(a,d){c.push(b(a,d))}),c}function x(a){return a&&Object.keys(a)||[]}function y(a){return x(a).length}function z(a){return w(a,function(a){return a})}function A(a,b){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return b=E(b),r(a,function(a){var d=b(a)||"_",e=c[d];e||(e=c[d]=[]),e.push(a)}),c}function B(a){a=E(a);for(var b={},c=arguments.length,d=new Array(c>1?c-1:0),e=1;c>e;e++)d[e-1]=arguments[e];r(d,function(c){return A(c,a,b)});var f=w(b,function(a,b){return a[0]});return f}function C(a,b){b=E(b);var c=[];return r(a,function(a,d){for(var e=b(a,d),f={d:e,v:a},g=0;g<c.length;g++){var h=c[g].d;if(h>e)return void c.splice(g,0,f)}c.push(f)}),w(c,function(a){return a.v})}function D(a){return function(b){return u(a,function(a,c){return b[c]===a})}}function E(a){return k(a)?a:function(b){return b[a]}}function F(a){return k(a)?a:function(b){return b===a}}function G(a){return a}function H(a){return Number(a)}function I(a,b){function c(){var c=Date.now(),i=h+b-c;return i>0?d(i):(a.apply(g,f),void(e=h=f=g=void 0))}function d(a){e=setTimeout(c,a)}var e,f,g,h;return function(){h=Date.now();for(var a=arguments.length,c=new Array(a),i=0;a>i;i++)c[i]=arguments[i];f=c,g=this,e||d(b)}}function J(a,b){var c=!1;return function(){c||(a.apply(void 0,arguments),c=!0,setTimeout(function(){c=!1},b))}}function K(a,b){return a.bind(b)}function L(){return L=Object.assign||function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(a[d]=c[d])}return a},L.apply(this,arguments)}function M(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return L.apply(void 0,[a].concat(c))}function N(a,b){var c={},d=Object(a);return r(b,function(b){b in d&&(c[b]=a[b])}),c}function O(a,b){var c={},d=Object(a);return r(d,function(a,d){-1===b.indexOf(d)&&(c[d]=a)}),c}function P(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return c.length?(r(c,function(b){
b&&i(b)&&r(b,function(b,c){var d=a[c];i(b)?(i(d)||(d={}),a[c]=P(d,b)):a[c]=b})}),a):a}Object.defineProperty(c,"__esModule",{value:!0}),c.flatten=d,c.find=o,c.findIndex=p,c.filter=q,c.forEach=r,c.without=s,c.reduce=t,c.every=u,c.some=v,c.map=w,c.keys=x,c.size=y,c.values=z,c.groupBy=A,c.uniqueBy=B,c.sortBy=C,c.matchPattern=D,c.debounce=I,c.throttle=J,c.bind=K,c.isUndefined=e,c.isDefined=f,c.isNil=g,c.isArray=h,c.isObject=i,c.isNumber=j,c.isFunction=k,c.isString=l,c.ensureArray=m,c.has=n,c.assign=M,c.pick=N,c.omit=O,c.merge=P,c.unionBy=void 0;var Q=Object.prototype.toString,R=Object.prototype.hasOwnProperty,S=B;c.unionBy=S},{}],735:[function(a,b,c){"use strict";function d(a,b,c){return 2==arguments.length?a.getAttribute(b):null===c?a.removeAttribute(b):(a.setAttribute(b,c),a)}function e(a){return new f(a)}function f(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function g(a){for(var b;a.childNodes.length;)b=a.childNodes[0],a.removeChild(b);return a}function h(a,b){if(s)return s.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;++d)if(c[d]==a)return!0;return!1}function i(a,b){if("string"!=typeof a)throw new TypeError("String expected");b||(b=document);var c=/<([\w:]+)/.exec(a);if(!c)return b.createTextNode(a);a=a.replace(/^\s+|\s+$/g,"");var d=c[1];if("body"==d){var e=b.createElement("html");return e.innerHTML=a,e.removeChild(e.lastChild)}var f=I[d]||I._default,g=f[0],h=f[1],i=f[2],e=b.createElement("div");for(e.innerHTML=h+a+i;g--;)e=e.lastChild;if(e.firstChild==e.lastChild)return e.removeChild(e.firstChild);for(var j=b.createDocumentFragment();e.firstChild;)j.appendChild(e.removeChild(e.firstChild));return j}function j(a,b){if(!a||1!==a.nodeType)return!1;if(K)return K.call(a,b);for(var c=a.parentNode.querySelectorAll(b),d=0;d<c.length;d++)if(c[d]==a)return!0;return!1}function k(a,b){return b=b||document,b.querySelector(a)}function l(a,b){return b=b||document,b.querySelectorAll(a)}function m(a){a.parentNode&&a.parentNode.removeChild(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.attr=d,c.classes=e,c.clear=g,c.query=k,c.queryAll=l,c.remove=m,c.matches=c.event=c.domify=c.delegate=c.closest=void 0;var n=[].indexOf,o=function(a,b){if(n)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1},p=/\s+/,q=Object.prototype.toString;f.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=o(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},f.prototype.remove=function(a){if("[object RegExp]"==q.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=o(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},f.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},f.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},f.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(p);return""===c[0]&&c.shift(),c},f.prototype.has=f.prototype.contains=function(a){return this.list?this.list.contains(a):!!~o(this.array(),a)};var r=Element.prototype,s=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector,t=h,u=function(a,b,c){for(var d=c?a:a.parentNode;d&&d!==document;){if(t(d,b))return d;d=d.parentNode}};c.closest=u;var v=window.addEventListener?"addEventListener":"attachEvent",w=window.removeEventListener?"removeEventListener":"detachEvent",x="addEventListener"!==v?"on":"",y=function(a,b,c,d){return a[v](x+b,c,d||!1),c},z=function(a,b,c,d){return a[w](x+b,c,d||!1),c},A={bind:y,unbind:z};c.event=A;var B=["focus","blur"],C=function(a,b,c,d,e){return-1!==B.indexOf(c)&&(e=!0),A.bind(a,c,function(c){var e=c.target||c.srcElement;c.delegateTarget=u(e,b,!0,a),c.delegateTarget&&d.call(a,c)},e)},D=function(a,b,c,d){-1!==B.indexOf(b)&&(d=!0),A.unbind(a,b,c,d)},E={bind:C,unbind:D};c.delegate=E;var F=i;c.domify=F;var G,H=!1;"undefined"!=typeof document&&(G=document.createElement("div"),G.innerHTML='  <link/><table></table><a href="/a">a</a><input type="checkbox"/>',H=!G.getElementsByTagName("link").length,G=void 0);var I={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:H?[1,"X<div>","</div>"]:[0,"",""]};I.td=I.th=[3,"<table><tbody><tr>","</tr></tbody></table>"],I.option=I.optgroup=[1,'<select multiple="multiple">',"</select>"],I.thead=I.tbody=I.colgroup=I.caption=I.tfoot=[1,"<table>","</table>"],I.polyline=I.ellipse=I.polygon=I.circle=I.text=I.line=I.path=I.rect=I.g=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];var J="undefined"!=typeof Element?Element.prototype:{},K=J.matches||J.matchesSelector||J.webkitMatchesSelector||J.mozMatchesSelector||J.msMatchesSelector||J.oMatchesSelector,L=j;c.matches=L},{}],736:[function(a,b,c){"use strict";function d(a){return a=a||Object.create(null),{on:function(b,c){(a[b]||(a[b]=[])).push(c)},off:function(b,c){a[b]&&a[b].splice(a[b].indexOf(c)>>>0,1)},emit:function(b,c){(a[b]||[]).slice().map(function(a){a(c)}),(a["*"]||[]).slice().map(function(a){a(b,c)})}}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d;c["default"]=e},{}],737:[function(a,b,c){"use strict";function d(a){return a.xml&&"lowerCase"===a.xml.tagAlias}function e(a){return a.xml&&a.xml.serialize}function f(a){return e(a)===$}function g(a){return"property"===e(a)}function h(a){return a.charAt(0).toUpperCase()+a.slice(1)}function i(a,b){return d(b)?a.prefix+":"+h(a.localName):a.name}function j(a,b){var c=a.name,d=a.localName,e=b.xml&&b.xml.typePrefix;return e&&0===d.indexOf(e)?a.prefix+":"+d.slice(e.length):c}function k(a,b){var c=Y.parseNameNS(a),d=b.getPackage(c.prefix);return j(c,d)}function l(a){return new Error(a)}function m(a){return a.$descriptor}function n(a){setTimeout(a,0)}function o(a){W.assign(this,a),this.elementsById={},this.references=[],this.warnings=[],this.addReference=function(a){this.references.push(a)},this.addElement=function(a){if(!a)throw l("expected element");var b,c=this.elementsById,d=m(a),e=d.idProperty;if(e&&(b=a.get(e.name))){if(!/^([a-z][\w-.]*:)?[a-z_][\w-.]*$/i.test(b))throw new Error("illegal ID <"+b+">");if(c[b])throw l("duplicate ID <"+b+">");c[b]=a}},this.addWarning=function(a){this.warnings.push(a)}}function p(){}function q(){}function r(){}function s(a,b){this.property=a,this.context=b}function t(a,b){this.element=b,this.propertyDesc=a}function u(){}function v(a,b,c){this.model=a,this.type=a.getType(b),this.context=c}function w(a,b,c){v.call(this,a,b,c)}function x(a,b,c){this.model=a,this.context=c}function y(a){a instanceof Y.Moddle&&(a={model:a}),W.assign(this,{lax:!1},a)}function z(){var a=[];return Object.defineProperty(a,"peek",{value:function(){return this[this.length-1]}}),a}function A(a){var b={},c={},d={},e=[],f=[];this.byUri=function(b){return c[b]||a&&a.byUri(b)},this.add=function(a,b){c[a.uri]=a,b?e.push(a):f.push(a),this.mapPrefix(a.prefix,a.uri)},this.uriByPrefix=function(a){return b[a||"xmlns"]},this.mapPrefix=function(a,c){b[a||"xmlns"]=c},this.logUsed=function(a){var b=a.uri;d[b]=this.byUri(b)},this.getUsed=function(a){function b(a){return d[a.uri]}var c=[].concat(e,f);return c.filter(b)}}function B(a){return a.charAt(0).toLowerCase()+a.slice(1)}function C(a,b){return d(b)?B(a):a}function D(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}function E(a){return W.isString(a)?a:(a.prefix?a.prefix+":":"")+a.localName}function F(a){return W.map(a.getUsed(),function(a){var b="xmlns"+(a.prefix?":"+a.prefix:"");return{name:b,value:a.uri}})}function G(a,b){return b.isGeneric?W.assign({localName:b.ns.localName},a):W.assign({localName:C(b.ns.localName,b.$pkg)},a)}function H(a,b){return W.assign({localName:b.ns.localName},a)}function I(a){var b=a.$descriptor;return W.filter(b.properties,function(b){var c=b.name;if(b.isVirtual)return!1;if(!a.hasOwnProperty(c))return!1;var d=a[c];return d===b["default"]?!1:null===d?!1:b.isMany?d.length:!0})}function J(a,b,c){return a=W.isString(a)?a:""+a,a.replace(b,function(a){return"&"+c[a]+";"})}function K(a){return J(a,aa,ca)}function L(a){return J(a,ba,da)}function M(a){return W.filter(a,function(a){return a.isAttr})}function N(a){return W.filter(a,function(a){return!a.isAttr})}function O(a){this.tagName=a}function P(){}function Q(a){this.tagName=a}function R(a,b){this.body=[],this.attrs=[],this.parent=a,this.propertyDescriptor=b}function S(a,b){R.call(this,a,b)}function T(){this.value="",this.write=function(a){this.value+=a}}function U(a,b){var c=[""];this.append=function(b){return a.write(b),this},this.appendNewLine=function(){return b&&a.write("\n"),this},this.appendIndent=function(){return b&&a.write(c.join("  ")),this},this.indent=function(){return c.push(""),this},this.unindent=function(){return c.pop(),this}}function V(a){function b(b,c){var d=c||new T,e=new U(d,a.format);return a.preamble&&e.append(_),(new R).build(b).serializeTo(e),c?void 0:d.value}return a=W.assign({format:!1,preamble:!0},a||{}),{toXML:b}}Object.defineProperty(c,"__esModule",{value:!0}),c.Reader=y,c.Writer=V;var W=a("min-dash"),X=a("saxen"),Y=a("moddle"),Z={xsi:"http://www.w3.org/2001/XMLSchema-instance"},$="xsi:type";p.prototype.handleEnd=function(){},p.prototype.handleText=function(){},p.prototype.handleNode=function(){},q.prototype=Object.create(p.prototype),q.prototype.handleNode=function(){return this},r.prototype=Object.create(p.prototype),r.prototype.handleText=function(a){this.body=(this.body||"")+a},s.prototype=Object.create(r.prototype),s.prototype.handleNode=function(a){if(this.element)throw l("expected no sub nodes");return this.element=this.createReference(a),this},s.prototype.handleEnd=function(){this.element.id=this.body},s.prototype.createReference=function(a){return{property:this.property.ns.name,id:""}},t.prototype=Object.create(r.prototype),t.prototype.handleEnd=function(){var a=this.body||"",b=this.element,c=this.propertyDesc;a=Y.coerceType(c.type,a),c.isMany?b.get(c.name).push(a):b.set(c.name,a)},u.prototype=Object.create(r.prototype),u.prototype.handleNode=function(a){var b=this,c=this.element;return c?b=this.handleChild(a):(c=this.element=this.createElement(a),this.context.addElement(c)),b},v.prototype=Object.create(u.prototype),v.prototype.addReference=function(a){this.context.addReference(a)},v.prototype.handleText=function(a){var b=this.element,c=m(b),d=c.bodyProperty;if(!d)throw l("unexpected body text <"+a+">");r.prototype.handleText.call(this,a)},v.prototype.handleEnd=function(){var a=this.body,b=this.element,c=m(b),d=c.bodyProperty;d&&void 0!==a&&(a=Y.coerceType(d.type,a),b.set(d.name,a))},v.prototype.createElement=function(a){var b,c=a.attributes,d=this.type,e=m(d),f=this.context,g=new d({}),h=this.model;return W.forEach(c,function(a,c){var d,i=e.propertiesByName[c];i&&i.isReference?i.isMany?(d=a.split(" "),W.forEach(d,function(a){f.addReference({element:g,property:i.ns.name,id:a})})):f.addReference({element:g,property:i.ns.name,id:a}):(i?a=Y.coerceType(i.type,a):"xmlns"!==c&&(b=Y.parseNameNS(c,e.ns.prefix),h.getPackage(b.prefix)&&f.addWarning({message:"unknown attribute <"+c+">",element:g,property:c,value:a})),g.set(c,a))}),g},v.prototype.getPropertyForNode=function(a){var b,c,d=a.name,e=Y.parseNameNS(d),g=this.type,h=this.model,j=m(g),n=e.name,o=j.propertiesByName[n];if(o)return f(o)&&(b=a.attributes[$])?(b=k(b,h),c=h.getType(b),W.assign({},o,{effectiveType:m(c).name})):o;var p=h.getPackage(e.prefix);if(p){if(b=i(e,p),c=h.getType(b),o=W.find(j.properties,function(a){return!a.isVirtual&&!a.isReference&&!a.isAttribute&&c.hasType(a.type)}))return W.assign({},o,{effectiveType:m(c).name})}else if(o=W.find(j.properties,function(a){return!a.isReference&&!a.isAttribute&&"Element"===a.type}))return o;throw l("unrecognized element <"+e.name+">")},v.prototype.toString=function(){return"ElementDescriptor["+m(this.type).name+"]"},v.prototype.valueHandler=function(a,b){return new t(a,b)},v.prototype.referenceHandler=function(a){return new s(a,this.context)},v.prototype.handler=function(a){return"Element"===a?new x(this.model,a,this.context):new v(this.model,a,this.context)},v.prototype.handleChild=function(a){var b,c,d,e;if(b=this.getPropertyForNode(a),d=this.element,c=b.effectiveType||b.type,Y.isSimpleType(c))return this.valueHandler(b,d);e=b.isReference?this.referenceHandler(b).handleNode(a):this.handler(c).handleNode(a);var f=e.element;return void 0!==f&&(b.isMany?d.get(b.name).push(f):d.set(b.name,f),b.isReference?(W.assign(f,{element:d}),this.context.addReference(f)):f.$parent=d),e},w.prototype=Object.create(v.prototype),w.prototype.createElement=function(a){var b=a.name,c=Y.parseNameNS(b),d=this.model,e=this.type,f=d.getPackage(c.prefix),g=f&&i(c,f)||b;if(!e.hasType(g))throw l("unexpected element <"+a.originalName+">");return v.prototype.createElement.call(this,a)},x.prototype=Object.create(u.prototype),x.prototype.createElement=function(a){var b=a.name,c=Y.parseNameNS(b),d=c.prefix,e=a.ns[d+"$uri"],f=a.attributes;return this.model.createAny(b,e,f)},x.prototype.handleChild=function(a){var b,c=new x(this.model,"Element",this.context).handleNode(a),d=this.element,e=c.element;return void 0!==e&&(b=d.$children=d.$children||[],b.push(e),e.$parent=d),c},x.prototype.handleEnd=function(){this.body&&(this.element.$body=this.body)},y.prototype.fromXML=function(a,b,c){function d(a,b,c){var d=b(),e=d.line,f=d.column,g=d.data;"<"===g.charAt(0)&&-1!==g.indexOf(" ")&&(g=g.slice(0,g.indexOf(" "))+">");var h="unparsable content "+(g?g+" ":"")+"detected\n	line: "+e+"\n	column: "+f+"\n	nested error: "+a.message;if(c)return t.addWarning({message:h,error:a}),!0;throw l(h)}function e(a,b){return d(a,b,!0)}function f(){var a,b,c=t.elementsById,d=t.references;for(a=0;b=d[a];a++){var e=b.element,f=c[b.id],g=m(e).propertiesByName[b.property];if(f||t.addWarning({message:"unresolved reference <"+b.id+">",element:b.element,property:b.property,value:b.id}),g.isMany){var h=e.get(g.name),i=h.indexOf(b);-1===i&&(i=h.length),f?h[i]=f:h.splice(i,1)}else e.set(g.name,f)}}function g(){w.pop().handleEnd()}function h(a){if(x.test(a)){var b=y.exec(a),c=b&&b[1];c&&!A.test(c)&&t.addWarning({message:"unsupported document encoding <"+c+">, falling back to UTF-8"})}}function i(a,b){var c=w.peek();try{w.push(c.handleNode(a))}catch(e){d(e,b,s)&&w.push(new q)}}function j(a,b){try{w.peek().handleText(a)}catch(c){e(c,b)}}function k(a,b){a=a.trim(),a&&j(a,b)}var p=b.rootHandler;b instanceof v?(p=b,b={}):"string"==typeof b?(p=this.handler(b),b={}):"string"==typeof p&&(p=this.handler(p));var r=this.model,s=this.lax,t=new o(W.assign({},b,{rootHandler:p})),u=new X.Parser({proxy:!0}),w=z();p.context=t,w.push(p);var x=/^<\?xml /i,y=/ encoding="([^"]+)"/i,A=/^utf-8$/i,B=r.getPackages().reduce(function(a,b){return a[b.uri]=b.prefix,a},{});u.ns(B).on("openTag",function(a,b,c,d){var e=a.attrs||{},f=Object.keys(e).reduce(function(a,c){var d=b(e[c]);return a[c]=d,a},{}),g={name:a.name,originalName:a.originalName,attributes:f,ns:a.ns};i(g,d)}).on("question",h).on("closeTag",g).on("cdata",j).on("text",function(a,b,c){k(b(a),c)}).on("error",d).on("warn",e),n(function(){var b;try{u.parse(a),f()}catch(d){b=d}var e=p.element;b||e||(b=l("failed to parse document as <"+p.type.$descriptor.name+">")),c(b,b?void 0:e,t)})},y.prototype.handler=function(a){return new w(this.model,a)};var _='<?xml version="1.0" encoding="UTF-8"?>\n',aa=/<|>|'|"|&|\n\r|\n/g,ba=/<|>|&/g,ca={"\n":"#10","\n\r":"#10",'"':"#34","'":"#39","<":"#60",">":"#62","&":"#38"},da={"<":"lt",">":"gt","&":"amp"};O.prototype.build=function(a){return this.element=a,this},O.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"+this.element.id+"</"+this.tagName+">").appendNewLine()},P.prototype.serializeValue=P.prototype.serializeTo=function(a){a.append(this.escape?L(this.value):this.value)},P.prototype.build=function(a,b){return this.value=b,"String"===a.type&&-1!==b.search(ba)&&(this.escape=!0),this},D(Q,P),Q.prototype.serializeTo=function(a){a.appendIndent().append("<"+this.tagName+">"),this.serializeValue(a),a.append("</"+this.tagName+">").appendNewLine()},R.prototype.build=function(a){this.element=a;var b,c,d=a.$descriptor,e=this.propertyDescriptor,f=d.isGeneric;return b=f?this.parseGeneric(a):this.parseNsAttributes(a),e?this.ns=this.nsPropertyTagName(e):this.ns=this.nsTagName(d),this.tagName=this.addTagName(this.ns),f||(c=I(a),this.parseAttributes(M(c)),this.parseContainments(N(c))),this.parseGenericAttributes(a,b),this},R.prototype.nsTagName=function(a){var b=this.logNamespaceUsed(a.ns);return G(b,a)},R.prototype.nsPropertyTagName=function(a){var b=this.logNamespaceUsed(a.ns);return H(b,a)},R.prototype.isLocalNs=function(a){return a.uri===this.ns.uri},R.prototype.nsAttributeName=function(a){var b;if(b=W.isString(a)?Y.parseNameNS(a):a.ns,a.inherited)return{localName:b.localName};var c=this.logNamespaceUsed(b);return this.getNamespaces().logUsed(c),this.isLocalNs(c)?{localName:b.localName}:W.assign({localName:b.localName},c)},R.prototype.parseGeneric=function(a){var b=this,c=this.body,d=[];return W.forEach(a,function(e,f){var g;"$body"===f?c.push((new P).build({type:"String"},e)):"$children"===f?W.forEach(e,function(a){c.push(new R(b).build(a))}):0!==f.indexOf("$")&&(g=b.parseNsAttribute(a,f,e),g&&d.push({name:f,value:e}))}),d},R.prototype.parseNsAttribute=function(a,b,c){var d,e=a.$model,f=Y.parseNameNS(b);if("xmlns"===f.prefix&&(d={prefix:f.localName,uri:c}),f.prefix||"xmlns"!==f.localName||(d={uri:c}),!d)return{name:b,value:c};if(e&&e.getPackage(c))this.logNamespace(d,!0,!0);else{var g=this.logNamespaceUsed(d,!0);this.getNamespaces().logUsed(g)}},R.prototype.parseNsAttributes=function(a,b){var c=this,d=a.$attrs,e=[];return W.forEach(d,function(b,d){var f=c.parseNsAttribute(a,d,b);f&&e.push(f)}),e},R.prototype.parseGenericAttributes=function(a,b){var c=this;W.forEach(b,function(b){if(b.name!==$)try{c.addAttribute(c.nsAttributeName(b.name),b.value)}catch(d){console.warn("missing namespace information for ",b.name,"=",b.value,"on",a,d)}})},R.prototype.parseContainments=function(a){var b=this,c=this.body,d=this.element;W.forEach(a,function(a){var e=d.get(a.name),h=a.isReference,i=a.isMany;if(i||(e=[e]),a.isBody)c.push((new P).build(a,e[0]));else if(Y.isSimpleType(a.type))W.forEach(e,function(d){c.push(new Q(b.addTagName(b.nsPropertyTagName(a))).build(a,d))});else if(h)W.forEach(e,function(d){c.push(new O(b.addTagName(b.nsPropertyTagName(a))).build(d))});else{var j=f(a),k=g(a);W.forEach(e,function(d){var e;e=j?new S(b,a):k?new R(b,a):new R(b),c.push(e.build(d))})}})},R.prototype.getNamespaces=function(a){var b,c=this.namespaces,d=this.parent;return c||(b=d&&d.getNamespaces(),a||!b?this.namespaces=c=new A(b):c=b),c},R.prototype.logNamespace=function(a,b,c){var d=this.getNamespaces(c),e=a.uri,f=a.prefix,g=d.byUri(e);return g||d.add(a,b),d.mapPrefix(f,e),a},R.prototype.logNamespaceUsed=function(a,b){var c,d,e,f=this.element,g=f.$model,h=this.getNamespaces(b),i=a.prefix,j=a.uri;if(!i&&!j)return{localName:a.localName};if(e=Z[i]||g&&(g.getPackage(i)||{}).uri,j=j||e||h.uriByPrefix(i),!j)throw new Error("no namespace uri given for prefix <"+i+">");if(a=h.byUri(j),!a){for(c=i,d=1;h.uriByPrefix(c);)c=i+"_"+d++;a=this.logNamespace({prefix:c,uri:j},e===j)}return i&&h.mapPrefix(i,j),a},R.prototype.parseAttributes=function(a){var b=this,c=this.element;W.forEach(a,function(a){var d=c.get(a.name);if(a.isReference)if(a.isMany){var e=[];W.forEach(d,function(a){e.push(a.id)}),d=e.join(" ")}else d=d.id;b.addAttribute(b.nsAttributeName(a),d)})},R.prototype.addTagName=function(a){var b=this.logNamespaceUsed(a);return this.getNamespaces().logUsed(b),E(a)},R.prototype.addAttribute=function(a,b){var c=this.attrs;W.isString(b)&&(b=K(b)),c.push({name:a,value:b})},R.prototype.serializeAttributes=function(a){var b=this.attrs,c=this.namespaces;c&&(b=F(c).concat(b)),W.forEach(b,function(b){a.append(" ").append(E(b.name)).append('="').append(b.value).append('"')})},R.prototype.serializeTo=function(a){var b=this.body[0],c=b&&b.constructor!==P;a.appendIndent().append("<"+this.tagName),this.serializeAttributes(a),a.append(b?">":" />"),b&&(c&&a.appendNewLine().indent(),W.forEach(this.body,function(b){b.serializeTo(a)}),c&&a.unindent().appendIndent(),a.append("</"+this.tagName+">")),a.appendNewLine()},D(S,R),S.prototype.parseNsAttributes=function(a){var b=R.prototype.parseNsAttributes.call(this,a),c=a.$descriptor;if(c.name===this.propertyDescriptor.type)return b;var d=this.typeNs=this.nsTagName(c);this.getNamespaces().logUsed(this.typeNs);var e=a.$model.getPackage(d.uri),f=e.xml&&e.xml.typePrefix||"";return this.addAttribute(this.nsAttributeName($),(d.prefix?d.prefix+":":"")+f+c.ns.localName),b},S.prototype.isLocalNs=function(a){return a.uri===(this.typeNs||this.ns).uri}},{"min-dash":734,moddle:738,saxen:743}],738:[function(a,b,c){"use strict";function d(){}function e(a,b){this.model=a,this.properties=b}function f(a,b){var c=s[a];return c?c(b):b}function g(a){return!!r[a]}function h(a){return!!s[a]}function i(a,b){var c,d,e=a.split(/:/);if(1===e.length)c=a,d=b;else{if(2!==e.length)throw new Error("expected <prefix:localName> or <localName>, got "+a);c=e[1],d=e[0]}return a=(d?d+":":"")+c,{name:a,prefix:d,localName:c}}function j(a){this.ns=a,this.name=a.name,this.allTypes=[],this.allTypesByName={},this.properties=[],this.propertiesByName={}}function k(a,b){this.packageMap={},this.typeMap={},this.packages=[],this.properties=b,q.forEach(a,q.bind(this.registerPackage,this))}function l(a,b,c){var d=b[c];if(d in a)throw new Error("package with "+c+" <"+d+"> already defined")}function m(a){this.model=a}function n(a){return"undefined"==typeof a}function o(a,b,c){Object.defineProperty(a,b.name,{enumerable:!b.isReference,writable:!0,value:c,configurable:!0})}function p(a){this.properties=new m(this),this.factory=new e(this,this.properties),this.registry=new k(a,this.properties),this.typeCache={}}Object.defineProperty(c,"__esModule",{value:!0}),c.Moddle=p,c.coerceType=f,c.isBuiltInType=g,c.isSimpleType=h,c.parseNameNS=i;var q=a("min-dash");d.prototype.get=function(a){return this.$model.properties.get(this,a)},d.prototype.set=function(a,b){this.$model.properties.set(this,a,b)},e.prototype.createType=function(a){function b(a){e.define(this,"$type",{value:g,enumerable:!0}),e.define(this,"$attrs",{value:{}}),e.define(this,"$parent",{writable:!0}),q.forEach(a,q.bind(function(a,b){this.set(b,a)},this))}var c=this.model,e=this.properties,f=Object.create(d.prototype);q.forEach(a.properties,function(a){a.isMany||void 0===a["default"]||(f[a.name]=a["default"])}),e.defineModel(f,c),e.defineDescriptor(f,a);var g=a.ns.name;return b.prototype=f,b.hasType=f.$instanceOf=this.model.hasType,e.defineModel(b,c),e.defineDescriptor(b,a),b};var r={String:!0,Boolean:!0,Integer:!0,Real:!0,Element:!0},s={String:function(a){return a},Boolean:function(a){return"true"===a},Integer:function(a){return parseInt(a,10)},Real:function(a){return parseFloat(a,10)}};j.prototype.build=function(){return q.pick(this,["ns","name","allTypes","allTypesByName","properties","propertiesByName","bodyProperty","idProperty"])},j.prototype.addProperty=function(a,b,c){"boolean"==typeof b&&(c=b,b=void 0),this.addNamedProperty(a,c!==!1);var d=this.properties;void 0!==b?d.splice(b,0,a):d.push(a)},j.prototype.replaceProperty=function(a,b,c){var d=a.ns,e=this.properties,f=this.propertiesByName,g=a.name!==b.name;if(a.isId){if(!b.isId)throw new Error("property <"+b.ns.name+"> must be id property to refine <"+a.ns.name+">");this.setIdProperty(b,!1)}if(a.isBody){if(!b.isBody)throw new Error("property <"+b.ns.name+"> must be body property to refine <"+a.ns.name+">");this.setBodyProperty(b,!1)}var h=e.indexOf(a);if(-1===h)throw new Error("property <"+d.name+"> not found in property list");e.splice(h,1),this.addProperty(b,c?void 0:h,g),f[d.name]=f[d.localName]=b},j.prototype.redefineProperty=function(a,b,c){var d=a.ns.prefix,e=b.split("#"),f=i(e[0],d),g=i(e[1],f.prefix).name,h=this.propertiesByName[g];if(!h)throw new Error("refined property <"+g+"> not found");this.replaceProperty(h,a,c),delete a.redefines},j.prototype.addNamedProperty=function(a,b){var c=a.ns,d=this.propertiesByName;b&&(this.assertNotDefined(a,c.name),this.assertNotDefined(a,c.localName)),d[c.name]=d[c.localName]=a},j.prototype.removeNamedProperty=function(a){var b=a.ns,c=this.propertiesByName;delete c[b.name],delete c[b.localName]},j.prototype.setBodyProperty=function(a,b){if(b&&this.bodyProperty)throw new Error("body property defined multiple times (<"+this.bodyProperty.ns.name+">, <"+a.ns.name+">)");this.bodyProperty=a},j.prototype.setIdProperty=function(a,b){if(b&&this.idProperty)throw new Error("id property defined multiple times (<"+this.idProperty.ns.name+">, <"+a.ns.name+">)");this.idProperty=a},j.prototype.assertNotDefined=function(a,b){var c=a.name,d=this.propertiesByName[c];if(d)throw new Error("property <"+c+"> already defined; override of <"+d.definedBy.ns.name+"#"+d.ns.name+"> by <"+a.definedBy.ns.name+"#"+a.ns.name+"> not allowed without redefines")},j.prototype.hasProperty=function(a){return this.propertiesByName[a]},j.prototype.addTrait=function(a,b){var c=this.allTypesByName,d=this.allTypes,e=a.name;e in c||(q.forEach(a.properties,q.bind(function(c){c=q.assign({},c,{name:c.ns.localName,inherited:b}),Object.defineProperty(c,"definedBy",{value:a});var d=c.replaces,e=c.redefines;d||e?this.redefineProperty(c,d||e,d):(c.isBody&&this.setBodyProperty(c),c.isId&&this.setIdProperty(c),this.addProperty(c))},this)),d.push(a),c[e]=a)},k.prototype.getPackage=function(a){return this.packageMap[a]},k.prototype.getPackages=function(){return this.packages},k.prototype.registerPackage=function(a){a=q.assign({},a);var b=this.packageMap;l(b,a,"prefix"),l(b,a,"uri"),q.forEach(a.types,q.bind(function(b){this.registerType(b,a)},this)),b[a.uri]=b[a.prefix]=a,this.packages.push(a)},k.prototype.registerType=function(a,b){a=q.assign({},a,{superClass:(a.superClass||[]).slice(),"extends":(a["extends"]||[]).slice(),properties:(a.properties||[]).slice(),meta:q.assign(a.meta||{})});var c=i(a.name,b.prefix),d=c.name,e={};q.forEach(a.properties,q.bind(function(a){var b=i(a.name,c.prefix),d=b.name;g(a.type)||(a.type=i(a.type,b.prefix).name),q.assign(a,{ns:b,name:d}),e[d]=a},this)),q.assign(a,{ns:c,name:d,propertiesByName:e}),q.forEach(a["extends"],q.bind(function(a){var b=this.typeMap[a];b.traits=b.traits||[],b.traits.push(d)},this)),this.definePackage(a,b),this.typeMap[d]=a},k.prototype.mapTypes=function(a,b,c){function d(a){return e(a,!0)}function e(c,d){var e=i(c,g(c)?"":a.prefix);h.mapTypes(e,b,d)}var f=g(a.name)?{name:a.name}:this.typeMap[a.name],h=this;if(!f)throw new Error("unknown type <"+a.name+">");q.forEach(f.superClass,c?d:e),b(f,!c),q.forEach(f.traits,d)},k.prototype.getEffectiveDescriptor=function(a){var b=i(a),c=new j(b);this.mapTypes(b,function(a,b){c.addTrait(a,b)});var d=c.build();return this.definePackage(d,d.allTypes[d.allTypes.length-1].$pkg),d},k.prototype.definePackage=function(a,b){this.properties.define(a,"$pkg",{value:b})},m.prototype.set=function(a,b,c){var d=this.model.getPropertyDescriptor(a,b),e=d&&d.name;n(c)?d?delete a[e]:delete a.$attrs[b]:d?e in a?a[e]=c:o(a,d,c):a.$attrs[b]=c},m.prototype.get=function(a,b){var c=this.model.getPropertyDescriptor(a,b);if(!c)return a.$attrs[b];var d=c.name;return!a[d]&&c.isMany&&o(a,c,[]),a[d]},m.prototype.define=function(a,b,c){Object.defineProperty(a,b,c)},m.prototype.defineDescriptor=function(a,b){this.define(a,"$descriptor",{value:b})},m.prototype.defineModel=function(a,b){this.define(a,"$model",{value:b})},p.prototype.create=function(a,b){var c=this.getType(a);if(!c)throw new Error("unknown type <"+a+">");return new c(b)},p.prototype.getType=function(a){var b=this.typeCache,c=q.isString(a)?a:a.ns.name,d=b[c];return d||(a=this.registry.getEffectiveDescriptor(c),d=b[c]=this.factory.createType(a)),d},p.prototype.createAny=function(a,b,c){var d=i(a),e={$type:a,$instanceOf:function(a){return a===this.$type}},f={name:a,isGeneric:!0,ns:{prefix:d.prefix,localName:d.localName,uri:b}};return this.properties.defineDescriptor(e,f),this.properties.defineModel(e,this),this.properties.define(e,"$parent",{enumerable:!1,writable:!0}),q.forEach(c,function(a,b){q.isObject(a)&&void 0!==a.value?e[a.name]=a.value:e[b]=a}),e},p.prototype.getPackage=function(a){return this.registry.getPackage(a)},p.prototype.getPackages=function(){return this.registry.getPackages()},p.prototype.getElementDescriptor=function(a){return a.$descriptor},p.prototype.hasType=function(a,b){void 0===b&&(b=a,a=this);var c=a.$model.getElementDescriptor(a);return b in c.allTypesByName},p.prototype.getPropertyDescriptor=function(a,b){return this.getElementDescriptor(a).propertiesByName[b]},p.prototype.getTypeDescriptor=function(a){return this.registry.typeMap[a]}},{"min-dash":734}],739:[function(a,b,c){b.exports=a("./lib/refs"),b.exports.Collection=a("./lib/collection")},{"./lib/collection":740,"./lib/refs":741}],740:[function(a,b,c){"use strict";function d(a,b,c,d){var e=c.inverse;return Object.defineProperty(a,"remove",{value:function(a){var c=this.indexOf(a);return-1!==c&&(this.splice(c,1),b.unset(a,e,d)),a}}),Object.defineProperty(a,"contains",{value:function(a){return-1!==this.indexOf(a)}}),Object.defineProperty(a,"add",{value:function(a,c){var f=this.indexOf(a);if("undefined"==typeof c){if(-1!==f)return;c=this.length}-1!==f&&this.splice(f,1),this.splice(c,0,a),-1===f&&b.set(a,e,d)}}),Object.defineProperty(a,"__refs_collection",{value:!0}),a}function e(a){return a.__refs_collection===!0}b.exports.extend=d,b.exports.isExtended=e},{}],741:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b.name||b)}function e(a,b,c){var d=h.extend(c[b.name]||[],a,b,c);Object.defineProperty(c,b.name,{enumerable:b.enumerable,value:d}),d.length&&d.forEach(function(d){a.set(d,b.inverse,c)})}function f(a,b,c){var d=b.inverse,e=c[b.name];Object.defineProperty(c,b.name,{configurable:b.configurable,enumerable:b.enumerable,get:function(){return e},set:function(b){if(b!==e){var f=e;e=null,f&&a.unset(f,d,c),e=b,a.set(e,d,c)}}})}function g(a,b){return this instanceof g?(a.inverse=b,b.inverse=a,this.props={},this.props[a.name]=a,void(this.props[b.name]=b)):new g(a,b)}var h=a("./collection");g.prototype.bind=function(a,b){if("string"==typeof b){if(!this.props[b])throw new Error("no property <"+b+"> in ref");b=this.props[b]}b.collection?e(this,b,a):f(this,b,a)},g.prototype.ensureRefsCollection=function(a,b){var c=a[b.name];return h.isExtended(c)||e(this,b,a),c},g.prototype.ensureBound=function(a,b){d(a,b)||this.bind(a,b)},g.prototype.unset=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).remove(c):a[b.name]=void 0)},g.prototype.set=function(a,b,c){a&&(this.ensureBound(a,b),b.collection?this.ensureRefsCollection(a,b).add(c):a[b.name]=c)},b.exports=g},{"./collection":740}],742:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){
for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],743:[function(a,b,c){"use strict";function d(a,b,c,d){return d?p.call(r,d)?r[d]:"&"+d+";":o(b?b:parseInt(c,16))}function e(a){return a.length>3&&-1!==a.indexOf("&")?a.replace(q,d):a}function f(a){return new Error(a)}function g(a){return"missing namespace for prefix <"+a+">"}function h(a){return{get:a,enumerable:!0}}function i(a){var b,c={};for(b in a)c[b]=a[b];return c}function j(a){return a+"$uri"}function k(a){var b,c,d={};for(b in a)c=a[b],d[c]=c,d[j(c)]=b;return d}function l(){return{line:0,column:0}}function m(a){throw a}function n(a){function b(a){a instanceof Error||(a=f(a)),G=a,C(a,D)}function c(a){w&&(a instanceof Error||(a=f(a)),w(a,D))}function d(a){function d(){if(null!==J)return J;var a,b,d,f,h,k,l,m,n,o,p,q=F&&L.xmlns,r=F&&E?[]:null,s=T,t=S,v=t.length,w={},x={};a:for(;v>s;s++)if(n=!1,o=t.charCodeAt(s),!(32===o||14>o&&o>8)){for((65>o||o>122||o>90&&97>o)&&95!==o&&58!==o&&(c("illegal first char attribute name"),n=!0),p=s+1;v>p;p++)if(o=t.charCodeAt(p),!(o>96&&123>o||o>64&&91>o||o>47&&59>o||46===o||45===o||95===o)){if(32===o||14>o&&o>8){c("missing attribute value"),s=p;continue a}if(61===o)break;c("illegal attribute name char"),n=!0}if(m=t.substring(s,p),"xmlns:xmlns"===m&&(c("illegal declaration of xmlns"),n=!0),o=t.charCodeAt(p+1),34===o)p=t.indexOf('"',s=p+2),-1===p&&(p=t.indexOf("'",s),-1!==p&&(c("attribute value quote missmatch"),n=!0));else if(39===o)p=t.indexOf("'",s=p+2),-1===p&&(p=t.indexOf('"',s),-1!==p&&(c("attribute value quote missmatch"),n=!0));else for(c("missing attribute value quotes"),n=!0,p+=1;v>p&&(o=t.charCodeAt(p+1),!(32===o||14>o&&o>8));p++);for(-1===p&&(c("missing closing quotes"),p=v,n=!0),n||(k=t.substring(s,p)),s=p;v>p+1&&(o=t.charCodeAt(p+1),!(32===o||14>o&&o>8));p++)s===p&&(c("illegal character after attribute end"),n=!0);if(s=p+1,!n)if(m in x)c("attribute <"+m+"> already defined");else if(x[m]=!0,F)if(E){if(h="xmlns"===m?"xmlns":120===m.charCodeAt(0)&&"xmlns:"===m.substr(0,6)?m.substr(6):null,null!==h){if(a=e(k),b=j(h),l=A[a],!l){if("xmlns"===h||b in L&&L[b]!==a){do l="ns"+N++;while("undefined"!=typeof L[l])}else l=h;A[a]=l}L[h]!==l&&(f||(L=i(L),f=!0),L[h]=l,"xmlns"===h&&(L[j(l)]=a,q=l),L[b]=a),w[m]=k;continue}r.push(m,k)}else o=m.indexOf(":"),-1!==o?(d=L[m.substring(0,o)])?(m=q===d?m.substr(o+1):d+m.substr(o),m===u&&(o=k.indexOf(":"),-1!==o?(d=k.substring(0,o),d=L[d]||d,k=d+k.substring(o)):k=q+":"+k),w[m]=k):c(g(m.substring(0,o))):w[m]=k;else w[m]=k}if(E)for(s=0,v=r.length;v>s;s++){if(m=r[s++],k=r[s],o=m.indexOf(":"),-1!==o){if(!(d=L[m.substring(0,o)])){c(g(m.substring(0,o)));continue}m=q===d?m.substr(o+1):d+m.substr(o),m===u&&(o=k.indexOf(":"),-1!==o?(d=k.substring(0,o),d=L[d]||d,k=d+k.substring(o)):k=q+":"+k)}w[m]=k}return J=w}function f(){for(var b,c,d=/(\r\n|\r|\n)/g,e=0,f=0,g=0,h=R;Q>=g&&(b=d.exec(a))&&(h=b[0].length+b.index,!(h>Q));)e+=1,g=h;return-1==Q?(f=h,c=a.substring(R)):0===R?(console.log(Q-g),c=a.substring(R,Q)):(f=Q-g,c=-1==R?a.substring(Q):a.substring(Q,R+1)),{data:c,line:e,column:f}}var l,m,n,s,t,w,C,G,I,J,K=F?[]:null,L=F?k(A):null,M=[],N=0,O=!1,P=!1,Q=0,R=0,S="",T=0;for(D=f,B&&(I=Object.create({},{name:h(function(){return C}),originalName:h(function(){return G}),attrs:h(d),ns:h(function(){return L})}));-1!==R;){if(Q=60===a.charCodeAt(R)?R:a.indexOf("<",R),-1===Q)return M.length?b("unexpected end of file"):0===R?b("missing start tag"):void(R<a.length&&a.substring(R).trim()&&c(v));if(R!==Q)if(M.length){if(o&&(o(a.substring(R,Q),e,D),H))return}else if(a.substring(R,Q).trim()&&(c(v),H))return;if(t=a.charCodeAt(Q+1),33!==t)if(63!==t){if(R=a.indexOf(">",Q+1),-1==R)return b("unclosed tag");if(J={},47===t){if(O=!1,P=!0,!M.length)return b("missing open tag");if(m=C=M.pop(),s=Q+2+m.length,a.substring(Q+2,s)!==m)return b("closing tag mismatch");for(;R>s;s++)if(t=a.charCodeAt(s),!(32===t||t>8&&14>t))return b("close tag")}else{if(47===a.charCodeAt(R-1)?(m=C=a.substring(Q+1,R-1),O=!0,P=!0):(m=C=a.substring(Q+1,R),O=!0,P=!1),!(t>96&&123>t||t>64&&91>t||95===t||58===t))return b("illegal first char nodeName");for(s=1,n=m.length;n>s;s++)if(t=m.charCodeAt(s),!(t>96&&123>t||t>64&&91>t||t>47&&59>t||45===t||95===t||46==t)){if(32===t||14>t&&t>8){C=m.substring(0,s),J=null;break}return b("invalid nodeName")}P||M.push(C)}if(F){if(l=L,O&&(P||K.push(l),null===J&&(E=-1!==m.indexOf("xmlns",s))&&(T=s,S=m,d(),E=!1)),G=C,t=C.indexOf(":"),-1!==t){if(w=L[C.substring(0,t)],!w)return b("missing namespace on <"+G+">");C=C.substr(t+1)}else w=L.xmlns;w&&(C=w+":"+C)}if(O&&(T=s,S=m,p&&(B?p(I,e,P,D):p(C,d,e,P,D),H)))return;if(P){if(q&&(q(B?I:C,e,O,D),H))return;F&&(L=O?l:K.pop())}R+=1}else{if(R=a.indexOf("?>",Q),-1===R)return b("unclosed question");if(y&&(y(a.substring(Q,R+2),D),H))return;R+=2}else{if(t=a.charCodeAt(Q+2),91===t&&"CDATA["===a.substr(Q+3,6)){if(R=a.indexOf("]]>",Q),-1===R)return b("unclosed cdata");if(r&&(r(a.substring(Q+9,R),D),H))return;R+=3;continue}if(45===t&&45===a.charCodeAt(Q+3)){if(R=a.indexOf("-->",Q),-1===R)return b("unclosed comment");if(x&&(x(a.substring(Q+4,R),e,D),H))return;R+=3;continue}if(R=a.indexOf(">",Q+1),-1===R)return b("unclosed tag");if(z&&(z(a.substring(Q,R+1),e,D),H))return;R+=1}}}if(!this)return new n(a);var o,p,q,r,w,x,y,z,A,B=a&&a.proxy,C=m,D=l,E=!1,F=!1,G=null,H=!1;this.on=function(a,b){if("function"!=typeof b)throw f("required args <name, cb>");switch(a){case"openTag":p=b;break;case"text":o=b;break;case"closeTag":q=b;break;case"error":C=b;break;case"warn":w=b;break;case"cdata":r=b;break;case"attention":z=b;break;case"question":y=b;break;case"comment":x=b;break;default:throw f("unsupported event: "+a)}return this},this.ns=function(a){if("undefined"==typeof a&&(a={}),"object"!=typeof a)throw f("required args <nsMap={}>");var b,c={};for(b in a)c[b]=a[b];return c[s]=t,F=!0,A=c,this},this.parse=function(a){if("string"!=typeof a)throw f("required args <xml=string>");return G=null,d(a),D=l,H=!1,G},this.stop=function(){H=!0}}Object.defineProperty(c,"__esModule",{value:!0}),c.Parser=n,c.decode=e;var o=String.fromCharCode,p=Object.prototype.hasOwnProperty,q=/&#(\d+);|&#x([0-9a-f]+);|&(\w+);/gi,r={amp:"&",apos:"'",gt:">",lt:"<",quot:'"'};Object.keys(r).forEach(function(a){r[a.toUpperCase()]=r[a]});var s="http://www.w3.org/2001/XMLSchema-instance",t="xsi",u="xsi:type",v="non-whitespace outside of root node"},{}],744:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){i.assign(this,j["default"]()),this.options=b=i.assign({},k,b),this.container=a,this._createScrollButtons(a,b),this._bindEvents(a)}function f(a,b){var c=g(a);return c||(c=new e(a,b),a.__scrollTabs=c),c}function g(a){return a.__scrollTabs}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=f;var h=a("min-dom"),i=a("min-dash"),j=d(a("mitt")),k={scrollSymbolLeft:"‹",scrollSymbolRight:"›"};e.prototype._createButton=function(a,b){var c=b.className,d=b.direction,e=h.query("."+c,a);return e||(e=h.domify('<span class="scroll-tabs-button '+c+'">'+b.label+"</span>"),a.insertBefore(e,a.childNodes[0])),h.attr(e,"data-direction",d),e},e.prototype._createScrollButtons=function(a,b){this._createButton(a,{className:"scroll-tabs-left",label:b.scrollSymbolLeft,direction:-1}),this._createButton(a,{className:"scroll-tabs-right",label:b.scrollSymbolRight,direction:1})},e.prototype.getActiveTabNode=function(){return h.query(this.options.selectors.active,this.container)},e.prototype.getTabsContainerNode=function(){return h.query(this.options.selectors.tabsContainer,this.container)},e.prototype.getAllTabNodes=function(){return h.queryAll(this.options.selectors.tab,this.container)},e.prototype.getVisibleTabs=function(){var a=this.getAllTabNodes(),b=this.options.selectors.ignore;return i.filter(a,function(a){return!h.matches(a,b)})},e.prototype.getAdjacentTab=function(a,b){var c=this.getVisibleTabs(),d=c.indexOf(a);return c[d+b]},e.prototype._bindEvents=function(a){this._bindWheelEvent(a),this._bindTabClickEvents(a),this._bindScrollButtonEvents(a)},e.prototype._bindTabClickEvents=function(a){var b=this.options.selectors.tab,c=this;h.delegate.bind(a,b,"click",function(a){c.scrollToTabNode(a.delegateTarget)})},e.prototype._bindWheelEvent=function(a){var b=this;h.event.bind(a,"wheel",function(a){var c=Math.sign(a.deltaY),d=b.getActiveTabNode(),e=b.getAdjacentTab(d,c);e&&(b.scrollToTabNode(e),b.emit("scroll",e,d,c)),a.preventDefault()})},e.prototype._bindScrollButtonEvents=function(a){var b=this;h.delegate.bind(a,".scroll-tabs-button","click",function(a){var c=a.delegateTarget,d=parseInt(h.attr(c,"data-direction"),10),e=b.getActiveTabNode(),f=b.getAdjacentTab(e,d);f&&(b.scrollToTabNode(f),b.emit("scroll",f,e,d)),a.preventDefault()})},e.prototype.scrollToTabNode=function(a){if(a){var b=a.parentNode,c=a.offsetWidth,d=a.offsetLeft,e=d+c,f=b.offsetWidth,g=b.scrollLeft;g>d?b.scrollLeft=0:e>f&&(b.scrollLeft=e-f)}},e.prototype.update=function(){var a=this.getTabsContainerNode(),b=a.scrollWidth>a.offsetWidth,c="scroll-tabs-overflow";h.classes(this.container).toggle(c,b),b&&this.scrollToTabNode(this.getActiveTabNode())},f.get=g},{"min-dash":734,"min-dom":735,mitt:736}],745:[function(a,b,c){"use strict";function d(a,b){return a^b}function e(a){return a.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\//g,"").replace(w,"").match(/[a-zA-Z_]\w*/g)||[]}function f(a,b,c){var d=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^\/]+)\/|[a-zA-Z_]\w*/g;return a.replace(d,function(a){return"("==a[a.length-1]?c(a):~b.indexOf(a)?c(a):a})}function g(a){for(var b=[],c=0;c<a.length;c++)~b.indexOf(a[c])||b.push(a[c]);return b}function h(a){return function(b){return a+b}}function i(a,b){if(!(this instanceof i))return new i(a,b);if(this.node=this.start=this.peeked=a,this.root=b,this.closingTag=!1,this._revisit=!0,this._selects=[],this._rejects=[],a&&this.higher(a))throw new Error("root must be a parent or ancestor to node")}function j(a,b){var c="nextSibling"==a;return function(d,e,f){d=this.compile(d),e=e&&e>0?e:1;for(var g=this.node,h=this.closingTag,i=this._revisit;g;){if(v(c,h)&&g[b])g=g[b],h=!c;else if(1==g.nodeType&&!g[b]&&v(c,h)){if(h=c,!i)continue}else if(g[a])g=g[a],h=!c;else if(g=g.parentNode,h=c,!i)continue;if(!g||this.higher(g,this.root))break;if(d(g)&&this.selects(g,f)&&this.rejects(g,f)){if(--e)continue;return f||(this.node=g),this.closingTag=h,g}}return null}}function k(a){z.removeAllRanges(),z.addRange(a)}function l(){return z}function m(a){if(!z.rangeCount)return null;var b=z.focusNode;return r(b)&&(b=b.parentNode),a==b||a.contains(b)}function n(a,b){var c=q(a,b);k(c)}function o(a){function b(a,b){return 1===arguments.length&&(b=a),a.parentNode===h&&b==h.childNodes[j]}function c(a,b){return 1===arguments.length&&(b=a),a.parentNode===g&&b==g.childNodes[i]}if(!m(a))return null;for(var d,e,f=z.getRangeAt(0),g=f.startContainer,h=f.endContainer,i=f.startOffset,j=f.endOffset,k=y(a.firstChild,a),l=k.node,n=!1,o=0;l&&(c(l)&&(e=o),!b(l));){if(n||(s(l)||d&&d.nextSibling==l&&(t(l)||u(l)))&&o++,r(l)){if(g===l&&(e=o+i),h===l){o+=j;break}o+=l.textContent.length}if((r(l)||n)&&(c(l,l.nextSibling)&&(e=o),b(l,l.nextSibling)))break;d=l,l=k.next(),n=k.closingTag}return{start:"undefined"==typeof e?o:e,end:o}}function p(a,b){var c;return c=b.start===b.end?a.substring(0,b.start)+"|"+a.substring(b.start):a.substring(0,b.start)+"<"+a.substring(b.start,b.end)+">"+a.substring(b.end)}function q(a,b){for(var c,d=b.start,e=b.end,f=document.createRange(),g=y(a.firstChild,a),h=g.node,i=!1,j=0;h;){if(j===d&&(i?f.setStartAfter(h):f.setStartBefore(h)),j===e)return i?f.setEndAfter(h):f.setEndBefore(h),f;if(i||(s(h)||h.previousSibling&&(t(h)||u(h)))&&j++,r(h)){if(c=h.textContent.length,d>=j&&j+c>d&&f.setStart(h,d-j),j+c>e)return f.setEnd(h,e-j),f;j+=c}h=g.next(),i=g.closingTag}return d>=j&&(a.lastChild?f.setStartAfter(a.lastChild):f.setStart(a,0)),a.lastChild?f.setEndAfter(a.lastChild):f.setEnd(a,0),f}function r(a){return 3===a.nodeType}function s(a){return 1===a.nodeType&&"BR"===a.nodeName}function t(a){return 1===a.nodeType&&"DIV"===a.nodeName}function u(a){return 1===a.nodeType&&"P"===a.nodeName}Object.defineProperty(c,"__esModule",{value:!0}),c.applyRange=k,c.getWindowSelection=l,c.isSelected=m,c.setRange=n,c.getRange=o,c.annotateRange=p;var v=d,w=/\b(Array|Date|Object|Math|JSON)\b/g,x=function(a,b){var c=g(e(a));return b&&"string"==typeof b&&(b=h(b)),b?f(a,c,b):c},y=i;i.prototype.reset=function(a){return this.node=a||this.start,this},i.prototype.revisit=function(a){return this._revisit=void 0==a?!0:a,this},i.prototype.opening=function(){return 1==this.node.nodeType&&(this.closingTag=!1),this},i.prototype.atOpening=function(){return!this.closingTag},i.prototype.closing=function(){return 1==this.node.nodeType&&(this.closingTag=!0),this},i.prototype.atClosing=function(){return this.closingTag},i.prototype.next=j("nextSibling","firstChild"),i.prototype.previous=i.prototype.prev=j("previousSibling","lastChild"),i.prototype.select=function(a){return a=this.compile(a),this._selects.push(a),this},i.prototype.selects=function(a,b){var c=this._selects,d=c.length;if(!d)return!0;for(var e=0;d>e;e++)if(c[e].call(this,a,b))return!0;return!1},i.prototype.reject=function(a){return a=this.compile(a),this._rejects.push(a),this},i.prototype.rejects=function(a,b){var c=this._rejects,d=c.length;if(!d)return!0;for(var e=0;d>e;e++)if(c[e].call(this,a,b))return!1;return!0},i.prototype.higher=function(a){var b=this.root;if(!b)return!1;for(a=a.parentNode;a&&a!=b;)a=a.parentNode;return a!=b},i.prototype.compile=function(a){switch(typeof a){case"number":return function(b){return a==b.nodeType};case"string":return new Function("node","return "+x(a,"node."));case"function":return a;default:return function(){return!0}}},i.prototype.peak=i.prototype.peek=function(a,b){return 1==arguments.length&&(b=a,a=!0),b=void 0==b?1:b,b?b>0?this.next(a,b,!0):this.prev(a,Math.abs(b),!0):this.node},i.prototype.use=function(a){return a(this),this};var z=window.getSelection()},{}],746:[function(a,b,c){"use strict";function d(a,b,c){var d=a.start,g=d,h=c.length-b.length,i=(c.length-b.length,b.substring(d));c.lastIndexOf(i)===c.length-i.length&&(b=b.substring(0,b.length-i.length),c=c.substring(0,c.length-i.length));var h=e(b,c);return h&&(g="remove"===h.type?h.newStart:h.newEnd),f(g)}function e(a,b){var c,d,e,f,g,h=0,i=0;for(b.length>a.length?(d=b,f=a):(d=a,f=b);h<d.length;)e=d.charAt(h),g=f.charAt(i),e!==g?(c||(c={l_start:h,s_start:i}),h++):(c&&!c.complete&&(c.l_end=h,c.s_end=i,c.complete=!0),i++,h++);return c&&!c.complete&&(c.complete=!0,c.s_end=f.length,c.l_end=d.length),c?b.length>a.length?{newStart:c.l_start,newEnd:c.l_end,type:"add"}:{newStart:c.s_start,newEnd:c.s_end,type:b.length<a.length?"remove":"replace"}:void 0}function f(a,b){return{start:a,end:void 0===b?a:b}}b.exports=d,b.exports.range=f},{}],747:[function(a,b,c){!function(d,e){"object"==typeof c&&"undefined"!=typeof b?e(a("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):(d=d||self,e(d.jQuery))}(this,function(a){"use strict";function b(a){var b="Comic Sans MS"===a?"Courier New":"Comic Sans MS",c="mmmmmmmmmmwwwww",d="200px",e=document.createElement("canvas"),f=e.getContext("2d");f.font=d+" '"+b+"'";var g=f.measureText(c).width;f.font=d+" '"+a+"', '"+b+"'";var h=f.measureText(c).width;return g!==h}function c(a){return function(b){return a===b}}function d(a,b){return a===b}function e(a){return function(b,c){return b[a]===c[a]}}function f(){return!0}function g(){return!1}function h(a){return function(){return!a.apply(a,arguments)}}function i(a,b){return function(c){return a(c)&&b(c)}}function j(a){return a}function k(a,b){return function(){return a[b].apply(a,arguments)}}function l(a){var b=++xb+"";return a?a+b:b}function m(a){var b=$(document);return{top:a.top+b.scrollTop(),left:a.left+b.scrollLeft(),width:a.right-a.left,height:a.bottom-a.top}}function n(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[a[c]]=c);return b}function o(a,b){return b=b||"",b+a.split(".").map(function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}).join("")}function p(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}function q(a){var b=/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/gi;return b.test(a)}function r(a){return a[0]}function s(a){return a[a.length-1]}function t(a){return a.slice(0,a.length-1)}function u(a){return a.slice(1)}function v(a,b){for(var c=0,d=a.length;d>c;c++){var e=a[c];if(b(e))return e}}function w(a,b){for(var c=0,d=a.length;d>c;c++)if(!b(a[c]))return!1;return!0}function x(a,b){return a&&a.length&&b?-1!==a.indexOf(b):!1}function y(a,b){return b=b||yb.self,a.reduce(function(a,c){return a+b(c)},0)}function z(a){for(var b=[],c=a.length,d=-1;++d<c;)b[d]=a[d];return b}function A(a){return!a||!a.length}function B(a,b){if(!a.length)return[];var c=u(a);return c.reduce(function(a,c){var d=s(a);return b(s(d),c)?d[d.length]=c:a[a.length]=[c],a},[[r(a)]])}function C(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&b.push(a[c]);return b}function D(a){for(var b=[],c=0,d=a.length;d>c;c++)x(b,a[c])||b.push(a[c]);return b}function E(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c+1]}return null}function F(a,b){if(a&&a.length&&b){var c=a.indexOf(b);return-1===c?null:a[c-1]}return null}function G(b){return b&&a(b).hasClass("note-editable")}function H(b){return b&&a(b).hasClass("note-control-sizing")}function I(a){return a=a.toUpperCase(),function(b){return b&&b.nodeName.toUpperCase()===a}}function J(a){return a&&3===a.nodeType}function K(a){return a&&1===a.nodeType}function L(a){return a&&/^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^AUDIO|^VIDEO|^EMBED/.test(a.nodeName.toUpperCase())}function M(a){return G(a)?!1:a&&/^DIV|^P|^LI|^H[1-7]/.test(a.nodeName.toUpperCase())}function N(a){return a&&/^H[1-7]/.test(a.nodeName.toUpperCase())}function O(a){return M(a)&&!Db(a)}function P(a){return!(S(a)||Q(a)||Gb(a)||M(a)||Eb(a)||Hb(a)||Fb(a))}function Q(a){return a&&/^UL|^OL/.test(a.nodeName.toUpperCase())}function R(a){return a&&/^TD|^TH/.test(a.nodeName.toUpperCase())}function S(a){return R(a)||Hb(a)||G(a)}function T(a){return P(a)&&!!_(a,M)}function U(a){return P(a)&&!_(a,M)}function V(a,b){return a.nextSibling===b||a.previousSibling===b}function W(a,b){b=b||yb.ok;var c=[];return a.previousSibling&&b(a.previousSibling)&&c.push(a.previousSibling),c.push(a),a.nextSibling&&b(a.nextSibling)&&c.push(a.nextSibling),c}function X(a){return J(a)?a.nodeValue.length:a?a.childNodes.length:0}function Y(a){var b=X(a);return 0===b?!0:J(a)||1!==b||a.innerHTML!==Kb?zb.all(a.childNodes,J)&&""===a.innerHTML?!0:!1:!0}function Z(a){L(a)||X(a)||(a.innerHTML=Kb)}function _(a,b){for(;a;){if(b(a))return a;if(G(a))break;a=a.parentNode}return null}function aa(a,b){for(a=a.parentNode;a&&1===X(a);){if(b(a))return a;if(G(a))break;a=a.parentNode}return null}function ba(a,b){b=b||yb.fail;var c=[];return _(a,function(a){return G(a)||c.push(a),b(a)}),c}function ca(a,b){var c=ba(a);return zb.last(c.filter(b))}function da(a,b){for(var c=ba(a),d=b;d;d=d.parentNode)if(c.indexOf(d)>-1)return d;return null}function ea(a,b){b=b||yb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.previousSibling;return c}function fa(a,b){b=b||yb.fail;for(var c=[];a&&!b(a);)c.push(a),a=a.nextSibling;return c}function ga(a,b){var c=[];return b=b||yb.ok,function d(e){a!==e&&b(e)&&c.push(e);for(var f=0,g=e.childNodes.length;g>f;f++)d(e.childNodes[f])}(a),c}function ha(b,c){var d=b.parentNode,e=a("<"+c+">")[0];return d.insertBefore(e,b),e.appendChild(b),e}function ia(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function ja(b,c){return a.each(c,function(a,c){b.appendChild(c)}),b}function ka(a){return 0===a.offset}function la(a){return a.offset===X(a.node)}function ma(a){return ka(a)||la(a)}function na(a,b){for(;a&&a!==b;){if(0!==ra(a))return!1;a=a.parentNode}return!0}function oa(a,b){if(!b)return!1;for(;a&&a!==b;){if(ra(a)!==X(a.parentNode)-1)return!1;a=a.parentNode}return!0}function pa(a,b){return ka(a)&&na(a.node,b)}function qa(a,b){return la(a)&&oa(a.node,b)}function ra(a){for(var b=0;a=a.previousSibling;)b+=1;return b}function sa(a){return!!(a&&a.childNodes&&a.childNodes.length)}function ta(a,b){var c,d;if(0===a.offset){if(G(a.node))return null;c=a.node.parentNode,d=ra(a.node)}else sa(a.node)?(c=a.node.childNodes[a.offset-1],d=X(c)):(c=a.node,d=b?0:a.offset-1);return{node:c,offset:d}}function ua(a,b){var c,d;if(X(a.node)===a.offset){if(G(a.node))return null;c=a.node.parentNode,d=ra(a.node)+1}else sa(a.node)?(c=a.node.childNodes[a.offset],d=0):(c=a.node,d=b?X(a.node):a.offset+1);return{node:c,offset:d}}function va(a,b){return a.node===b.node&&a.offset===b.offset}function wa(a){if(J(a.node)||!sa(a.node)||Y(a.node))return!0;var b=a.node.childNodes[a.offset-1],c=a.node.childNodes[a.offset];return b&&!L(b)||c&&!L(c)?!1:!0}function xa(a,b){for(;a;){if(b(a))return a;a=ta(a)}return null}function ya(a,b){for(;a;){if(b(a))return a;a=ua(a)}return null}function za(a){if(!J(a.node))return!1;var b=a.node.nodeValue.charAt(a.offset-1);return b&&" "!==b&&b!==Ab}function Aa(a,b,c,d){for(var e=a;e&&(c(e),!va(e,b));){var f=d&&a.node!==e.node&&b.node!==e.node;e=ua(e,f)}}function Ba(a,b){var c=ba(b,yb.eq(a));return c.map(ra).reverse()}function Ca(a,b){for(var c=a,d=0,e=b.length;e>d;d++)c=c.childNodes.length<=b[d]?c.childNodes[c.childNodes.length-1]:c.childNodes[b[d]];return c}function Da(a,b){var c=b&&b.isSkipPaddingBlankHTML,d=b&&b.isNotSplitEdgePoint,e=b&&b.isDiscardEmptySplits;if(e&&(c=!0),ma(a)&&(J(a.node)||d)){if(ka(a))return a.node;if(la(a))return a.node.nextSibling}if(J(a.node))return a.node.splitText(a.offset);var f=a.node.childNodes[a.offset],g=ia(a.node.cloneNode(!1),a.node);return ja(g,fa(f)),c||(Z(a.node),Z(g)),e&&(Y(a.node)&&Ia(a.node),Y(g))?(Ia(g),a.node.nextSibling):g}function Ea(a,b,c){var d=ba(b.node,yb.eq(a));return d.length?1===d.length?Da(b,c):d.reduce(function(a,d){return a===b.node&&(a=Da(b,c)),Da({node:d,offset:a?ra(a):X(d)},c)}):null}function Fa(a,b){var c,d,e=b?M:S,f=ba(a.node,e),g=zb.last(f)||a.node;e(g)?(c=f[f.length-2],d=g):(c=g,d=c.parentNode);var h=c&&Ea(c,a,{isSkipPaddingBlankHTML:b,isNotSplitEdgePoint:b});return h||d!==a.node||(h=a.node.childNodes[a.offset]),{rightNode:h,container:d}}function Ga(a){return document.createElement(a)}function Ha(a){return document.createTextNode(a)}function Ia(a,b){if(a&&a.parentNode){if(a.removeNode)return a.removeNode(b);var c=a.parentNode;if(!b){for(var d=[],e=0,f=a.childNodes.length;f>e;e++)d.push(a.childNodes[e]);for(var e=0,f=d.length;f>e;e++)c.insertBefore(d[e],a)}c.removeChild(a)}}function Ja(a,b){for(;a&&!G(a)&&b(a);){var c=a.parentNode;Ia(a),a=c}}function Ka(a,b){if(a.nodeName.toUpperCase()===b.toUpperCase())return a;var c=Ga(b);return a.style.cssText&&(c.style.cssText=a.style.cssText),ja(c,zb.from(a.childNodes)),ia(c,a),Ia(a),c}function La(a,b){var c=Lb(a[0])?a.val():a.html();return b?c.replace(/[\n\r]/g,""):c}function Ma(a,b){var c=La(a);if(b){var d=/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g;c=c.replace(d,function(a,b,c){c=c.toUpperCase();var d=/^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(c)&&!!b,e=/^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(c);return a+(d||e?"\n":"")}),c=c.trim()}return c}function Na(b){var c=a(b),d=c.offset(),e=c.outerHeight(!0);return{left:d.left,top:d.top+e}}function Oa(a,b){Object.keys(b).forEach(function(c){a.on(c,b[c])})}function Pa(a,b){Object.keys(b).forEach(function(c){a.off(c,b[c])})}function Qa(a){return a&&!J(a)&&zb.contains(a.classList,"note-styletag")}function Ra(a,b){var c,d,e=a.parentElement(),f=document.body.createTextRange(),g=zb.from(e.childNodes);for(c=0;c<g.length;c++)if(!Mb.isText(g[c])){if(f.moveToElementText(g[c]),f.compareEndPoints("StartToStart",a)>=0)break;d=g[c]}if(0!==c&&Mb.isText(g[c-1])){var h=document.body.createTextRange(),i=null;h.moveToElementText(d||e),h.collapse(!d),i=d?d.nextSibling:e.firstChild;var j=a.duplicate();j.setEndPoint("StartToStart",h);for(var k=j.text.replace(/[\r\n]/g,"").length;k>i.nodeValue.length&&i.nextSibling;)k-=i.nodeValue.length,i=i.nextSibling;i.nodeValue;b&&i.nextSibling&&Mb.isText(i.nextSibling)&&k===i.nodeValue.length&&(k-=i.nodeValue.length,i=i.nextSibling),e=i,c=k}return{cont:e,offset:c}}function Sa(a){var b=function(a,c){var d,e;if(Mb.isText(a)){var f=Mb.listPrev(a,yb.not(Mb.isText)),g=zb.last(f).previousSibling;d=g||a.parentNode,c+=zb.sum(zb.tail(f),Mb.nodeLength),e=!g}else{if(d=a.childNodes[c]||a,Mb.isText(d))return b(d,0);c=0,e=!1}return{node:d,collapseToStart:e,offset:c}},c=document.body.createTextRange(),d=b(a.node,a.offset);return c.moveToElementText(d.node),c.collapse(d.collapseToStart),c.moveStart("character",d.offset),c}function Ta(b){return a.Deferred(function(c){a.extend(new FileReader,{onload:function(a){var b=a.target.result;c.resolve(b)},onerror:function(a){c.reject(a)}}).readAsDataURL(b)}).promise()}function Ua(b){return a.Deferred(function(c){var d=a("<img>");d.one("load",function(){d.off("error abort"),c.resolve(d)}).one("error abort",function(){d.off("load").detach(),c.reject(d)}).css({display:"none"}).appendTo(document.body).attr("src",b)}).promise()}a=a&&a.hasOwnProperty("default")?a["default"]:a;var Va=function(){function b(a,b,c,d){this.markup=a,this.children=b,this.options=c,this.callback=d}return b.prototype.render=function(b){var c=a(this.markup);if(this.options&&this.options.contents&&c.html(this.options.contents),this.options&&this.options.className&&c.addClass(this.options.className),this.options&&this.options.data&&a.each(this.options.data,function(a,b){c.attr("data-"+a,b)}),this.options&&this.options.click&&c.on("click",this.options.click),this.children){var d=c.find(".note-children-container");this.children.forEach(function(a){a.render(d.length?d:c)})}return this.callback&&this.callback(c,this.options),this.options&&this.options.callback&&this.options.callback(c),b&&b.append(c),c},b}(),Wa={create:function(a,b){return function(){var c="object"==typeof arguments[1]?arguments[1]:arguments[0],d=Array.isArray(arguments[0])?arguments[0]:[];return c&&c.children&&(d=c.children),new Va(a,d,c,b)}}},Xa=Wa.create('<div class="note-editor note-frame panel panel-default"/>'),Ya=Wa.create('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'),Za=Wa.create('<div class="note-editing-area"/>'),$a=Wa.create('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'),_a=Wa.create('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'),ab=Wa.create(['<output class="note-status-output" aria-live="polite"/>','<div class="note-statusbar" role="status">','  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>','    <div class="note-icon-bar"/>',"  </div>","</div>"].join("")),bb=Wa.create('<div class="note-editor"/>'),cb=Wa.create(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>','<output class="note-status-output" aria-live="polite"/>'].join("")),db=Wa.create('<div class="note-btn-group btn-group">'),eb=Wa.create('<ul class="dropdown-menu" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a,e="object"==typeof a?a.option:void 0,f='data-value="'+c+'"',g=void 0!==e?' data-option="'+e+'"':"";return'<li role="listitem" aria-label="'+c+'"><a href="#" '+(f+g)+">"+d+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),fb=function(a,b){return a+" "+lb(b.icons.caret,"span")},gb=Wa.create('<ul class="dropdown-menu note-check" role="list">',function(a,b){var c=Array.isArray(b.items)?b.items.map(function(a){var c="string"==typeof a?a:a.value||"",d=b.template?b.template(a):a;return'<li role="listitem" aria-label="'+a+'"><a href="#" data-value="'+c+'">'+lb(b.checkClassName)+" "+d+"</a></li>"}).join(""):b.items;a.html(c).attr({"aria-label":b.title})}),hb=Wa.create('<div class="note-color-palette"/>',function(a,b){for(var c=[],d=0,e=b.colors.length;e>d;d++){for(var f=b.eventName,g=b.colors[d],h=b.colorsName[d],i=[],j=0,k=g.length;k>j;j++){var l=g[j],m=h[j];i.push(['<button type="button" class="note-color-btn"','style="background-color:',l,'" ','data-event="',f,'" ','data-value="',l,'" ','title="',m,'" ','aria-label="',m,'" ','data-toggle="button" tabindex="-1"></button>'].join(""))}c.push('<div class="note-color-row">'+i.join("")+"</div>")}a.html(c.join("")),b.tooltip&&a.find(".note-color-btn").tooltip({container:b.container,trigger:"hover",placement:"bottom"})}),ib=Wa.create('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>',function(a,b){b.fade&&a.addClass("fade"),a.attr({"aria-label":b.title}),a.html(['<div class="modal-dialog">','  <div class="modal-content">',b.title?'    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">'+b.title+"</h4>    </div>":"",'    <div class="modal-body">'+b.body+"</div>",b.footer?'    <div class="modal-footer">'+b.footer+"</div>":"","  </div>","</div>"].join(""))}),jb=Wa.create(['<div class="note-popover popover in">','  <div class="arrow"/>','  <div class="popover-content note-children-container"/>',"</div>"].join(""),function(a,b){var c="undefined"!=typeof b.direction?b.direction:"bottom";a.addClass(c),b.hideArrow&&a.find(".arrow").hide()}),kb=Wa.create('<div class="checkbox"></div>',function(a,b){a.html(["<label"+(b.id?' for="'+b.id+'"':"")+">",' <input role="checkbox" type="checkbox"'+(b.id?' id="'+b.id+'"':""),b.checked?" checked":"",' aria-checked="'+(b.checked?"true":"false")+'"/>',b.text?b.text:"","</label>"].join(""))}),lb=function(a,b){return b=b||"i","<"+b+' class="'+a+'"/>'},mb={editor:Xa,toolbar:Ya,editingArea:Za,codable:$a,editable:_a,statusbar:ab,airEditor:bb,airEditable:cb,buttonGroup:db,dropdown:eb,dropdownButtonContents:fb,dropdownCheck:gb,palette:hb,dialog:ib,popover:jb,checkbox:kb,icon:lb,options:{},button:function(b,c){return Wa.create('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">',function(b,c){c&&c.tooltip&&b.attr({title:c.tooltip,"aria-label":c.tooltip}).tooltip({container:void 0!==c.container?c.container:"body",trigger:"hover",placement:"bottom"}).on("click",function(b){a(b.currentTarget).tooltip("hide")})})(b,c)},toggleBtn:function(a,b){a.toggleClass("disabled",!b),a.attr("disabled",!b)},toggleBtnActive:function(a,b){a.toggleClass("active",b)},onDialogShown:function(a,b){a.one("shown.bs.modal",b)},onDialogHidden:function(a,b){a.one("hidden.bs.modal",b)},showDialog:function(a){a.modal("show")},hideDialog:function(a){a.modal("hide")},createLayout:function(a,b){var c=(b.airMode?mb.airEditor([mb.editingArea([mb.airEditable()])]):mb.editor([mb.toolbar(),mb.editingArea([mb.codable(),mb.editable()]),mb.statusbar()])).render();return c.insertAfter(a),{note:a,editor:c,toolbar:c.find(".note-toolbar"),editingArea:c.find(".note-editing-area"),
editable:c.find(".note-editable"),codable:c.find(".note-codable"),statusbar:c.find(".note-statusbar")}},removeLayout:function(a,b){a.html(b.editable.html()),b.editor.remove(),a.show()}};a.summernote=a.summernote||{lang:{}},a.extend(a.summernote.lang,{"en-US":{font:{bold:"Bold",italic:"Italic",underline:"Underline",clear:"Remove Font Style",height:"Line Height",name:"Font Family",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript",size:"Font Size"},image:{image:"Picture",insert:"Insert Image",resizeFull:"Resize full",resizeHalf:"Resize half",resizeQuarter:"Resize quarter",resizeNone:"Original size",floatLeft:"Float Left",floatRight:"Float Right",floatNone:"Remove float",shapeRounded:"Shape: Rounded",shapeCircle:"Shape: Circle",shapeThumbnail:"Shape: Thumbnail",shapeNone:"Shape: None",dragImageHere:"Drag image or text here",dropImage:"Drop image or Text",selectFromFiles:"Select from files",maximumFileSize:"Maximum file size",maximumFileSizeError:"Maximum file size exceeded.",url:"Image URL",remove:"Remove Image",original:"Original"},video:{video:"Video",videoLink:"Video Link",insert:"Insert Video",url:"Video URL",providers:"(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)"},link:{link:"Link",insert:"Insert Link",unlink:"Unlink",edit:"Edit",textToDisplay:"Text to display",url:"To what URL should this link go?",openInNewWindow:"Open in new window"},table:{table:"Table",addRowAbove:"Add row above",addRowBelow:"Add row below",addColLeft:"Add column left",addColRight:"Add column right",delRow:"Delete row",delCol:"Delete column",delTable:"Delete table"},hr:{insert:"Insert Horizontal Rule"},style:{style:"Style",p:"Normal",blockquote:"Quote",pre:"Code",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6"},lists:{unordered:"Unordered list",ordered:"Ordered list"},options:{help:"Help",fullscreen:"Full Screen",codeview:"Code View"},paragraph:{paragraph:"Paragraph",outdent:"Outdent",indent:"Indent",left:"Align left",center:"Align center",right:"Align right",justify:"Justify full"},color:{recent:"Recent Color",more:"More Color",background:"Background Color",foreground:"Foreground Color",transparent:"Transparent",setTransparent:"Set transparent",reset:"Reset",resetToDefault:"Reset to default",cpSelect:"Select"},shortcut:{shortcuts:"Keyboard shortcuts",close:"Close",textFormatting:"Text formatting",action:"Action",paragraphFormatting:"Paragraph formatting",documentStyle:"Document Style",extraKeys:"Extra keys"},help:{insertParagraph:"Insert Paragraph",undo:"Undoes the last command",redo:"Redoes the last command",tab:"Tab",untab:"Untab",bold:"Set a bold style",italic:"Set a italic style",underline:"Set a underline style",strikethrough:"Set a strikethrough style",removeFormat:"Clean a style",justifyLeft:"Set left align",justifyCenter:"Set center align",justifyRight:"Set right align",justifyFull:"Set full align",insertUnorderedList:"Toggle unordered list",insertOrderedList:"Toggle ordered list",outdent:"Outdent on current paragraph",indent:"Indent on current paragraph",formatPara:"Change current block's format as a paragraph(P tag)",formatH1:"Change current block's format as H1",formatH2:"Change current block's format as H2",formatH3:"Change current block's format as H3",formatH4:"Change current block's format as H4",formatH5:"Change current block's format as H5",formatH6:"Change current block's format as H6",insertHorizontalRule:"Insert horizontal rule","linkDialog.show":"Show Link Dialog"},history:{undo:"Undo",redo:"Redo"},specialChar:{specialChar:"SPECIAL CHARACTERS",select:"Select Special characters"}}});var nb,ob="function"==typeof define&&define.amd,pb=navigator.userAgent,qb=/MSIE|Trident/i.test(pb);if(qb){var rb=/MSIE (\d+[.]\d+)/.exec(pb);rb&&(nb=parseFloat(rb[1])),rb=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(pb),rb&&(nb=parseFloat(rb[1]))}var sb=/Edge\/\d+/.test(pb),tb=!!window.CodeMirror,ub="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,vb=qb||sb?"DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted":"input",wb={isMac:navigator.appVersion.indexOf("Mac")>-1,isMSIE:qb,isEdge:sb,isFF:!sb&&/firefox/i.test(pb),isPhantom:/PhantomJS/i.test(pb),isWebkit:!sb&&/webkit/i.test(pb),isChrome:!sb&&/chrome/i.test(pb),isSafari:!sb&&/safari/i.test(pb),browserVersion:nb,jqueryVersion:parseFloat(a.fn.jquery),isSupportAmd:ob,isSupportTouch:ub,hasCodeMirror:tb,isFontInstalled:b,isW3CRangeSupport:!!document.createRange,inputEventName:vb},xb=0,yb={eq:c,eq2:d,peq2:e,ok:f,fail:g,self:j,not:h,and:i,invoke:k,uniqueId:l,rect2bnd:m,invertObject:n,namespaceToCamel:o,debounce:p,isValidUrl:q},zb={head:r,last:s,initial:t,tail:u,prev:F,next:E,find:v,contains:x,all:w,sum:y,from:z,isEmpty:A,clusterBy:B,compact:C,unique:D},Ab=String.fromCharCode(160),Bb="\ufeff",Cb=I("PRE"),Db=I("LI"),Eb=I("TABLE"),Fb=I("DATA"),Gb=I("HR"),Hb=I("BLOCKQUOTE"),Ib=I("A"),Jb=I("BODY"),Kb=wb.isMSIE&&wb.browserVersion<11?"&nbsp;":"<br>",Lb=I("TEXTAREA"),Mb={NBSP_CHAR:Ab,ZERO_WIDTH_NBSP_CHAR:Bb,blank:Kb,emptyPara:"<p>"+Kb+"</p>",makePredByNodeName:I,isEditable:G,isControlSizing:H,isText:J,isElement:K,isVoid:L,isPara:M,isPurePara:O,isHeading:N,isInline:P,isBlock:yb.not(P),isBodyInline:U,isBody:Jb,isParaInline:T,isPre:Cb,isList:Q,isTable:Eb,isData:Fb,isCell:R,isBlockquote:Hb,isBodyContainer:S,isAnchor:Ib,isDiv:I("DIV"),isLi:Db,isBR:I("BR"),isSpan:I("SPAN"),isB:I("B"),isU:I("U"),isS:I("S"),isI:I("I"),isImg:I("IMG"),isTextarea:Lb,isEmpty:Y,isEmptyAnchor:yb.and(Ib,Y),isClosestSibling:V,withClosestSiblings:W,nodeLength:X,isLeftEdgePoint:ka,isRightEdgePoint:la,isEdgePoint:ma,isLeftEdgeOf:na,isRightEdgeOf:oa,isLeftEdgePointOf:pa,isRightEdgePointOf:qa,prevPoint:ta,nextPoint:ua,isSamePoint:va,isVisiblePoint:wa,prevPointUntil:xa,nextPointUntil:ya,isCharPoint:za,walkPoint:Aa,ancestor:_,singleChildAncestor:aa,listAncestor:ba,lastAncestor:ca,listNext:fa,listPrev:ea,listDescendant:ga,commonAncestor:da,wrap:ha,insertAfter:ia,appendChildNodes:ja,position:ra,hasChildren:sa,makeOffsetPath:Ba,fromOffsetPath:Ca,splitTree:Ea,splitPoint:Fa,create:Ga,createText:Ha,remove:Ia,removeWhile:Ja,replace:Ka,html:Ma,value:La,posFromPlaceholder:Na,attachEvents:Oa,detachEvents:Pa,isCustomStyleTag:Qa},Nb=function(){function b(b,c){this.ui=a.summernote.ui,this.$note=b,this.memos={},this.modules={},this.layoutInfo={},this.options=c,this.initialize()}return b.prototype.initialize=function(){return this.layoutInfo=this.ui.createLayout(this.$note,this.options),this._initialize(),this.$note.hide(),this},b.prototype.destroy=function(){this._destroy(),this.$note.removeData("summernote"),this.ui.removeLayout(this.$note,this.layoutInfo)},b.prototype.reset=function(){var a=this.isDisabled();this.code(Mb.emptyPara),this._destroy(),this._initialize(),a&&this.disable()},b.prototype._initialize=function(){var b=this,c=a.extend({},this.options.buttons);Object.keys(c).forEach(function(a){b.memo("button."+a,c[a])});var d=a.extend({},this.options.modules,a.summernote.plugins||{});Object.keys(d).forEach(function(a){b.module(a,d[a],!0)}),Object.keys(this.modules).forEach(function(a){b.initializeModule(a)})},b.prototype._destroy=function(){var a=this;Object.keys(this.modules).reverse().forEach(function(b){a.removeModule(b)}),Object.keys(this.memos).forEach(function(b){a.removeMemo(b)}),this.triggerEvent("destroy",this)},b.prototype.code=function(a){var b=this.invoke("codeview.isActivated");return void 0===a?(this.invoke("codeview.sync"),b?this.layoutInfo.codable.val():this.layoutInfo.editable.html()):(b?this.layoutInfo.codable.val(a):this.layoutInfo.editable.html(a),this.$note.val(a),this.triggerEvent("change",a,this.layoutInfo.editable),void 0)},b.prototype.isDisabled=function(){return"false"===this.layoutInfo.editable.attr("contenteditable")},b.prototype.enable=function(){this.layoutInfo.editable.attr("contenteditable",!0),this.invoke("toolbar.activate",!0),this.triggerEvent("disable",!1)},b.prototype.disable=function(){this.invoke("codeview.isActivated")&&this.invoke("codeview.deactivate"),this.layoutInfo.editable.attr("contenteditable",!1),this.invoke("toolbar.deactivate",!0),this.triggerEvent("disable",!0)},b.prototype.triggerEvent=function(){var a=zb.head(arguments),b=zb.tail(zb.from(arguments)),c=this.options.callbacks[yb.namespaceToCamel(a,"on")];c&&c.apply(this.$note[0],b),this.$note.trigger("summernote."+a,b)},b.prototype.initializeModule=function(a){var b=this.modules[a];b.shouldInitialize=b.shouldInitialize||yb.ok,b.shouldInitialize()&&(b.initialize&&b.initialize(),b.events&&Mb.attachEvents(this.$note,b.events))},b.prototype.module=function(a,b,c){return 1===arguments.length?this.modules[a]:(this.modules[a]=new b(this),void(c||this.initializeModule(a)))},b.prototype.removeModule=function(a){var b=this.modules[a];b.shouldInitialize()&&(b.events&&Mb.detachEvents(this.$note,b.events),b.destroy&&b.destroy()),delete this.modules[a]},b.prototype.memo=function(a,b){return 1===arguments.length?this.memos[a]:void(this.memos[a]=b)},b.prototype.removeMemo=function(a){this.memos[a]&&this.memos[a].destroy&&this.memos[a].destroy(),delete this.memos[a]},b.prototype.createInvokeHandlerAndUpdateState=function(a,b){var c=this;return function(d){c.createInvokeHandler(a,b)(d),c.invoke("buttons.updateCurrentStyle")}},b.prototype.createInvokeHandler=function(b,c){var d=this;return function(e){e.preventDefault();var f=a(e.target);d.invoke(b,c||f.closest("[data-value]").data("value"),f)}},b.prototype.invoke=function(){var a=zb.head(arguments),b=zb.tail(zb.from(arguments)),c=a.split("."),d=c.length>1,e=d&&zb.head(c),f=d?zb.last(c):zb.head(c),g=this.modules[e||"editor"];return!e&&this[f]?this[f].apply(this,b):g&&g[f]&&g.shouldInitialize()?g[f].apply(g,b):void 0},b}();a.fn.extend({summernote:function(){var b=a.type(zb.head(arguments)),c="string"===b,d="object"===b,e=a.extend({},a.summernote.options,d?zb.head(arguments):{});e.langInfo=a.extend(!0,{},a.summernote.lang["en-US"],a.summernote.lang[e.lang]),e.icons=a.extend(!0,{},a.summernote.options.icons,e.icons),e.tooltip="auto"===e.tooltip?!wb.isSupportTouch:e.tooltip,this.each(function(b,c){var d=a(c);if(!d.data("summernote")){var f=new Nb(d,e);d.data("summernote",f),d.data("summernote").triggerEvent("init",f.layoutInfo)}});var f=this.first();if(f.length){var g=f.data("summernote");if(c)return g.invoke.apply(g,zb.from(arguments));e.focus&&g.invoke("editor.focus")}return this}});var Ob=function(){function b(a,b,c,d){this.sc=a,this.so=b,this.ec=c,this.eo=d,this.isOnEditable=this.makeIsOn(Mb.isEditable),this.isOnList=this.makeIsOn(Mb.isList),this.isOnAnchor=this.makeIsOn(Mb.isAnchor),this.isOnCell=this.makeIsOn(Mb.isCell),this.isOnData=this.makeIsOn(Mb.isData)}return b.prototype.nativeRange=function(){if(wb.isW3CRangeSupport){var a=document.createRange();return a.setStart(this.sc,this.sc.data&&this.so>this.sc.data.length?0:this.so),a.setEnd(this.ec,this.sc.data?Math.min(this.eo,this.sc.data.length):this.eo),a}var b=Sa({node:this.sc,offset:this.so});return b.setEndPoint("EndToEnd",Sa({node:this.ec,offset:this.eo})),b},b.prototype.getPoints=function(){return{sc:this.sc,so:this.so,ec:this.ec,eo:this.eo}},b.prototype.getStartPoint=function(){return{node:this.sc,offset:this.so}},b.prototype.getEndPoint=function(){return{node:this.ec,offset:this.eo}},b.prototype.select=function(){var a=this.nativeRange();if(wb.isW3CRangeSupport){var b=document.getSelection();b.rangeCount>0&&b.removeAllRanges(),b.addRange(a)}else a.select();return this},b.prototype.scrollIntoView=function(b){var c=a(b).height();return b.scrollTop+c<this.sc.offsetTop&&(b.scrollTop+=Math.abs(b.scrollTop+c-this.sc.offsetTop)),this},b.prototype.normalize=function(){var a=function(a,b){if(Mb.isVisiblePoint(a)&&(!Mb.isEdgePoint(a)||Mb.isRightEdgePoint(a)&&!b||Mb.isLeftEdgePoint(a)&&b||Mb.isRightEdgePoint(a)&&b&&Mb.isVoid(a.node.nextSibling)||Mb.isLeftEdgePoint(a)&&!b&&Mb.isVoid(a.node.previousSibling)||Mb.isBlock(a.node)&&Mb.isEmpty(a.node)))return a;var c=Mb.ancestor(a.node,Mb.isBlock);if((Mb.isLeftEdgePointOf(a,c)||Mb.isVoid(Mb.prevPoint(a).node))&&!b||(Mb.isRightEdgePointOf(a,c)||Mb.isVoid(Mb.nextPoint(a).node))&&b){if(Mb.isVisiblePoint(a))return a;b=!b}var d=b?Mb.nextPointUntil(Mb.nextPoint(a),Mb.isVisiblePoint):Mb.prevPointUntil(Mb.prevPoint(a),Mb.isVisiblePoint);return d||a},c=a(this.getEndPoint(),!1),d=this.isCollapsed()?c:a(this.getStartPoint(),!0);return new b(d.node,d.offset,c.node,c.offset)},b.prototype.nodes=function(a,b){a=a||yb.ok;var c=b&&b.includeAncestor,d=b&&b.fullyContains,e=this.getStartPoint(),f=this.getEndPoint(),g=[],h=[];return Mb.walkPoint(e,f,function(b){if(!Mb.isEditable(b.node)){var e;d?(Mb.isLeftEdgePoint(b)&&h.push(b.node),Mb.isRightEdgePoint(b)&&zb.contains(h,b.node)&&(e=b.node)):e=c?Mb.ancestor(b.node,a):b.node,e&&a(e)&&g.push(e)}},!0),zb.unique(g)},b.prototype.commonAncestor=function(){return Mb.commonAncestor(this.sc,this.ec)},b.prototype.expand=function(a){var c=Mb.ancestor(this.sc,a),d=Mb.ancestor(this.ec,a);if(!c&&!d)return new b(this.sc,this.so,this.ec,this.eo);var e=this.getPoints();return c&&(e.sc=c,e.so=0),d&&(e.ec=d,e.eo=Mb.nodeLength(d)),new b(e.sc,e.so,e.ec,e.eo)},b.prototype.collapse=function(a){return a?new b(this.sc,this.so,this.sc,this.so):new b(this.ec,this.eo,this.ec,this.eo)},b.prototype.splitText=function(){var a=this.sc===this.ec,c=this.getPoints();return Mb.isText(this.ec)&&!Mb.isEdgePoint(this.getEndPoint())&&this.ec.splitText(this.eo),Mb.isText(this.sc)&&!Mb.isEdgePoint(this.getStartPoint())&&(c.sc=this.sc.splitText(this.so),c.so=0,a&&(c.ec=c.sc,c.eo=this.eo-this.so)),new b(c.sc,c.so,c.ec,c.eo)},b.prototype.deleteContents=function(){if(this.isCollapsed())return this;var c=this.splitText(),d=c.nodes(null,{fullyContains:!0}),e=Mb.prevPointUntil(c.getStartPoint(),function(a){return!zb.contains(d,a.node)}),f=[];return a.each(d,function(a,b){var c=b.parentNode;e.node!==c&&1===Mb.nodeLength(c)&&f.push(c),Mb.remove(b,!1)}),a.each(f,function(a,b){Mb.remove(b,!1)}),new b(e.node,e.offset,e.node,e.offset).normalize()},b.prototype.makeIsOn=function(a){return function(){var b=Mb.ancestor(this.sc,a);return!!b&&b===Mb.ancestor(this.ec,a)}},b.prototype.isLeftEdgeOf=function(a){if(!Mb.isLeftEdgePoint(this.getStartPoint()))return!1;var b=Mb.ancestor(this.sc,a);return b&&Mb.isLeftEdgeOf(this.sc,b)},b.prototype.isCollapsed=function(){return this.sc===this.ec&&this.so===this.eo},b.prototype.wrapBodyInlineWithPara=function(){if(Mb.isBodyContainer(this.sc)&&Mb.isEmpty(this.sc))return this.sc.innerHTML=Mb.emptyPara,new b(this.sc.firstChild,0,this.sc.firstChild,0);var a=this.normalize();if(Mb.isParaInline(this.sc)||Mb.isPara(this.sc))return a;var c;if(Mb.isInline(a.sc)){var d=Mb.listAncestor(a.sc,yb.not(Mb.isInline));c=zb.last(d),Mb.isInline(c)||(c=d[d.length-2]||a.sc.childNodes[a.so])}else c=a.sc.childNodes[a.so>0?a.so-1:0];var e=Mb.listPrev(c,Mb.isParaInline).reverse();if(e=e.concat(Mb.listNext(c.nextSibling,Mb.isParaInline)),e.length){var f=Mb.wrap(zb.head(e),"p");Mb.appendChildNodes(f,zb.tail(e))}return this.normalize()},b.prototype.insertNode=function(a){var b=this.wrapBodyInlineWithPara().deleteContents(),c=Mb.splitPoint(b.getStartPoint(),Mb.isInline(a));return c.rightNode?c.rightNode.parentNode.insertBefore(a,c.rightNode):c.container.appendChild(a),a},b.prototype.pasteHTML=function(b){var c=a("<div></div>").html(b)[0],d=zb.from(c.childNodes),e=this.wrapBodyInlineWithPara().deleteContents();return e.so>0&&(d=d.reverse()),d=d.map(function(a){return e.insertNode(a)}),e.so>0&&(d=d.reverse()),d},b.prototype.toString=function(){var a=this.nativeRange();return wb.isW3CRangeSupport?a.toString():a.text},b.prototype.getWordRange=function(a){var c=this.getEndPoint();if(!Mb.isCharPoint(c))return this;var d=Mb.prevPointUntil(c,function(a){return!Mb.isCharPoint(a)});return a&&(c=Mb.nextPointUntil(c,function(a){return!Mb.isCharPoint(a)})),new b(d.node,d.offset,c.node,c.offset)},b.prototype.bookmark=function(a){return{s:{path:Mb.makeOffsetPath(a,this.sc),offset:this.so},e:{path:Mb.makeOffsetPath(a,this.ec),offset:this.eo}}},b.prototype.paraBookmark=function(a){return{s:{path:zb.tail(Mb.makeOffsetPath(zb.head(a),this.sc)),offset:this.so},e:{path:zb.tail(Mb.makeOffsetPath(zb.last(a),this.ec)),offset:this.eo}}},b.prototype.getClientRects=function(){var a=this.nativeRange();return a.getClientRects()},b}(),Pb={create:function(a,b,c,d){if(4===arguments.length)return new Ob(a,b,c,d);if(2===arguments.length)return c=a,d=b,new Ob(a,b,c,d);var e=this.createFromSelection();return e||1!==arguments.length?e:(e=this.createFromNode(arguments[0]),e.collapse(Mb.emptyPara===arguments[0].innerHTML))},createFromSelection:function(){var a,b,c,d;if(wb.isW3CRangeSupport){var e=document.getSelection();if(!e||0===e.rangeCount)return null;if(Mb.isBody(e.anchorNode))return null;var f=e.getRangeAt(0);a=f.startContainer,b=f.startOffset,c=f.endContainer,d=f.endOffset}else{var g=document.selection.createRange(),h=g.duplicate();h.collapse(!1);var i=g;i.collapse(!0);var j=Ra(i,!0),k=Ra(h,!1);Mb.isText(j.node)&&Mb.isLeftEdgePoint(j)&&Mb.isTextNode(k.node)&&Mb.isRightEdgePoint(k)&&k.node.nextSibling===j.node&&(j=k),a=j.cont,b=j.offset,c=k.cont,d=k.offset}return new Ob(a,b,c,d)},createFromNode:function(a){var b=a,c=0,d=a,e=Mb.nodeLength(d);return Mb.isVoid(b)&&(c=Mb.listPrev(b).length-1,b=b.parentNode),Mb.isBR(d)?(e=Mb.listPrev(d).length-1,d=d.parentNode):Mb.isVoid(d)&&(e=Mb.listPrev(d).length,d=d.parentNode),this.create(b,c,d,e)},createFromNodeBefore:function(a){return this.createFromNode(a).collapse(!0)},createFromNodeAfter:function(a){return this.createFromNode(a).collapse()},createFromBookmark:function(a,b){var c=Mb.fromOffsetPath(a,b.s.path),d=b.s.offset,e=Mb.fromOffsetPath(a,b.e.path),f=b.e.offset;return new Ob(c,d,e,f)},createFromParaBookmark:function(a,b){var c=a.s.offset,d=a.e.offset,e=Mb.fromOffsetPath(zb.head(b),a.s.path),f=Mb.fromOffsetPath(zb.last(b),a.e.path);return new Ob(e,c,f,d)}},Qb={BACKSPACE:8,TAB:9,ENTER:13,SPACE:32,DELETE:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM0:48,NUM1:49,NUM2:50,NUM3:51,NUM4:52,NUM5:53,NUM6:54,NUM7:55,NUM8:56,B:66,E:69,I:73,J:74,K:75,L:76,R:82,S:83,U:85,V:86,Y:89,Z:90,SLASH:191,LEFTBRACKET:219,BACKSLASH:220,RIGHTBRACKET:221},Rb={isEdit:function(a){return zb.contains([Qb.BACKSPACE,Qb.TAB,Qb.ENTER,Qb.SPACE,Qb.DELETE],a)},isMove:function(a){return zb.contains([Qb.LEFT,Qb.UP,Qb.RIGHT,Qb.DOWN],a)},nameFromCode:yb.invertObject(Qb),code:Qb},Sb=function(){function a(a){this.stack=[],this.stackOffset=-1,this.$editable=a,this.editable=a[0]}return a.prototype.makeSnapshot=function(){var a=Pb.create(this.editable),b={s:{path:[],offset:0},e:{path:[],offset:0}};return{contents:this.$editable.html(),bookmark:a&&a.isOnEditable()?a.bookmark(this.editable):b}},a.prototype.applySnapshot=function(a){null!==a.contents&&this.$editable.html(a.contents),null!==a.bookmark&&Pb.createFromBookmark(this.editable,a.bookmark).select()},a.prototype.rewind=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset=0,this.applySnapshot(this.stack[this.stackOffset])},a.prototype.commit=function(){this.stack=[],this.stackOffset=-1,this.recordUndo()},a.prototype.reset=function(){this.stack=[],this.stackOffset=-1,this.$editable.html(""),this.recordUndo()},a.prototype.undo=function(){this.$editable.html()!==this.stack[this.stackOffset].contents&&this.recordUndo(),this.stackOffset>0&&(this.stackOffset--,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.redo=function(){this.stack.length-1>this.stackOffset&&(this.stackOffset++,this.applySnapshot(this.stack[this.stackOffset]))},a.prototype.recordUndo=function(){this.stackOffset++,this.stack.length>this.stackOffset&&(this.stack=this.stack.slice(0,this.stackOffset)),this.stack.push(this.makeSnapshot())},a}(),Tb=function(){function b(){}return b.prototype.jQueryCSS=function(b,c){if(wb.jqueryVersion<1.9){var d={};return a.each(c,function(a,c){d[c]=b.css(c)}),d}return b.css(c)},b.prototype.fromNode=function(a){var b=["font-family","font-size","text-align","list-style-type","line-height"],c=this.jQueryCSS(a,b)||{};return c["font-size"]=parseInt(c["font-size"],10),c},b.prototype.stylePara=function(b,c){a.each(b.nodes(Mb.isPara,{includeAncestor:!0}),function(b,d){a(d).css(c)})},b.prototype.styleNodes=function(b,c){b=b.splitText();var d=c&&c.nodeName||"SPAN",e=!(!c||!c.expandClosestSibling),f=!(!c||!c.onlyPartialContains);if(b.isCollapsed())return[b.insertNode(Mb.create(d))];var g=Mb.makePredByNodeName(d),h=b.nodes(Mb.isText,{fullyContains:!0}).map(function(a){return Mb.singleChildAncestor(a,g)||Mb.wrap(a,d)});if(e){if(f){var i=b.nodes();g=yb.and(g,function(a){return zb.contains(i,a)})}return h.map(function(b){var c=Mb.withClosestSiblings(b,g),d=zb.head(c),e=zb.tail(c);return a.each(e,function(a,b){Mb.appendChildNodes(d,b.childNodes),Mb.remove(b)}),zb.head(c)})}return h},b.prototype.current=function(b){var c=a(Mb.isElement(b.sc)?b.sc:b.sc.parentNode),d=this.fromNode(c);try{d=a.extend(d,{"font-bold":document.queryCommandState("bold")?"bold":"normal","font-italic":document.queryCommandState("italic")?"italic":"normal","font-underline":document.queryCommandState("underline")?"underline":"normal","font-subscript":document.queryCommandState("subscript")?"subscript":"normal","font-superscript":document.queryCommandState("superscript")?"superscript":"normal","font-strikethrough":document.queryCommandState("strikethrough")?"strikethrough":"normal","font-family":document.queryCommandValue("fontname")||d["font-family"]})}catch(e){}if(b.isOnList()){var f=["circle","disc","disc-leading-zero","square"],g=f.indexOf(d["list-style-type"])>-1;d["list-style"]=g?"unordered":"ordered"}else d["list-style"]="none";var h=Mb.ancestor(b.sc,Mb.isPara);if(h&&h.style["line-height"])d["line-height"]=h.style.lineHeight;else{var i=parseInt(d["line-height"],10)/parseInt(d["font-size"],10);d["line-height"]=i.toFixed(1)}return d.anchor=b.isOnAnchor()&&Mb.ancestor(b.sc,Mb.isAnchor),d.ancestors=Mb.listAncestor(b.sc,Mb.isEditable),d.range=b,d},b}(),Ub=function(){function b(){}return b.prototype.insertOrderedList=function(a){this.toggleList("OL",a)},b.prototype.insertUnorderedList=function(a){this.toggleList("UL",a)},b.prototype.indent=function(b){var c=this,d=Pb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Mb.isPara,{includeAncestor:!0}),f=zb.clusterBy(e,yb.peq2("parentNode"));a.each(f,function(b,d){var e=zb.head(d);if(Mb.isLi(e)){var f=c.findList(e.previousSibling);f?d.map(function(a){return f.appendChild(a)}):(c.wrapList(d,e.parentNode.nodeName),d.map(function(a){return a.parentNode}).map(function(a){return c.appendToPrevious(a)}))}else a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return(parseInt(b,10)||0)+25})})}),d.select()},b.prototype.outdent=function(b){var c=this,d=Pb.create(b).wrapBodyInlineWithPara(),e=d.nodes(Mb.isPara,{includeAncestor:!0}),f=zb.clusterBy(e,yb.peq2("parentNode"));a.each(f,function(b,d){var e=zb.head(d);Mb.isLi(e)?c.releaseList([d]):a.each(d,function(b,c){a(c).css("marginLeft",function(a,b){return b=parseInt(b,10)||0,b>25?b-25:""})})}),d.select()},b.prototype.toggleList=function(b,c){var d=this,e=Pb.create(c).wrapBodyInlineWithPara(),f=e.nodes(Mb.isPara,{includeAncestor:!0}),g=e.paraBookmark(f),h=zb.clusterBy(f,yb.peq2("parentNode"));if(zb.find(f,Mb.isPurePara)){var i=[];a.each(h,function(a,c){i=i.concat(d.wrapList(c,b))}),f=i}else{var j=e.nodes(Mb.isList,{includeAncestor:!0}).filter(function(c){return!a.nodeName(c,b)});j.length?a.each(j,function(a,c){Mb.replace(c,b)}):f=this.releaseList(h,!0)}Pb.createFromParaBookmark(g,f).select()},b.prototype.wrapList=function(a,b){var c=zb.head(a),d=zb.last(a),e=Mb.isList(c.previousSibling)&&c.previousSibling,f=Mb.isList(d.nextSibling)&&d.nextSibling,g=e||Mb.insertAfter(Mb.create(b||"UL"),d);return a=a.map(function(a){return Mb.isPurePara(a)?Mb.replace(a,"LI"):a}),Mb.appendChildNodes(g,a),f&&(Mb.appendChildNodes(g,zb.from(f.childNodes)),Mb.remove(f)),a},b.prototype.releaseList=function(b,c){var d=this,e=[];return a.each(b,function(b,f){var g=zb.head(f),h=zb.last(f),i=c?Mb.lastAncestor(g,Mb.isList):g.parentNode,j=i.parentNode;if("LI"===i.parentNode.nodeName)f.map(function(a){var b=d.findNextSiblings(a);j.nextSibling?j.parentNode.insertBefore(a,j.nextSibling):j.parentNode.appendChild(a),b.length&&(d.wrapList(b,i.nodeName),a.appendChild(b[0].parentNode))}),0===i.children.length&&j.removeChild(i),0===j.childNodes.length&&j.parentNode.removeChild(j);else{var k=i.childNodes.length>1?Mb.splitTree(i,{node:h.parentNode,offset:Mb.position(h)+1},{isSkipPaddingBlankHTML:!0}):null,l=Mb.splitTree(i,{node:g.parentNode,offset:Mb.position(g)},{isSkipPaddingBlankHTML:!0});f=c?Mb.listDescendant(l,Mb.isLi):zb.from(l.childNodes).filter(Mb.isLi),(c||!Mb.isList(i.parentNode))&&(f=f.map(function(a){return Mb.replace(a,"P")})),a.each(zb.from(f).reverse(),function(a,b){Mb.insertAfter(b,i)});var m=zb.compact([i,l,k]);a.each(m,function(b,c){var d=[c].concat(Mb.listDescendant(c,Mb.isList));a.each(d.reverse(),function(a,b){Mb.nodeLength(b)||Mb.remove(b,!0)})})}e=e.concat(f)}),e},b.prototype.appendToPrevious=function(a){return a.previousSibling?Mb.appendChildNodes(a.previousSibling,[a]):this.wrapList([a],"LI")},b.prototype.findList=function(a){return a?zb.find(a.children,function(a){return["OL","UL"].indexOf(a.nodeName)>-1}):null},b.prototype.findNextSiblings=function(a){for(var b=[];a.nextSibling;)b.push(a.nextSibling),a=a.nextSibling;return b},b}(),Vb=function(){function b(a){this.bullet=new Ub,this.options=a.options}return b.prototype.insertTab=function(a,b){var c=Mb.createText(new Array(b+1).join(Mb.NBSP_CHAR));a=a.deleteContents(),a.insertNode(c,!0),a=Pb.create(c,b),a.select()},b.prototype.insertParagraph=function(b,c){c=c||Pb.create(b),c=c.deleteContents(),c=c.wrapBodyInlineWithPara();var d,e=Mb.ancestor(c.sc,Mb.isPara);if(e){if(Mb.isEmpty(e)&&Mb.isLi(e))return void this.bullet.toggleList(e.parentNode.nodeName);var f=null;if(1===this.options.blockquoteBreakingLevel?f=Mb.ancestor(e,Mb.isBlockquote):2===this.options.blockquoteBreakingLevel&&(f=Mb.lastAncestor(e,Mb.isBlockquote)),f){d=a(Mb.emptyPara)[0],Mb.isRightEdgePoint(c.getStartPoint())&&Mb.isBR(c.sc.nextSibling)&&a(c.sc.nextSibling).remove();var g=Mb.splitTree(f,c.getStartPoint(),{isDiscardEmptySplits:!0});g?g.parentNode.insertBefore(d,g):Mb.insertAfter(d,f)}else{d=Mb.splitTree(e,c.getStartPoint());var h=Mb.listDescendant(e,Mb.isEmptyAnchor);h=h.concat(Mb.listDescendant(d,Mb.isEmptyAnchor)),a.each(h,function(a,b){Mb.remove(b)}),(Mb.isHeading(d)||Mb.isPre(d)||Mb.isCustomStyleTag(d))&&Mb.isEmpty(d)&&(d=Mb.replace(d,"p"))}}else{var i=c.sc.childNodes[c.so];d=a(Mb.emptyPara)[0],i?c.sc.insertBefore(d,i):c.sc.appendChild(d)}Pb.create(d,0).normalize().select().scrollIntoView(b)},b}(),Wb=function(a,b,c,d){function e(){return!a||!a.tagName||"td"!==a.tagName.toLowerCase()&&"th"!==a.tagName.toLowerCase()?void console.error("Impossible to identify start Cell point.",a):(o.colPos=a.cellIndex,a.parentElement&&a.parentElement.tagName&&"tr"===a.parentElement.tagName.toLowerCase()?void(o.rowPos=a.parentElement.rowIndex):void console.error("Impossible to identify start Row point.",a))}function f(a,b,c,d,e,f,g){var h={baseRow:c,baseCell:d,isRowSpan:e,isColSpan:f,isVirtual:g};p[a]||(p[a]=[]),p[a][b]=h}function g(a,b,c,d){return{baseCell:a.baseCell,action:b,virtualTable:{rowIndex:c,cellIndex:d}}}function h(a,b){if(!p[a])return b;if(!p[a][b])return b;for(var c=b;p[a][c];)if(c++,!p[a][c])return c}function i(a,b){var c=h(a.rowIndex,b.cellIndex),d=b.colSpan>1,e=b.rowSpan>1,g=a.rowIndex===o.rowPos&&b.cellIndex===o.colPos;f(a.rowIndex,c,a,b,e,d,!1);var i=b.attributes.rowSpan?parseInt(b.attributes.rowSpan.value,10):0;if(i>1)for(var k=1;i>k;k++){var l=a.rowIndex+k;j(l,c,b,g),f(l,c,a,b,!0,d,!0)}var m=b.attributes.colSpan?parseInt(b.attributes.colSpan.value,10):0;if(m>1)for(var n=1;m>n;n++){var p=h(a.rowIndex,c+n);j(a.rowIndex,p,b,g),f(a.rowIndex,p,a,b,e,!0,!0)}}function j(a,b,c,d){a===o.rowPos&&o.colPos>=c.cellIndex&&c.cellIndex<=b&&!d&&o.colPos++}function k(){for(var a=d.rows,b=0;b<a.length;b++)for(var c=a[b].cells,e=0;e<c.length;e++)i(a[b],c[e])}function l(a){switch(b){case Wb.where.Column:if(a.isColSpan)return Wb.resultAction.SubtractSpanCount;break;case Wb.where.Row:if(!a.isVirtual&&a.isRowSpan)return Wb.resultAction.AddCell;if(a.isRowSpan)return Wb.resultAction.SubtractSpanCount}return Wb.resultAction.RemoveCell}function m(a){switch(b){case Wb.where.Column:if(a.isColSpan)return Wb.resultAction.SumSpanCount;if(a.isRowSpan&&a.isVirtual)return Wb.resultAction.Ignore;break;case Wb.where.Row:if(a.isRowSpan)return Wb.resultAction.SumSpanCount;if(a.isColSpan&&a.isVirtual)return Wb.resultAction.Ignore}return Wb.resultAction.AddCell}function n(){e(),k()}var o={colPos:0,rowPos:0},p=[],q=[];this.getActionList=function(){for(var a=b===Wb.where.Row?o.rowPos:-1,d=b===Wb.where.Column?o.colPos:-1,e=0,f=!0;f;){var h=a>=0?a:e,i=d>=0?d:e,j=p[h];if(!j)return f=!1,q;var k=j[i];if(!k)return f=!1,q;var n=Wb.resultAction.Ignore;switch(c){case Wb.requestAction.Add:n=m(k);break;case Wb.requestAction.Delete:n=l(k)}q.push(g(k,n,h,i)),e++}return q},n()};Wb.where={Row:0,Column:1},Wb.requestAction={Add:0,Delete:1},Wb.resultAction={Ignore:0,SubtractSpanCount:1,RemoveCell:2,AddCell:3,SumSpanCount:4};var Xb,Yb=function(){function b(){}return b.prototype.tab=function(a,b){var c=Mb.ancestor(a.commonAncestor(),Mb.isCell),d=Mb.ancestor(c,Mb.isTable),e=Mb.listDescendant(d,Mb.isCell),f=zb[b?"prev":"next"](e,c);f&&Pb.create(f,0).select()},b.prototype.addRow=function(b,c){for(var d=Mb.ancestor(b.commonAncestor(),Mb.isCell),e=a(d).closest("tr"),f=this.recoverAttributes(e),g=a("<tr"+f+"></tr>"),h=new Wb(d,Wb.where.Row,Wb.requestAction.Add,a(e).closest("table")[0]),i=h.getActionList(),j=0;j<i.length;j++){var k=i[j],l=this.recoverAttributes(k.baseCell);switch(k.action){case Wb.resultAction.AddCell:g.append("<td"+l+">"+Mb.blank+"</td>");break;case Wb.resultAction.SumSpanCount:if("top"===c){var m=k.baseCell.parent,n=(m?k.baseCell.closest("tr").rowIndex:0)<=e[0].rowIndex;if(n){var o=a("<div></div>").append(a("<td"+l+">"+Mb.blank+"</td>").removeAttr("rowspan")).html();g.append(o);break}}var p=parseInt(k.baseCell.rowSpan,10);p++,k.baseCell.setAttribute("rowSpan",p)}}if("top"===c)e.before(g);else{var q=d.rowSpan>1;if(q){var r=e[0].rowIndex+(d.rowSpan-2);return void a(a(e).parent().find("tr")[r]).after(a(g))}e.after(g)}},b.prototype.addCol=function(b,c){var d=Mb.ancestor(b.commonAncestor(),Mb.isCell),e=a(d).closest("tr"),f=a(e).siblings();f.push(e);for(var g=new Wb(d,Wb.where.Column,Wb.requestAction.Add,a(e).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++){var j=h[i],k=this.recoverAttributes(j.baseCell);switch(j.action){case Wb.resultAction.AddCell:"right"===c?a(j.baseCell).after("<td"+k+">"+Mb.blank+"</td>"):a(j.baseCell).before("<td"+k+">"+Mb.blank+"</td>");break;case Wb.resultAction.SumSpanCount:if("right"===c){var l=parseInt(j.baseCell.colSpan,10);l++,j.baseCell.setAttribute("colSpan",l)}else a(j.baseCell).before("<td"+k+">"+Mb.blank+"</td>")}}},b.prototype.recoverAttributes=function(a){var b="";if(!a)return b;for(var c=a.attributes||[],d=0;d<c.length;d++)"id"!==c[d].name.toLowerCase()&&c[d].specified&&(b+=" "+c[d].name+"='"+c[d].value+"'");return b},b.prototype.deleteRow=function(b){for(var c=Mb.ancestor(b.commonAncestor(),Mb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=d[0].rowIndex,g=new Wb(c,Wb.where.Row,Wb.requestAction.Delete,a(d).closest("table")[0]),h=g.getActionList(),i=0;i<h.length;i++)if(h[i]){var j=h[i].baseCell,k=h[i].virtualTable,l=j.rowSpan&&j.rowSpan>1,m=l?parseInt(j.rowSpan,10):0;switch(h[i].action){case Wb.resultAction.Ignore:continue;case Wb.resultAction.AddCell:var n=d.next("tr")[0];if(!n)continue;var o=d[0].cells[e];l&&(m>2?(m--,n.insertBefore(o,n.cells[e]),n.cells[e].setAttribute("rowSpan",m),n.cells[e].innerHTML=""):2===m&&(n.insertBefore(o,n.cells[e]),n.cells[e].removeAttribute("rowSpan"),n.cells[e].innerHTML=""));continue;case Wb.resultAction.SubtractSpanCount:l&&(m>2?(m--,j.setAttribute("rowSpan",m),
k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")):2===m&&(j.removeAttribute("rowSpan"),k.rowIndex!==f&&j.cellIndex===e&&(j.innerHTML="")));continue;case Wb.resultAction.RemoveCell:continue}}d.remove()},b.prototype.deleteCol=function(b){for(var c=Mb.ancestor(b.commonAncestor(),Mb.isCell),d=a(c).closest("tr"),e=d.children("td, th").index(a(c)),f=new Wb(c,Wb.where.Column,Wb.requestAction.Delete,a(d).closest("table")[0]),g=f.getActionList(),h=0;h<g.length;h++)if(g[h])switch(g[h].action){case Wb.resultAction.Ignore:continue;case Wb.resultAction.SubtractSpanCount:var i=g[h].baseCell,j=i.colSpan&&i.colSpan>1;if(j){var k=i.colSpan?parseInt(i.colSpan,10):0;k>2?(k--,i.setAttribute("colSpan",k),i.cellIndex===e&&(i.innerHTML="")):2===k&&(i.removeAttribute("colSpan"),i.cellIndex===e&&(i.innerHTML=""))}continue;case Wb.resultAction.RemoveCell:Mb.remove(g[h].baseCell,!0);continue}},b.prototype.createTable=function(b,c,d){for(var e,f=[],g=0;b>g;g++)f.push("<td>"+Mb.blank+"</td>");e=f.join("");for(var h,i=[],j=0;c>j;j++)i.push("<tr>"+e+"</tr>");h=i.join("");var k=a("<table>"+h+"</table>");return d&&d.tableClassName&&k.addClass(d.tableClassName),k[0]},b.prototype.deleteTable=function(b){var c=Mb.ancestor(b.commonAncestor(),Mb.isCell);a(c).closest("table").remove()},b}(),Zb="bogus",$b=function(){function b(b){var c=this;this.context=b,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.editable=this.$editable[0],this.lastRange=null,this.style=new Tb,this.table=new Yb,this.typing=new Vb(b),this.bullet=new Ub,this.history=new Sb(this.$editable),this.context.memo("help.undo",this.lang.help.undo),this.context.memo("help.redo",this.lang.help.redo),this.context.memo("help.tab",this.lang.help.tab),this.context.memo("help.untab",this.lang.help.untab),this.context.memo("help.insertParagraph",this.lang.help.insertParagraph),this.context.memo("help.insertOrderedList",this.lang.help.insertOrderedList),this.context.memo("help.insertUnorderedList",this.lang.help.insertUnorderedList),this.context.memo("help.indent",this.lang.help.indent),this.context.memo("help.outdent",this.lang.help.outdent),this.context.memo("help.formatPara",this.lang.help.formatPara),this.context.memo("help.insertHorizontalRule",this.lang.help.insertHorizontalRule),this.context.memo("help.fontName",this.lang.help.fontName);for(var d=["bold","italic","underline","strikethrough","superscript","subscript","justifyLeft","justifyCenter","justifyRight","justifyFull","formatBlock","removeFormat","backColor"],e=0,f=d.length;f>e;e++)this[d[e]]=function(a){return function(b){c.beforeCommand(),document.execCommand(a,!1,b),c.afterCommand(!0)}}(d[e]),this.context.memo("help."+d[e],this.lang.help[d[e]]);this.fontName=this.wrapCommand(function(a){return c.fontStyling("font-family","'"+a+"'")}),this.fontSize=this.wrapCommand(function(a){return c.fontStyling("font-size",a+"px")});for(var e=1;6>=e;e++)this["formatH"+e]=function(a){return function(){c.formatBlock("H"+a)}}(e),this.context.memo("help.formatH"+e,this.lang.help["formatH"+e]);this.insertParagraph=this.wrapCommand(function(){c.typing.insertParagraph(c.editable)}),this.insertOrderedList=this.wrapCommand(function(){c.bullet.insertOrderedList(c.editable)}),this.insertUnorderedList=this.wrapCommand(function(){c.bullet.insertUnorderedList(c.editable)}),this.indent=this.wrapCommand(function(){c.bullet.indent(c.editable)}),this.outdent=this.wrapCommand(function(){c.bullet.outdent(c.editable)}),this.insertNode=this.wrapCommand(function(b){if(!c.isLimited(a(b).text().length)){var d=c.getLastRange();d.insertNode(b),Pb.createFromNodeAfter(b).select(),c.setLastRange()}}),this.insertText=this.wrapCommand(function(a){if(!c.isLimited(a.length)){var b=c.getLastRange(),d=b.insertNode(Mb.createText(a));Pb.create(d,Mb.nodeLength(d)).select(),c.setLastRange()}}),this.pasteHTML=this.wrapCommand(function(a){if(!c.isLimited(a.length)){a=c.context.invoke("codeview.purify",a);var b=c.getLastRange().pasteHTML(a);Pb.createFromNodeAfter(zb.last(b)).select(),c.setLastRange()}}),this.formatBlock=this.wrapCommand(function(a,b){var d=c.options.callbacks.onApplyCustomStyle;d?d.call(c,b,c.context,c.onFormatBlock):c.onFormatBlock(a,b)}),this.insertHorizontalRule=this.wrapCommand(function(){var a=c.getLastRange().insertNode(Mb.create("HR"));a.nextSibling&&(Pb.create(a.nextSibling,0).normalize().select(),c.setLastRange())}),this.lineHeight=this.wrapCommand(function(a){c.style.stylePara(c.getLastRange(),{lineHeight:a})}),this.createLink=this.wrapCommand(function(b){var d=b.url,e=b.text,f=b.isNewWindow,g=b.range||c.getLastRange(),h=e.length-g.toString().length;if(!(h>0&&c.isLimited(h))){var i=g.toString()!==e;"string"==typeof d&&(d=d.trim()),d=c.options.onCreateLink?c.options.onCreateLink(d):/^([A-Za-z][A-Za-z0-9+-.]*\:|#|\/)/.test(d)?d:"http://"+d;var j=[];if(i){g=g.deleteContents();var k=g.insertNode(a("<A>"+e+"</A>")[0]);j.push(k)}else j=c.style.styleNodes(g,{nodeName:"A",expandClosestSibling:!0,onlyPartialContains:!0});a.each(j,function(b,c){a(c).attr("href",d),f?a(c).attr("target","_blank"):a(c).removeAttr("target")});var l=Pb.createFromNodeBefore(zb.head(j)),m=l.getStartPoint(),n=Pb.createFromNodeAfter(zb.last(j)),o=n.getEndPoint();Pb.create(m.node,m.offset,o.node,o.offset).select(),c.setLastRange()}}),this.color=this.wrapCommand(function(a){var b=a.foreColor,c=a.backColor;b&&document.execCommand("foreColor",!1,b),c&&document.execCommand("backColor",!1,c)}),this.foreColor=this.wrapCommand(function(a){document.execCommand("styleWithCSS",!1,!0),document.execCommand("foreColor",!1,a)}),this.insertTable=this.wrapCommand(function(a){var b=a.split("x"),d=c.getLastRange().deleteContents();d.insertNode(c.table.createTable(b[0],b[1],c.options))}),this.removeMedia=this.wrapCommand(function(){var b=a(c.restoreTarget()).parent();b.parent("figure").length?b.parent("figure").remove():b=a(c.restoreTarget()).detach(),c.context.triggerEvent("media.delete",b,c.$editable)}),this.floatMe=this.wrapCommand(function(b){var d=a(c.restoreTarget());d.toggleClass("note-float-left","left"===b),d.toggleClass("note-float-right","right"===b),d.css("float","none"===b?"":b)}),this.resize=this.wrapCommand(function(b){var d=a(c.restoreTarget());b=parseFloat(b),0===b?d.css("width",""):d.css({width:100*b+"%",height:""})})}return b.prototype.initialize=function(){var a=this;this.$editable.on("keydown",function(b){return b.keyCode===Rb.code.ENTER&&a.context.triggerEvent("enter",b),a.context.triggerEvent("keydown",b),b.isDefaultPrevented()||(a.options.shortcuts?a.handleKeyMap(b):a.preventDefaultEditableShortCuts(b)),a.isLimited(1,b)?!1:void 0}).on("keyup",function(b){a.setLastRange(),a.context.triggerEvent("keyup",b)}).on("focus",function(b){a.setLastRange(),a.context.triggerEvent("focus",b)}).on("blur",function(b){a.context.triggerEvent("blur",b)}).on("mousedown",function(b){a.context.triggerEvent("mousedown",b)}).on("mouseup",function(b){a.setLastRange(),a.context.triggerEvent("mouseup",b)}).on("scroll",function(b){a.context.triggerEvent("scroll",b)}).on("paste",function(b){a.setLastRange(),a.context.triggerEvent("paste",b)}),this.$editable.attr("spellcheck",this.options.spellCheck),this.$editable.html(Mb.html(this.$note)||Mb.emptyPara),this.$editable.on(wb.inputEventName,yb.debounce(function(){a.context.triggerEvent("change",a.$editable.html(),a.$editable)},10)),this.$editor.on("focusin",function(b){a.context.triggerEvent("focusin",b)}).on("focusout",function(b){a.context.triggerEvent("focusout",b)}),this.options.airMode||(this.options.width&&this.$editor.outerWidth(this.options.width),this.options.height&&this.$editable.outerHeight(this.options.height),this.options.maxHeight&&this.$editable.css("max-height",this.options.maxHeight),this.options.minHeight&&this.$editable.css("min-height",this.options.minHeight)),this.history.recordUndo(),this.setLastRange()},b.prototype.destroy=function(){this.$editable.off()},b.prototype.handleKeyMap=function(a){var b=this.options.keyMap[wb.isMac?"mac":"pc"],c=[];a.metaKey&&c.push("CMD"),a.ctrlKey&&!a.altKey&&c.push("CTRL"),a.shiftKey&&c.push("SHIFT");var d=Rb.nameFromCode[a.keyCode];d&&c.push(d);var e=b[c.join("+")];e?this.context.invoke(e)!==!1&&a.preventDefault():Rb.isEdit(a.keyCode)&&this.afterCommand()},b.prototype.preventDefaultEditableShortCuts=function(a){(a.ctrlKey||a.metaKey)&&zb.contains([66,73,85],a.keyCode)&&a.preventDefault()},b.prototype.isLimited=function(a,b){return a=a||0,"undefined"!=typeof b&&(Rb.isMove(b.keyCode)||b.ctrlKey||b.metaKey||zb.contains([Rb.code.BACKSPACE,Rb.code.DELETE],b.keyCode))?!1:this.options.maxTextLength>0&&this.$editable.text().length+a>=this.options.maxTextLength?!0:!1},b.prototype.createRange=function(){return this.focus(),this.setLastRange(),this.getLastRange()},b.prototype.setLastRange=function(){this.lastRange=Pb.create(this.editable)},b.prototype.getLastRange=function(){return this.lastRange||this.setLastRange(),this.lastRange},b.prototype.saveRange=function(a){a&&this.getLastRange().collapse().select()},b.prototype.restoreRange=function(){this.lastRange&&(this.lastRange.select(),this.focus())},b.prototype.saveTarget=function(a){this.$editable.data("target",a)},b.prototype.clearTarget=function(){this.$editable.removeData("target")},b.prototype.restoreTarget=function(){return this.$editable.data("target")},b.prototype.currentStyle=function(){var a=Pb.create();return a&&(a=a.normalize()),a?this.style.current(a):this.style.fromNode(this.$editable)},b.prototype.styleFromNode=function(a){return this.style.fromNode(a)},b.prototype.undo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.undo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.commit=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.commit(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.redo=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.history.redo(),this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.beforeCommand=function(){this.context.triggerEvent("before.command",this.$editable.html()),this.focus()},b.prototype.afterCommand=function(a){this.normalizeContent(),this.history.recordUndo(),a||this.context.triggerEvent("change",this.$editable.html(),this.$editable)},b.prototype.tab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a);else{if(0===this.options.tabSize)return!1;this.isLimited(this.options.tabSize)||(this.beforeCommand(),this.typing.insertTab(a,this.options.tabSize),this.afterCommand())}},b.prototype.untab=function(){var a=this.getLastRange();if(a.isCollapsed()&&a.isOnCell())this.table.tab(a,!0);else if(0===this.options.tabSize)return!1},b.prototype.wrapCommand=function(a){return function(){this.beforeCommand(),a.apply(this,arguments),this.afterCommand()}},b.prototype.insertImage=function(a,b){var c=this;return Ua(a,b).then(function(a){c.beforeCommand(),"function"==typeof b?b(a):("string"==typeof b&&a.attr("data-filename",b),a.css("width",Math.min(c.$editable.width(),a.width()))),a.show(),Pb.create(c.editable).insertNode(a[0]),Pb.createFromNodeAfter(a[0]).select(),c.setLastRange(),c.afterCommand()}).fail(function(a){c.context.triggerEvent("image.upload.error",a)})},b.prototype.insertImagesAsDataURL=function(b){var c=this;a.each(b,function(a,b){var d=b.name;c.options.maximumImageFileSize&&c.options.maximumImageFileSize<b.size?c.context.triggerEvent("image.upload.error",c.lang.image.maximumFileSizeError):Ta(b).then(function(a){return c.insertImage(a,d)}).fail(function(){c.context.triggerEvent("image.upload.error")})})},b.prototype.insertImagesOrCallback=function(a){var b=this.options.callbacks;b.onImageUpload?this.context.triggerEvent("image.upload",a):this.insertImagesAsDataURL(a)},b.prototype.getSelectedText=function(){var a=this.getLastRange();return a.isOnAnchor()&&(a=Pb.createFromNode(Mb.ancestor(a.sc,Mb.isAnchor))),a.toString()},b.prototype.onFormatBlock=function(b,c){if(document.execCommand("FormatBlock",!1,wb.isMSIE?"<"+b+">":b),c&&c.length&&(c[0].tagName.toUpperCase()!==b.toUpperCase()&&(c=c.find(b)),c&&c.length)){var d=c[0].className||"";if(d){var e=this.createRange(),f=a([e.sc,e.ec]).closest(b);f.addClass(d)}}},b.prototype.formatPara=function(){this.formatBlock("P")},b.prototype.fontStyling=function(b,c){var d=this.getLastRange();if(d){var e=this.style.styleNodes(d);if(a(e).css(b,c),d.isCollapsed()){var f=zb.head(e);f&&!Mb.nodeLength(f)&&(f.innerHTML=Mb.ZERO_WIDTH_NBSP_CHAR,Pb.createFromNodeAfter(f.firstChild).select(),this.setLastRange(),this.$editable.data(Zb,f))}}},b.prototype.unlink=function(){var a=this.getLastRange();if(a.isOnAnchor()){var b=Mb.ancestor(a.sc,Mb.isAnchor);a=Pb.createFromNode(b),a.select(),this.setLastRange(),this.beforeCommand(),document.execCommand("unlink"),this.afterCommand()}},b.prototype.getLinkInfo=function(){var b=this.getLastRange().expand(Mb.isAnchor),c=a(zb.head(b.nodes(Mb.isAnchor))),d={range:b,text:b.toString(),url:c.length?c.attr("href"):""};return c.length&&(d.isNewWindow="_blank"===c.attr("target")),d},b.prototype.addRow=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addRow(b,a),this.afterCommand())},b.prototype.addCol=function(a){var b=this.getLastRange(this.$editable);b.isCollapsed()&&b.isOnCell()&&(this.beforeCommand(),this.table.addCol(b,a),this.afterCommand())},b.prototype.deleteRow=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteRow(a),this.afterCommand())},b.prototype.deleteCol=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteCol(a),this.afterCommand())},b.prototype.deleteTable=function(){var a=this.getLastRange(this.$editable);a.isCollapsed()&&a.isOnCell()&&(this.beforeCommand(),this.table.deleteTable(a),this.afterCommand())},b.prototype.resizeTo=function(a,b,c){var d;if(c){var e=a.y/a.x,f=b.data("ratio");d={width:f>e?a.x:a.y/f,height:f>e?a.x*f:a.y}}else d={width:a.x,height:a.y};b.css(d)},b.prototype.hasFocus=function(){return this.$editable.is(":focus")},b.prototype.focus=function(){this.hasFocus()||this.$editable.focus()},b.prototype.isEmpty=function(){return Mb.isEmpty(this.$editable[0])||Mb.emptyPara===this.$editable.html()},b.prototype.empty=function(){this.context.invoke("code",Mb.emptyPara)},b.prototype.normalizeContent=function(){this.$editable[0].normalize()},b}(),_b=function(){function a(a){this.context=a,this.$editable=a.layoutInfo.editable}return a.prototype.initialize=function(){this.$editable.on("paste",this.pasteByEvent.bind(this))},a.prototype.pasteByEvent=function(a){var b=a.originalEvent.clipboardData;if(b&&b.items&&b.items.length){var c=b.items.length>1?b.items[1]:zb.head(b.items);"file"===c.kind&&-1!==c.type.indexOf("image/")&&this.context.invoke("editor.insertImagesOrCallback",[c.getAsFile()]),this.context.invoke("editor.afterCommand")}},a}(),ac=function(){function b(b){this.context=b,this.$eventListener=a(document),this.$editor=b.layoutInfo.editor,this.$editable=b.layoutInfo.editable,this.options=b.options,this.lang=this.options.langInfo,this.documentEventHandlers={},this.$dropzone=a(['<div class="note-dropzone">','  <div class="note-dropzone-message"/>',"</div>"].join("")).prependTo(this.$editor)}return b.prototype.initialize=function(){this.options.disableDragAndDrop?(this.documentEventHandlers.onDrop=function(a){a.preventDefault()},this.$eventListener=this.$dropzone,this.$eventListener.on("drop",this.documentEventHandlers.onDrop)):this.attachDragAndDropEvent()},b.prototype.attachDragAndDropEvent=function(){var b=this,c=a(),d=this.$dropzone.find(".note-dropzone-message");this.documentEventHandlers.onDragenter=function(a){var e=b.context.invoke("codeview.isActivated"),f=b.$editor.width()>0&&b.$editor.height()>0;e||c.length||!f||(b.$editor.addClass("dragover"),b.$dropzone.width(b.$editor.width()),b.$dropzone.height(b.$editor.height()),d.text(b.lang.image.dragImageHere)),c=c.add(a.target)},this.documentEventHandlers.onDragleave=function(a){c=c.not(a.target),c.length||b.$editor.removeClass("dragover")},this.documentEventHandlers.onDrop=function(){c=a(),b.$editor.removeClass("dragover")},this.$eventListener.on("dragenter",this.documentEventHandlers.onDragenter).on("dragleave",this.documentEventHandlers.onDragleave).on("drop",this.documentEventHandlers.onDrop),this.$dropzone.on("dragenter",function(){b.$dropzone.addClass("hover"),d.text(b.lang.image.dropImage)}).on("dragleave",function(){b.$dropzone.removeClass("hover"),d.text(b.lang.image.dragImageHere)}),this.$dropzone.on("drop",function(c){var d=c.originalEvent.dataTransfer;c.preventDefault(),d&&d.files&&d.files.length?(b.$editable.focus(),b.context.invoke("editor.insertImagesOrCallback",d.files)):a.each(d.types,function(c,e){var f=d.getData(e);e.toLowerCase().indexOf("text")>-1?b.context.invoke("editor.pasteHTML",f):a(f).each(function(a,c){b.context.invoke("editor.insertNode",c)})})}).on("dragover",!1)},b.prototype.destroy=function(){var a=this;Object.keys(this.documentEventHandlers).forEach(function(b){a.$eventListener.off(b.substr(2).toLowerCase(),a.documentEventHandlers[b])}),this.documentEventHandlers={}},b}();wb.hasCodeMirror&&(Xb=window.CodeMirror);var bc=function(){function a(a){this.context=a,this.$editor=a.layoutInfo.editor,this.$editable=a.layoutInfo.editable,this.$codable=a.layoutInfo.codable,this.options=a.options}return a.prototype.sync=function(){var a=this.isActivated();a&&wb.hasCodeMirror&&this.$codable.data("cmEditor").save()},a.prototype.isActivated=function(){return this.$editor.hasClass("codeview")},a.prototype.toggle=function(){this.isActivated()?this.deactivate():this.activate(),this.context.triggerEvent("codeview.toggled")},a.prototype.purify=function(a){if(this.options.codeviewFilter&&(a=a.replace(this.options.codeviewFilterRegex,""),this.options.codeviewIframeFilter)){var b=this.options.codeviewIframeWhitelistSrc.concat(this.options.codeviewIframeWhitelistSrcBase);a=a.replace(/(<iframe.*?>.*?(?:<\/iframe>)?)/gi,function(a){if(/<.+src(?==?('|"|\s)?)[\s\S]+src(?=('|"|\s)?)[^>]*?>/i.test(a))return"";for(var c=0,d=b;c<d.length;c++){var e=d[c];if(new RegExp('src="(https?:)?//'+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+'/(.+)"').test(a))return a}return""})}return a},a.prototype.activate=function(){var a=this;if(this.$codable.val(Mb.html(this.$editable,this.options.prettifyHtml)),this.$codable.height(this.$editable.height()),this.context.invoke("toolbar.updateCodeview",!0),this.$editor.addClass("codeview"),this.$codable.focus(),wb.hasCodeMirror){var b=Xb.fromTextArea(this.$codable[0],this.options.codemirror);if(this.options.codemirror.tern){var c=new Xb.TernServer(this.options.codemirror.tern);b.ternServer=c,b.on("cursorActivity",function(a){c.updateArgHints(a)})}b.on("blur",function(c){a.context.triggerEvent("blur.codeview",b.getValue(),c)}),b.on("change",function(c){a.context.triggerEvent("change.codeview",b.getValue(),b)}),b.setSize(null,this.$editable.outerHeight()),this.$codable.data("cmEditor",b)}else this.$codable.on("blur",function(b){a.context.triggerEvent("blur.codeview",a.$codable.val(),b)}),this.$codable.on("input",function(b){a.context.triggerEvent("change.codeview",a.$codable.val(),a.$codable)})},a.prototype.deactivate=function(){if(wb.hasCodeMirror){var a=this.$codable.data("cmEditor");this.$codable.val(a.getValue()),a.toTextArea()}var b=this.purify(Mb.value(this.$codable,this.options.prettifyHtml)||Mb.emptyPara),c=this.$editable.html()!==b;this.$editable.html(b),this.$editable.height(this.options.height?this.$codable.height():"auto"),this.$editor.removeClass("codeview"),c&&this.context.triggerEvent("change",this.$editable.html(),this.$editable),this.$editable.focus(),this.context.invoke("toolbar.updateCodeview",!1)},a.prototype.destroy=function(){this.isActivated()&&this.deactivate()},a}(),cc=24,dc=function(){function b(b){this.$document=a(document),this.$statusbar=b.layoutInfo.statusbar,this.$editable=b.layoutInfo.editable,this.options=b.options}return b.prototype.initialize=function(){var a=this;return this.options.airMode||this.options.disableResizeEditor?void this.destroy():void this.$statusbar.on("mousedown",function(b){b.preventDefault(),b.stopPropagation();var c=a.$editable.offset().top-a.$document.scrollTop(),d=function(b){var d=b.clientY-(c+cc);d=a.options.minheight>0?Math.max(d,a.options.minheight):d,d=a.options.maxHeight>0?Math.min(d,a.options.maxHeight):d,a.$editable.height(d)};a.$document.on("mousemove",d).one("mouseup",function(){a.$document.off("mousemove",d)})})},b.prototype.destroy=function(){this.$statusbar.off(),this.$statusbar.addClass("locked")},b}(),ec=function(){function b(b){var c=this;this.context=b,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$codable=b.layoutInfo.codable,this.$window=a(window),this.$scrollbar=a("html, body"),this.onResize=function(){c.resizeTo({h:c.$window.height()-c.$toolbar.outerHeight()})}}return b.prototype.resizeTo=function(a){this.$editable.css("height",a.h),this.$codable.css("height",a.h),this.$codable.data("cmeditor")&&this.$codable.data("cmeditor").setsize(null,a.h)},b.prototype.toggle=function(){this.$editor.toggleClass("fullscreen"),this.isFullscreen()?(this.$editable.data("orgHeight",this.$editable.css("height")),this.$editable.data("orgMaxHeight",this.$editable.css("maxHeight")),this.$editable.css("maxHeight",""),this.$window.on("resize",this.onResize).trigger("resize"),this.$scrollbar.css("overflow","hidden")):(this.$window.off("resize",this.onResize),this.resizeTo({h:this.$editable.data("orgHeight")}),this.$editable.css("maxHeight",this.$editable.css("orgMaxHeight")),this.$scrollbar.css("overflow","visible")),this.context.invoke("toolbar.updateFullscreen",this.isFullscreen())},b.prototype.isFullscreen=function(){return this.$editor.hasClass("fullscreen")},b}(),fc=function(){function b(b){var c=this;this.context=b,this.$document=a(document),this.$editingArea=b.layoutInfo.editingArea,this.options=b.options,this.lang=this.options.langInfo,this.events={"summernote.mousedown":function(a,b){c.update(b.target,b)&&b.preventDefault()},"summernote.keyup summernote.scroll summernote.change summernote.dialog.shown":function(){c.update()},"summernote.disable":function(){c.hide()},"summernote.codeview.toggled":function(){c.update()}}}return b.prototype.initialize=function(){var b=this;this.$handle=a(['<div class="note-handle">','<div class="note-control-selection">','<div class="note-control-selection-bg"></div>','<div class="note-control-holder note-control-nw"></div>','<div class="note-control-holder note-control-ne"></div>','<div class="note-control-holder note-control-sw"></div>','<div class="',this.options.disableResizeImage?"note-control-holder":"note-control-sizing",' note-control-se"></div>',this.options.disableResizeImage?"":'<div class="note-control-selection-info"></div>',"</div>","</div>"].join("")).prependTo(this.$editingArea),this.$handle.on("mousedown",function(a){if(Mb.isControlSizing(a.target)){a.preventDefault(),a.stopPropagation();var c=b.$handle.find(".note-control-selection").data("target"),d=c.offset(),e=b.$document.scrollTop(),f=function(a){b.context.invoke("editor.resizeTo",{x:a.clientX-d.left,y:a.clientY-(d.top-e)},c,!a.shiftKey),b.update(c[0])};b.$document.on("mousemove",f).one("mouseup",function(a){a.preventDefault(),b.$document.off("mousemove",f),b.context.invoke("editor.afterCommand")}),c.data("ratio")||c.data("ratio",c.height()/c.width())}}),this.$handle.on("wheel",function(a){a.preventDefault(),b.update()})},b.prototype.destroy=function(){this.$handle.remove()},b.prototype.update=function(b,c){if(this.context.isDisabled())return!1;var d=Mb.isImg(b),e=this.$handle.find(".note-control-selection");if(this.context.invoke("imagePopover.update",b,c),d){var f=a(b),g=f.position(),h={left:g.left+parseInt(f.css("marginLeft"),10),top:g.top+parseInt(f.css("marginTop"),10)},i={w:f.outerWidth(!1),h:f.outerHeight(!1)};e.css({display:"block",left:h.left,top:h.top,width:i.w,height:i.h}).data("target",f);var j=new Image;j.src=f.attr("src");var k=i.w+"x"+i.h+" ("+this.lang.image.original+": "+j.width+"x"+j.height+")";e.find(".note-control-selection-info").text(k),this.context.invoke("editor.saveTarget",b)}else this.hide();return d},b.prototype.hide=function(){this.context.invoke("editor.clearTarget"),this.$handle.children().hide()},b}(),gc="http://",hc=/^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i,ic=function(){function b(a){var b=this;this.context=a,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return b.prototype.initialize=function(){this.lastWordRange=null},b.prototype.destroy=function(){this.lastWordRange=null},b.prototype.replace=function(){if(this.lastWordRange){var b=this.lastWordRange.toString(),c=b.match(hc);if(c&&(c[1]||c[2])){var d=c[1]?b:gc+b,e=a("<a />").html(b).attr("href",d)[0];this.context.options.linkTargetBlank&&a(e).attr("target","_blank"),this.lastWordRange.insertNode(e),this.lastWordRange=null,this.context.invoke("editor.focus")}}},b.prototype.handleKeydown=function(a){if(zb.contains([Rb.code.ENTER,Rb.code.SPACE],a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWordRange=b}},b.prototype.handleKeyup=function(a){zb.contains([Rb.code.ENTER,Rb.code.SPACE],a.keyCode)&&this.replace()},b}(),jc=function(){function a(a){var b=this;this.$note=a.layoutInfo.note,this.events={"summernote.change":function(){b.$note.val(a.invoke("code"))}}}return a.prototype.shouldInitialize=function(){return Mb.isTextarea(this.$note[0])},a}(),kc=function(){function a(a){var b=this;this.context=a,this.options=a.options.replace||{},this.keys=[Rb.code.ENTER,Rb.code.SPACE,Rb.code.PERIOD,Rb.code.COMMA,Rb.code.SEMICOLON,Rb.code.SLASH],this.previousKeydownCode=null,this.events={"summernote.keyup":function(a,c){c.isDefaultPrevented()||b.handleKeyup(c)},"summernote.keydown":function(a,c){b.handleKeydown(c)}}}return a.prototype.shouldInitialize=function(){return!!this.options.match},a.prototype.initialize=function(){this.lastWord=null},a.prototype.destroy=function(){this.lastWord=null},a.prototype.replace=function(){if(this.lastWord){var a=this,b=this.lastWord.toString();this.options.match(b,function(b){if(b){var c="";if("string"==typeof b?c=Mb.createText(b):b instanceof jQuery?c=b[0]:b instanceof Node&&(c=b),!c)return;a.lastWord.insertNode(c),a.lastWord=null,a.context.invoke("editor.focus")}})}},a.prototype.handleKeydown=function(a){if(this.previousKeydownCode&&zb.contains(this.keys,this.previousKeydownCode))return void(this.previousKeydownCode=a.keyCode);if(zb.contains(this.keys,a.keyCode)){var b=this.context.invoke("editor.createRange").getWordRange();this.lastWord=b}this.previousKeydownCode=a.keyCode},a.prototype.handleKeyup=function(a){zb.contains(this.keys,a.keyCode)&&this.replace()},a}(),lc=function(){function b(a){var b=this;this.context=a,this.$editingArea=a.layoutInfo.editingArea,this.options=a.options,this.events={"summernote.init summernote.change":function(){b.update()},"summernote.codeview.toggled":function(){b.update()}}}return b.prototype.shouldInitialize=function(){return!!this.options.placeholder},b.prototype.initialize=function(){var b=this;this.$placeholder=a('<div class="note-placeholder">'),this.$placeholder.on("click",function(){b.context.invoke("focus")}).html(this.options.placeholder).prependTo(this.$editingArea),this.update()},b.prototype.destroy=function(){this.$placeholder.remove()},b.prototype.update=function(){var a=!this.context.invoke("codeview.isActivated")&&this.context.invoke("editor.isEmpty");this.$placeholder.toggle(a)},b}(),mc=function(){function b(b){this.ui=a.summernote.ui,this.context=b,this.$toolbar=b.layoutInfo.toolbar,this.options=b.options,this.lang=this.options.langInfo,this.invertedKeyMap=yb.invertObject(this.options.keyMap[wb.isMac?"mac":"pc"])}return b.prototype.representShortcut=function(a){var b=this.invertedKeyMap[a];return this.options.shortcuts&&b?(wb.isMac&&(b=b.replace("CMD","⌘").replace("SHIFT","⇧")),b=b.replace("BACKSLASH","\\").replace("SLASH","/").replace("LEFTBRACKET","[").replace("RIGHTBRACKET","]")," ("+b+")"):""},b.prototype.button=function(a){return!this.options.tooltip&&a.tooltip&&delete a.tooltip,a.container=this.options.container,this.ui.button(a)},b.prototype.initialize=function(){this.addToolbarButtons(),this.addImagePopoverButtons(),this.addLinkPopoverButtons(),this.addTablePopoverButtons(),this.fontInstalledMap={}},b.prototype.destroy=function(){delete this.fontInstalledMap},b.prototype.isFontInstalled=function(a){return this.fontInstalledMap.hasOwnProperty(a)||(this.fontInstalledMap[a]=wb.isFontInstalled(a)||zb.contains(this.options.fontNamesIgnoreCheck,a)),this.fontInstalledMap[a]},b.prototype.isFontDeservedToAdd=function(a){var b=["sans-serif","serif","monospace","cursive","fantasy"];return a=a.toLowerCase(),""!==a&&this.isFontInstalled(a)&&-1===b.indexOf(a)},b.prototype.colorPalette=function(b,c,d,e){var f=this;return this.ui.buttonGroup({className:"note-color "+b,children:[this.button({className:"note-current-color-button",contents:this.ui.icon(this.options.icons.font+" note-recent-color"),tooltip:c,click:function(b){var c=a(b.currentTarget);d&&e?f.context.invoke("editor.color",{backColor:c.attr("data-backColor"),foreColor:c.attr("data-foreColor")}):d?f.context.invoke("editor.color",{backColor:c.attr("data-backColor")}):e&&f.context.invoke("editor.color",{foreColor:c.attr("data-foreColor")})},callback:function(a){var b=a.find(".note-recent-color");d&&(b.css("background-color",f.options.colorButton.backColor),a.attr("data-backColor",f.options.colorButton.backColor)),e?(b.css("color",f.options.colorButton.foreColor),a.attr("data-foreColor",f.options.colorButton.foreColor)):b.css("color","transparent")}}),this.button({className:"dropdown-toggle",contents:this.ui.dropdownButtonContents("",this.options),tooltip:this.lang.color.more,data:{toggle:"dropdown"}}),this.ui.dropdown({items:(d?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.background+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">',this.lang.color.transparent,"    </button>","  </div>",'  <div class="note-holder" data-event="backColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.backColor+'" data-event="backColorPalette">',"  </div>",'  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>',"</div>"].join(""):"")+(e?['<div class="note-palette">','  <div class="note-palette-title">'+this.lang.color.foreground+"</div>","  <div>",'    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">',this.lang.color.resetToDefault,"    </button>","  </div>",'  <div class="note-holder" data-event="foreColor"/>',"  <div>",'    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">',this.lang.color.cpSelect,"    </button>",'    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="'+this.options.colorButton.foreColor+'" data-event="foreColorPalette">','  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>',"</div>"].join(""):""),callback:function(b){b.find(".note-holder").each(function(b,c){var d=a(c);d.append(f.ui.palette({colors:f.options.colors,colorsName:f.options.colorsName,
eventName:d.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())});var c=[["#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"]];b.find(".note-holder-custom").each(function(b,d){var e=a(d);e.append(f.ui.palette({colors:c,colorsName:c,eventName:e.data("event"),container:f.options.container,tooltip:f.options.tooltip}).render())}),b.find("input[type=color]").each(function(c,d){a(d).change(function(){var c=b.find("#"+a(this).data("event")).find(".note-color-btn").first(),d=this.value.toUpperCase();c.css("background-color",d).attr("aria-label",d).attr("data-value",d).attr("data-original-title",d),c.click()})})},click:function(c){c.stopPropagation();var d=a("."+b),e=a(c.target),g=e.data("event"),h=e.attr("data-value");if("openPalette"===g){var i=d.find("#"+h),j=a(d.find("#"+i.data("event")).find(".note-color-row")[0]),k=j.find(".note-color-btn").last().detach(),l=i.val();k.css("background-color",l).attr("aria-label",l).attr("data-value",l).attr("data-original-title",l),j.prepend(k),i.click()}else if(zb.contains(["backColor","foreColor"],g)){var m="backColor"===g?"background-color":"color",n=e.closest(".note-color").find(".note-recent-color"),o=e.closest(".note-color").find(".note-current-color-button");n.css(m,h),o.attr("data-"+g,h),f.context.invoke("editor."+g,h)}}})]}).render()},b.prototype.addToolbarButtons=function(){var b=this;this.context.memo("button.style",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.magic),b.options),tooltip:b.lang.style.style,data:{toggle:"dropdown"}}),b.ui.dropdown({className:"dropdown-style",items:b.options.styleTags,title:b.lang.style.style,template:function(a){"string"==typeof a&&(a={tag:a,title:b.lang.style.hasOwnProperty(a)?b.lang.style[a]:a});var c=a.tag,d=a.title,e=a.style?' style="'+a.style+'" ':"",f=a.className?' class="'+a.className+'"':"";return"<"+c+e+f+">"+d+"</"+c+">"},click:b.context.createInvokeHandler("editor.formatBlock")})]).render()});for(var c=function(a,c){var e=d.options.styleTags[a];d.context.memo("button.style."+e,function(){return b.button({className:"note-btn-style-"+e,contents:'<div data-value="'+e+'">'+e.toUpperCase()+"</div>",tooltip:b.lang.style[e],click:b.context.createInvokeHandler("editor.formatBlock")}).render()})},d=this,e=0,f=this.options.styleTags.length;f>e;e++)c(e,f);this.context.memo("button.bold",function(){return b.button({className:"note-btn-bold",contents:b.ui.icon(b.options.icons.bold),tooltip:b.lang.font.bold+b.representShortcut("bold"),click:b.context.createInvokeHandlerAndUpdateState("editor.bold")}).render()}),this.context.memo("button.italic",function(){return b.button({className:"note-btn-italic",contents:b.ui.icon(b.options.icons.italic),tooltip:b.lang.font.italic+b.representShortcut("italic"),click:b.context.createInvokeHandlerAndUpdateState("editor.italic")}).render()}),this.context.memo("button.underline",function(){return b.button({className:"note-btn-underline",contents:b.ui.icon(b.options.icons.underline),tooltip:b.lang.font.underline+b.representShortcut("underline"),click:b.context.createInvokeHandlerAndUpdateState("editor.underline")}).render()}),this.context.memo("button.clear",function(){return b.button({contents:b.ui.icon(b.options.icons.eraser),tooltip:b.lang.font.clear+b.representShortcut("removeFormat"),click:b.context.createInvokeHandler("editor.removeFormat")}).render()}),this.context.memo("button.strikethrough",function(){return b.button({className:"note-btn-strikethrough",contents:b.ui.icon(b.options.icons.strikethrough),tooltip:b.lang.font.strikethrough+b.representShortcut("strikethrough"),click:b.context.createInvokeHandlerAndUpdateState("editor.strikethrough")}).render()}),this.context.memo("button.superscript",function(){return b.button({className:"note-btn-superscript",contents:b.ui.icon(b.options.icons.superscript),tooltip:b.lang.font.superscript,click:b.context.createInvokeHandlerAndUpdateState("editor.superscript")}).render()}),this.context.memo("button.subscript",function(){return b.button({className:"note-btn-subscript",contents:b.ui.icon(b.options.icons.subscript),tooltip:b.lang.font.subscript,click:b.context.createInvokeHandlerAndUpdateState("editor.subscript")}).render()}),this.context.memo("button.fontname",function(){var c=b.context.invoke("editor.currentStyle");return a.each(c["font-family"].split(","),function(a,c){c=c.trim().replace(/['"]+/g,""),b.isFontDeservedToAdd(c)&&-1===b.options.fontNames.indexOf(c)&&b.options.fontNames.push(c)}),b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontname"/>',b.options),tooltip:b.lang.font.name,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontname",checkClassName:b.options.icons.menuCheck,items:b.options.fontNames.filter(b.isFontInstalled.bind(b)),title:b.lang.font.name,template:function(a){return"<span style=\"font-family: '"+a+"'\">"+a+"</span>"},click:b.context.createInvokeHandlerAndUpdateState("editor.fontName")})]).render()}),this.context.memo("button.fontsize",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents('<span class="note-current-fontsize"/>',b.options),tooltip:b.lang.font.size,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({className:"dropdown-fontsize",checkClassName:b.options.icons.menuCheck,items:b.options.fontSizes,title:b.lang.font.size,click:b.context.createInvokeHandlerAndUpdateState("editor.fontSize")})]).render()}),this.context.memo("button.color",function(){return b.colorPalette("note-color-all",b.lang.color.recent,!0,!0)}),this.context.memo("button.forecolor",function(){return b.colorPalette("note-color-fore",b.lang.color.foreground,!1,!0)}),this.context.memo("button.backcolor",function(){return b.colorPalette("note-color-back",b.lang.color.background,!0,!1)}),this.context.memo("button.ul",function(){return b.button({contents:b.ui.icon(b.options.icons.unorderedlist),tooltip:b.lang.lists.unordered+b.representShortcut("insertUnorderedList"),click:b.context.createInvokeHandler("editor.insertUnorderedList")}).render()}),this.context.memo("button.ol",function(){return b.button({contents:b.ui.icon(b.options.icons.orderedlist),tooltip:b.lang.lists.ordered+b.representShortcut("insertOrderedList"),click:b.context.createInvokeHandler("editor.insertOrderedList")}).render()});var g=this.button({contents:this.ui.icon(this.options.icons.alignLeft),tooltip:this.lang.paragraph.left+this.representShortcut("justifyLeft"),click:this.context.createInvokeHandler("editor.justifyLeft")}),h=this.button({contents:this.ui.icon(this.options.icons.alignCenter),tooltip:this.lang.paragraph.center+this.representShortcut("justifyCenter"),click:this.context.createInvokeHandler("editor.justifyCenter")}),i=this.button({contents:this.ui.icon(this.options.icons.alignRight),tooltip:this.lang.paragraph.right+this.representShortcut("justifyRight"),click:this.context.createInvokeHandler("editor.justifyRight")}),j=this.button({contents:this.ui.icon(this.options.icons.alignJustify),tooltip:this.lang.paragraph.justify+this.representShortcut("justifyFull"),click:this.context.createInvokeHandler("editor.justifyFull")}),k=this.button({contents:this.ui.icon(this.options.icons.outdent),tooltip:this.lang.paragraph.outdent+this.representShortcut("outdent"),click:this.context.createInvokeHandler("editor.outdent")}),l=this.button({contents:this.ui.icon(this.options.icons.indent),tooltip:this.lang.paragraph.indent+this.representShortcut("indent"),click:this.context.createInvokeHandler("editor.indent")});this.context.memo("button.justifyLeft",yb.invoke(g,"render")),this.context.memo("button.justifyCenter",yb.invoke(h,"render")),this.context.memo("button.justifyRight",yb.invoke(i,"render")),this.context.memo("button.justifyFull",yb.invoke(j,"render")),this.context.memo("button.outdent",yb.invoke(k,"render")),this.context.memo("button.indent",yb.invoke(l,"render")),this.context.memo("button.paragraph",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.alignLeft),b.options),tooltip:b.lang.paragraph.paragraph,data:{toggle:"dropdown"}}),b.ui.dropdown([b.ui.buttonGroup({className:"note-align",children:[g,h,i,j]}),b.ui.buttonGroup({className:"note-list",children:[k,l]})])]).render()}),this.context.memo("button.height",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.textHeight),b.options),tooltip:b.lang.font.height,data:{toggle:"dropdown"}}),b.ui.dropdownCheck({items:b.options.lineHeights,checkClassName:b.options.icons.menuCheck,className:"dropdown-line-height",title:b.lang.font.height,click:b.context.createInvokeHandler("editor.lineHeight")})]).render()}),this.context.memo("button.table",function(){return b.ui.buttonGroup([b.button({className:"dropdown-toggle",contents:b.ui.dropdownButtonContents(b.ui.icon(b.options.icons.table),b.options),tooltip:b.lang.table.table,data:{toggle:"dropdown"}}),b.ui.dropdown({title:b.lang.table.table,className:"note-table",items:['<div class="note-dimension-picker">','  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>','  <div class="note-dimension-picker-highlighted"/>','  <div class="note-dimension-picker-unhighlighted"/>',"</div>",'<div class="note-dimension-display">1 x 1</div>'].join("")})],{callback:function(a){var c=a.find(".note-dimension-picker-mousecatcher");c.css({width:b.options.insertTableMaxSize.col+"em",height:b.options.insertTableMaxSize.row+"em"}).mousedown(b.context.createInvokeHandler("editor.insertTable")).on("mousemove",b.tableMoveHandler.bind(b))}}).render()}),this.context.memo("button.link",function(){return b.button({contents:b.ui.icon(b.options.icons.link),tooltip:b.lang.link.link+b.representShortcut("linkDialog.show"),click:b.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.picture",function(){return b.button({contents:b.ui.icon(b.options.icons.picture),tooltip:b.lang.image.image,click:b.context.createInvokeHandler("imageDialog.show")}).render()}),this.context.memo("button.video",function(){return b.button({contents:b.ui.icon(b.options.icons.video),tooltip:b.lang.video.video,click:b.context.createInvokeHandler("videoDialog.show")}).render()}),this.context.memo("button.hr",function(){return b.button({contents:b.ui.icon(b.options.icons.minus),tooltip:b.lang.hr.insert+b.representShortcut("insertHorizontalRule"),click:b.context.createInvokeHandler("editor.insertHorizontalRule")}).render()}),this.context.memo("button.fullscreen",function(){return b.button({className:"btn-fullscreen",contents:b.ui.icon(b.options.icons.arrowsAlt),tooltip:b.lang.options.fullscreen,click:b.context.createInvokeHandler("fullscreen.toggle")}).render()}),this.context.memo("button.codeview",function(){return b.button({className:"btn-codeview",contents:b.ui.icon(b.options.icons.code),tooltip:b.lang.options.codeview,click:b.context.createInvokeHandler("codeview.toggle")}).render()}),this.context.memo("button.redo",function(){return b.button({contents:b.ui.icon(b.options.icons.redo),tooltip:b.lang.history.redo+b.representShortcut("redo"),click:b.context.createInvokeHandler("editor.redo")}).render()}),this.context.memo("button.undo",function(){return b.button({contents:b.ui.icon(b.options.icons.undo),tooltip:b.lang.history.undo+b.representShortcut("undo"),click:b.context.createInvokeHandler("editor.undo")}).render()}),this.context.memo("button.help",function(){return b.button({contents:b.ui.icon(b.options.icons.question),tooltip:b.lang.options.help,click:b.context.createInvokeHandler("helpDialog.show")}).render()})},b.prototype.addImagePopoverButtons=function(){var a=this;this.context.memo("button.resizeFull",function(){return a.button({contents:'<span class="note-fontsize-10">100%</span>',tooltip:a.lang.image.resizeFull,click:a.context.createInvokeHandler("editor.resize","1")}).render()}),this.context.memo("button.resizeHalf",function(){return a.button({contents:'<span class="note-fontsize-10">50%</span>',tooltip:a.lang.image.resizeHalf,click:a.context.createInvokeHandler("editor.resize","0.5")}).render()}),this.context.memo("button.resizeQuarter",function(){return a.button({contents:'<span class="note-fontsize-10">25%</span>',tooltip:a.lang.image.resizeQuarter,click:a.context.createInvokeHandler("editor.resize","0.25")}).render()}),this.context.memo("button.resizeNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.resizeNone,click:a.context.createInvokeHandler("editor.resize","0")}).render()}),this.context.memo("button.floatLeft",function(){return a.button({contents:a.ui.icon(a.options.icons.floatLeft),tooltip:a.lang.image.floatLeft,click:a.context.createInvokeHandler("editor.floatMe","left")}).render()}),this.context.memo("button.floatRight",function(){return a.button({contents:a.ui.icon(a.options.icons.floatRight),tooltip:a.lang.image.floatRight,click:a.context.createInvokeHandler("editor.floatMe","right")}).render()}),this.context.memo("button.floatNone",function(){return a.button({contents:a.ui.icon(a.options.icons.rollback),tooltip:a.lang.image.floatNone,click:a.context.createInvokeHandler("editor.floatMe","none")}).render()}),this.context.memo("button.removeMedia",function(){return a.button({contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.image.remove,click:a.context.createInvokeHandler("editor.removeMedia")}).render()})},b.prototype.addLinkPopoverButtons=function(){var a=this;this.context.memo("button.linkDialogShow",function(){return a.button({contents:a.ui.icon(a.options.icons.link),tooltip:a.lang.link.edit,click:a.context.createInvokeHandler("linkDialog.show")}).render()}),this.context.memo("button.unlink",function(){return a.button({contents:a.ui.icon(a.options.icons.unlink),tooltip:a.lang.link.unlink,click:a.context.createInvokeHandler("editor.unlink")}).render()})},b.prototype.addTablePopoverButtons=function(){var a=this;this.context.memo("button.addRowUp",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowAbove),tooltip:a.lang.table.addRowAbove,click:a.context.createInvokeHandler("editor.addRow","top")}).render()}),this.context.memo("button.addRowDown",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowBelow),tooltip:a.lang.table.addRowBelow,click:a.context.createInvokeHandler("editor.addRow","bottom")}).render()}),this.context.memo("button.addColLeft",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colBefore),tooltip:a.lang.table.addColLeft,click:a.context.createInvokeHandler("editor.addCol","left")}).render()}),this.context.memo("button.addColRight",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colAfter),tooltip:a.lang.table.addColRight,click:a.context.createInvokeHandler("editor.addCol","right")}).render()}),this.context.memo("button.deleteRow",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.rowRemove),tooltip:a.lang.table.delRow,click:a.context.createInvokeHandler("editor.deleteRow")}).render()}),this.context.memo("button.deleteCol",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.colRemove),tooltip:a.lang.table.delCol,click:a.context.createInvokeHandler("editor.deleteCol")}).render()}),this.context.memo("button.deleteTable",function(){return a.button({className:"btn-md",contents:a.ui.icon(a.options.icons.trash),tooltip:a.lang.table.delTable,click:a.context.createInvokeHandler("editor.deleteTable")}).render()})},b.prototype.build=function(a,b){for(var c=0,d=b.length;d>c;c++){for(var e=b[c],f=Array.isArray(e)?e[0]:e,g=Array.isArray(e)?1===e.length?[e[0]]:e[1]:[e],h=this.ui.buttonGroup({className:"note-"+f}).render(),i=0,j=g.length;j>i;i++){var k=this.context.memo("button."+g[i]);k&&h.append("function"==typeof k?k():k)}h.appendTo(a)}},b.prototype.updateCurrentStyle=function(b){var c=this,d=b||this.$toolbar,e=this.context.invoke("editor.currentStyle");if(this.updateBtnStates(d,{".note-btn-bold":function(){return"bold"===e["font-bold"]},".note-btn-italic":function(){return"italic"===e["font-italic"]},".note-btn-underline":function(){return"underline"===e["font-underline"]},".note-btn-subscript":function(){return"subscript"===e["font-subscript"]},".note-btn-superscript":function(){return"superscript"===e["font-superscript"]},".note-btn-strikethrough":function(){return"strikethrough"===e["font-strikethrough"]}}),e["font-family"]){var f=e["font-family"].split(",").map(function(a){return a.replace(/[\'\"]/g,"").replace(/\s+$/,"").replace(/^\s+/,"")}),g=zb.find(f,this.isFontInstalled.bind(this));d.find(".dropdown-fontname a").each(function(b,c){var d=a(c),e=d.data("value")+""==g+"";d.toggleClass("checked",e)}),d.find(".note-current-fontname").text(g).css("font-family",g)}if(e["font-size"]){var h=e["font-size"];d.find(".dropdown-fontsize a").each(function(b,c){var d=a(c),e=d.data("value")+""==h+"";d.toggleClass("checked",e)}),d.find(".note-current-fontsize").text(h)}if(e["line-height"]){var i=e["line-height"];d.find(".dropdown-line-height li a").each(function(b,d){var e=a(d).data("value")+""==i+"";c.className=e?"checked":""})}},b.prototype.updateBtnStates=function(b,c){var d=this;a.each(c,function(a,c){d.ui.toggleBtnActive(b.find(a),c())})},b.prototype.tableMoveHandler=function(b){var c,d=18,e=a(b.target.parentNode),f=e.next(),g=e.find(".note-dimension-picker-mousecatcher"),h=e.find(".note-dimension-picker-highlighted"),i=e.find(".note-dimension-picker-unhighlighted");if(void 0===b.offsetX){var j=a(b.target).offset();c={x:b.pageX-j.left,y:b.pageY-j.top}}else c={x:b.offsetX,y:b.offsetY};var k={c:Math.ceil(c.x/d)||1,r:Math.ceil(c.y/d)||1};h.css({width:k.c+"em",height:k.r+"em"}),g.data("value",k.c+"x"+k.r),k.c>3&&k.c<this.options.insertTableMaxSize.col&&i.css({width:k.c+1+"em"}),k.r>3&&k.r<this.options.insertTableMaxSize.row&&i.css({height:k.r+1+"em"}),f.html(k.c+" x "+k.r)},b}(),nc=function(){function b(b){this.context=b,this.$window=a(window),this.$document=a(document),this.ui=a.summernote.ui,this.$note=b.layoutInfo.note,this.$editor=b.layoutInfo.editor,this.$toolbar=b.layoutInfo.toolbar,this.$editable=b.layoutInfo.editable,this.$statusbar=b.layoutInfo.statusbar,this.options=b.options,this.isFollowing=!1,this.followScroll=this.followScroll.bind(this)}return b.prototype.shouldInitialize=function(){return!this.options.airMode},b.prototype.initialize=function(){var a=this;this.options.toolbar=this.options.toolbar||[],this.options.toolbar.length?this.context.invoke("buttons.build",this.$toolbar,this.options.toolbar):this.$toolbar.hide(),this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.changeContainer(!1),this.$note.on("summernote.keyup summernote.mouseup summernote.change",function(){a.context.invoke("buttons.updateCurrentStyle")}),this.context.invoke("buttons.updateCurrentStyle"),this.options.followingToolbar&&this.$window.on("scroll resize",this.followScroll)},b.prototype.destroy=function(){this.$toolbar.children().remove(),this.options.followingToolbar&&this.$window.off("scroll resize",this.followScroll)},b.prototype.followScroll=function(){if(this.$editor.hasClass("fullscreen"))return!1;var b=this.$editor.outerHeight(),c=this.$editor.width(),d=this.$toolbar.height(),e=this.$statusbar.height(),f=0;this.options.otherStaticBar&&(f=a(this.options.otherStaticBar).outerHeight());var g=this.$document.scrollTop(),h=this.$editor.offset().top,i=h+b,j=h-f,k=i-f-d-e;!this.isFollowing&&g>j&&k-d>g?(this.isFollowing=!0,this.$toolbar.css({position:"fixed",top:f,width:c}),this.$editable.css({marginTop:this.$toolbar.height()+5})):this.isFollowing&&(j>g||g>k)&&(this.isFollowing=!1,this.$toolbar.css({position:"relative",top:0,width:"100%"}),this.$editable.css({marginTop:""}))},b.prototype.changeContainer=function(a){a?this.$toolbar.prependTo(this.$editor):this.options.toolbarContainer&&this.$toolbar.appendTo(this.options.toolbarContainer),this.followScroll()},b.prototype.updateFullscreen=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"),a),this.changeContainer(a)},b.prototype.updateCodeview=function(a){this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"),a),a?this.deactivate():this.activate()},b.prototype.activate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!0)},b.prototype.deactivate=function(a){var b=this.$toolbar.find("button");a||(b=b.not(".btn-codeview")),this.ui.toggleBtn(b,!1)},b}(),oc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo,b.memo("help.linkDialog.show",this.options.langInfo.help["linkDialog.show"])}return b.prototype.initialize=function(){var b=this.options.dialogsInBody?this.$body:this.$editor,c=['<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.textToDisplay+"</label>",'<input class="note-link-text form-control note-form-control note-input" type="text" />',"</div>",'<div class="form-group note-form-group">','<label class="note-form-label">'+this.lang.link.url+"</label>",'<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />',"</div>",this.options.disableLinkTarget?"":a("<div/>").append(this.ui.checkbox({className:"sn-checkbox-open-in-new-window",text:this.lang.link.openInNewWindow,checked:!0}).render()).html()].join(""),d="btn btn-primary note-btn note-btn-primary note-link-btn",e='<input type="button" href="#" class="'+d+'" value="'+this.lang.link.insert+'" disabled>';this.$dialog=this.ui.dialog({className:"link-dialog",title:this.lang.link.insert,fade:this.options.dialogsFade,body:c,footer:e}).render().appendTo(b)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Rb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.toggleLinkBtn=function(a,b,c){this.ui.toggleBtn(a,b.val()&&c.val())},b.prototype.showLinkDialog=function(b){var c=this;return a.Deferred(function(a){var d=c.$dialog.find(".note-link-text"),e=c.$dialog.find(".note-link-url"),f=c.$dialog.find(".note-link-btn"),g=c.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),!b.url&&yb.isValidUrl(b.text)&&(b.url=b.text),d.on("input paste propertychange",function(){b.text=d.val(),c.toggleLinkBtn(f,d,e)}).val(b.text),e.on("input paste propertychange",function(){b.text||d.val(e.val()),c.toggleLinkBtn(f,d,e)}).val(b.url),wb.isSupportTouch||e.trigger("focus"),c.toggleLinkBtn(f,d,e),c.bindEnterKey(e,f),c.bindEnterKey(d,f);var h=void 0!==b.isNewWindow?b.isNewWindow:c.context.options.linkTargetBlank;g.prop("checked",h),f.one("click",function(f){f.preventDefault(),a.resolve({range:b.range,url:e.val(),text:d.val(),isNewWindow:g.is(":checked")}),c.ui.hideDialog(c.$dialog)})}),c.ui.onDialogHidden(c.$dialog,function(){d.off(),e.off(),f.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)}).promise()},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getLinkInfo");this.context.invoke("editor.saveRange"),this.showLinkDialog(b).then(function(b){a.context.invoke("editor.restoreRange"),a.context.invoke("editor.createLink",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b}(),pc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.change summernote.scroll":function(){c.update()},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!zb.isEmpty(this.options.popover.link)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-link-popover",callback:function(a){var b=a.find(".popover-content,.note-popover-content");b.prepend('<span><a target="_blank"></a>&nbsp;</span>')}}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.link)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){if(!this.context.invoke("editor.hasFocus"))return void this.hide();var b=this.context.invoke("editor.getLastRange");if(b.isCollapsed()&&b.isOnAnchor()){var c=Mb.ancestor(b.sc,Mb.isAnchor),d=a(c).attr("href");this.$popover.find("a").attr("href",d).html(d);var e=Mb.posFromPlaceholder(c);this.$popover.css({display:"block",left:e.left,top:e.top})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),qc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b="";if(this.options.maximumImageFileSize){var c=Math.floor(Math.log(this.options.maximumImageFileSize)/Math.log(1024)),d=1*(this.options.maximumImageFileSize/Math.pow(1024,c)).toFixed(2)+" "+" KMGTP"[c]+"B";b="<small>"+(this.lang.image.maximumFileSize+" : "+d)+"</small>"}var e=['<div class="form-group note-form-group note-group-select-from-files">','<label class="note-form-label">'+this.lang.image.selectFromFiles+"</label>",'<input class="note-image-input form-control-file note-form-control note-input" ',' type="file" name="files" accept="image/*" multiple="multiple" />',b,"</div>",'<div class="form-group note-group-image-url" style="overflow:auto;">','<label class="note-form-label">'+this.lang.image.url+"</label>",'<input class="note-image-url form-control note-form-control note-input ',' col-md-12" type="text" />',"</div>"].join(""),f="btn btn-primary note-btn note-btn-primary note-image-btn",g='<input type="button" href="#" class="'+f+'" value="'+this.lang.image.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.image.insert,fade:this.options.dialogsFade,body:e,footer:g}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Rb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showImageDialog().then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange"),"string"==typeof b?a.options.callbacks.onImageLinkInsert?a.context.triggerEvent("image.link.insert",b):a.context.invoke("editor.insertImage",b):a.context.invoke("editor.insertImagesOrCallback",b)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showImageDialog=function(){var b=this;return a.Deferred(function(a){var c=b.$dialog.find(".note-image-input"),d=b.$dialog.find(".note-image-url"),e=b.$dialog.find(".note-image-btn");b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),c.replaceWith(c.clone().on("change",function(b){a.resolve(b.target.files||b.target.value)}).val("")),d.on("input paste propertychange",function(){b.ui.toggleBtn(e,d.val())}).val(""),wb.isSupportTouch||d.trigger("focus"),e.click(function(b){b.preventDefault(),a.resolve(d.val())}),b.bindEnterKey(d,e)}),b.ui.onDialogHidden(b.$dialog,function(){c.off(),d.off(),e.off(),"pending"===a.state()&&a.reject()}),b.ui.showDialog(b.$dialog)})},b}(),rc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.editable=b.layoutInfo.editable[0],this.options=b.options,this.events={"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!zb.isEmpty(this.options.popover.image)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-image-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.image)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a,b){if(Mb.isImg(a)){var c=Mb.posFromPlaceholder(a),d=Mb.posFromPlaceholder(this.editable);this.$popover.css({display:"block",left:this.options.popatmouse?b.pageX-20:c.left,top:this.options.popatmouse?b.pageY:Math.min(c.top,d.top)})}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),sc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.mousedown":function(a,b){c.update(b.target)},"summernote.keyup summernote.scroll summernote.change":function(){c.update()},"summernote.disable":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return!zb.isEmpty(this.options.popover.table)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-table-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content,.note-popover-content");this.context.invoke("buttons.build",a,this.options.popover.table),wb.isFF&&document.execCommand("enableInlineTableEditing",!1,!1)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(a){if(this.context.isDisabled())return!1;var b=Mb.isCell(a);if(b){var c=Mb.posFromPlaceholder(a);this.$popover.css({display:"block",left:c.left,top:c.top})}else this.hide();return b},b.prototype.hide=function(){this.$popover.hide()},b}(),tc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<div class="form-group note-form-group row-fluid">','<label class="note-form-label">'+this.lang.video.url+' <small class="text-muted">'+this.lang.video.providers+"</small></label>",'<input class="note-video-url form-control note-form-control note-input" type="text" />',"</div>"].join(""),c="btn btn-primary note-btn note-btn-primary note-video-btn",d='<input type="button" href="#" class="'+c+'" value="'+this.lang.video.insert+'" disabled>';this.$dialog=this.ui.dialog({title:this.lang.video.insert,fade:this.options.dialogsFade,body:b,footer:d}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.bindEnterKey=function(a,b){a.on("keypress",function(a){a.keyCode===Rb.code.ENTER&&(a.preventDefault(),b.trigger("click"))})},b.prototype.createVideoNode=function(b){var c,d=/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/,e=/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/,f=b.match(d),g=/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/,h=b.match(g),i=/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/,j=b.match(i),k=/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/,l=b.match(k),m=/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/,n=b.match(m),o=/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/,p=b.match(o),q=/\/\/v\.qq\.com.*?vid=(.+)/,r=b.match(q),s=/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/,t=b.match(s),u=/^.+.(mp4|m4v)$/,v=b.match(u),w=/^.+.(ogg|ogv)$/,x=b.match(w),y=/^.+.(webm)$/,z=b.match(y),A=/(?:www\.|\/\/)facebook\.com\/([^\/]+)\/videos\/([0-9]+)/,B=b.match(A);if(f&&11===f[1].length){var C=f[1],D=0;if("undefined"!=typeof f[2]){var E=f[2].match(e);if(E)for(var F=[3600,60,1],G=0,H=F.length;H>G;G++)D+="undefined"!=typeof E[G+1]?F[G]*parseInt(E[G+1],10):0}c=a("<iframe>").attr("frameborder",0).attr("src","//www.youtube.com/embed/"+C+(D>0?"?start="+D:"")).attr("width","640").attr("height","360");
}else if(h&&h[0].length)c=a("<iframe>").attr("frameborder",0).attr("src","https://instagram.com/p/"+h[1]+"/embed/").attr("width","612").attr("height","710").attr("scrolling","no").attr("allowtransparency","true");else if(j&&j[0].length)c=a("<iframe>").attr("frameborder",0).attr("src",j[0]+"/embed/simple").attr("width","600").attr("height","600").attr("class","vine-embed");else if(l&&l[3].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("src","//player.vimeo.com/video/"+l[3]).attr("width","640").attr("height","360");else if(n&&n[2].length)c=a("<iframe>").attr("frameborder",0).attr("src","//www.dailymotion.com/embed/video/"+n[2]).attr("width","640").attr("height","360");else if(p&&p[1].length)c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","498").attr("width","510").attr("src","//player.youku.com/embed/"+p[1]);else if(r&&r[1].length||t&&t[2].length){var I=r&&r[1].length?r[1]:t[2];c=a("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder",0).attr("height","310").attr("width","500").attr("src","http://v.qq.com/iframe/player.html?vid="+I+"&amp;auto=0")}else if(v||x||z)c=a("<video controls>").attr("src",b).attr("width","640").attr("height","360");else{if(!B||!B[0].length)return!1;c=a("<iframe>").attr("frameborder",0).attr("src","https://www.facebook.com/plugins/video.php?href="+encodeURIComponent(B[0])+"&show_text=0&width=560").attr("width","560").attr("height","301").attr("scrolling","no").attr("allowtransparency","true")}return c.addClass("note-video-clip"),c[0]},b.prototype.show=function(){var a=this,b=this.context.invoke("editor.getSelectedText");this.context.invoke("editor.saveRange"),this.showVideoDialog(b).then(function(b){a.ui.hideDialog(a.$dialog),a.context.invoke("editor.restoreRange");var c=a.createVideoNode(b);c&&a.context.invoke("editor.insertNode",c)}).fail(function(){a.context.invoke("editor.restoreRange")})},b.prototype.showVideoDialog=function(b){var c=this;return a.Deferred(function(a){var b=c.$dialog.find(".note-video-url"),d=c.$dialog.find(".note-video-btn");c.ui.onDialogShown(c.$dialog,function(){c.context.triggerEvent("dialog.shown"),b.on("input paste propertychange",function(){c.ui.toggleBtn(d,b.val())}),wb.isSupportTouch||b.trigger("focus"),d.click(function(c){c.preventDefault(),a.resolve(b.val())}),c.bindEnterKey(b,d)}),c.ui.onDialogHidden(c.$dialog,function(){b.off(),d.off(),"pending"===a.state()&&a.reject()}),c.ui.showDialog(c.$dialog)})},b}(),uc=function(){function b(b){this.context=b,this.ui=a.summernote.ui,this.$body=a(document.body),this.$editor=b.layoutInfo.editor,this.options=b.options,this.lang=this.options.langInfo}return b.prototype.initialize=function(){var a=this.options.dialogsInBody?this.$body:this.$editor,b=['<p class="text-center">','<a href="http://summernote.org/" target="_blank">Summernote 0.8.12</a> · ','<a href="https://github.com/summernote/summernote" target="_blank">Project</a> · ','<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>',"</p>"].join("");this.$dialog=this.ui.dialog({title:this.lang.options.help,fade:this.options.dialogsFade,body:this.createShortcutList(),footer:b,callback:function(a){a.find(".modal-body,.note-modal-body").css({"max-height":300,overflow:"scroll"})}}).render().appendTo(a)},b.prototype.destroy=function(){this.ui.hideDialog(this.$dialog),this.$dialog.remove()},b.prototype.createShortcutList=function(){var b=this,c=this.options.keyMap[wb.isMac?"mac":"pc"];return Object.keys(c).map(function(d){var e=c[d],f=a('<div><div class="help-list-item"/></div>');return f.append(a("<label><kbd>"+d+"</kdb></label>").css({width:180,"margin-right":10})).append(a("<span/>").html(b.context.memo("help."+e)||e)),f.html()}).join("")},b.prototype.showHelpDialog=function(){var b=this;return a.Deferred(function(a){b.ui.onDialogShown(b.$dialog,function(){b.context.triggerEvent("dialog.shown"),a.resolve()}),b.ui.showDialog(b.$dialog)}).promise()},b.prototype.show=function(){var a=this;this.context.invoke("editor.saveRange"),this.showHelpDialog().then(function(){a.context.invoke("editor.restoreRange")})},b}(),vc=20,wc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.options=b.options,this.events={"summernote.keyup summernote.mouseup summernote.scroll":function(){c.update()},"summernote.disable summernote.change summernote.dialog.shown":function(){c.hide()},"summernote.focusout":function(a,b){wb.isFF||b.relatedTarget&&Mb.ancestor(b.relatedTarget,yb.eq(c.$popover[0]))||c.hide()}}}return b.prototype.shouldInitialize=function(){return this.options.airMode&&!zb.isEmpty(this.options.popover.air)},b.prototype.initialize=function(){this.$popover=this.ui.popover({className:"note-air-popover"}).render().appendTo(this.options.container);var a=this.$popover.find(".popover-content");this.context.invoke("buttons.build",a,this.options.popover.air)},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.update=function(){var a=this.context.invoke("editor.currentStyle");if(a.range&&!a.range.isCollapsed()){var b=zb.last(a.range.getClientRects());if(b){var c=yb.rect2bnd(b);this.$popover.css({display:"block",left:Math.max(c.left+c.width/2,0)-vc,top:c.top+c.height}),this.context.invoke("buttons.updateCurrentStyle",this.$popover)}}else this.hide()},b.prototype.hide=function(){this.$popover.hide()},b}(),xc=5,yc=function(){function b(b){var c=this;this.context=b,this.ui=a.summernote.ui,this.$editable=b.layoutInfo.editable,this.options=b.options,this.hint=this.options.hint||[],this.direction=this.options.hintDirection||"bottom",this.hints=Array.isArray(this.hint)?this.hint:[this.hint],this.events={"summernote.keyup":function(a,b){b.isDefaultPrevented()||c.handleKeyup(b)},"summernote.keydown":function(a,b){c.handleKeydown(b)},"summernote.disable summernote.dialog.shown":function(){c.hide()}}}return b.prototype.shouldInitialize=function(){return this.hints.length>0},b.prototype.initialize=function(){var b=this;this.lastWordRange=null,this.$popover=this.ui.popover({className:"note-hint-popover",hideArrow:!0,direction:""}).render().appendTo(this.options.container),this.$popover.hide(),this.$content=this.$popover.find(".popover-content,.note-popover-content"),this.$content.on("click",".note-hint-item",function(c){b.$content.find(".active").removeClass("active"),a(c.currentTarget).addClass("active"),b.replace()})},b.prototype.destroy=function(){this.$popover.remove()},b.prototype.selectItem=function(a){this.$content.find(".active").removeClass("active"),a.addClass("active"),this.$content[0].scrollTop=a[0].offsetTop-this.$content.innerHeight()/2},b.prototype.moveDown=function(){var a=this.$content.find(".note-hint-item.active"),b=a.next();if(b.length)this.selectItem(b);else{var c=a.parent().next();c.length||(c=this.$content.find(".note-hint-group").first()),this.selectItem(c.find(".note-hint-item").first())}},b.prototype.moveUp=function(){var a=this.$content.find(".note-hint-item.active"),b=a.prev();if(b.length)this.selectItem(b);else{var c=a.parent().prev();c.length||(c=this.$content.find(".note-hint-group").last()),this.selectItem(c.find(".note-hint-item").last())}},b.prototype.replace=function(){var a=this.$content.find(".note-hint-item.active");if(a.length){var b=this.nodeFromItem(a);this.lastWordRange.insertNode(b),Pb.createFromNode(b).collapse().select(),this.lastWordRange=null,this.hide(),this.context.triggerEvent("change",this.$editable.html(),this.$editable[0]),this.context.invoke("editor.focus")}},b.prototype.nodeFromItem=function(a){var b=this.hints[a.data("index")],c=a.data("item"),d=b.content?b.content(c):c;return"string"==typeof d&&(d=Mb.createText(d)),d},b.prototype.createItemTemplates=function(b,c){var d=this.hints[b];return c.map(function(c,e){var f=a('<div class="note-hint-item"/>');return f.append(d.template?d.template(c):c+""),f.data({index:b,item:c}),f})},b.prototype.handleKeydown=function(a){this.$popover.is(":visible")&&(a.keyCode===Rb.code.ENTER?(a.preventDefault(),this.replace()):a.keyCode===Rb.code.UP?(a.preventDefault(),this.moveUp()):a.keyCode===Rb.code.DOWN&&(a.preventDefault(),this.moveDown()))},b.prototype.searchKeyword=function(a,b,c){var d=this.hints[a];if(d&&d.match.test(b)&&d.search){var e=d.match.exec(b);d.search(e[1],c)}else c()},b.prototype.createGroup=function(b,c){var d=this,e=a('<div class="note-hint-group note-hint-group-'+b+'"/>');return this.searchKeyword(b,c,function(a){a=a||[],a.length&&(e.html(d.createItemTemplates(b,a)),d.show())}),e},b.prototype.handleKeyup=function(a){var b=this;if(!zb.contains([Rb.code.ENTER,Rb.code.UP,Rb.code.DOWN],a.keyCode)){var c=this.context.invoke("editor.getLastRange").getWordRange(),d=c.toString();if(this.hints.length&&d){this.$content.empty();var e=yb.rect2bnd(zb.last(c.getClientRects()));e&&(this.$popover.hide(),this.lastWordRange=c,this.hints.forEach(function(a,c){a.match.test(d)&&b.createGroup(c,d).appendTo(b.$content)}),this.$content.find(".note-hint-item:first").addClass("active"),"top"===this.direction?this.$popover.css({left:e.left,top:e.top-this.$popover.outerHeight()-xc}):this.$popover.css({left:e.left,top:e.top+e.height+xc}))}else this.hide()}},b.prototype.show=function(){this.$popover.show()},b.prototype.hide=function(){this.$popover.hide()},b}();a.summernote=a.extend(a.summernote,{version:"0.8.12",plugins:{},dom:Mb,range:Pb,options:{langInfo:a.summernote.lang["en-US"],modules:{editor:$b,clipboard:_b,dropzone:ac,codeview:bc,statusbar:dc,fullscreen:ec,handle:fc,hintPopover:yc,autoLink:ic,autoSync:jc,autoReplace:kc,placeholder:lc,buttons:mc,toolbar:nc,linkDialog:oc,linkPopover:pc,imageDialog:qc,imagePopover:rc,tablePopover:sc,videoDialog:tc,helpDialog:uc,airPopover:wc},buttons:{},lang:"en-US",followingToolbar:!1,otherStaticBar:"",toolbar:[["style",["style"]],["font",["bold","underline","clear"]],["fontname",["fontname"]],["color",["color"]],["para",["ul","ol","paragraph"]],["table",["table"]],["insert",["link","picture","video"]],["view",["fullscreen","codeview","help"]]],popatmouse:!0,popover:{image:[["resize",["resizeFull","resizeHalf","resizeQuarter","resizeNone"]],["float",["floatLeft","floatRight","floatNone"]],["remove",["removeMedia"]]],link:[["link",["linkDialogShow","unlink"]]],table:[["add",["addRowDown","addRowUp","addColLeft","addColRight"]],["delete",["deleteRow","deleteCol","deleteTable"]]],air:[["color",["color"]],["font",["bold","underline","clear"]],["para",["ul","paragraph"]],["table",["table"]],["insert",["link","picture"]]]},airMode:!1,width:null,height:null,linkTargetBlank:!0,focus:!1,tabSize:4,styleWithSpan:!0,shortcuts:!0,textareaAutoSync:!0,hintDirection:"bottom",tooltip:"auto",container:"body",maxTextLength:0,blockquoteBreakingLevel:2,spellCheck:!0,styleTags:["p","blockquote","pre","h1","h2","h3","h4","h5","h6"],fontNames:["Arial","Arial Black","Comic Sans MS","Courier New","Helvetica Neue","Helvetica","Impact","Lucida Grande","Tahoma","Times New Roman","Verdana"],fontNamesIgnoreCheck:[],fontSizes:["8","9","10","11","12","14","18","24","36"],colors:[["#000000","#424242","#636363","#9C9C94","#CEC6CE","#EFEFEF","#F7F7F7","#FFFFFF"],["#FF0000","#FF9C00","#FFFF00","#00FF00","#00FFFF","#0000FF","#9C00FF","#FF00FF"],["#F7C6CE","#FFE7CE","#FFEFC6","#D6EFD6","#CEDEE7","#CEE7F7","#D6D6E7","#E7D6DE"],["#E79C9C","#FFC69C","#FFE79C","#B5D6A5","#A5C6CE","#9CC6EF","#B5A5D6","#D6A5BD"],["#E76363","#F7AD6B","#FFD663","#94BD7B","#73A5AD","#6BADDE","#8C7BC6","#C67BA5"],["#CE0000","#E79439","#EFC631","#6BA54A","#4A7B8C","#3984C6","#634AA5","#A54A7B"],["#9C0000","#B56308","#BD9400","#397B21","#104A5A","#085294","#311873","#731842"],["#630000","#7B3900","#846300","#295218","#083139","#003163","#21104A","#4A1031"]],colorsName:[["Black","Tundora","Dove Gray","Star Dust","Pale Slate","Gallery","Alabaster","White"],["Red","Orange Peel","Yellow","Green","Cyan","Blue","Electric Violet","Magenta"],["Azalea","Karry","Egg White","Zanah","Botticelli","Tropical Blue","Mischka","Twilight"],["Tonys Pink","Peach Orange","Cream Brulee","Sprout","Casper","Perano","Cold Purple","Careys Pink"],["Mandy","Rajah","Dandelion","Olivine","Gulf Stream","Viking","Blue Marguerite","Puce"],["Guardsman Red","Fire Bush","Golden Dream","Chelsea Cucumber","Smalt Blue","Boston Blue","Butterfly Bush","Cadillac"],["Sangria","Mai Tai","Buddha Gold","Forest Green","Eden","Venice Blue","Meteorite","Claret"],["Rosewood","Cinnamon","Olive","Parsley","Tiber","Midnight Blue","Valentino","Loulou"]],colorButton:{foreColor:"#000000",backColor:"#FFFF00"},lineHeights:["1.0","1.2","1.4","1.5","1.6","1.8","2.0","3.0"],tableClassName:"table table-bordered",insertTableMaxSize:{col:10,row:10},dialogsInBody:!1,dialogsFade:!1,maximumImageFileSize:null,callbacks:{onBeforeCommand:null,onBlur:null,onBlurCodeview:null,onChange:null,onChangeCodeview:null,onDialogShown:null,onEnter:null,onFocus:null,onImageLinkInsert:null,onImageUpload:null,onImageUploadError:null,onInit:null,onKeydown:null,onKeyup:null,onMousedown:null,onMouseup:null,onPaste:null,onScroll:null},codemirror:{mode:"text/html",htmlMode:!0,lineNumbers:!0},codeviewFilter:!1,codeviewFilterRegex:/<\/*(?:applet|b(?:ase|gsound|link)|embed|frame(?:set)?|ilayer|l(?:ayer|ink)|meta|object|s(?:cript|tyle)|t(?:itle|extarea)|xml)[^>]*?>/gi,codeviewIframeFilter:!0,codeviewIframeWhitelistSrc:[],codeviewIframeWhitelistSrcBase:["www.youtube.com","www.youtube-nocookie.com","www.facebook.com","vine.co","instagram.com","player.vimeo.com","www.dailymotion.com","player.youku.com","v.qq.com"],keyMap:{pc:{ENTER:"insertParagraph","CTRL+Z":"undo","CTRL+Y":"redo",TAB:"tab","SHIFT+TAB":"untab","CTRL+B":"bold","CTRL+I":"italic","CTRL+U":"underline","CTRL+SHIFT+S":"strikethrough","CTRL+BACKSLASH":"removeFormat","CTRL+SHIFT+L":"justifyLeft","CTRL+SHIFT+E":"justifyCenter","CTRL+SHIFT+R":"justifyRight","CTRL+SHIFT+J":"justifyFull","CTRL+SHIFT+NUM7":"insertUnorderedList","CTRL+SHIFT+NUM8":"insertOrderedList","CTRL+LEFTBRACKET":"outdent","CTRL+RIGHTBRACKET":"indent","CTRL+NUM0":"formatPara","CTRL+NUM1":"formatH1","CTRL+NUM2":"formatH2","CTRL+NUM3":"formatH3","CTRL+NUM4":"formatH4","CTRL+NUM5":"formatH5","CTRL+NUM6":"formatH6","CTRL+ENTER":"insertHorizontalRule","CTRL+K":"linkDialog.show"},mac:{ENTER:"insertParagraph","CMD+Z":"undo","CMD+SHIFT+Z":"redo",TAB:"tab","SHIFT+TAB":"untab","CMD+B":"bold","CMD+I":"italic","CMD+U":"underline","CMD+SHIFT+S":"strikethrough","CMD+BACKSLASH":"removeFormat","CMD+SHIFT+L":"justifyLeft","CMD+SHIFT+E":"justifyCenter","CMD+SHIFT+R":"justifyRight","CMD+SHIFT+J":"justifyFull","CMD+SHIFT+NUM7":"insertUnorderedList","CMD+SHIFT+NUM8":"insertOrderedList","CMD+LEFTBRACKET":"outdent","CMD+RIGHTBRACKET":"indent","CMD+NUM0":"formatPara","CMD+NUM1":"formatH1","CMD+NUM2":"formatH2","CMD+NUM3":"formatH3","CMD+NUM4":"formatH4","CMD+NUM5":"formatH5","CMD+NUM6":"formatH6","CMD+ENTER":"insertHorizontalRule","CMD+K":"linkDialog.show"}},icons:{align:"note-icon-align",alignCenter:"note-icon-align-center",alignJustify:"note-icon-align-justify",alignLeft:"note-icon-align-left",alignRight:"note-icon-align-right",rowBelow:"note-icon-row-below",colBefore:"note-icon-col-before",colAfter:"note-icon-col-after",rowAbove:"note-icon-row-above",rowRemove:"note-icon-row-remove",colRemove:"note-icon-col-remove",indent:"note-icon-align-indent",outdent:"note-icon-align-outdent",arrowsAlt:"note-icon-arrows-alt",bold:"note-icon-bold",caret:"note-icon-caret",circle:"note-icon-circle",close:"note-icon-close",code:"note-icon-code",eraser:"note-icon-eraser",floatLeft:"note-icon-float-left",floatRight:"note-icon-float-right",font:"note-icon-font",frame:"note-icon-frame",italic:"note-icon-italic",link:"note-icon-link",unlink:"note-icon-chain-broken",magic:"note-icon-magic",menuCheck:"note-icon-menu-check",minus:"note-icon-minus",orderedlist:"note-icon-orderedlist",pencil:"note-icon-pencil",picture:"note-icon-picture",question:"note-icon-question",redo:"note-icon-redo",rollback:"note-icon-rollback",square:"note-icon-square",strikethrough:"note-icon-strikethrough",subscript:"note-icon-subscript",superscript:"note-icon-superscript",table:"note-icon-table",textHeight:"note-icon-text-height",trash:"note-icon-trash",underline:"note-icon-underline",undo:"note-icon-undo",unorderedlist:"note-icon-unorderedlist",video:"note-icon-video"}}}),a.summernote=a.extend(a.summernote,{ui:mb})})},{jquery:528}],748:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(null==a)return{};var c,d,e=f(a,b);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(a);for(d=0;d<g.length;d++)c=g[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function f(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function g(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function h(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function i(a,b,c){return b&&h(a.prototype,b),c&&h(a,c),a}function j(a){function b(a){return e.indexOf(a)>=0}function c(a){e.push(a)}function d(a){b(a)||((a.__depends__||[]).forEach(d),b(a)||(c(a),(a.__init__||[]).forEach(function(a){f.push(a)})))}var e=[],f=[];a.forEach(d);var g=new l.Injector(e);return f.forEach(function(a){try{g["string"==typeof a?"get":"invoke"](a)}catch(b){throw console.error("Failed to instantiate component"),console.error(b.stack),b}}),g}function k(a,b){var c=[{config:["value",a]},m["default"]].concat(b||[]);return j(c)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var l=a("didi"),m=d(a("./core")),n=function(){function a(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,a);var c=b.injector;if(!c){var d=this._init(b),e=d.modules,f=d.config;c=k(f,e)}this.get=c.get,this.invoke=c.invoke,this.get("eventBus").fire("table.init"),this.get("eventBus").fire("diagram.init")}return i(a,[{key:"_init",value:function(a){var b=a.modules,c=e(a,["modules"]);return{modules:b,config:c}}},{key:"destroy",value:function(){var a=this.get("eventBus");a.fire("table.destroy"),a.fire("diagram.destroy")}},{key:"clear",value:function(){var a=this.get("eventBus");a.fire("table.clear"),a.fire("diagram.clear")}}]),a}();c["default"]=n},{"./core":765,didi:69}],749:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return e["default"]}});var e=d(a("diagram-js/lib/command"))},{"diagram-js/lib/command":63}],750:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){var c=Object.keys(a);return Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a)),b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e(c,!0).forEach(function(b){g(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b){if(null==a)return{};var c,d,e=i(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}function i(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function l(a,b,c){return b&&k(a.prototype,b),c&&k(a,c),a}function m(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?o(a):b}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function p(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&q(a,b)}function q(a,b){return(q=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var r=a("inferno"),s=a("./utils"),t=a("./mixins"),u=function(a){function b(a,c){var d;return j(this,b),d=m(this,n(b).call(this,a,c)),s.mixin(o(d),t.SelectionAware),s.inject(o(d)),d}return p(b,a),l(b,[{key:"getRenderProps",value:function(){for(var a=this.props,b=a.className,c=a.elementId,d=a.coords,e=h(a,["className","elementId","coords"]),g=arguments.length,i=new Array(g),j=0;g>j;j++)i[j]=arguments[j];var k={className:s.classNames.apply(void 0,i.concat([this.getSelectionClasses(),b]))};return c&&(k["data-element-id"]=c),d&&(k["data-coords"]=d),f({},k,{},e)}}]),b}(r.Component);c["default"]=u},{"./mixins":756,"./utils":759,inferno:526}],751:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){var c=Object.keys(a);return Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a)),b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(c,!0).forEach(function(b){h(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}function l(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?m(a):b}function m(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&p(a,b)}function p(a,b){return(p=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var q=a("inferno"),r=d(a("./BaseCell")),s=function(a){function b(a,c){var d;return i(this,b),d=l(this,n(b).call(this,a,c)),d.state={},d}return o(b,a),k(b,[{key:"render",value:function(){var a=this.props.children,b=this.getRenderProps("cell");return q.normalizeProps(q.createVNode(1,"td",null,a,0,g({},b)))}}]),b}(r["default"]);c["default"]=s},{"./BaseCell":750,inferno:526}],752:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?i(a):b}function i(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function j(a){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(){return e(this,b),h(this,j(b).apply(this,arguments))}return k(b,a),g(b,[{key:"getChildContext",value:function(){return{injector:this.props.injector}}},{key:"render",value:function(){return this.props.children}}]),b}(m.Component);c["default"]=n},{inferno:526}],753:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function f(a,b){var c=Object.keys(a);return Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a)),b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c}function g(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?f(c,!0).forEach(function(b){h(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):f(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function h(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function i(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function j(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function k(a,b,c){return b&&j(a.prototype,b),c&&j(a,c),a}function l(a,b){return!b||"object"!==e(b)&&"function"!=typeof b?m(a):b}function m(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function n(a){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function o(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&p(a,b)}function p(a,b){return(p=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var q=a("inferno"),r=d(a("./BaseCell")),s=function(a){function b(a,c){var d;return i(this,b),d=l(this,n(b).call(this,a,c)),d.state={},d}return o(b,a),k(b,[{key:"render",value:function(){var a=this.props.children,b=this.getRenderProps("cell","header-cell");return q.normalizeProps(q.createVNode(1,"th",null,a,0,g({},b)))}}]),b}(r["default"]);c["default"]=s},{"./BaseCell":750,inferno:526}],754:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0});var e={Cell:!0,DiContainer:!0,HeaderCell:!0};Object.defineProperty(c,"Cell",{enumerable:!0,get:function(){return f["default"]}}),Object.defineProperty(c,"DiContainer",{enumerable:!0,get:function(){return g["default"]}}),Object.defineProperty(c,"HeaderCell",{enumerable:!0,get:function(){return h["default"]}});var f=d(a("./Cell")),g=d(a("./DiContainer")),h=d(a("./HeaderCell")),i=a("./mixins");Object.keys(i).forEach(function(a){"default"!==a&&"__esModule"!==a&&(Object.prototype.hasOwnProperty.call(e,a)||Object.defineProperty(c,a,{enumerable:!0,get:function(){return i[a]}}))});var j=a("./utils");Object.keys(j).forEach(function(a){"default"!==a&&"__esModule"!==a&&(Object.prototype.hasOwnProperty.call(e,a)||Object.defineProperty(c,a,{enumerable:!0,get:function(){return j[a]}}))})},{"./Cell":751,"./DiContainer":752,"./HeaderCell":753,"./mixins":756,"./utils":759}],755:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var d=a("../utils"),e={getSelectionClasses:function(){var a=this.state,b=a.selected,c=a.selectedSecondary,e=a.focussed;return d.classNames({selected:b,"selected-secondary":c,focussed:e})},selectionChanged:function(a){this.setState(a)},componentWillUpdate:function(a){a.elementId!==this.props.elementId&&this.updateSelectionSubscription(!1)},componentDidUpdate:function(a){a.elementId!==this.props.elementId&&this.updateSelectionSubscription(!0)},componentDidMount:function(){this.updateSelectionSubscription(!0)},componentWillUnmount:function(){this.updateSelectionSubscription(!1)},updateSelectionSubscription:function(a){var b=this.props.elementId;b&&b&&this.eventBus[a?"on":"off"]("selection.".concat(b,".changed"),this.selectionChanged)}},f=e;c["default"]=f,e.$inject=["eventBus"]},{"../utils":759}],756:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"SelectionAware",{enumerable:!0,get:function(){return e["default"]}});var e=d(a("./SelectionAware"))},{"./SelectionAware":755}],757:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){var c=Object.keys(a);return Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a)),b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e(c,!0).forEach(function(b){g(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a){return k(a)||j(a)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function j(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function k(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function l(){return{elements:[],index:{}}}function m(a,b){var c=a.elements,d=a.index;return d[b]?a:{elements:[].concat(h(c),[b]),index:f({},d,g({},b,!0))}}function n(a,b){return a.elements.join(b)}function o(){for(var a=l(),b=arguments.length,c=new Array(b),e=0;b>e;e++)c[e]=arguments[e];return c.forEach(function(b){var c=d(b);"string"===c&&b.length>0?a=m(a,b):"object"===c&&null!==b&&Object.keys(b).forEach(function(c){var d=b[c];d&&(a=m(a,c))})}),n(a," ");
}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=o},{}],758:[function(a,b,c){"use strict";function d(a){for(var b=arguments.length,c=new Array(b>1?b-1:0),d=1;b>d;d++)c[d-1]=arguments[d];return function(){for(var b=arguments.length,d=new Array(b),e=0;b>e;e++)d[e]=arguments[e];var f;return c.forEach(function(b){return f=b.call.apply(b,[a].concat(d)),"undefined"!=typeof f?!1:void 0}),f}.bind(a)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=d},{}],759:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"classNames",{enumerable:!0,get:function(){return e["default"]}}),Object.defineProperty(c,"inject",{enumerable:!0,get:function(){return f.inject}}),Object.defineProperty(c,"injectType",{enumerable:!0,get:function(){return f.injectType}}),Object.defineProperty(c,"compose",{enumerable:!0,get:function(){return g["default"]}}),Object.defineProperty(c,"mixin",{enumerable:!0,get:function(){return h["default"]}});var e=d(a("./classNames")),f=a("./inject"),g=d(a("./compose")),h=d(a("./mixin"))},{"./classNames":757,"./compose":758,"./inject":760,"./mixin":761}],760:[function(a,b,c){"use strict";function d(a){return g(a)||f(a)||e()}function e(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(a){return Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0}function g(a){if(Array.isArray(a)){for(var b=0,c=new Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function h(a){var b=a.constructor;return i(b,a)}function i(a,b){var c=a.$inject;if(c){var e=b.context.injector,f=[].concat(d(c),[function(){for(var a=arguments.length,d=new Array(a),e=0;a>e;e++)d[e]=arguments[e];for(var f in d){var g=c[f],h=d[f];b[g]=h}}]);e.invoke(f)}}Object.defineProperty(c,"__esModule",{value:!0}),c.inject=h,c.injectType=i},{}],761:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){Object.keys(b).forEach(function(c){if("$inject"!==c&&"__init"!==c){var d=b[c];"constructor"===c&&d.call(a,a.props,a.context);var e=a[c];if("undefined"!=typeof e){if("function"!=typeof e)throw new Error("failed to mixin <".concat(c,">: cannot combine with non-fn component value"));a[c]=f["default"](a,e,d)}else a[c]=d.bind(a)}}),"$inject"in b&&g.injectType(b,a),"__init"in b&&b.__init.call(a,a.props,a.context)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=e;var f=d(a("./compose")),g=a("./inject")},{"./compose":758,"./inject":760}],762:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("../model"),h=function(){function a(){d(this,a),this._uid=12}return f(a,[{key:"create",value:function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.id||(b.id=a+"_"+this._uid++),g.create(a,b)}},{key:"createRoot",value:function(a){return this.create("root",a)}},{key:"createRow",value:function(a){return this.create("row",a)}},{key:"createCol",value:function(a){return this.create("col",a)}},{key:"createCell",value:function(a){return this.create("cell",a)}}]),a}();c["default"]=h},{"../model":788}],763:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a){return Object.keys(a).map(function(b){return a[b]})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=function(){function a(b){d(this,a),this._eventBus=b,this._elements={},b.on("table.clear",this.clear.bind(this))}return f(a,[{key:"add",value:function(a,b){var c=a.id;this._elements[c]=a}},{key:"remove",value:function(a){var b=a.id||a;delete this._elements[b]}},{key:"get",value:function(a){return this._elements[a]}},{key:"getAll",value:function(){return g(this._elements)}},{key:"forEach",value:function(a){g(this._elements).forEach(function(b){return a(b)})}},{key:"filter",value:function(a){return g(this._elements).filter(function(b){return a(b)})}},{key:"clear",value:function(){this._elements={}}},{key:"updateId",value:function(a,b){this._validateId(b),"string"==typeof a&&(a=this.get(a)),this._eventBus.fire("element.updateId",{element:a,newId:b}),this.remove(a),a.id=b,this.add(a)}},{key:"_validateId",value:function(a){if(!a)throw new Error("element must have an id");if(this._elements[a])throw new Error("element with id "+a+" already added")}}]),a}();c["default"]=h,h.$inject=["eventBus"]},{}],764:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b,c){return b.splice(a,0,c)}function h(a,b){return b.splice(a,1)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=function(){function a(b,c){var e=this;d(this,a),this._elementRegistry=b,this._eventBus=c,this._root=null,c.on("table.clear",function(){e.setRoot(null)})}return f(a,[{key:"setRoot",value:function(a){if(this._root){var b=this._root;this._eventBus.fire("root.remove",{root:b}),this._root=null,this._eventBus.fire("root.removed",{root:b})}a&&this._eventBus.fire("root.add",{root:a}),this._root=a,a&&this._eventBus.fire("root.added",{root:a})}},{key:"getRoot",value:function(){return this._root||this.setRoot({id:"__implicitroot",rows:[],cols:[]}),this._root}},{key:"addRow",value:function(a,b){var c=this,d=this.getRoot();if(d.cols.length!=a.cells.length)throw new Error("number of cells is not equal to number of cols");return"undefined"==typeof b&&(b=d.rows.length),g(b,d.rows,a),a.root=d,this._elementRegistry.add(a),a.cells.forEach(function(e,f){c._elementRegistry.add(e),e.row=a,e.col=d.cols[f],g(b,d.cols[f].cells,e)}),this._eventBus.fire("row.add",{row:a}),a}},{key:"removeRow",value:function(a){var b=this,c=this.getRoot();"string"==typeof a&&(a=this._elementRegistry.get(a));var d=c.rows.indexOf(a);-1!==d&&(h(d,c.rows),a.root=void 0,this._elementRegistry.remove(a),a.cells.forEach(function(a,e){b._elementRegistry.remove(a),a.col=void 0,h(d,c.cols[e].cells)}),this._eventBus.fire("row.remove",{row:a}))}},{key:"addCol",value:function(a,b){var c=this,d=this.getRoot();if(this._elementRegistry.add(a),d.rows.length!=a.cells.length)throw new Error("number of cells is not equal to number of rows");return"undefined"==typeof b&&(b=d.cols.length),g(b,d.cols,a),a.root=d,a.cells.forEach(function(e,f){c._elementRegistry.add(e),e.col=a,e.row=d.rows[f],g(b,d.rows[f].cells,e)}),this._eventBus.fire("col.add",{col:a}),a}},{key:"removeCol",value:function(a){var b=this,c=this.getRoot();"string"==typeof a&&(a=this._elementRegistry.get(a));var d=c.cols.indexOf(a);-1!==d&&(h(d,c.cols),a.root=void 0,this._elementRegistry.remove(a),a.cells.forEach(function(a,e){b._elementRegistry.remove(a),a.row=void 0,h(d,c.rows[e].cells)}),this._eventBus.fire("col.remove",{col:a}))}},{key:"resized",value:function(){this._eventBus.fire("sheet.resized")}}]),a}();c["default"]=i,i.$inject=["elementRegistry","eventBus"]},{}],765:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ElementFactory")),f=d(a("./ElementRegistry")),g=d(a("diagram-js/lib/core/EventBus")),h=d(a("../render")),i=d(a("./Sheet")),j={__depends__:[h["default"]],__init__:["elementFactory","sheet"],elementFactory:["type",e["default"]],elementRegistry:["type",f["default"]],eventBus:["type",g["default"]],sheet:["type",i["default"]]};c["default"]=j},{"../render":793,"./ElementFactory":762,"./ElementRegistry":763,"./Sheet":764,"diagram-js/lib/core/EventBus":64}],766:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=d(a("./components/ContextMenuComponent")),i=function(){function a(b,c,d){e(this,a),this._eventBus=c,b.onGetComponent("table.before",function(){return h["default"]})}return g(a,[{key:"open",value:function(a,b){this._eventBus.fire("contextMenu.open",{position:a,context:b})}},{key:"close",value:function(){this._eventBus.fire("contextMenu.close")}}]),a}();c["default"]=i,i.$inject=["components","eventBus","renderer"]},{"./components/ContextMenuComponent":767}],767:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function m(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function n(a,b,c){return Math.max(b,Math.min(c,a))}function o(a){var b=s.query(w,a);b&&(b.focus(),b.selectionStart&&"text"===b.type?b.selectionStart=1e5:"contentEditable"in b&&t.setRange(b,{start:1e5,end:1e5}))}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var p=a("inferno"),q=a("min-dash"),r=a("../../../components"),s=a("min-dom"),t=a("selection-ranges"),u=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"open",function(a){var b=a.position,c=a.context;d.close(),d.setState({isOpen:!0,position:b||{x:0,y:0},context:c||{}})}),m(j(d),"close",function(){d.state.isOpen&&d.setState({context:void 0,isOpen:!1,position:{x:0,y:0}})}),m(j(d),"triggerClose",function(){d.eventBus.fire("contextMenu.close")}),d.state={isOpen:!1,position:{x:0,y:0}},r.inject(j(d)),d}return k(b,a),g(b,[{key:"componentDidMount",value:function(){this.eventBus.on("contextMenu.open",this.open),this.eventBus.on("contextMenu.close",this.close)}},{key:"componentWillUnmount",value:function(){this.eventBus.off("contextMenu.open",this.open),this.eventBus.off("contextMenu.close",this.close)}},{key:"render",value:function(){var a=this.state,b=a.isOpen,c=a.context,d=a.position;if(!b)return null;var e=this.components.getComponents("context-menu",c);return e.length?p.createComponentVNode(2,v,{className:"context-menu no-deselect",context:c,position:d,offset:c.offset||{x:0,y:0},autoFocus:c.autoFocus!==!1,autoClose:c.autoClose!==!1,components:e,onClose:this.triggerClose}):null}}]),b}(p.Component);c["default"]=u,u.$inject=["eventBus","components"];var v=function(a){function b(a,c){var d;return e(this,b),d=h(this,i(b).call(this,a,c)),m(j(d),"onGlobalMouseDown",function(a){d.checkClose(a.target)}),m(j(d),"onGlobalKey",function(a){var b=a.which;(13===b||27===b)&&(a.stopPropagation(),a.preventDefault(),d.close())}),m(j(d),"onFocusChanged",function(a){d.checkClose(a.target)}),m(j(d),"setNode",function(a){d.node=a;var b=d.props.autoFocus;a&&(d.updatePosition(),b&&o(a))}),r.inject(j(d)),d}return k(b,a),g(b,[{key:"close",value:function(){var a=this.props.onClose;q.isFunction(a)&&a()}},{key:"checkClose",value:function(a){var b=this.props.autoClose;if(b){var c=this.node;c&&c!==a&&(c.contains(a)||this.close())}}},{key:"componentDidMount",value:function(){document.addEventListener("focusin",this.onFocusChanged),document.addEventListener("keydown",this.onGlobalKey),document.addEventListener("mousedown",this.onGlobalMouseDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("focusin",this.onFocusChanged),document.removeEventListener("keydown",this.onGlobalKey),document.removeEventListener("mousedown",this.onGlobalMouseDown)}},{key:"updatePosition",value:function(){var a=this.props,b=a.position,c=a.offset,d=this.node.getBoundingClientRect();b.width||(b.width=0),b.height||(b.height=0);var e=this.renderer.getContainer(),f=e.getBoundingClientRect();f.width>f.height?(this.node.classList.add("horizontal"),this.node.classList.remove("vertical")):(this.node.classList.add("vertical"),this.node.classList.remove("horizontal"));var g=e.scrollLeft,h=e.scrollTop,i={};if(b.x+b.width/2>f.width/2){var j=b.x-f.left-d.width+c.x+g;j=n(j,0+g,f.width-d.width+g),i.left=j+"px"}else{var k=window.scrollX-f.left+b.x+b.width-c.x+g;k=n(k,0+g,f.width-d.width+g),i.left=k+"px"}var l;b.y+b.height/2>f.height/2?(l=b.y-f.top-d.height+c.y+h,l=n(l,0+h,f.height-d.height+h),i.top=l+"px"):(l=window.scrollY-f.top+b.y-c.y+h,l=n(l,0+h,f.height-d.height+h),i.top=l+"px"),i.overflowY="auto",i.maxHeight=f.height-l+h+"px",q.assign(this.node.style,i)}},{key:"render",value:function(){var a=this.props,b=a.context,c=a.components,d=a.className;return p.createVNode(1,"div",d,c.map(function(a,c){return p.createComponentVNode(2,a,{context:b},c)}),0,{onContextMenu:function(a){return a.preventDefault()}},null,this.setNode)}}]),b}(p.Component);v.$inject=["renderer"];var w="\n  input[type=text],\n  input[type=number],\n  input[type=button],\n  input[type=submit],\n  [contenteditable],\n  [tabindex],\n  a[href],\n  textarea,\n  button\n"},{"../../../components":754,inferno:526,"min-dash":734,"min-dom":735,"selection-ranges":745}],768:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ContextMenu")),f={__init__:["contextMenu"],contextMenu:["type",e["default"]]};c["default"]=f},{"./ContextMenu":766}],769:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b){a.stopPropagation(),b!==!0&&a.preventDefault()}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=a("../../model"),j=a("min-dom"),k=".dmn-decision-table-container td,\n   .dmn-decision-table-container th",l=function(){function a(b,c,e,f){var l=this;d(this,a),g(this,"handleDragOver",function(a){h(a);var b=a.target,c=j.closest(b,k,!0),d=!!c,e=l._dragContext.hoverEl;e&&e!==c&&(l._emit("dragAndDrop.dragLeave",a),l._dragContext.targetEl=null,l._dragContext.hoverEl=null),c&&(c!==e&&(l._dragContext.hoverEl=c,d=l._emit("dragAndDrop.dragEnter",a),d!==!1&&(l._dragContext.targetEl=c)),d=l._emit("dragAndDrop.dragOver",a)),a.dataTransfer.dropEffect=d!==!1?"move":"none"}),g(this,"handleDrop",function(a){h(a);var b=l._emit("dragAndDrop.drop",a);if(b){var c=l._dragContext.draggedElement;if(c instanceof i.Row){var d=l._sheet.getRoot(),e=d.rows,f=e.indexOf(b);l._modeling.moveRow(c,f)}else if(c instanceof i.Col){var g=l._sheet.getRoot(),j=g.cols,k=j.indexOf(b);l._modeling.moveCol(c,k)}}l.handleDragEnd(a)}),g(this,"handleDragEnd",function(a){h(a),l._unbindListeners(),l._emit("dragAndDrop.dragEnd",a),l._dragContext=null}),this._eventBus=b,this._renderer=c,this._modeling=e,this._sheet=f,this._dragContext=null,b.on("table.destroy",function(){l._unbindListeners()})}return f(a,[{key:"_bindListeners",value:function(){j.event.bind(document,"dragover",this.handleDragOver),j.event.bind(document,"drop",this.handleDrop),j.event.bind(document,"dragend",this.handleDragEnd)}},{key:"_unbindListeners",value:function(){j.event.unbind(document,"dragover",this.handleDragOver),j.event.unbind(document,"drop",this.handleDrop),j.event.unbind(document,"dragend",this.handleDragEnd)}},{key:"_emit",value:function(a,b){return this._eventBus.fire(a,{dragContext:this._dragContext,originalEvent:b})}},{key:"startDrag",value:function(a,b){h(b,!0),b.dataTransfer.effectAllowed="move",b.dataTransfer.setData&&b.dataTransfer.setData("text","__DUMMY"),this._dragContext={draggedElement:a},this._bindListeners(),this._emit("dragAndDrop.dragStart",b)}}]),a}();c["default"]=l,l.$inject=["eventBus","renderer","modeling","sheet"]},{"../../model":788,"min-dom":735}],770:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./DragAndDrop")),f={__init__:["dragAndDrop"],dragAndDrop:["type",e["default"]]};c["default"]=f},{"./DragAndDrop":769}],771:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b){return new Error(a+" "+b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("min-dash"),i="is not a registered action",j="is already registered",k=function(){function a(b,c,e,f){d(this,a),this._actions={undo:function(){b.undo()},redo:function(){b.redo()},select:function(a){var b=a.cell;f.select(b)},deselect:function(){f.deselect()},addRow:function(a){var b=a.attrs,c=a.index;e.addRow(b,c)},removeRow:function(a){var b=a.row;e.removeRow(b)},moveRow:function(a){var b=a.row,c=a.index;e.moveRow(b,c)},addCol:function(a){var b=a.attrs,c=a.index;e.addCol(b,c)},removeCol:function(a){var b=a.col;e.removeCol(b)},moveCol:function(a){var b=a.col,c=a.index;e.moveCol(b,c)}}}return f(a,[{key:"trigger",value:function(a,b){if(!this._actions[a])throw g(a,i);return this._actions[a](b)}},{key:"register",value:function(a,b){var c=this;return"string"==typeof a?this._registerAction(a,b):void h.forEach(a,function(a,b){c._registerAction(b,a)},this)}},{key:"_registerAction",value:function(a,b){if(this.isRegistered(a))throw g(a,j);this._actions[a]=b}},{key:"unregister",value:function(a){if(!this.isRegistered(a))throw g(a,i);this._actions[a]=void 0}},{key:"isRegistered",value:function(a){return!!this._actions[a]}}]),a}();c["default"]=k,k.$inject=["commandStack","eventBus","modeling","selection"]},{"min-dash":734}],772:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("../selection")),f=d(a("./EditorActions")),g={__depends__:[e["default"]],__init__:["editorActions"],editorActions:["type",f["default"]]};c["default"]=g},{"../selection":786,"./EditorActions":771}],773:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a){return i.closest(a,"[data-element-id]",!0)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var i=a("min-dom"),j=["click","dblclick","contextmenu","mousedown","mouseup","mouseenter","mouseleave","mouseout","mouseover","mousemove","focusin","focusout","drag","dragstart","dragend","dragover","dragenter","dragleave","drop"],k=function(){function a(b,c){var e=this;d(this,a),g(this,"_handleEvent",function(a){var b=a.target,c=a.type,d=h(b);if(d){var f=d.getAttribute("data-element-id");if(f){var g=e._eventBus.createEvent({id:f,event:a,node:d,target:d});e._eventBus.fire("cell.".concat(c),g),g.defaultPrevented&&a.preventDefault(),g.cancelBubble&&a.stopPropagation()}}}),this._eventBus=c,this._container=b.container,c.on("table.init",function(){e._addEventListeners(j)}),c.on("table.destroy",function(){e._removeEventListeners(j)})}return f(a,[{key:"_addEventListeners",value:function(a){var b=this,c=this._container;a.forEach(function(a){c.addEventListener(a,b._handleEvent)})}},{key:"_removeEventListeners",value:function(a){var b=this,c=this._container;a.forEach(function(a){c.removeEventListener(a,b._handleEvent)})}}]),a}();c["default"]=k,k.$inject=["config.renderer","eventBus"]},{"min-dom":735}],774:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./InteractionEvents")),f={__init__:["interactionEvents"],interactionEvents:["type",e["default"]]};c["default"]=f},{"./InteractionEvents":773}],775:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){var c=Object.keys(a);return Object.getOwnPropertySymbols&&c.push.apply(c,Object.getOwnPropertySymbols(a)),b&&(c=c.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c}function f(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?e(c,!0).forEach(function(b){g(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):e(c).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function g(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function j(a,b,c){return b&&i(a.prototype,b),c&&i(a,c),a}function k(a,b){l.forEach(a,function(a,c){b.registerHandler(c,a)})}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var l=a("min-dash"),m=a("../../model"),n=d(a("./cmd/AddRowHandler")),o=d(a("./cmd/RemoveRowHandler")),p=d(a("./cmd/MoveRowHandler")),q=d(a("./cmd/AddColHandler")),r=d(a("./cmd/RemoveColHandler")),s=d(a("./cmd/MoveColHandler")),t=d(a("./cmd/EditCellHandler")),u=function(){function a(b,c,d){var e=this;h(this,a),this._eventBus=b,this._elementFactory=c,this._commandStack=d,b.on("table.init",function(){k(e.getHandlers(),d)})}return j(a,[{key:"getHandlers",value:function(){return a._getHandlers()}},{key:"_create",value:function(a,b){return b instanceof m.Base?b:this._elementFactory.create(a,b)}},{key:"addRow",value:function(a,b){var c=this._create("row",a),d={row:c,index:b};return this._commandStack.execute("row.add",d),c}},{key:"removeRow",value:function(a){this._commandStack.execute("row.remove",{row:a})}},{key:"moveRow",value:function(a,b){var c={row:a,index:b};this._commandStack.execute("row.move",c)}},{key:"addCol",value:function(a,b){var c=this._create("col",a),d={col:c,index:b};return this._commandStack.execute("col.add",d),c}},{key:"removeCol",value:function(a){this._commandStack.execute("col.remove",{col:a})}},{key:"moveCol",value:function(a,b){var c={col:a,index:b};this._commandStack.execute("col.move",c)}},{key:"editCell",value:function(a,b){var c=f({cell:a},b);this._commandStack.execute("cell.edit",c)}}],[{key:"_getHandlers",value:function(){return{"row.add":n["default"],"row.remove":o["default"],"row.move":p["default"],"col.add":q["default"],"col.remove":r["default"],"col.move":s["default"],"cell.edit":t["default"]}}}]),a}();c["default"]=u,u.$inject=["eventBus","elementFactory","commandStack"]},{"../../model":788,"./cmd/AddColHandler":776,"./cmd/AddRowHandler":777,"./cmd/EditCellHandler":778,"./cmd/MoveColHandler":779,"./cmd/MoveRowHandler":780,"./cmd/RemoveColHandler":781,"./cmd/RemoveRowHandler":782,"min-dash":734}],776:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b,c){d(this,a),this._sheet=b,this._elementFactory=c}return f(a,[{key:"execute",value:function(a){var b=this._sheet,c=this._elementFactory,d=b.getRoot(),e=a.col,f=a.index;return"undefined"==typeof f&&(f=a.index=d.cols.length),a.newRoot=d,e.cells.length||d.rows.forEach(function(a,b){var d=c.create("cell",{row:a,col:e});e.cells[b]=d}),b.addCol(e,f),b.getRoot()}},{key:"revert",value:function(a){var b=a.col,c=this._sheet;return c.removeCol(b),c.getRoot()}}]),a}();c["default"]=g,g.$inject=["sheet","elementFactory"]},{}],777:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b,c){d(this,a),this._sheet=b,this._elementFactory=c}return f(a,[{key:"execute",value:function(a){var b=this._sheet,c=this._elementFactory,d=b.getRoot(),e=a.row,f=a.index;return"undefined"==typeof f&&(f=a.index=d.rows.length),a.newRoot=d,e.cells.length||d.cols.forEach(function(a,b){var d=c.create("cell",{row:e,col:a});e.cells[b]=d}),b.addRow(e,f),b.getRoot()}},{key:"revert",value:function(a){var b=a.row,c=this._sheet;return c.removeRow(b),c.getRoot()}}]),a}();c["default"]=g,g.$inject=["sheet","elementFactory"]},{}],778:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(){d(this,a)}return f(a,[{key:"execute",value:function(a){var b=a.cell;return b}},{key:"revert",value:function(a){var b=a.cell;return b}}]),a}();c["default"]=g},{}],779:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b){d(this,a),this._modeling=b}return f(a,[{key:"preExecute",value:function(a){var b=a.col;this._modeling.removeCol(b)}},{key:"postExecute",value:function(a){var b=a.col,c=a.index;this._modeling.addCol(b,c)}}]),a}();c["default"]=g,g.$inject=["modeling"]},{}],780:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b){d(this,a),this._modeling=b}return f(a,[{key:"preExecute",value:function(a){var b=a.row;this._modeling.removeRow(b)}},{key:"postExecute",value:function(a){var b=a.row,c=a.index;this._modeling.addRow(b,c)}}]),a}();c["default"]=g,g.$inject=["modeling"]},{}],781:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b,c){d(this,a),this._sheet=b,this._elementFactory=c}return f(a,[{key:"execute",value:function(a){var b=this._sheet,c=a.col,d=a.oldRoot=c.root,e=a.oldIndex=d.cols.indexOf(c);if(-1===e)throw new Error("col#".concat(c.id," not in sheet"));return b.removeCol(c),b.getRoot()}},{key:"revert",value:function(a){var b=a.col,c=a.oldIndex,d=this._sheet;return d.addCol(b,c),d.getRoot()}}]),a}();c["default"]=g,g.$inject=["sheet","elementFactory"]},{}],782:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b){d(this,a),this._sheet=b}return f(a,[{key:"execute",value:function(a){var b=this._sheet,c=b.getRoot(),d=a.row,e=a.oldIndex=c.rows.indexOf(d);if(a.oldRoot=d.root,-1===e)throw new Error("row#".concat(d.id," not in sheet"));return b.removeRow(d),b.getRoot()}},{key:"revert",value:function(a){var b=a.row,c=a.oldIndex,d=this._sheet;return d.addRow(b,c),d.getRoot()}}]),a}();c["default"]=g,g.$inject=["sheet"]},{}],783:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("diagram-js/lib/features/rules")),f={__depends__:[e["default"]]};c["default"]=f},{"diagram-js/lib/features/rules":66}],784:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("min-dash"),h=function(){function a(b,c,e){var f=this;d(this,a),this._elementRegistry=b,this._eventBus=c,this._renderer=e,this._selection=void 0,c.on("diagram.clear",function(){f._selection=void 0})}return f(a,[{key:"select",value:function(a){g.isString(a)&&(a=this._elementRegistry.get(a));var b=this._selection;b!==a&&(this._selection=a,this._eventBus.fire("selection.changed",{oldSelection:b,selection:a
}))}},{key:"deselect",value:function(){var a=this._selection;this._selection=void 0,this._eventBus.fire("selection.changed",{oldSelection:a,selection:this._selection})}},{key:"get",value:function(){return this._selection}},{key:"hasSelection",value:function(){return!!this._selection}}]),a}();c["default"]=h,h.$inject=["elementRegistry","eventBus","renderer"]},{"min-dash":734}],785:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=function f(a,b,c,e){d(this,f),this._elementRegistry=a,this._renderer=c,this._selection=e,b.on(["cell.click","cell.contextmenu"],function(b){var c=b.id,d=a.get(c);d&&e.select(d)}),b.on("row.remove",function(a){var b=a.row,c=e.get();c&&b===c.row&&e.deselect()}),b.on("col.remove",function(a){var b=a.col,c=e.get();c&&b===c.col&&e.deselect()})};c["default"]=e,e.$inject=["elementRegistry","eventBus","renderer","selection"]},{}],786:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Selection")),f=d(a("./SelectionBehavior")),g={__init__:["selection","selectionBehavior"],selection:["type",e["default"]],selectionBehavior:["type",f["default"]]};c["default"]=g},{"./Selection":784,"./SelectionBehavior":785}],787:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./Table")),f=e["default"];c["default"]=f},{"./Table":748}],788:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?g(a):b}function f(a){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function g(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&i(a,b)}function i(a,b){return(i=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}function j(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function k(a,b){var c=s[a];if(!c)throw new Error("unknown type "+a);return new c(b)}function l(a,b,c){Object.defineProperty(a,b,c)}Object.defineProperty(c,"__esModule",{value:!0}),c.create=k,c.Cell=c.Col=c.Row=c.Root=c.Base=void 0;var m=a("min-dash"),n=function t(a){j(this,t),m.assign(this,a),l(this,"businessObject",{writable:!0})};c.Base=n;var o=function(a){function b(a){var c;return j(this,b),c=e(this,f(b).call(this,a)),l(g(c),"rows",{enumerable:!0,value:c.rows||[]}),l(g(c),"cols",{enumerable:!0,value:c.cols||[]}),c}return h(b,a),b}(n);c.Root=o;var p=function(a){function b(a){var c;return j(this,b),c=e(this,f(b).call(this,a)),l(g(c),"root",{writable:!0}),l(g(c),"cells",{enumerable:!0,value:c.cells||[]}),c}return h(b,a),b}(n);c.Row=p;var q=function(a){function b(a){var c;return j(this,b),c=e(this,f(b).call(this,a)),l(g(c),"root",{writable:!0}),l(g(c),"cells",{enumerable:!0,value:c.cells||[]}),c}return h(b,a),b}(n);c.Col=q;var r=function(a){function b(a){var c;return j(this,b),c=e(this,f(b).call(this,a)),l(g(c),"row",{writable:!0}),l(g(c),"col",{writable:!0}),c}return h(b,a),b}(n);c.Cell=r;var s={root:o,row:p,col:q,cell:r}},{"min-dash":734}],789:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=function(){function a(b){var c=this;d(this,a),this._listeners={},b.on("elements.changed",function(a){var b=a.elements;c.elementsChanged(b)}),b.on("root.remove",function(a){var d=a.root.id;c._listeners[d]&&b.once("root.add",function(a){var b=a.root.id;c.updateId(d,b)})}),b.on("element.updateId",function(a){var b=a.element,d=a.newId;c.updateId(b.id,d)})}return f(a,[{key:"elementsChanged",value:function(a){for(var b={},c=a.length,d=0;c>d;d++){var e=a[d].id;if(b[e])return;b[e]=!0;var f=this._listeners[e]&&this._listeners[e].length;if(f)for(var g=0;f>g;g++)this._listeners[e][g]&&this._listeners[e][g]()}}},{key:"onElementsChanged",value:function(a,b){this._listeners[a]||(this._listeners[a]=[]),this._listeners[a][this._listeners[a].length]=b}},{key:"offElementsChanged",value:function(a,b){if(this._listeners[a])if(b){var c=this._listeners[a].indexOf(b);-1!==c&&this._listeners[a].splice(c,1)}else this._listeners[a].length=0}},{key:"updateId",value:function(a,b){this._listeners[a]&&(this._listeners[b]=this._listeners[a],delete this._listeners[a])}}]),a}();c["default"]=g,g.$inject=["eventBus"]},{}],790:[function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function f(a,b,c){return b&&e(a.prototype,b),c&&e(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var g=a("min-dash"),h=1e3,i=function(){function a(){d(this,a),this._listeners={}}return f(a,[{key:"getComponent",value:function(a,b){var c=this._listeners[a];if(c){for(var d,e=0;e<c.length&&!(d=c[e].callback(b));e++);return d}}},{key:"getComponents",value:function(a,b){var c=this._listeners[a],d=[];if(!c)return d;for(var e=0;e<c.length;e++){var f=c[e].callback(b);f&&d.push(f)}return d.length?d:d}},{key:"onGetComponent",value:function(a,b,c){if(g.isFunction(b)&&(c=b,b=h),!g.isNumber(b))throw new Error("priority must be a number");var d,e,f=this._getListeners(a),i={priority:b,callback:c};for(e=0;d=f[e];e++)if(d.priority<b)return void f.splice(e,0,i);f.push(i)}},{key:"offGetComponent",value:function(a,b){var c,d,e,f=this._getListeners(a);if(b)for(e=f.length-1;c=f[e];e--)d=c.callback,d===b&&f.splice(e,1);else f.length=0}},{key:"_getListeners",value:function(a){var b=this._listeners[a];return b||(this._listeners[a]=b=[]),b}}]),a}();c["default"]=i},{"min-dash":734}],791:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var h=a("inferno"),i=d(a("./components/TableComponent")),j=function(){function a(b,c,d,f,g){e(this,a);var j=d.container;this._container=j,f.on("root.added",function(){h.render(h.createComponentVNode(2,i["default"],{injector:g}),j)}),f.on("root.remove",function(){h.render(null,j)})}return g(a,[{key:"getContainer",value:function(){return this._container}}]),a}();c["default"]=j,j.$inject=["changeSupport","components","config.renderer","eventBus","injector"]},{"./components/TableComponent":792,inferno:526}],792:[function(a,b,c){"use strict";function d(a){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function f(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}function g(a,b,c){return b&&f(a.prototype,b),c&&f(a,c),a}function h(a,b){return!b||"object"!==d(b)&&"function"!=typeof b?j(a):b}function i(a){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)})(a)}function j(a){if(void 0===a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return a}function k(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),b&&l(a,b)}function l(a,b){return(l=Object.setPrototypeOf||function(a,b){return a.__proto__=b,a})(a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var m=a("inferno"),n=function(a){function b(a){var c;e(this,b),c=h(this,i(b).call(this,a));var d=c._injector=a.injector;return c._sheet=d.get("sheet"),c._changeSupport=d.get("changeSupport"),c._components=d.get("components"),c.onElementsChanged=c.onElementsChanged.bind(j(c)),c}return k(b,a),g(b,[{key:"onElementsChanged",value:function(){this.forceUpdate()}},{key:"getChildContext",value:function(){return{changeSupport:this._changeSupport,components:this._components,injector:this._injector}}},{key:"componentWillMount",value:function(){var a=this._sheet.getRoot(),b=a.id;this._changeSupport.onElementsChanged(b,this.onElementsChanged)}},{key:"componentWillUnmount",value:function(){var a=this._sheet.getRoot(),b=a.id;this._changeSupport.offElementsChanged(b,this.onElementsChanged)}},{key:"render",value:function(){var a=this._sheet.getRoot(),b=a.rows,c=a.cols,d=this._components.getComponents("table.before"),e=this._components.getComponents("table.after"),f=this._components.getComponent("table.head"),g=this._components.getComponent("table.body"),h=this._components.getComponent("table.foot");return m.createVNode(1,"div","tjs-container",[d&&d.map(function(a,b){return m.createComponentVNode(2,a,null,b)}),m.createVNode(1,"table","tjs-table",[f&&m.createComponentVNode(2,f,{rows:b,cols:c}),g&&m.createComponentVNode(2,g,{rows:b,cols:c}),h&&m.createComponentVNode(2,h,{rows:b,cols:c})],0),e&&e.map(function(a,b){return m.createComponentVNode(2,a,null,b)})],0)}}]),b}(m.Component);c["default"]=n},{inferno:526}],793:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{"default":a}}Object.defineProperty(c,"__esModule",{value:!0}),c["default"]=void 0;var e=d(a("./ChangeSupport")),f=d(a("./Components")),g=d(a("./Renderer")),h={__init__:["changeSupport","components","renderer"],changeSupport:["type",e["default"]],components:["type",f["default"]],renderer:["type",g["default"]]};c["default"]=h},{"./ChangeSupport":789,"./Components":790,"./Renderer":791}],794:[function(a,b,c){"use strict";function d(a,b){if(a.ownerDocument!==b.ownerDocument)try{return b.ownerDocument.importNode(a,!0)}catch(c){}return a}function e(a,b){return b.appendChild(d(a,b))}function f(a,b){return e(b,a),a}function g(a,b){return Q[b]?a.style[b]:a.getAttributeNS(null,b)}function h(a,b,c){var d=b.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e=Q[d];e?(e===P&&"number"==typeof c&&(c=String(c)+"px"),a.style[d]=c):a.setAttributeNS(null,b,c)}function i(a,b){var c,d,e=Object.keys(b);for(c=0,d;d=e[c];c++)h(a,d,b[d])}function j(a,b,c){if("string"==typeof b){if(void 0===c)return g(a,b);h(a,b,c)}else i(a,b);return a}function k(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}function l(a){return"undefined"!=typeof a}function m(a){return new n(a)}function n(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}function o(a){var b=a.parentNode;return b&&b.removeChild(a),a}function p(a){for(var b;b=a.firstChild;)o(b);return a}function q(a){return a.cloneNode(!0)}function r(a){var b=!1;"<svg"===a.substring(0,4)?-1===a.indexOf(T.svg)&&(a=U+a.substring(4)):(a=U+">"+a+"</svg>",b=!0);var c=s(a);if(!b)return c;for(var d=document.createDocumentFragment(),e=c.firstChild;e.firstChild;)d.appendChild(e.firstChild);return d}function s(a){var b;return b=new DOMParser,b.async=!1,b.parseFromString(a,"text/xml")}function t(a,b){var c;return"<"===a.charAt(0)?(c=r(a).firstChild,c=document.importNode(c,!0)):c=document.createElementNS(T.svg,a),b&&j(c,b),c}function u(a,b,c,d){a.addEventListener(b,c,d)}function v(a,b,c,d){a.removeEventListener(b,c,d)}function w(a,b){var c,d,e=Object.keys(b);for(c=0;d=e[c];c++)a[d]=b[d];return a}function x(a,b){var c=V.createSVGPoint();switch(arguments.length){case 0:return c;case 2:a={x:a,y:b}}return w(c,a)}function y(a,b,c,d,e,f){var g=V.createSVGMatrix();switch(arguments.length){case 0:return g;case 1:return w(g,a);case 6:return w(g,{a:a,b:b,c:c,d:d,e:e,f:f})}}function z(a){return a?V.createSVGTransformFromMatrix(a):V.createSVGTransform()}function A(a,b){function c(a,b){return Y[b]||b}return a.replace(b,c)}function B(a,b){var c,d,e,f,g;switch(a.nodeType){case 3:b.push(A(a.textContent,W));break;case 1:if(b.push("<",a.tagName),a.hasAttributes())for(e=a.attributes,c=0,d=e.length;d>c;++c)f=e.item(c),b.push(" ",f.name,'="',A(f.value,X),'"');if(a.hasChildNodes()){for(b.push(">"),g=a.childNodes,c=0,d=g.length;d>c;++c)B(g.item(c),b);b.push("</",a.tagName,">")}else b.push("/>");break;case 8:b.push("<!--",A(a.nodeValue,W),"-->");break;case 4:b.push("<![CDATA[",a.nodeValue,"]]>");break;default:throw new Error("unable to handle node "+a.nodeType)}return b}function C(a,b){var c=r(b);if(p(a),b){E(c)||(c=c.documentElement);for(var d=G(c.childNodes),f=0;f<d.length;f++)e(d[f],a)}}function D(a){for(var b=a.firstChild,c=[];b;)B(b,c),b=b.nextSibling;return c.join("")}function E(a){return"#document-fragment"===a.nodeName}function F(a,b){if(void 0!==b){try{C(a,b)}catch(c){throw new Error("error parsing SVG: "+c.message)}return a}return D(a)}function G(a){return Array.prototype.slice.call(a)}function H(a,b){return a.querySelector(b)}function I(a,b){var c=a.querySelectorAll(b);return[].map.call(c,function(a){return a})}function J(a,b){return b.insertBefore(d(a,b),b.firstChild||null)}function K(a,b){return J(b,a),a}function L(a,b){return a.parentNode.replaceChild(d(b,a),a),b}function M(a,b){return b instanceof SVGMatrix?a.createSVGTransformFromMatrix(b):b}function N(a,b){var c,d;for(a.clear(),c=0;d=b[c];c++)a.appendItem(M(a,d))}function O(a,b){var c=a.transform.baseVal;return b&&(Array.isArray(b)||(b=[b]),N(c,b)),c.consolidate()}Object.defineProperty(c,"__esModule",{value:!0}),c.append=f,c.appendTo=e,c.attr=j,c.classes=m,c.clear=p,c.clone=q,c.create=t,c.innerSVG=F,c.prepend=K,c.prependTo=J,c.remove=o,c.replace=L,c.transform=O,c.on=u,c.off=v,c.createPoint=x,c.createMatrix=y,c.createTransform=z,c.select=H,c.selectAll=I;var P=2,Q={"alignment-baseline":1,"baseline-shift":1,clip:1,"clip-path":1,"clip-rule":1,color:1,"color-interpolation":1,"color-interpolation-filters":1,"color-profile":1,"color-rendering":1,cursor:1,direction:1,display:1,"dominant-baseline":1,"enable-background":1,fill:1,"fill-opacity":1,"fill-rule":1,filter:1,"flood-color":1,"flood-opacity":1,font:1,"font-family":1,"font-size":P,"font-size-adjust":1,"font-stretch":1,"font-style":1,"font-variant":1,"font-weight":1,"glyph-orientation-horizontal":1,"glyph-orientation-vertical":1,"image-rendering":1,kerning:1,"letter-spacing":1,"lighting-color":1,marker:1,"marker-end":1,"marker-mid":1,"marker-start":1,mask:1,opacity:1,overflow:1,"pointer-events":1,"shape-rendering":1,"stop-color":1,"stop-opacity":1,stroke:1,"stroke-dasharray":1,"stroke-dashoffset":1,"stroke-linecap":1,"stroke-linejoin":1,"stroke-miterlimit":1,"stroke-opacity":1,"stroke-width":P,"text-anchor":1,"text-decoration":1,"text-rendering":1,"unicode-bidi":1,visibility:1,"word-spacing":1,"writing-mode":1},R=/\s+/,S=Object.prototype.toString;n.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=k(b,a);return~c||b.push(a),l(this.el.className.baseVal)?this.el.className.baseVal=b.join(" "):this.el.className=b.join(" "),this},n.prototype.remove=function(a){if("[object RegExp]"===S.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=k(b,a);return~c&&b.splice(c,1),this.el.className.baseVal=b.join(" "),this},n.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},n.prototype.toggle=function(a,b){return this.list?(l(b)?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):(l(b)?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},n.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(R);return""===c[0]&&c.shift(),c},n.prototype.has=n.prototype.contains=function(a){return this.list?this.list.contains(a):!!~k(this.array(),a)};var T={svg:"http://www.w3.org/2000/svg"},U='<svg xmlns="'+T.svg+'"',V=t("svg"),W=/([&<>]{1})/g,X=/([\n\r"]{1})/g,Y={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"'"}},{}]},{},[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58]);
